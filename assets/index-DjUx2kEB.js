const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-CRk7xtEC.js","./sha2-CXHvcU9M.js","./embedded-wallet-CrExBtFm.js","./index-DK5Ffb1d.js","./index-D0Wmg2yL.js","./if-defined-NOGAZTDY.js","./ref-Btuc3IIF.js","./index-LaFh4ZAv.js","./HelpersUtil-ByW6MeFZ.js","./index-Duwofxr-.js","./index-DMb5aKAm.js","./index-oJmuHC1i.js","./index-BhQLJu76.js","./index-D2QD4-4S.js","./NavigationUtil-DmfK5sOV.js","./email-CSeAmrA4.js","./index-Cihspvz2.js","./index-BFBdfVFW.js","./socials-DRzjjePo.js","./index-C1dPFOu5.js","./index-LvTUGYcj.js","./index-C3etuLcs.js","./index-DpJqGRjn.js","./index-vLQc1JCE.js","./swaps-B-KLUAqy.js","./index-CCV5Eh3g.js","./index-D1RCmBfr.js","./SwapController-Byvi08td.js","./index-TAecwJr8.js","./send-DCvvsprf.js","./ConstantsUtil-Dmg8YACJ.js","./index-izt7MYjt.js","./index-CTa4GVsZ.js","./index-P9eZgdAQ.js","./receive-C9oZKn5t.js","./onramp-jXDz9r5G.js","./index-KXzoRbRT.js","./index-n4796ShG.js","./index-CJaGmjoO.js","./ExchangeController-DrlE3YXd.js","./pay-with-exchange-DYlje3Xc.js","./transactions-BYWm_VMU.js","./index-CQ1MVtEq.js","./index-CGRxmx6g.js","./index-BZtQKb8-.js","./data-capture-CU0C7NYK.js","./features-BrkQU9p3.js","./index-DuI1oYQU.js","./index-BPtwV8HQ.js","./w3m-modal-CarDJRAD.js","./SafeProvider-ByO6uc4X.js","./index-H-Ckw-g_.js","./sha3-ChG6mytw.js","./index-BcwZJ17s.js","./index-C8W0QWUc.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var l=n.clientWidth/10;n.style.fontSize=l+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(l){l.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gN(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const lr={},t0=[],Rc=()=>{},ZD=()=>!1,h1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),mN=t=>t.startsWith("onUpdate:"),Yn=Object.assign,yN=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},rj=Object.prototype.hasOwnProperty,Jt=(t,e)=>rj.call(t,e),Qe=Array.isArray,r0=t=>p1(t)==="[object Map]",ek=t=>p1(t)==="[object Set]",tt=t=>typeof t=="function",Qr=t=>typeof t=="string",uf=t=>typeof t=="symbol",pr=t=>t!==null&&typeof t=="object",tk=t=>(pr(t)||tt(t))&&tt(t.then)&&tt(t.catch),rk=Object.prototype.toString,p1=t=>rk.call(t),nj=t=>p1(t).slice(8,-1),nk=t=>p1(t)==="[object Object]",bN=t=>Qr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yp=gN(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),g1=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},ij=/-\w/g,Oo=g1(t=>t.replace(ij,e=>e.slice(1).toUpperCase())),sj=/\B([A-Z])/g,Bd=g1(t=>t.replace(sj,"-$1").toLowerCase()),m1=g1(t=>t.charAt(0).toUpperCase()+t.slice(1)),WE=g1(t=>t?`on${m1(t)}`:""),$u=(t,e)=>!Object.is(t,e),qE=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ik=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},oj=t=>{const e=parseFloat(t);return isNaN(e)?t:e},aj=t=>{const e=Qr(t)?Number(t):NaN;return isNaN(e)?t:e};let JI;const y1=()=>JI||(JI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wN(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Qr(n)?fj(n):wN(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(Qr(t)||pr(t))return t}const cj=/;(?![^(]*\))/g,lj=/:([^]+)/,uj=/\/\*[^]*?\*\//g;function fj(t){const e={};return t.replace(uj,"").split(cj).forEach(r=>{if(r){const n=r.split(lj);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _N(t){let e="";if(Qr(t))e=t;else if(Qe(t))for(let r=0;r<t.length;r++){const n=_N(t[r]);n&&(e+=n+" ")}else if(pr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const dj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hj=gN(dj);function sk(t){return!!t||t===""}const ok=t=>!!(t&&t.__v_isRef===!0),wl=t=>Qr(t)?t:t==null?"":Qe(t)||pr(t)&&(t.toString===rk||!tt(t.toString))?ok(t)?wl(t.value):JSON.stringify(t,ak,2):String(t),ak=(t,e)=>ok(e)?ak(t,e.value):r0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[zE(n,s)+" =>"]=i,r),{})}:ek(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>zE(r))}:uf(e)?zE(e):pr(e)&&!Qe(e)&&!nk(e)?String(e):e,zE=(t,e="")=>{var r;return uf(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ci;class ck{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ci,!e&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ci;try{return Ci=this,e()}finally{Ci=r}}}on(){++this._on===1&&(this.prevScope=Ci,Ci=this)}off(){this._on>0&&--this._on===0&&(Ci=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function EN(t){return new ck(t)}function lk(){return Ci}function pj(t,e=!1){Ci&&Ci.cleanups.push(t)}let dr;const GE=new WeakSet;class uk{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ci&&Ci.active&&Ci.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,GE.has(this)&&(GE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||dk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,YI(this),hk(this);const e=dr,r=Ja;dr=this,Ja=!0;try{return this.fn()}finally{pk(this),dr=e,Ja=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)AN(e);this.deps=this.depsTail=void 0,YI(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?GE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qA(this)&&this.run()}get dirty(){return qA(this)}}let fk=0,Xp,Qp;function dk(t,e=!1){if(t.flags|=8,e){t.next=Qp,Qp=t;return}t.next=Xp,Xp=t}function vN(){fk++}function xN(){if(--fk>0)return;if(Qp){let e=Qp;for(Qp=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Xp;){let e=Xp;for(Xp=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function hk(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pk(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),AN(n),gj(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function qA(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gk(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gk(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===kg)||(t.globalVersion=kg,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!qA(t))))return;t.flags|=2;const e=t.dep,r=dr,n=Ja;dr=t,Ja=!0;try{hk(t);const i=t.fn(t._value);(e.version===0||$u(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{dr=r,Ja=n,pk(t),t.flags&=-3}}function AN(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)AN(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function gj(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ja=!0;const mk=[];function kl(){mk.push(Ja),Ja=!1}function Ml(){const t=mk.pop();Ja=t===void 0?!0:t}function YI(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=dr;dr=void 0;try{e()}finally{dr=r}}}let kg=0;class mj{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class CN{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!dr||!Ja||dr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==dr)r=this.activeLink=new mj(dr,this),dr.deps?(r.prevDep=dr.depsTail,dr.depsTail.nextDep=r,dr.depsTail=r):dr.deps=dr.depsTail=r,yk(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=dr.depsTail,r.nextDep=void 0,dr.depsTail.nextDep=r,dr.depsTail=r,dr.deps===r&&(dr.deps=n)}return r}trigger(e){this.version++,kg++,this.notify(e)}notify(e){vN();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{xN()}}}function yk(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)yk(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Ww=new WeakMap,fd=Symbol(""),zA=Symbol(""),Mg=Symbol("");function Si(t,e,r){if(Ja&&dr){let n=Ww.get(t);n||Ww.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new CN),i.map=n,i.key=r),i.track()}}function _l(t,e,r,n,i,s){const o=Ww.get(t);if(!o){kg++;return}const a=c=>{c&&c.trigger()};if(vN(),e==="clear")o.forEach(a);else{const c=Qe(t),l=c&&bN(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,d)=>{(d==="length"||d===Mg||!uf(d)&&d>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(Mg)),e){case"add":c?l&&a(o.get("length")):(a(o.get(fd)),r0(t)&&a(o.get(zA)));break;case"delete":c||(a(o.get(fd)),r0(t)&&a(o.get(zA)));break;case"set":r0(t)&&a(o.get(fd));break}}xN()}function yj(t,e){const r=Ww.get(t);return r&&r.get(e)}function Zd(t){const e=Ot(t);return e===t?e:(Si(e,"iterate",Mg),Io(t)?e:e.map(li))}function b1(t){return Si(t=Ot(t),"iterate",Mg),t}const bj={__proto__:null,[Symbol.iterator](){return KE(this,Symbol.iterator,li)},concat(...t){return Zd(this).concat(...t.map(e=>Qe(e)?Zd(e):e))},entries(){return KE(this,"entries",t=>(t[1]=li(t[1]),t))},every(t,e){return Wc(this,"every",t,e,void 0,arguments)},filter(t,e){return Wc(this,"filter",t,e,r=>r.map(li),arguments)},find(t,e){return Wc(this,"find",t,e,li,arguments)},findIndex(t,e){return Wc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wc(this,"findLast",t,e,li,arguments)},findLastIndex(t,e){return Wc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wc(this,"forEach",t,e,void 0,arguments)},includes(...t){return VE(this,"includes",t)},indexOf(...t){return VE(this,"indexOf",t)},join(t){return Zd(this).join(t)},lastIndexOf(...t){return VE(this,"lastIndexOf",t)},map(t,e){return Wc(this,"map",t,e,void 0,arguments)},pop(){return ip(this,"pop")},push(...t){return ip(this,"push",t)},reduce(t,...e){return XI(this,"reduce",t,e)},reduceRight(t,...e){return XI(this,"reduceRight",t,e)},shift(){return ip(this,"shift")},some(t,e){return Wc(this,"some",t,e,void 0,arguments)},splice(...t){return ip(this,"splice",t)},toReversed(){return Zd(this).toReversed()},toSorted(t){return Zd(this).toSorted(t)},toSpliced(...t){return Zd(this).toSpliced(...t)},unshift(...t){return ip(this,"unshift",t)},values(){return KE(this,"values",li)}};function KE(t,e,r){const n=b1(t),i=n[e]();return n!==t&&!Io(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const wj=Array.prototype;function Wc(t,e,r,n,i,s){const o=b1(t),a=o!==t&&!Io(t),c=o[e];if(c!==wj[e]){const f=c.apply(t,s);return a?li(f):f}let l=r;o!==t&&(a?l=function(f,d){return r.call(this,li(f),d,t)}:r.length>2&&(l=function(f,d){return r.call(this,f,d,t)}));const u=c.call(o,l,n);return a&&i?i(u):u}function XI(t,e,r,n){const i=b1(t);let s=r;return i!==t&&(Io(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,li(a),c,t)}),i[e](s,...n)}function VE(t,e,r){const n=Ot(t);Si(n,"iterate",Mg);const i=n[e](...r);return(i===-1||i===!1)&&IN(r[0])?(r[0]=Ot(r[0]),n[e](...r)):i}function ip(t,e,r=[]){kl(),vN();const n=Ot(t)[e].apply(t,r);return xN(),Ml(),n}const _j=gN("__proto__,__v_isRef,__isVue"),bk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(uf));function Ej(t){uf(t)||(t=String(t));const e=Ot(this);return Si(e,"has",t),e.hasOwnProperty(t)}class wk{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Pj:xk:s?vk:Ek).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Qe(e);if(!i){let c;if(o&&(c=bj[r]))return c;if(r==="hasOwnProperty")return Ej}const a=Reflect.get(e,r,Gr(e)?e:n);if((uf(r)?bk.has(r):_j(r))||(i||Si(e,"get",r),s))return a;if(Gr(a)){const c=o&&bN(r)?a:a.value;return i&&pr(c)?KA(c):c}return pr(a)?i?KA(a):Hl(a):a}}class _k extends wk{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=qu(s);if(!Io(n)&&!qu(n)&&(s=Ot(s),n=Ot(n)),!Qe(e)&&Gr(s)&&!Gr(n))return c||(s.value=n),!0}const o=Qe(e)&&bN(r)?Number(r)<e.length:Jt(e,r),a=Reflect.set(e,r,n,Gr(e)?e:i);return e===Ot(i)&&(o?$u(n,s)&&_l(e,"set",r,n):_l(e,"add",r,n)),a}deleteProperty(e,r){const n=Jt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&_l(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!uf(r)||!bk.has(r))&&Si(e,"has",r),n}ownKeys(e){return Si(e,"iterate",Qe(e)?"length":fd),Reflect.ownKeys(e)}}class vj extends wk{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const xj=new _k,Aj=new vj,Cj=new _k(!0);const GA=t=>t,Fy=t=>Reflect.getPrototypeOf(t);function Nj(t,e,r){return function(...n){const i=this.__v_raw,s=Ot(i),o=r0(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?GA:e?qw:li;return!e&&Si(s,"iterate",c?zA:fd),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function By(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sj(t,e){const r={get(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);t||($u(i,a)&&Si(o,"get",i),Si(o,"get",a));const{has:c}=Fy(o),l=e?GA:t?qw:li;if(c.call(o,i))return l(s.get(i));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Si(Ot(i),"iterate",fd),i.size},has(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);return t||($u(i,a)&&Si(o,"has",i),Si(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=Ot(a),l=e?GA:t?qw:li;return!t&&Si(c,"iterate",fd),a.forEach((u,f)=>i.call(s,l(u),l(f),o))}};return Yn(r,t?{add:By("add"),set:By("set"),delete:By("delete"),clear:By("clear")}:{add(i){!e&&!Io(i)&&!qu(i)&&(i=Ot(i));const s=Ot(this);return Fy(s).has.call(s,i)||(s.add(i),_l(s,"add",i,i)),this},set(i,s){!e&&!Io(s)&&!qu(s)&&(s=Ot(s));const o=Ot(this),{has:a,get:c}=Fy(o);let l=a.call(o,i);l||(i=Ot(i),l=a.call(o,i));const u=c.call(o,i);return o.set(i,s),l?$u(s,u)&&_l(o,"set",i,s):_l(o,"add",i,s),this},delete(i){const s=Ot(this),{has:o,get:a}=Fy(s);let c=o.call(s,i);c||(i=Ot(i),c=o.call(s,i)),a&&a.call(s,i);const l=s.delete(i);return c&&_l(s,"delete",i,void 0),l},clear(){const i=Ot(this),s=i.size!==0,o=i.clear();return s&&_l(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Nj(i,t,e)}),r}function NN(t,e){const r=Sj(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Jt(r,i)&&i in n?r:n,i,s)}const Ij={get:NN(!1,!1)},Tj={get:NN(!1,!0)},Rj={get:NN(!0,!1)};const Ek=new WeakMap,vk=new WeakMap,xk=new WeakMap,Pj=new WeakMap;function Oj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dj(t){return t.__v_skip||!Object.isExtensible(t)?0:Oj(nj(t))}function Hl(t){return qu(t)?t:SN(t,!1,xj,Ij,Ek)}function Ak(t){return SN(t,!1,Cj,Tj,vk)}function KA(t){return SN(t,!0,Aj,Rj,xk)}function SN(t,e,r,n,i){if(!pr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Dj(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Lu(t){return qu(t)?Lu(t.__v_raw):!!(t&&t.__v_isReactive)}function qu(t){return!!(t&&t.__v_isReadonly)}function Io(t){return!!(t&&t.__v_isShallow)}function IN(t){return t?!!t.__v_raw:!1}function Ot(t){const e=t&&t.__v_raw;return e?Ot(e):t}function TN(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&ik(t,"__v_skip",!0),t}const li=t=>pr(t)?Hl(t):t,qw=t=>pr(t)?KA(t):t;function Gr(t){return t?t.__v_isRef===!0:!1}function _t(t){return Ck(t,!1)}function RN(t){return Ck(t,!0)}function Ck(t,e){return Gr(t)?t:new kj(t,e)}class kj{constructor(e,r){this.dep=new CN,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ot(e),this._value=r?e:li(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Io(e)||qu(e);e=n?e:Ot(e),$u(e,r)&&(this._rawValue=e,this._value=n?e:li(e),this.dep.trigger())}}function Ni(t){return Gr(t)?t.value:t}const Mj={get:(t,e,r)=>e==="__v_raw"?t:Ni(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Gr(i)&&!Gr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Nk(t){return Lu(t)?t:new Proxy(t,Mj)}function Uj(t){const e=Qe(t)?new Array(t.length):{};for(const r in t)e[r]=Lj(t,r);return e}class $j{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yj(Ot(this._object),this._key)}}function Lj(t,e,r){const n=t[e];return Gr(n)?n:new $j(t,e,r)}class Fj{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new CN(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kg-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&dr!==this)return dk(this,!0),!0}get value(){const e=this.dep.track();return gk(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Bj(t,e,r=!1){let n,i;return tt(t)?n=t:(n=t.get,i=t.set),new Fj(n,i,r)}const jy={},zw=new WeakMap;let zf;function jj(t,e=!1,r=zf){if(r){let n=zw.get(r);n||zw.set(r,n=[]),n.push(t)}}function Hj(t,e,r=lr){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,l=T=>i?T:Io(T)||i===!1||i===0?El(T,1):El(T);let u,f,d,h,m=!1,g=!1;if(Gr(t)?(f=()=>t.value,m=Io(t)):Lu(t)?(f=()=>l(t),m=!0):Qe(t)?(g=!0,m=t.some(T=>Lu(T)||Io(T)),f=()=>t.map(T=>{if(Gr(T))return T.value;if(Lu(T))return l(T);if(tt(T))return c?c(T,2):T()})):tt(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){kl();try{d()}finally{Ml()}}const T=zf;zf=u;try{return c?c(t,3,[h]):t(h)}finally{zf=T}}:f=Rc,e&&i){const T=f,P=i===!0?1/0:i;f=()=>El(T(),P)}const b=lk(),E=()=>{u.stop(),b&&b.active&&yN(b.effects,u)};if(s&&e){const T=e;e=(...P)=>{T(...P),E()}}let A=g?new Array(t.length).fill(jy):jy;const S=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const P=u.run();if(i||m||(g?P.some((k,F)=>$u(k,A[F])):$u(P,A))){d&&d();const k=zf;zf=u;try{const F=[P,A===jy?void 0:g&&A[0]===jy?[]:A,h];A=P,c?c(e,3,F):e(...F)}finally{zf=k}}}else u.run()};return a&&a(S),u=new uk(f),u.scheduler=o?()=>o(S,!1):S,h=T=>jj(T,!1,u),d=u.onStop=()=>{const T=zw.get(u);if(T){if(c)c(T,4);else for(const P of T)P();zw.delete(u)}},e?n?S(!0):A=u.run():o?o(S.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function El(t,e=1/0,r){if(e<=0||!pr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Gr(t))El(t.value,e,r);else if(Qe(t))for(let n=0;n<t.length;n++)El(t[n],e,r);else if(ek(t)||r0(t))t.forEach(n=>{El(n,e,r)});else if(nk(t)){for(const n in t)El(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&El(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sy(t,e,r,n){try{return n?t(...n):t()}catch(i){w1(i,e,r)}}function Za(t,e,r,n){if(tt(t)){const i=sy(t,e,r,n);return i&&tk(i)&&i.catch(s=>{w1(s,e,r)}),i}if(Qe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Za(t[s],e,r,n));return i}}function w1(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||lr;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(s){kl(),sy(s,null,10,[t,c,l]),Ml();return}}Wj(t,r,i,n,o)}function Wj(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const Ki=[];let pc=-1;const n0=[];let Eu=null,Th=0;const Sk=Promise.resolve();let Gw=null;function vd(t){const e=Gw||Sk;return t?e.then(this?t.bind(this):t):e}function qj(t){let e=pc+1,r=Ki.length;for(;e<r;){const n=e+r>>>1,i=Ki[n],s=Ug(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function PN(t){if(!(t.flags&1)){const e=Ug(t),r=Ki[Ki.length-1];!r||!(t.flags&2)&&e>=Ug(r)?Ki.push(t):Ki.splice(qj(e),0,t),t.flags|=1,Ik()}}function Ik(){Gw||(Gw=Sk.then(Rk))}function zj(t){Qe(t)?n0.push(...t):Eu&&t.id===-1?Eu.splice(Th+1,0,t):t.flags&1||(n0.push(t),t.flags|=1),Ik()}function QI(t,e,r=pc+1){for(;r<Ki.length;r++){const n=Ki[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ki.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Tk(t){if(n0.length){const e=[...new Set(n0)].sort((r,n)=>Ug(r)-Ug(n));if(n0.length=0,Eu){Eu.push(...e);return}for(Eu=e,Th=0;Th<Eu.length;Th++){const r=Eu[Th];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Eu=null,Th=0}}const Ug=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Rk(t){try{for(pc=0;pc<Ki.length;pc++){const e=Ki[pc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),sy(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;pc<Ki.length;pc++){const e=Ki[pc];e&&(e.flags&=-2)}pc=-1,Ki.length=0,Tk(),Gw=null,(Ki.length||n0.length)&&Rk()}}let Gs=null,Pk=null;function Kw(t){const e=Gs;return Gs=t,Pk=t&&t.type.__scopeId||null,e}function Ru(t,e=Gs,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Yw(-1);const s=Kw(e);let o;try{o=t(...i)}finally{Kw(s),n._d&&Yw(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ok(t,e){if(Gs===null)return t;const r=A1(Gs),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=lr]=e[i];s&&(tt(s)&&(s={mounted:s,updated:s}),s.deep&&El(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Pf(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(kl(),Za(c,r,8,[t.el,a,t,e]),Ml())}}const Dk=Symbol("_vte"),kk=t=>t.__isTeleport,Zp=t=>t&&(t.disabled||t.disabled===""),ZI=t=>t&&(t.defer||t.defer===""),e3=t=>typeof SVGElement<"u"&&t instanceof SVGElement,t3=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,VA=(t,e)=>{const r=t&&t.to;return Qr(r)?e?e(r):null:r},Mk={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,l){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:g,createComment:b}}=l,E=Zp(e.props);let{shapeFlag:A,children:S,dynamicChildren:T}=e;if(t==null){const P=e.el=g(""),k=e.anchor=g("");h(P,r,n),h(k,r,n);const F=(v,M)=>{A&16&&u(S,v,M,i,s,o,a,c)},N=()=>{const v=e.target=VA(e.props,m),M=$k(v,e,g,h);v&&(o!=="svg"&&e3(v)?o="svg":o!=="mathml"&&t3(v)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(v),E||(F(v,M),Mb(e,!1)))};E&&(F(r,k),Mb(e,!0)),ZI(e.props)?(e.el.__isMounted=!1,qi(()=>{N(),delete e.el.__isMounted},s)):N()}else{if(ZI(e.props)&&t.el.__isMounted===!1){qi(()=>{Mk.process(t,e,r,n,i,s,o,a,c,l)},s);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,k=e.target=t.target,F=e.targetAnchor=t.targetAnchor,N=Zp(t.props),v=N?r:k,M=N?P:F;if(o==="svg"||e3(k)?o="svg":(o==="mathml"||t3(k))&&(o="mathml"),T?(d(t.dynamicChildren,T,v,i,s,o,a),UN(t,e,!0)):c||f(t,e,v,M,i,s,o,a,!1),E)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Hy(e,r,P,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=VA(e.props,m);$&&Hy(e,$,null,l,0)}else N&&Hy(e,k,F,l,1);Mb(e,E)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:d}=t;if(f&&(i(l),i(u)),s&&i(c),o&16){const h=s||!Zp(d);for(let m=0;m<a.length;m++){const g=a[m];n(g,e,r,h,!!g.dynamicChildren)}}},move:Hy,hydrate:Gj};function Hy(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=s===2;if(f&&n(o,e,r),(!f||Zp(u))&&c&16)for(let d=0;d<l.length;d++)i(l[d],e,r,2);f&&n(a,e,r)}function Gj(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){function d(g,b,E,A){b.anchor=f(o(g),b,a(g),r,n,i,s),b.targetStart=E,b.targetAnchor=A}const h=e.target=VA(e.props,c),m=Zp(e.props);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)d(t,e,g,g&&o(g));else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||$k(h,e,u,l),f(g&&o(g),e,h,r,n,i,s)}Mb(e,m)}else m&&e.shapeFlag&16&&d(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Uk=Mk;function Mb(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function $k(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[Dk]=s,t&&(n(i,t),n(s,t)),s}const yl=Symbol("_leaveCb"),Wy=Symbol("_enterCb");function Kj(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ff(()=>{t.isMounted=!0}),DN(()=>{t.isUnmounting=!0}),t}const io=[Function,Array],Lk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:io,onEnter:io,onAfterEnter:io,onEnterCancelled:io,onBeforeLeave:io,onLeave:io,onAfterLeave:io,onLeaveCancelled:io,onBeforeAppear:io,onAppear:io,onAfterAppear:io,onAppearCancelled:io},Fk=t=>{const e=t.subTree;return e.component?Fk(e.component):e},Vj={name:"BaseTransition",props:Lk,setup(t,{slots:e}){const r=Do(),n=Kj();return()=>{const i=e.default&&Hk(e.default(),!0);if(!i||!i.length)return;const s=Bk(i),o=Ot(t),{mode:a}=o;if(n.isLeaving)return JE(s);const c=r3(s);if(!c)return JE(s);let l=JA(c,o,n,r,f=>l=f);c.type!==Ji&&$g(c,l);let u=r.subTree&&r3(r.subTree);if(u&&u.type!==Ji&&!Jf(u,c)&&Fk(r).type!==Ji){let f=JA(u,o,n,r);if($g(u,f),a==="out-in"&&c.type!==Ji)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},JE(s);a==="in-out"&&c.type!==Ji?f.delayLeave=(d,h,m)=>{const g=jk(n,u);g[String(u.key)]=u,d[yl]=()=>{h(),d[yl]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function Bk(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Ji){e=r;break}}return e}const Jj=Vj;function jk(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function JA(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:E,onAfterAppear:A,onAppearCancelled:S}=e,T=String(t.key),P=jk(r,t),k=(v,M)=>{v&&Za(v,n,9,M)},F=(v,M)=>{const $=M[1];k(v,M),Qe(v)?v.every(O=>O.length<=1)&&$():v.length<=1&&$()},N={mode:o,persisted:a,beforeEnter(v){let M=c;if(!r.isMounted)if(s)M=b||c;else return;v[yl]&&v[yl](!0);const $=P[T];$&&Jf(t,$)&&$.el[yl]&&$.el[yl](),k(M,[v])},enter(v){let M=l,$=u,O=f;if(!r.isMounted)if(s)M=E||l,$=A||u,O=S||f;else return;let C=!1;const p=v[Wy]=y=>{C||(C=!0,y?k(O,[v]):k($,[v]),N.delayedLeave&&N.delayedLeave(),v[Wy]=void 0)};M?F(M,[v,p]):p()},leave(v,M){const $=String(t.key);if(v[Wy]&&v[Wy](!0),r.isUnmounting)return M();k(d,[v]);let O=!1;const C=v[yl]=p=>{O||(O=!0,M(),p?k(g,[v]):k(m,[v]),v[yl]=void 0,P[$]===t&&delete P[$])};P[$]=t,h?F(h,[v,C]):C()},clone(v){const M=JA(v,e,r,n,i);return i&&i(M),M}};return N}function JE(t){if(_1(t))return t=zu(t),t.children=null,t}function r3(t){if(!_1(t))return kk(t.type)&&t.children?Bk(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&tt(r.default))return r.default()}}function $g(t,e){t.shapeFlag&6&&t.component?(t.transition=e,$g(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hk(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===As?(o.patchFlag&128&&i++,n=n.concat(Hk(o.children,e,a))):(e||o.type!==Ji)&&n.push(a!=null?zu(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Fi(t,e){return tt(t)?Yn({name:t.name},e,{setup:t}):t}function Wk(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Vw=new WeakMap;function eg(t,e,r,n,i=!1){if(Qe(t)){t.forEach((m,g)=>eg(m,e&&(Qe(e)?e[g]:e),r,n,i));return}if(tg(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&eg(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?A1(n.component):n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===lr?a.refs={}:a.refs,f=a.setupState,d=Ot(f),h=f===lr?ZD:m=>Jt(d,m);if(l!=null&&l!==c){if(n3(e),Qr(l))u[l]=null,h(l)&&(f[l]=null);else if(Gr(l)){l.value=null;const m=e;m.k&&(u[m.k]=null)}}if(tt(c))sy(c,a,12,[o,u]);else{const m=Qr(c),g=Gr(c);if(m||g){const b=()=>{if(t.f){const E=m?h(c)?f[c]:u[c]:c.value;if(i)Qe(E)&&yN(E,s);else if(Qe(E))E.includes(s)||E.push(s);else if(m)u[c]=[s],h(c)&&(f[c]=u[c]);else{const A=[s];c.value=A,t.k&&(u[t.k]=A)}}else m?(u[c]=o,h(c)&&(f[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const E=()=>{b(),Vw.delete(t)};E.id=-1,Vw.set(t,E),qi(E,r)}else n3(t),b()}}}function n3(t){const e=Vw.get(t);e&&(e.flags|=8,Vw.delete(t))}y1().requestIdleCallback;y1().cancelIdleCallback;const tg=t=>!!t.type.__asyncLoader,_1=t=>t.type.__isKeepAlive;function ON(t,e){qk(t,"a",e)}function E1(t,e){qk(t,"da",e)}function qk(t,e,r=Ri){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(v1(e,n,r),r){let i=r.parent;for(;i&&i.parent;)_1(i.parent.vnode)&&Yj(n,e,r,i),i=i.parent}}function Yj(t,e,r,n){const i=v1(e,t,n,!0);df(()=>{yN(n[e],i)},r)}function v1(t,e,r=Ri,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{kl();const a=ay(r),c=Za(e,r,t,o);return a(),Ml(),c});return n?i.unshift(s):i.push(s),s}}const Wl=t=>(e,r=Ri)=>{(!Fg||t==="sp")&&v1(t,(...n)=>e(...n),r)},zk=Wl("bm"),ff=Wl("m"),Xj=Wl("bu"),Qj=Wl("u"),DN=Wl("bum"),df=Wl("um"),Zj=Wl("sp"),eH=Wl("rtg"),tH=Wl("rtc");function rH(t,e=Ri){v1("ec",t,e)}const nH="components";function iH(t,e){return oH(nH,t,!0,e)||t}const sH=Symbol.for("v-ndc");function oH(t,e,r=!0,n=!1){const i=Gs||Ri;if(i){const s=i.type;{const a=JH(s,!1);if(a&&(a===e||a===Oo(e)||a===m1(Oo(e))))return s}const o=i3(i[t]||s[t],e)||i3(i.appContext[t],e);return!o&&n?s:o}}function i3(t,e){return t&&(t[e]||t[Oo(e)]||t[m1(Oo(e))])}function aH(t,e,r,n){let i;const s=r,o=Qe(t);if(o||Qr(t)){const a=o&&Lu(t);let c=!1,l=!1;a&&(c=!Io(t),l=qu(t),t=b1(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(c?l?qw(li(t[u])):li(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(pr(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[c]=e(t[u],u,c,s)}}else i=[];return i}const YA=t=>t?uM(t)?A1(t):YA(t.parent):null,rg=Yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>YA(t.parent),$root:t=>YA(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kk(t),$forceUpdate:t=>t.f||(t.f=()=>{PN(t.update)}),$nextTick:t=>t.n||(t.n=vd.bind(t.proxy)),$watch:t=>TH.bind(t)}),YE=(t,e)=>t!==lr&&!t.__isScriptSetup&&Jt(t,e),cH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(YE(n,e))return o[e]=1,n[e];if(i!==lr&&Jt(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&Jt(l,e))return o[e]=3,s[e];if(r!==lr&&Jt(r,e))return o[e]=4,r[e];XA&&(o[e]=0)}}const u=rg[e];let f,d;if(u)return e==="$attrs"&&Si(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==lr&&Jt(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,Jt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return YE(i,e)?(i[e]=r,!0):n!==lr&&Jt(n,e)?(n[e]=r,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:o}},a){let c,l;return!!(r[a]||t!==lr&&a[0]!=="$"&&Jt(t,a)||YE(e,a)||(c=s[0])&&Jt(c,a)||Jt(n,a)||Jt(rg,a)||Jt(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Jt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function s3(t){return Qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let XA=!0;function lH(t){const e=Kk(t),r=t.proxy,n=t.ctx;XA=!1,e.beforeCreate&&o3(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:g,deactivated:b,beforeDestroy:E,beforeUnmount:A,destroyed:S,unmounted:T,render:P,renderTracked:k,renderTriggered:F,errorCaptured:N,serverPrefetch:v,expose:M,inheritAttrs:$,components:O,directives:C,filters:p}=e;if(l&&uH(l,n,null),o)for(const x in o){const I=o[x];tt(I)&&(n[x]=I.bind(r))}if(i){const x=i.call(r,r);pr(x)&&(t.data=Hl(x))}if(XA=!0,s)for(const x in s){const I=s[x],U=tt(I)?I.bind(r,r):tt(I.get)?I.get.bind(r,r):Rc,B=!tt(I)&&tt(I.set)?I.set.bind(r):Rc,D=qt({get:U,set:B});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>D.value,set:_=>D.value=_})}if(a)for(const x in a)Gk(a[x],n,r,x);if(c){const x=tt(c)?c.call(r):c;Reflect.ownKeys(x).forEach(I=>{ng(I,x[I])})}u&&o3(u,t,"c");function w(x,I){Qe(I)?I.forEach(U=>x(U.bind(r))):I&&x(I.bind(r))}if(w(zk,f),w(ff,d),w(Xj,h),w(Qj,m),w(ON,g),w(E1,b),w(rH,N),w(tH,k),w(eH,F),w(DN,A),w(df,T),w(Zj,v),Qe(M))if(M.length){const x=t.exposed||(t.exposed={});M.forEach(I=>{Object.defineProperty(x,I,{get:()=>r[I],set:U=>r[I]=U,enumerable:!0})})}else t.exposed||(t.exposed={});P&&t.render===Rc&&(t.render=P),$!=null&&(t.inheritAttrs=$),O&&(t.components=O),C&&(t.directives=C),v&&Wk(t)}function uH(t,e,r=Rc){Qe(t)&&(t=QA(t));for(const n in t){const i=t[n];let s;pr(i)?"default"in i?s=Js(i.from||n,i.default,!0):s=Js(i.from||n):s=Js(i),Gr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function o3(t,e,r){Za(Qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Gk(t,e,r,n){let i=n.includes(".")?sM(r,n):()=>r[n];if(Qr(t)){const s=e[t];tt(s)&&un(i,s)}else if(tt(t))un(i,t.bind(r));else if(pr(t))if(Qe(t))t.forEach(s=>Gk(s,e,r,n));else{const s=tt(t.handler)?t.handler.bind(r):e[t.handler];tt(s)&&un(i,s,t)}}function Kk(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>Jw(c,l,o,!0)),Jw(c,e,o)),pr(e)&&s.set(e,c),c}function Jw(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&Jw(t,s,r,!0),i&&i.forEach(o=>Jw(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=fH[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const fH={data:a3,props:c3,emits:c3,methods:$p,computed:$p,beforeCreate:Hi,created:Hi,beforeMount:Hi,mounted:Hi,beforeUpdate:Hi,updated:Hi,beforeDestroy:Hi,beforeUnmount:Hi,destroyed:Hi,unmounted:Hi,activated:Hi,deactivated:Hi,errorCaptured:Hi,serverPrefetch:Hi,components:$p,directives:$p,watch:hH,provide:a3,inject:dH};function a3(t,e){return e?t?function(){return Yn(tt(t)?t.call(this,this):t,tt(e)?e.call(this,this):e)}:e:t}function dH(t,e){return $p(QA(t),QA(e))}function QA(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Hi(t,e){return t?[...new Set([].concat(t,e))]:e}function $p(t,e){return t?Yn(Object.create(null),t,e):e}function c3(t,e){return t?Qe(t)&&Qe(e)?[...new Set([...t,...e])]:Yn(Object.create(null),s3(t),s3(e??{})):e}function hH(t,e){if(!t)return e;if(!e)return t;const r=Yn(Object.create(null),t);for(const n in e)r[n]=Hi(t[n],e[n]);return r}function Vk(){return{app:null,config:{isNativeTag:ZD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pH=0;function gH(t,e){return function(n,i=null){tt(n)||(n=Yn({},n)),i!=null&&!pr(i)&&(i=null);const s=Vk(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:pH++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:XH,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&tt(u.install)?(o.add(u),u.install(l,...f)):tt(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||je(n,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),c=!0,l._container=u,u.__vue_app__=l,A1(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Za(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=dd;dd=l;try{return u()}finally{dd=f}}};return l}}let dd=null;function ng(t,e){if(Ri){let r=Ri.provides;const n=Ri.parent&&Ri.parent.provides;n===r&&(r=Ri.provides=Object.create(n)),r[t]=e}}function Js(t,e,r=!1){const n=Do();if(n||dd){let i=dd?dd._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&tt(e)?e.call(n&&n.proxy):e}}function mH(){return!!(Do()||dd)}const Jk={},Yk=()=>Object.create(Jk),Xk=t=>Object.getPrototypeOf(t)===Jk;function yH(t,e,r,n=!1){const i={},s=Yk();t.propsDefaults=Object.create(null),Qk(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:Ak(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bH(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ot(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(x1(t.emitsOptions,d))continue;const h=e[d];if(c)if(Jt(s,d))h!==s[d]&&(s[d]=h,l=!0);else{const m=Oo(d);i[m]=ZA(c,a,m,h,t,!1)}else h!==s[d]&&(s[d]=h,l=!0)}}}else{Qk(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!Jt(e,f)&&((u=Bd(f))===f||!Jt(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=ZA(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Jt(e,f))&&(delete s[f],l=!0)}l&&_l(t.attrs,"set","")}function Qk(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Yp(c))continue;const l=e[c];let u;i&&Jt(i,u=Oo(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:x1(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Ot(r),l=a||lr;for(let u=0;u<s.length;u++){const f=s[u];r[f]=ZA(i,c,f,l[f],t,!Jt(l,f))}}return o}function ZA(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Jt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&tt(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=ay(i);n=l[r]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Bd(r))&&(n=!0))}return n}const wH=new WeakMap;function Zk(t,e,r=!1){const n=r?wH:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!tt(t)){const u=f=>{c=!0;const[d,h]=Zk(f,e,!0);Yn(o,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return pr(t)&&n.set(t,t0),t0;if(Qe(s))for(let u=0;u<s.length;u++){const f=Oo(s[u]);l3(f)&&(o[f]=lr)}else if(s)for(const u in s){const f=Oo(u);if(l3(f)){const d=s[u],h=o[f]=Qe(d)||tt(d)?{type:d}:Yn({},d),m=h.type;let g=!1,b=!0;if(Qe(m))for(let E=0;E<m.length;++E){const A=m[E],S=tt(A)&&A.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(b=!1)}else g=tt(m)&&m.name==="Boolean";h[0]=g,h[1]=b,(g||Jt(h,"default"))&&a.push(f)}}const l=[o,a];return pr(t)&&n.set(t,l),l}function l3(t){return t[0]!=="$"&&!Yp(t)}const kN=t=>t==="_"||t==="_ctx"||t==="$stable",MN=t=>Qe(t)?t.map(_c):[_c(t)],_H=(t,e,r)=>{if(e._n)return e;const n=Ru((...i)=>MN(e(...i)),r);return n._c=!1,n},eM=(t,e,r)=>{const n=t._ctx;for(const i in t){if(kN(i))continue;const s=t[i];if(tt(s))e[i]=_H(i,s,n);else if(s!=null){const o=MN(s);e[i]=()=>o}}},tM=(t,e)=>{const r=MN(e);t.slots.default=()=>r},rM=(t,e,r)=>{for(const n in e)(r||!kN(n))&&(t[n]=e[n])},EH=(t,e,r)=>{const n=t.slots=Yk();if(t.vnode.shapeFlag&32){const i=e._;i?(rM(n,e,r),r&&ik(n,"_",i,!0)):eM(e,n)}else e&&tM(t,e)},vH=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=lr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:rM(i,e,r):(s=!e.$stable,eM(e,i)),o=e}else e&&(tM(t,e),o={default:1});if(s)for(const a in i)!kN(a)&&o[a]==null&&delete i[a]},qi=$H;function xH(t){return AH(t)}function AH(t,e){const r=y1();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Rc,insertStaticContent:m}=t,g=(H,Y,W,Z=null,fe=null,oe=null,ge=void 0,_e=null,q=!!Y.dynamicChildren)=>{if(H===Y)return;H&&!Jf(H,Y)&&(Z=K(H),_(H,fe,oe,!0),H=null),Y.patchFlag===-2&&(q=!1,Y.dynamicChildren=null);const{type:z,ref:ne,shapeFlag:se}=Y;switch(z){case oy:b(H,Y,W,Z);break;case Ji:E(H,Y,W,Z);break;case QE:H==null&&A(Y,W,Z,ge);break;case As:O(H,Y,W,Z,fe,oe,ge,_e,q);break;default:se&1?P(H,Y,W,Z,fe,oe,ge,_e,q):se&6?C(H,Y,W,Z,fe,oe,ge,_e,q):(se&64||se&128)&&z.process(H,Y,W,Z,fe,oe,ge,_e,q,ie)}ne!=null&&fe?eg(ne,H&&H.ref,oe,Y||H,!Y):ne==null&&H&&H.ref!=null&&eg(H.ref,null,oe,H,!0)},b=(H,Y,W,Z)=>{if(H==null)n(Y.el=a(Y.children),W,Z);else{const fe=Y.el=H.el;Y.children!==H.children&&l(fe,Y.children)}},E=(H,Y,W,Z)=>{H==null?n(Y.el=c(Y.children||""),W,Z):Y.el=H.el},A=(H,Y,W,Z)=>{[H.el,H.anchor]=m(H.children,Y,W,Z,H.el,H.anchor)},S=({el:H,anchor:Y},W,Z)=>{let fe;for(;H&&H!==Y;)fe=d(H),n(H,W,Z),H=fe;n(Y,W,Z)},T=({el:H,anchor:Y})=>{let W;for(;H&&H!==Y;)W=d(H),i(H),H=W;i(Y)},P=(H,Y,W,Z,fe,oe,ge,_e,q)=>{Y.type==="svg"?ge="svg":Y.type==="math"&&(ge="mathml"),H==null?k(Y,W,Z,fe,oe,ge,_e,q):v(H,Y,fe,oe,ge,_e,q)},k=(H,Y,W,Z,fe,oe,ge,_e)=>{let q,z;const{props:ne,shapeFlag:se,transition:pe,dirs:me}=H;if(q=H.el=o(H.type,oe,ne&&ne.is,ne),se&8?u(q,H.children):se&16&&N(H.children,q,null,Z,fe,XE(H,oe),ge,_e),me&&Pf(H,null,Z,"created"),F(q,H,H.scopeId,ge,Z),ne){for(const ce in ne)ce!=="value"&&!Yp(ce)&&s(q,ce,null,ne[ce],oe,Z);"value"in ne&&s(q,"value",null,ne.value,oe),(z=ne.onVnodeBeforeMount)&&sc(z,Z,H)}me&&Pf(H,null,Z,"beforeMount");const ee=CH(fe,pe);ee&&pe.beforeEnter(q),n(q,Y,W),((z=ne&&ne.onVnodeMounted)||ee||me)&&qi(()=>{z&&sc(z,Z,H),ee&&pe.enter(q),me&&Pf(H,null,Z,"mounted")},fe)},F=(H,Y,W,Z,fe)=>{if(W&&h(H,W),Z)for(let oe=0;oe<Z.length;oe++)h(H,Z[oe]);if(fe){let oe=fe.subTree;if(Y===oe||aM(oe.type)&&(oe.ssContent===Y||oe.ssFallback===Y)){const ge=fe.vnode;F(H,ge,ge.scopeId,ge.slotScopeIds,fe.parent)}}},N=(H,Y,W,Z,fe,oe,ge,_e,q=0)=>{for(let z=q;z<H.length;z++){const ne=H[z]=_e?vu(H[z]):_c(H[z]);g(null,ne,Y,W,Z,fe,oe,ge,_e)}},v=(H,Y,W,Z,fe,oe,ge)=>{const _e=Y.el=H.el;let{patchFlag:q,dynamicChildren:z,dirs:ne}=Y;q|=H.patchFlag&16;const se=H.props||lr,pe=Y.props||lr;let me;if(W&&Of(W,!1),(me=pe.onVnodeBeforeUpdate)&&sc(me,W,Y,H),ne&&Pf(Y,H,W,"beforeUpdate"),W&&Of(W,!0),(se.innerHTML&&pe.innerHTML==null||se.textContent&&pe.textContent==null)&&u(_e,""),z?M(H.dynamicChildren,z,_e,W,Z,XE(Y,fe),oe):ge||I(H,Y,_e,null,W,Z,XE(Y,fe),oe,!1),q>0){if(q&16)$(_e,se,pe,W,fe);else if(q&2&&se.class!==pe.class&&s(_e,"class",null,pe.class,fe),q&4&&s(_e,"style",se.style,pe.style,fe),q&8){const ee=Y.dynamicProps;for(let ce=0;ce<ee.length;ce++){const ke=ee[ce],Le=se[ke],Ge=pe[ke];(Ge!==Le||ke==="value")&&s(_e,ke,Le,Ge,fe,W)}}q&1&&H.children!==Y.children&&u(_e,Y.children)}else!ge&&z==null&&$(_e,se,pe,W,fe);((me=pe.onVnodeUpdated)||ne)&&qi(()=>{me&&sc(me,W,Y,H),ne&&Pf(Y,H,W,"updated")},Z)},M=(H,Y,W,Z,fe,oe,ge)=>{for(let _e=0;_e<Y.length;_e++){const q=H[_e],z=Y[_e],ne=q.el&&(q.type===As||!Jf(q,z)||q.shapeFlag&198)?f(q.el):W;g(q,z,ne,null,Z,fe,oe,ge,!0)}},$=(H,Y,W,Z,fe)=>{if(Y!==W){if(Y!==lr)for(const oe in Y)!Yp(oe)&&!(oe in W)&&s(H,oe,Y[oe],null,fe,Z);for(const oe in W){if(Yp(oe))continue;const ge=W[oe],_e=Y[oe];ge!==_e&&oe!=="value"&&s(H,oe,_e,ge,fe,Z)}"value"in W&&s(H,"value",Y.value,W.value,fe)}},O=(H,Y,W,Z,fe,oe,ge,_e,q)=>{const z=Y.el=H?H.el:a(""),ne=Y.anchor=H?H.anchor:a("");let{patchFlag:se,dynamicChildren:pe,slotScopeIds:me}=Y;me&&(_e=_e?_e.concat(me):me),H==null?(n(z,W,Z),n(ne,W,Z),N(Y.children||[],W,ne,fe,oe,ge,_e,q)):se>0&&se&64&&pe&&H.dynamicChildren?(M(H.dynamicChildren,pe,W,fe,oe,ge,_e),(Y.key!=null||fe&&Y===fe.subTree)&&UN(H,Y,!0)):I(H,Y,W,ne,fe,oe,ge,_e,q)},C=(H,Y,W,Z,fe,oe,ge,_e,q)=>{Y.slotScopeIds=_e,H==null?Y.shapeFlag&512?fe.ctx.activate(Y,W,Z,ge,q):p(Y,W,Z,fe,oe,ge,q):y(H,Y,q)},p=(H,Y,W,Z,fe,oe,ge)=>{const _e=H.component=qH(H,Z,fe);if(_1(H)&&(_e.ctx.renderer=ie),zH(_e,!1,ge),_e.asyncDep){if(fe&&fe.registerDep(_e,w,ge),!H.el){const q=_e.subTree=je(Ji);E(null,q,Y,W),H.placeholder=q.el}}else w(_e,H,Y,W,fe,oe,ge)},y=(H,Y,W)=>{const Z=Y.component=H.component;if(MH(H,Y,W))if(Z.asyncDep&&!Z.asyncResolved){x(Z,Y,W);return}else Z.next=Y,Z.update();else Y.el=H.el,Z.vnode=Y},w=(H,Y,W,Z,fe,oe,ge)=>{const _e=()=>{if(H.isMounted){let{next:se,bu:pe,u:me,parent:ee,vnode:ce}=H;{const nt=nM(H);if(nt){se&&(se.el=ce.el,x(H,se,ge)),nt.asyncDep.then(()=>{H.isUnmounted||_e()});return}}let ke=se,Le;Of(H,!1),se?(se.el=ce.el,x(H,se,ge)):se=ce,pe&&qE(pe),(Le=se.props&&se.props.onVnodeBeforeUpdate)&&sc(Le,ee,se,ce),Of(H,!0);const Ge=f3(H),Fr=H.subTree;H.subTree=Ge,g(Fr,Ge,f(Fr.el),K(Fr),H,fe,oe),se.el=Ge.el,ke===null&&UH(H,Ge.el),me&&qi(me,fe),(Le=se.props&&se.props.onVnodeUpdated)&&qi(()=>sc(Le,ee,se,ce),fe)}else{let se;const{el:pe,props:me}=Y,{bm:ee,m:ce,parent:ke,root:Le,type:Ge}=H,Fr=tg(Y);Of(H,!1),ee&&qE(ee),!Fr&&(se=me&&me.onVnodeBeforeMount)&&sc(se,ke,Y),Of(H,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Ge);const nt=H.subTree=f3(H);g(null,nt,W,Z,H,fe,oe),Y.el=nt.el}if(ce&&qi(ce,fe),!Fr&&(se=me&&me.onVnodeMounted)){const nt=Y;qi(()=>sc(se,ke,nt),fe)}(Y.shapeFlag&256||ke&&tg(ke.vnode)&&ke.vnode.shapeFlag&256)&&H.a&&qi(H.a,fe),H.isMounted=!0,Y=W=Z=null}};H.scope.on();const q=H.effect=new uk(_e);H.scope.off();const z=H.update=q.run.bind(q),ne=H.job=q.runIfDirty.bind(q);ne.i=H,ne.id=H.uid,q.scheduler=()=>PN(ne),Of(H,!0),z()},x=(H,Y,W)=>{Y.component=H;const Z=H.vnode.props;H.vnode=Y,H.next=null,bH(H,Y.props,Z,W),vH(H,Y.children,W),kl(),QI(H),Ml()},I=(H,Y,W,Z,fe,oe,ge,_e,q=!1)=>{const z=H&&H.children,ne=H?H.shapeFlag:0,se=Y.children,{patchFlag:pe,shapeFlag:me}=Y;if(pe>0){if(pe&128){B(z,se,W,Z,fe,oe,ge,_e,q);return}else if(pe&256){U(z,se,W,Z,fe,oe,ge,_e,q);return}}me&8?(ne&16&&V(z,fe,oe),se!==z&&u(W,se)):ne&16?me&16?B(z,se,W,Z,fe,oe,ge,_e,q):V(z,fe,oe,!0):(ne&8&&u(W,""),me&16&&N(se,W,Z,fe,oe,ge,_e,q))},U=(H,Y,W,Z,fe,oe,ge,_e,q)=>{H=H||t0,Y=Y||t0;const z=H.length,ne=Y.length,se=Math.min(z,ne);let pe;for(pe=0;pe<se;pe++){const me=Y[pe]=q?vu(Y[pe]):_c(Y[pe]);g(H[pe],me,W,null,fe,oe,ge,_e,q)}z>ne?V(H,fe,oe,!0,!1,se):N(Y,W,Z,fe,oe,ge,_e,q,se)},B=(H,Y,W,Z,fe,oe,ge,_e,q)=>{let z=0;const ne=Y.length;let se=H.length-1,pe=ne-1;for(;z<=se&&z<=pe;){const me=H[z],ee=Y[z]=q?vu(Y[z]):_c(Y[z]);if(Jf(me,ee))g(me,ee,W,null,fe,oe,ge,_e,q);else break;z++}for(;z<=se&&z<=pe;){const me=H[se],ee=Y[pe]=q?vu(Y[pe]):_c(Y[pe]);if(Jf(me,ee))g(me,ee,W,null,fe,oe,ge,_e,q);else break;se--,pe--}if(z>se){if(z<=pe){const me=pe+1,ee=me<ne?Y[me].el:Z;for(;z<=pe;)g(null,Y[z]=q?vu(Y[z]):_c(Y[z]),W,ee,fe,oe,ge,_e,q),z++}}else if(z>pe)for(;z<=se;)_(H[z],fe,oe,!0),z++;else{const me=z,ee=z,ce=new Map;for(z=ee;z<=pe;z++){const lt=Y[z]=q?vu(Y[z]):_c(Y[z]);lt.key!=null&&ce.set(lt.key,z)}let ke,Le=0;const Ge=pe-ee+1;let Fr=!1,nt=0;const Rt=new Array(Ge);for(z=0;z<Ge;z++)Rt[z]=0;for(z=me;z<=se;z++){const lt=H[z];if(Le>=Ge){_(lt,fe,oe,!0);continue}let pt;if(lt.key!=null)pt=ce.get(lt.key);else for(ke=ee;ke<=pe;ke++)if(Rt[ke-ee]===0&&Jf(lt,Y[ke])){pt=ke;break}pt===void 0?_(lt,fe,oe,!0):(Rt[pt-ee]=z+1,pt>=nt?nt=pt:Fr=!0,g(lt,Y[pt],W,null,fe,oe,ge,_e,q),Le++)}const Xo=Fr?NH(Rt):t0;for(ke=Xo.length-1,z=Ge-1;z>=0;z--){const lt=ee+z,pt=Y[lt],ic=Y[lt+1],er=lt+1<ne?ic.el||ic.placeholder:Z;Rt[z]===0?g(null,pt,W,er,fe,oe,ge,_e,q):Fr&&(ke<0||z!==Xo[ke]?D(pt,W,er,2):ke--)}}},D=(H,Y,W,Z,fe=null)=>{const{el:oe,type:ge,transition:_e,children:q,shapeFlag:z}=H;if(z&6){D(H.component.subTree,Y,W,Z);return}if(z&128){H.suspense.move(Y,W,Z);return}if(z&64){ge.move(H,Y,W,ie);return}if(ge===As){n(oe,Y,W);for(let se=0;se<q.length;se++)D(q[se],Y,W,Z);n(H.anchor,Y,W);return}if(ge===QE){S(H,Y,W);return}if(Z!==2&&z&1&&_e)if(Z===0)_e.beforeEnter(oe),n(oe,Y,W),qi(()=>_e.enter(oe),fe);else{const{leave:se,delayLeave:pe,afterLeave:me}=_e,ee=()=>{H.ctx.isUnmounted?i(oe):n(oe,Y,W)},ce=()=>{oe._isLeaving&&oe[yl](!0),se(oe,()=>{ee(),me&&me()})};pe?pe(oe,ee,ce):ce()}else n(oe,Y,W)},_=(H,Y,W,Z=!1,fe=!1)=>{const{type:oe,props:ge,ref:_e,children:q,dynamicChildren:z,shapeFlag:ne,patchFlag:se,dirs:pe,cacheIndex:me}=H;if(se===-2&&(fe=!1),_e!=null&&(kl(),eg(_e,null,W,H,!0),Ml()),me!=null&&(Y.renderCache[me]=void 0),ne&256){Y.ctx.deactivate(H);return}const ee=ne&1&&pe,ce=!tg(H);let ke;if(ce&&(ke=ge&&ge.onVnodeBeforeUnmount)&&sc(ke,Y,H),ne&6)R(H.component,W,Z);else{if(ne&128){H.suspense.unmount(W,Z);return}ee&&Pf(H,null,Y,"beforeUnmount"),ne&64?H.type.remove(H,Y,W,ie,Z):z&&!z.hasOnce&&(oe!==As||se>0&&se&64)?V(z,Y,W,!1,!0):(oe===As&&se&384||!fe&&ne&16)&&V(q,Y,W),Z&&L(H)}(ce&&(ke=ge&&ge.onVnodeUnmounted)||ee)&&qi(()=>{ke&&sc(ke,Y,H),ee&&Pf(H,null,Y,"unmounted")},W)},L=H=>{const{type:Y,el:W,anchor:Z,transition:fe}=H;if(Y===As){G(W,Z);return}if(Y===QE){T(H);return}const oe=()=>{i(W),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(H.shapeFlag&1&&fe&&!fe.persisted){const{leave:ge,delayLeave:_e}=fe,q=()=>ge(W,oe);_e?_e(H.el,oe,q):q()}else oe()},G=(H,Y)=>{let W;for(;H!==Y;)W=d(H),i(H),H=W;i(Y)},R=(H,Y,W)=>{const{bum:Z,scope:fe,job:oe,subTree:ge,um:_e,m:q,a:z}=H;u3(q),u3(z),Z&&qE(Z),fe.stop(),oe&&(oe.flags|=8,_(ge,H,Y,W)),_e&&qi(_e,Y),qi(()=>{H.isUnmounted=!0},Y)},V=(H,Y,W,Z=!1,fe=!1,oe=0)=>{for(let ge=oe;ge<H.length;ge++)_(H[ge],Y,W,Z,fe)},K=H=>{if(H.shapeFlag&6)return K(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const Y=d(H.anchor||H.el),W=Y&&Y[Dk];return W?d(W):Y};let X=!1;const Q=(H,Y,W)=>{H==null?Y._vnode&&_(Y._vnode,null,null,!0):g(Y._vnode||null,H,Y,null,null,null,W),Y._vnode=H,X||(X=!0,QI(),Tk(),X=!1)},ie={p:g,um:_,m:D,r:L,mt:p,mc:N,pc:I,pbc:M,n:K,o:t};return{render:Q,hydrate:void 0,createApp:gH(Q)}}function XE({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Of({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function UN(t,e,r=!1){const n=t.children,i=e.children;if(Qe(n)&&Qe(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=vu(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&UN(o,a)),a.type===oy&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ji&&!a.el&&(a.el=o.el)}}function NH(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function nM(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nM(e)}function u3(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const SH=Symbol.for("v-scx"),IH=()=>Js(SH);function un(t,e,r){return iM(t,e,r)}function iM(t,e,r=lr){const{immediate:n,deep:i,flush:s,once:o}=r,a=Yn({},r),c=e&&n||!e&&s!=="post";let l;if(Fg){if(s==="sync"){const h=IH();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Rc,h.resume=Rc,h.pause=Rc,h}}const u=Ri;a.call=(h,m,g)=>Za(h,u,m,g);let f=!1;s==="post"?a.scheduler=h=>{qi(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():PN(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Hj(t,e,a);return Fg&&(l?l.push(d):c&&d()),d}function TH(t,e,r){const n=this.proxy,i=Qr(t)?t.includes(".")?sM(n,t):()=>n[t]:t.bind(n,n);let s;tt(e)?s=e:(s=e.handler,r=e);const o=ay(this),a=iM(i,s.bind(n),r);return o(),a}function sM(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const RH=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Oo(e)}Modifiers`]||t[`${Bd(e)}Modifiers`];function PH(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||lr;let i=r;const s=e.startsWith("update:"),o=s&&RH(n,e.slice(7));o&&(o.trim&&(i=r.map(u=>Qr(u)?u.trim():u)),o.number&&(i=r.map(oj)));let a,c=n[a=WE(e)]||n[a=WE(Oo(e))];!c&&s&&(c=n[a=WE(Bd(e))]),c&&Za(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Za(l,t,6,i)}}const OH=new WeakMap;function oM(t,e,r=!1){const n=r?OH:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!tt(t)){const c=l=>{const u=oM(l,e,!0);u&&(a=!0,Yn(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(pr(t)&&n.set(t,null),null):(Qe(s)?s.forEach(c=>o[c]=null):Yn(o,s),pr(t)&&n.set(t,o),o)}function x1(t,e){return!t||!h1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,Bd(e))||Jt(t,e))}function f3(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:g}=t,b=Kw(t);let E,A;try{if(r.shapeFlag&4){const T=i||n,P=T;E=_c(l.call(P,T,u,f,h,d,m)),A=a}else{const T=e;E=_c(T.length>1?T(f,{attrs:a,slots:o,emit:c}):T(f,null)),A=e.props?a:DH(a)}}catch(T){ig.length=0,w1(T,t,1),E=je(Ji)}let S=E;if(A&&g!==!1){const T=Object.keys(A),{shapeFlag:P}=S;T.length&&P&7&&(s&&T.some(mN)&&(A=kH(A,s)),S=zu(S,A,!1,!0))}return r.dirs&&(S=zu(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&$g(S,r.transition),E=S,Kw(b),E}const DH=t=>{let e;for(const r in t)(r==="class"||r==="style"||h1(r))&&((e||(e={}))[r]=t[r]);return e},kH=(t,e)=>{const r={};for(const n in t)(!mN(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function MH(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?d3(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!x1(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?d3(n,o,l):!0:!!o;return!1}function d3(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!x1(r,s))return!0}return!1}function UH({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const aM=t=>t.__isSuspense;function $H(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):zj(t)}const As=Symbol.for("v-fgt"),oy=Symbol.for("v-txt"),Ji=Symbol.for("v-cmt"),QE=Symbol.for("v-stc"),ig=[];let Ks=null;function Al(t=!1){ig.push(Ks=t?null:[])}function LH(){ig.pop(),Ks=ig[ig.length-1]||null}let Lg=1;function Yw(t,e=!1){Lg+=t,t<0&&Ks&&e&&(Ks.hasOnce=!0)}function cM(t){return t.dynamicChildren=Lg>0?Ks||t0:null,LH(),Lg>0&&Ks&&Ks.push(t),t}function ZE(t,e,r,n,i,s){return cM(Zr(t,e,r,n,i,s,!0))}function Gh(t,e,r,n,i){return cM(je(t,e,r,n,i,!0))}function Xw(t){return t?t.__v_isVNode===!0:!1}function Jf(t,e){return t.type===e.type&&t.key===e.key}const lM=({key:t})=>t??null,Ub=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Qr(t)||Gr(t)||tt(t)?{i:Gs,r:t,k:e,f:!!r}:t:null);function Zr(t,e=null,r=null,n=0,i=null,s=t===As?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lM(e),ref:e&&Ub(e),scopeId:Pk,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gs};return a?($N(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Qr(r)?8:16),Lg>0&&!o&&Ks&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ks.push(c),c}const je=FH;function FH(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===sH)&&(t=Ji),Xw(t)){const a=zu(t,e,!0);return r&&$N(a,r),Lg>0&&!s&&Ks&&(a.shapeFlag&6?Ks[Ks.indexOf(t)]=a:Ks.push(a)),a.patchFlag=-2,a}if(YH(t)&&(t=t.__vccOpts),e){e=BH(e);let{class:a,style:c}=e;a&&!Qr(a)&&(e.class=_N(a)),pr(c)&&(IN(c)&&!Qe(c)&&(c=Yn({},c)),e.style=wN(c))}const o=Qr(t)?1:aM(t)?128:kk(t)?64:pr(t)?4:tt(t)?2:0;return Zr(t,e,r,n,i,o,s,!0)}function BH(t){return t?IN(t)||Xk(t)?Yn({},t):t:null}function zu(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,l=e?xd(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&lM(l),ref:e&&e.ref?r&&s?Qe(s)?s.concat(Ub(e)):[s,Ub(e)]:Ub(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==As?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zu(t.ssContent),ssFallback:t.ssFallback&&zu(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&$g(u,c.clone(u)),u}function hd(t=" ",e=0){return je(oy,null,t,e)}function jH(t="",e=!1){return e?(Al(),Gh(Ji,null,t)):je(Ji,null,t)}function _c(t){return t==null||typeof t=="boolean"?je(Ji):Qe(t)?je(As,null,t.slice()):Xw(t)?vu(t):je(oy,null,String(t))}function vu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zu(t)}function $N(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Qe(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),$N(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!Xk(e)?e._ctx=Gs:i===3&&Gs&&(Gs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Gs},r=32):(e=String(e),n&64?(r=16,e=[hd(e)]):r=8);t.children=e,t.shapeFlag|=r}function xd(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=_N([e.class,n.class]));else if(i==="style")e.style=wN([e.style,n.style]);else if(h1(i)){const s=e[i],o=n[i];o&&s!==o&&!(Qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function sc(t,e,r,n=null){Za(t,e,7,[r,n])}const HH=Vk();let WH=0;function qH(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||HH,s={uid:WH++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ck(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zk(n,i),emitsOptions:oM(n,i),emit:null,emitted:null,propsDefaults:lr,inheritAttrs:n.inheritAttrs,ctx:lr,data:lr,props:lr,attrs:lr,slots:lr,refs:lr,setupState:lr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=PH.bind(null,s),t.ce&&t.ce(s),s}let Ri=null;const Do=()=>Ri||Gs;let Qw,e2;{const t=y1(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Qw=e("__VUE_INSTANCE_SETTERS__",r=>Ri=r),e2=e("__VUE_SSR_SETTERS__",r=>Fg=r)}const ay=t=>{const e=Ri;return Qw(t),t.scope.on(),()=>{t.scope.off(),Qw(e)}},h3=()=>{Ri&&Ri.scope.off(),Qw(null)};function uM(t){return t.vnode.shapeFlag&4}let Fg=!1;function zH(t,e=!1,r=!1){e&&e2(e);const{props:n,children:i}=t.vnode,s=uM(t);yH(t,n,s,e),EH(t,i,r||e);const o=s?GH(t,e):void 0;return e&&e2(!1),o}function GH(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cH);const{setup:n}=r;if(n){kl();const i=t.setupContext=n.length>1?VH(t):null,s=ay(t),o=sy(n,t,0,[t.props,i]),a=tk(o);if(Ml(),s(),(a||t.sp)&&!tg(t)&&Wk(t),a){if(o.then(h3,h3),e)return o.then(c=>{p3(t,c)}).catch(c=>{w1(c,t,0)});t.asyncDep=o}else p3(t,o)}else fM(t)}function p3(t,e,r){tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pr(e)&&(t.setupState=Nk(e)),fM(t)}function fM(t,e,r){const n=t.type;t.render||(t.render=n.render||Rc);{const i=ay(t);kl();try{lH(t)}finally{Ml(),i()}}}const KH={get(t,e){return Si(t,"get",""),t[e]}};function VH(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,KH),slots:t.slots,emit:t.emit,expose:e}}function A1(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Nk(TN(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in rg)return rg[r](t)},has(e,r){return r in e||r in rg}})):t.proxy}function JH(t,e=!0){return tt(t)?t.displayName||t.name:t.name||e&&t.__name}function YH(t){return tt(t)&&"__vccOpts"in t}const qt=(t,e)=>Bj(t,e,Fg);function cy(t,e,r){try{Yw(-1);const n=arguments.length;return n===2?pr(e)&&!Qe(e)?Xw(e)?je(t,null,[e]):je(t,e):je(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Xw(r)&&(r=[r]),je(t,e,r))}finally{Yw(1)}}const XH="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let t2;const g3=typeof window<"u"&&window.trustedTypes;if(g3)try{t2=g3.createPolicy("vue",{createHTML:t=>t})}catch{}const dM=t2?t=>t2.createHTML(t):t=>t,QH="http://www.w3.org/2000/svg",ZH="http://www.w3.org/1998/Math/MathML",cl=typeof document<"u"?document:null,m3=cl&&cl.createElement("template"),eW={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?cl.createElementNS(QH,t):e==="mathml"?cl.createElementNS(ZH,t):r?cl.createElement(t,{is:r}):cl.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>cl.createTextNode(t),createComment:t=>cl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{m3.innerHTML=dM(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=m3.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},eu="transition",sp="animation",Bg=Symbol("_vtc"),hM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tW=Yn({},Lk,hM),rW=t=>(t.displayName="Transition",t.props=tW,t),pM=rW((t,{slots:e})=>cy(Jj,nW(t),e)),Df=(t,e=[])=>{Qe(t)?t.forEach(r=>r(...e)):t&&t(...e)},y3=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function nW(t){const e={};for(const O in t)O in hM||(e[O]=t[O]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,m=iW(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:E,onEnter:A,onEnterCancelled:S,onLeave:T,onLeaveCancelled:P,onBeforeAppear:k=E,onAppear:F=A,onAppearCancelled:N=S}=e,v=(O,C,p,y)=>{O._enterCancelled=y,kf(O,C?u:a),kf(O,C?l:o),p&&p()},M=(O,C)=>{O._isLeaving=!1,kf(O,f),kf(O,h),kf(O,d),C&&C()},$=O=>(C,p)=>{const y=O?F:A,w=()=>v(C,O,p);Df(y,[C,w]),b3(()=>{kf(C,O?c:s),qc(C,O?u:a),y3(y)||w3(C,n,g,w)})};return Yn(e,{onBeforeEnter(O){Df(E,[O]),qc(O,s),qc(O,o)},onBeforeAppear(O){Df(k,[O]),qc(O,c),qc(O,l)},onEnter:$(!1),onAppear:$(!0),onLeave(O,C){O._isLeaving=!0;const p=()=>M(O,C);qc(O,f),O._enterCancelled?(qc(O,d),v3(O)):(v3(O),qc(O,d)),b3(()=>{O._isLeaving&&(kf(O,f),qc(O,h),y3(T)||w3(O,n,b,p))}),Df(T,[O,p])},onEnterCancelled(O){v(O,!1,void 0,!0),Df(S,[O])},onAppearCancelled(O){v(O,!0,void 0,!0),Df(N,[O])},onLeaveCancelled(O){M(O),Df(P,[O])}})}function iW(t){if(t==null)return null;if(pr(t))return[ev(t.enter),ev(t.leave)];{const e=ev(t);return[e,e]}}function ev(t){return aj(t)}function qc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Bg]||(t[Bg]=new Set)).add(e)}function kf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Bg];r&&(r.delete(e),r.size||(t[Bg]=void 0))}function b3(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let sW=0;function w3(t,e,r,n){const i=t._endId=++sW,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=oW(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,d),s()},d=h=>{h.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,d)}function oW(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(`${eu}Delay`),s=n(`${eu}Duration`),o=_3(i,s),a=n(`${sp}Delay`),c=n(`${sp}Duration`),l=_3(a,c);let u=null,f=0,d=0;e===eu?o>0&&(u=eu,f=o,d=s.length):e===sp?l>0&&(u=sp,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?eu:sp:null,d=u?u===eu?s.length:c.length:0);const h=u===eu&&/\b(?:transform|all)(?:,|$)/.test(n(`${eu}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function _3(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>E3(r)+E3(t[n])))}function E3(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function v3(t){return(t?t.ownerDocument:document).body.offsetHeight}function aW(t,e,r){const n=t[Bg];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Zw=Symbol("_vod"),gM=Symbol("_vsh"),mM={name:"show",beforeMount(t,{value:e},{transition:r}){t[Zw]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):op(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),op(t,!0),n.enter(t)):n.leave(t,()=>{op(t,!1)}):op(t,e))},beforeUnmount(t,{value:e}){op(t,e)}};function op(t,e){t.style.display=e?t[Zw]:"none",t[gM]=!e}const cW=Symbol(""),lW=/(?:^|;)\s*display\s*:/;function uW(t,e,r){const n=t.style,i=Qr(r);let s=!1;if(r&&!i){if(e)if(Qr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&$b(n,a,"")}else for(const o in e)r[o]==null&&$b(n,o,"");for(const o in r)o==="display"&&(s=!0),$b(n,o,r[o])}else if(i){if(e!==r){const o=n[cW];o&&(r+=";"+o),n.cssText=r,s=lW.test(r)}}else e&&t.removeAttribute("style");Zw in t&&(t[Zw]=s?n.display:"",t[gM]&&(n.display="none"))}const x3=/\s*!important$/;function $b(t,e,r){if(Qe(r))r.forEach(n=>$b(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=fW(t,e);x3.test(r)?t.setProperty(Bd(n),r.replace(x3,""),"important"):t[n]=r}}const A3=["Webkit","Moz","ms"],tv={};function fW(t,e){const r=tv[e];if(r)return r;let n=Oo(e);if(n!=="filter"&&n in t)return tv[e]=n;n=m1(n);for(let i=0;i<A3.length;i++){const s=A3[i]+n;if(s in t)return tv[e]=s}return e}const C3="http://www.w3.org/1999/xlink";function N3(t,e,r,n,i,s=hj(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(C3,e.slice(6,e.length)):t.setAttributeNS(C3,e,r):r==null||s&&!sk(r)?t.removeAttribute(e):t.setAttribute(e,s?"":uf(r)?String(r):r)}function S3(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?dM(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=sk(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function dW(t,e,r,n){t.addEventListener(e,r,n)}function hW(t,e,r,n){t.removeEventListener(e,r,n)}const I3=Symbol("_vei");function pW(t,e,r,n,i=null){const s=t[I3]||(t[I3]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=gW(e);if(n){const l=s[e]=bW(n,i);dW(t,a,l,c)}else o&&(hW(t,a,o,c),s[e]=void 0)}}const T3=/(?:Once|Passive|Capture)$/;function gW(t){let e;if(T3.test(t)){e={};let n;for(;n=t.match(T3);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Bd(t.slice(2)),e]}let rv=0;const mW=Promise.resolve(),yW=()=>rv||(mW.then(()=>rv=0),rv=Date.now());function bW(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Za(wW(n,r.value),e,5,[n])};return r.value=t,r.attached=yW(),r}function wW(t,e){if(Qe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const R3=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_W=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?aW(t,n,o):e==="style"?uW(t,r,n):h1(e)?mN(e)||pW(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):EW(t,e,n,o))?(S3(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&N3(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qr(n))?S3(t,Oo(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),N3(t,e,n,o))};function EW(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&R3(e)&&tt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return R3(e)&&Qr(r)?!1:e in t}const vW=Yn({patchProp:_W},eW);let P3;function xW(){return P3||(P3=xH(vW))}const yM=((...t)=>{const e=xW().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=CW(n);if(!i)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,AW(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function AW(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function CW(t){return Qr(t)?document.querySelector(t):t}const NW=Symbol(),O3=Object.getPrototypeOf,r2=new WeakMap,SW=t=>t&&(r2.has(t)?r2.get(t):O3(t)===Object.prototype||O3(t)===Array.prototype),IW=t=>SW(t)&&t[NW]||null,D3=(t,e=!0)=>{r2.set(t,e)},e_={},LN=t=>typeof t=="object"&&t!==null,TW=t=>LN(t)&&!ly.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),bM=(t,e)=>{const r=n2.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return D3(n,!0),n2.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(ly.has(s))D3(s,!1);else if(Gu.has(s)){const[c,l]=Gu.get(s);a.value=bM(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},RW=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(k3(l,o)||jg.has(o)&&k3(l,jg.get(o))))return!0;r(s),LN(o)&&(o=IW(o)||o);const u=!Gu.has(o)&&OW(o)?gr(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),Gu=new WeakMap,ly=new WeakSet,n2=new WeakMap,Lp=[1,1],jg=new WeakMap;let k3=Object.is,PW=(t,e)=>new Proxy(t,e),OW=TW,DW=bM,kW=RW;function gr(t={}){if(!LN(t))throw new Error("object required");const e=jg.get(t);if(e)return e;let r=Lp[0];const n=new Set,i=(b,E=++Lp[0])=>{r!==E&&(r=E,n.forEach(A=>A(b,E)))};let s=Lp[1];const o=(b=++Lp[1])=>(s!==b&&!n.size&&(s=b,c.forEach(([E])=>{const A=E[1](b);A>r&&(r=A)})),r),a=b=>(E,A)=>{const S=[...E];S[1]=[b,...S[1]],i(S,A)},c=new Map,l=(b,E)=>{const A=!ly.has(E)&&Gu.get(E);if(A){if((e_?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(n.size){const S=A[2](a(b));c.set(b,[A,S])}else c.set(b,[A])}},u=b=>{var E;const A=c.get(b);A&&(c.delete(b),(E=A[1])==null||E.call(A))},f=b=>(n.add(b),n.size===1&&c.forEach(([A,S],T)=>{if((e_?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const P=A[2](a(T));c.set(T,[A,P])}),()=>{n.delete(b),n.size===0&&c.forEach(([A,S],T)=>{S&&(S(),c.set(T,[A]))})});let d=!0;const h=kW(()=>d,l,u,i),m=PW(t,h);jg.set(t,m);const g=[t,o,f];return Gu.set(m,g),Reflect.ownKeys(t).forEach(b=>{const E=Object.getOwnPropertyDescriptor(t,b);"value"in E&&E.writable&&(m[b]=t[b])}),d=!1,m}function fi(t,e,r){const n=Gu.get(t);(e_?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Hg(t){const e=Gu.get(t);(e_?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return DW(r,n())}function Ad(t){return ly.add(t),t}function MW(){return{proxyStateMap:Gu,refSet:ly,snapCache:n2,versionHolder:Lp,proxyCache:jg}}function Bi(t,e,r,n){let i=t[e];return fi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}const{proxyStateMap:UW,snapCache:$W}=MW(),qy=t=>UW.has(t);function LW(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=$W.get(a),u=l?.[1];if(u&&!i.has(u)){const f=new Map(n);i.set(u,f)}},o=l=>i.get(l)||n,a={data:e,index:r,epoch:0,get size(){return qy(this)||s(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!qy(this))throw new Error("Cannot perform mutations on a snapshot");const f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!qy(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!qy(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=gr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kr(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var M3={};const ae={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof M3<"u"?M3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},wM={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return ae.CHAIN_NAME_MAP?.[n]||void 0}},_M=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var FW=20,BW=1,Cd=1e6,U3=1e6,jW=-7,HW=21,WW=!1,uy="[big.js] ",jd=uy+"Invalid ",C1=jd+"decimal places",qW=jd+"rounding mode",EM=uy+"Division by zero",Zt={},Pc=void 0,zW=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function vM(){function t(e){var r=this;if(!(r instanceof t))return e===Pc?vM():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(jd+"value");e=e===0&&1/e<0?"-0":String(e)}GW(r,e)}r.constructor=t}return t.prototype=Zt,t.DP=FW,t.RM=BW,t.NE=jW,t.PE=HW,t.strict=WW,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function GW(t,e){var r,n,i;if(!zW.test(e))throw Error(jd+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function Hd(t,e,r,n){var i=t.c;if(r===Pc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(qW);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Pc))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Pc||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Wd(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Zt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Zt.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Zt.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Cd)throw Error(C1);if(!i[0])throw Error(EM);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,f,d=i.slice(),h=a=i.length,m=n.length,g=n.slice(0,a),b=g.length,E=t,A=E.c=[],S=0,T=o+(E.e=e.e-t.e)+1;for(E.s=s,s=T<0?0:T,d.unshift(0);b++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(b=g.length))u=a>b?1:-1;else for(f=-1,u=0;++f<a;)if(i[f]!=g[f]){u=i[f]>g[f]?1:-1;break}if(u<0){for(c=b==a?i:d;b;){if(g[--b]<c[b]){for(f=b;f&&!g[--f];)g[f]=9;--g[f],g[b]+=10}g[b]-=c[b]}for(;!g[0];)g.shift()}else break}A[S++]=u?l:++l,g[0]&&u?g[b]=n[h]||0:g=[n[h]]}while((h++<m||g[0]!==Pc)&&s--);return!A[0]&&S!=1&&(A.shift(),E.e--,T--),S>T&&Hd(E,T,r.RM,g[0]!==Pc),E};Zt.eq=function(t){return this.cmp(t)===0};Zt.gt=function(t){return this.cmp(t)>0};Zt.gte=function(t){return this.cmp(t)>-1};Zt.lt=function(t){return this.cmp(t)<0};Zt.lte=function(t){return this.cmp(t)<1};Zt.minus=Zt.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};Zt.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(EM);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Zt.plus=Zt.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Zt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-U3||t>U3)throw Error(jd+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Zt.prec=function(t,e){if(t!==~~t||t<1||t>Cd)throw Error(jd+"precision");return Hd(new this.constructor(this),t,e)};Zt.round=function(t,e){if(t===Pc)t=0;else if(t!==~~t||t<-Cd||t>Cd)throw Error(C1);return Hd(new this.constructor(this),t+this.e+1,e)};Zt.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(uy+"No square root");s=Math.sqrt(+Wd(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Hd(t,(i.DP-=4)+t.e+1,i.RM)};Zt.times=Zt.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Zt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Pc){if(t!==~~t||t<0||t>Cd)throw Error(C1);for(r=Hd(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return Wd(r,!0,!!n)};Zt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Pc){if(t!==~~t||t<0||t>Cd)throw Error(C1);for(r=Hd(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return Wd(r,!1,!!n)};Zt[Symbol.for("nodejs.util.inspect.custom")]=Zt.toJSON=Zt.toString=function(){var t=this,e=t.constructor;return Wd(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Zt.toNumber=function(){var t=+Wd(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(uy+"Imprecise conversion");return t};Zt.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Pc){if(t!==~~t||t<1||t>Cd)throw Error(jd+"precision");for(r=Hd(new n(r),t,e);r.c.length<t;)r.c.push(0)}return Wd(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Zt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(uy+"valueOf disallowed");return Wd(t,t.e<=e.NE||t.e>=e.PE,!0)};var tu=vM();const KW={bigNumber(t){return t?new tu(t):new tu(0)},multiply(t,e){if(t===void 0||e===void 0)return new tu(0);const r=new tu(t),n=new tu(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new tu(0).toFixed(e):new tu(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new tu(e).toNumber()}},VW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],JW=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],YW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],XW={getERC20Abi:t=>ae.USDT_CONTRACT_ADDRESSES.includes(t)?YW:VW,getSwapAbi:()=>JW},Vi={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function nv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const He={setItem(t,e){Kh()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Kh())return localStorage.getItem(t)||void 0},removeItem(t){Kh()&&localStorage.removeItem(t)},clear(){Kh()&&localStorage.clear()}};function Kh(){return typeof window<"u"&&typeof localStorage<"u"}function Wg(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var $3={};const iv=(typeof process<"u"&&typeof $3<"u"?$3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",xM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],QW="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",It={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:iv,SECURE_SITE_DASHBOARD:`${iv}/dashboard`,SECURE_SITE_FAVICON:`${iv}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{He.setItem(qe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=He.getItem(qe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{He.removeItem(qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{He.setItem(qe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{He.setItem(qe.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{He.removeItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=nv(t);He.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),He.setItem(qe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=He.getItem(qe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=nv(t);He.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return He.getItem(qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=nv(t);return He.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{He.setItem(qe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return He.getItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{He.removeItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return He.getItem(qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{He.setItem(qe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return He.getItem(qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=He.getItem(qe.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));He.setItem(qe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return He.getItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{He.setItem(qe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{He.removeItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=He.getItem(qe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=be.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=He.getItem(qe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=be.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=He.getItem(qe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=be.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,He.setItem(qe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();He.setItem(qe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=He.getItem(qe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=be.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},He.setItem(qe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();He.setItem(qe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{He.removeItem(qe.PORTFOLIO_CACHE),He.removeItem(qe.NATIVE_BALANCE_CACHE),He.removeItem(qe.ENS_CACHE),He.removeItem(qe.IDENTITY_CACHE),He.removeItem(qe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{He.setItem(qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=He.getItem(qe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=be.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===ae.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};He.setItem(qe.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=He.getItem(qe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=be.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),He.setItem(qe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=He.getItem(qe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(be.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=He.getItem(qe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=be.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;be.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=be.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=be.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=He.getItem(qe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=be.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;be.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=be.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=be.getTokenPriceCache();He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Pe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Pe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=It.TEN_SEC_MS:!0},isAllowedRetry(t,e=It.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Pe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+It.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Pe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Pe.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Pe.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return ae.W3M_API_URL},getBlockchainApiUrl(){return ae.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ae.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?It.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ae.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function ap(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class fy{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await ap(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await ap(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await ap(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await ap(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await ap(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const ZW={getFeatureValue(t,e){const r=e?.[t];return r===void 0?It.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Pe.isTelegram()){if(Pe.isIos())return t.filter(e=>e!=="google");if(Pe.isMac())return t.filter(e=>e!=="x");if(Pe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Be=gr({features:It.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:It.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),he={state:Be,subscribeKey(t,e){return Bi(Be,t,e)},setOptions(t){Object.assign(Be,t)},setRemoteFeatures(t){if(!t)return;const e={...Be.remoteFeatures,...t};Be.remoteFeatures=e,Be.remoteFeatures?.socials&&(Be.remoteFeatures.socials=ZW.filterSocialsByPlatform(Be.remoteFeatures.socials)),Be.features?.pay&&(Be.remoteFeatures.email=!1,Be.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;Be.features||(Be.features=It.DEFAULT_FEATURES);const e={...Be.features,...t};Be.features=e,Be.features?.pay&&Be.remoteFeatures&&(Be.remoteFeatures.email=!1,Be.remoteFeatures.socials=!1)},setProjectId(t){Be.projectId=t},setCustomRpcUrls(t){Be.customRpcUrls=t},setAllWallets(t){Be.allWallets=t},setIncludeWalletIds(t){Be.includeWalletIds=t},setExcludeWalletIds(t){Be.excludeWalletIds=t},setFeaturedWalletIds(t){Be.featuredWalletIds=t},setTokens(t){Be.tokens=t},setTermsConditionsUrl(t){Be.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Be.privacyPolicyUrl=t},setCustomWallets(t){Be.customWallets=t},setIsSiweEnabled(t){Be.isSiweEnabled=t},setIsUniversalProvider(t){Be.isUniversalProvider=t},setSdkVersion(t){Be.sdkVersion=t},setMetadata(t){Be.metadata=t},setDisableAppend(t){Be.disableAppend=t},setEIP6963Enabled(t){Be.enableEIP6963=t},setDebug(t){Be.debug=t},setEnableWalletConnect(t){Be.enableWalletConnect=t},setEnableWalletGuide(t){Be.enableWalletGuide=t},setEnableAuthLogger(t){Be.enableAuthLogger=t},setEnableWallets(t){Be.enableWallets=t},setPreferUniversalLinks(t){Be.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(It.SIWX_DEFAULTS))t[e]??=r;Be.siwx=t},setConnectMethodsOrder(t){Be.features={...Be.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Be.features={...Be.features,walletFeaturesOrder:t}},setSocialsOrder(t){Be.remoteFeatures={...Be.remoteFeatures,socials:t}},setCollapseWallets(t){Be.features={...Be.features,collapseWallets:t}},setEnableEmbedded(t){Be.enableEmbedded=t},setAllowUnsupportedChain(t){Be.allowUnsupportedChain=t},setManualWCControl(t){Be.manualWCControl=t},setEnableNetworkSwitch(t){Be.enableNetworkSwitch=t},setEnableReconnect(t){Be.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(Be.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){Be.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Be.universalProviderConfigOverride},getSnapshot(){return Hg(Be)}},eq=Object.freeze({enabled:!0,events:[]}),tq=new fy({baseUrl:Pe.getAnalyticsUrl(),clientId:null}),rq=5,nq=60*1e3,ru=gr({...eq}),iq={state:ru,subscribeKey(t,e){return Bi(ru,t,e)},async sendError(t,e){if(!ru.enabled)return;const r=Date.now();if(ru.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<nq}).length>=rq)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};ru.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=he.state;await tq.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){ru.enabled=!0},disable(){ru.enabled=!1},clearEvents(){ru.events=[]}};class y0 extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,y0.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,y0):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function L3(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof y0?t:new y0(r,e,t);throw iq.sendError(n,n.category),n}function Xs(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return L3(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return L3(a,e)}},r[n]=s}else r[n]=i}),r}var b0={};const sq="https://secure.walletconnect.org/sdk",oq=(typeof process<"u"&&typeof b0<"u"?b0.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||sq,aq=(typeof process<"u"&&typeof b0<"u"?b0.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",cq=(typeof process<"u"&&typeof b0<"u"?b0.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",$e={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},jn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},zi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},lq={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===zi.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${zi.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===zi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${zi.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===ae.CHAIN.SOLANA&&t===zi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${zi.COINBASE.url}/dapp?cb_url=${n}`),e===ae.CHAIN.BITCOIN&&t===zi.BINANCE.id&&!("binancew3w"in window)){const i=J.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(zi.BINANCE.deeplink);a.searchParams.set("appId",zi.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(zi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},Ds=gr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),uq={state:Ds,subscribeNetworkImages(t){return fi(Ds.networkImages,()=>t(Ds.networkImages))},subscribeKey(t,e){return Bi(Ds,t,e)},subscribe(t){return fi(Ds,()=>t(Ds))},setWalletImage(t,e){Ds.walletImages[t]=e},setNetworkImage(t,e){Ds.networkImages[t]=e},setChainImage(t,e){Ds.chainImages[t]=e},setConnectorImage(t,e){Ds.connectorImages={...Ds.connectorImages,[t]:e}},setTokenImage(t,e){Ds.tokenImages[t]=e},setCurrencyImage(t,e){Ds.currencyImages[t]=e}},Da=Xs(uq),fq={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},sv=gr({networkImagePromises:{}}),AM={async fetchWalletImage(t){if(t)return await We._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(sv.networkImagePromises[t]||(sv.networkImagePromises[t]=We._fetchNetworkImage(t)),await sv.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Da.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Da.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Da.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Da.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Da.state.connectorImages[t.imageId]},getChainImage(t){return Da.state.networkImages[fq[t]]}},Qo=gr({message:"",variant:"info",open:!1}),dq={state:Qo,subscribeKey(t,e){return Bi(Qo,t,e)},open(t,e){const{debug:r}=he.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(Qo.message=i,Qo.variant=e,Qo.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){Qo.open=!0,Qo.message=t,Qo.variant="warning",e&&console.warn(e,r)},close(){Qo.open=!1,Qo.message="",Qo.variant="info"}},ai=Xs(dq),hq=Pe.getAnalyticsUrl(),pq=new fy({baseUrl:hq,clientId:null}),gq=["MODAL_CREATED"],zc=gr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Dt={state:zc,subscribe(t){return fi(zc,()=>t(zc))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=Me.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),gq.includes(t.data.event)||typeof window>"u")return;const r=J.getActiveCaipNetwork()?.caipNetworkId;await pq.post({path:"/e",params:Dt.getSdkProperties(),body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),zc.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ae.HTTP_STATUS_CODES.FORBIDDEN&&!zc.reportedErrors.FORBIDDEN&&(ai.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Kh()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),zc.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){zc.timestamp=Date.now(),zc.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(he.state.features?.analytics||e.includes(t.event))&&Dt._sendAnalyticsEvent(zc)}},mq=Pe.getApiUrl(),ns=new fy({baseUrl:mq,clientId:null}),yq=40,F3=4,bq=20,st=gr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),We={state:st,subscribeKey(t,e){return Bi(st,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return he.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ns.baseUrl}/getWalletImage/${t}`,r=await ns.getBlob({path:e,params:We._getSdkProperties()});Da.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ns.baseUrl}/public/getAssetImage/${t}`,r=await ns.getBlob({path:e,params:We._getSdkProperties()});Da.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ns.baseUrl}/public/getAssetImage/${t}`,r=await ns.getBlob({path:e,params:We._getSdkProperties()});Da.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ns.baseUrl}/public/getCurrencyImage/${t}`,r=await ns.getBlob({path:e,params:We._getSdkProperties()});Da.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ns.baseUrl}/public/getTokenImage/${t}`,r=await ns.getBlob({path:e,params:We._getSdkProperties()});Da.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return Pe.isMobile()?t?.filter(r=>r.mobile_link||r.id===zi.COINBASE.id||r.id===zi.BINANCE.id?!0:J.state.activeChain==="solana"&&(r.id===zi.SOLFLARE.id||r.id===zi.PHANTOM.id)):t},async fetchProjectConfig(){return(await ns.get({path:"/appkit/v1/config",params:We._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await ns.get({path:"/projects/v1/origins",params:We._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ae.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ae.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=J.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!AM.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>We._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=xe.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>We._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];We._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(zi).map(s=>s.id));const n=await ns.get({path:"/getWallets",params:{...We._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:We._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=he.state;if(t?.length){const e={...We._getSdkProperties(),page:1,entries:t?.length??F3,include:t},{data:r}=await We.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>We._fetchWalletImage(s))),st.featured=n,st.allFeatured=n}},async fetchRecommendedWallets(){try{st.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=he.state,n=[...e??[],...r??[]].filter(Boolean),i=J.getRequestedCaipNetworkIds().join(","),s={page:1,entries:F3,include:t,exclude:n,chains:i},{data:o,count:a}=await We.fetchWallets(s),c=be.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>We._fetchWalletImage(f))),st.recommended=o,st.allRecommended=o,st.count=a??0}catch{}finally{st.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(","),s=[...st.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:yq,include:e,exclude:s,chains:i},{data:a,count:c}=await We.fetchWallets(o),l=a.slice(0,bq).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>We._fetchWalletImage(u))),st.wallets=Pe.uniqueBy([...st.wallets,...We._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(f=>i.includes(f))),st.count=c>st.count?c:st.count,st.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await We.fetchWallets(e);r&&r.forEach(n=>{st.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(",");st.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await We.fetchWallets(s);Dt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>We._fetchWalletImage(c)),Pe.wait(300)]),st.search=We._filterOutExtensions(o)},initPromise(t,e){const r=st.promises[t];return r||(st.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&We.initPromise("connectorImages",We.fetchConnectorImages),e&&We.initPromise("featuredWallets",We.fetchFeaturedWallets),r&&We.initPromise("recommendedWallets",We.fetchRecommendedWallets),n&&We.initPromise("networkImages",We.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){he.state.features?.analytics&&We.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ns.get({path:"/getAnalyticsConfig",params:We._getSdkProperties()});he.setFeatures({analytics:t})}catch{he.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){st.filteredWallets=[]},setFilterByNamespace(t){if(!t){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},tr=gr({view:"Connect",history:["Connect"],transactionStack:[]}),wq={state:tr,subscribeKey(t,e){return Bi(tr,t,e)},pushTransactionStack(t){tr.transactionStack.push(t)},popTransactionStack(t){const e=tr.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),Ve.goBack();break;case"cancel":i?.(),Ve.goBack();break}},push(t,e){t!==tr.view&&(tr.view=t,tr.history.push(t),tr.data=e)},reset(t,e){tr.view=t,tr.history=[t],tr.data=e},replace(t,e){tr.history.at(-1)===t||(tr.view=t,tr.history[tr.history.length-1]=t,tr.data=e)},goBack(){const t=J.state.activeCaipAddress,e=Ve.state.view==="ConnectingFarcaster",r=!t&&e;if(tr.history.length>1){tr.history.pop();const[n]=tr.history.slice(-1);n&&(t&&n==="Connect"?tr.view="Account":tr.view=n)}else At.close();tr.data?.wallet&&(tr.data.wallet=void 0),setTimeout(()=>{if(r){Me.setFarcasterUrl(void 0,J.state.activeChain);const n=xe.getAuthConnector();n?.provider?.reload();const i=Hg(he.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(tr.history.length>1){tr.history=tr.history.slice(0,t+1);const[e]=tr.history.slice(-1);e&&(tr.view=e)}},goBackOrCloseModal(){Ve.state.history.length>1?Ve.goBack():At.close()}},Ve=Xs(wq),Gc=gr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),i2={state:Gc,subscribe(t){return fi(Gc,()=>t(Gc))},setThemeMode(t){Gc.themeMode=t;try{const e=xe.getAuthConnector();if(e){const r=i2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Wg(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Gc.themeVariables={...Gc.themeVariables,...t};try{const e=xe.getAuthConnector();if(e){const r=i2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Wg(Gc.themeVariables,Gc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Hg(Gc)}},ws=Xs(i2),CM=Object.fromEntries(_M.map(t=>[t,void 0])),_q=Object.fromEntries(_M.map(t=>[t,!0])),Mt=gr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:CM,filterByNamespaceMap:_q}),Eq={state:Mt,subscribe(t){return fi(Mt,()=>{t(Mt)})},subscribeKey(t,e){return Bi(Mt,t,e)},initialize(t){t.forEach(e=>{const r=be.getConnectedConnectorId(e);r&&xe.setConnectorId(r,e)})},setActiveConnector(t){t&&(Mt.activeConnector=Ad(t))},setConnectors(t){t.filter(i=>!Mt.allConnectors.some(s=>s.id===i.id&&xe.getConnectorName(s.name)===xe.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Mt.allConnectors.push(Ad(i))});const r=xe.getEnabledNamespaces(),n=xe.getEnabledConnectors(r);Mt.connectors=xe.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(Mt.filterByNamespaceMap).forEach(e=>{Mt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Mt.filterByNamespaceMap[e]=!0}),xe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Mt.filterByNamespaceMap[t]=e,xe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=xe.getEnabledNamespaces(),e=xe.getEnabledConnectors(t),r=xe.areAllNamespacesEnabled();Mt.connectors=xe.mergeMultiChainConnectors(e),r?We.clearFilterByNamespaces():We.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Mt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Mt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Mt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=xe.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===ae.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=xe.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===ae.CONNECTOR_ID.AUTH){const e=t,r=Hg(he.state),n=ws.getSnapshot().themeMode,i=ws.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Wg(i,n)}),xe.setConnectors([t])}else xe.setConnectors([t])},getAuthConnector(t){const e=t||J.state.activeChain,r=Mt.connectors.find(n=>n.id===ae.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return Mt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Mt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||J.state.activeChain;return Mt.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=Hg(he.state),n=ws.getSnapshot().themeMode,i=ws.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Wg(i,n)})},getConnectorsByNamespace(t){const e=Mt.allConnectors.filter(r=>r.chain===t);return xe.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Ts(t)===jn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=xe.getConnector({id:t.id,rdns:t.rdns});lq.handleMobileDeeplinkRedirect(e?.explorerId||t.id,J.state.activeChain),e?Ve.push("ConnectingExternal",{connector:e,wallet:t}):Ve.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?xe.getConnectorsByNamespace(t):xe.mergeMultiChainConnectors(Mt.allConnectors)},setFilterByNamespace(t){Mt.filterByNamespace=t,Mt.connectors=xe.getConnectors(t),We.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Mt.activeConnectorIds={...Mt.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){Mt.activeConnectorIds={...Mt.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Mt.activeConnectorIds[t]},isConnected(t){return t?!!Mt.activeConnectorIds[t]:Object.values(Mt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Mt.activeConnectorIds={...CM}}},xe=Xs(Eq),vq=1e3,cp={checkNamespaceConnectorId(t,e){return xe.getConnectorId(t)===e},isSocialProvider(t){return It.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&xe.setActiveConnector(e),i?.(Pe.isMobile()&&t),n){const l=At.subscribeKey("open",u=>{u||(Ve.state.view!==n&&Ve.replace(n),l(),a(new Error("Modal closed")))})}const c=J.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&At.close(),c(),o(Vi.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=J.subscribeKey("activeCaipAddress",i=>{i&&(At.close(),n(),e(Vi.parseCaipAddress(i)))});Ne.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=Me.state.socialWindow,o=Me.state.socialProvider,a=!1,c=null;const l=e||J.state.activeChain,u=J.subscribeKey("activeCaipAddress",f=>{f&&(r&&At.close(),u())});return new Promise((f,d)=>{async function h(g){if(g.data?.resultUri)if(g.origin===ae.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const b=xe.getAuthConnector(l);if(b&&!a){s&&(s.close(),Me.setSocialWindow(void 0,l),s=Me.state.socialWindow),a=!0;const E=g.data.resultUri;if(o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){be.setConnectedSocialProvider(o),await Ne.connectExternal({id:b.id,type:b.type,socialUri:E},b.chain);const A=J.state.activeCaipAddress;if(!A){d(new Error("Failed to connect"));return}f(Vi.parseCaipAddress(A)),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),d(new Error("Failed to connect"))}}else o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function m(){if(t&&(Me.setSocialProvider(t,l),o=Me.state.socialProvider,Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const g=At.subscribeKey("open",E=>{!E&&t==="farcaster"&&(d(new Error("Popup closed")),i?.(),g())}),b=xe.getAuthConnector();if(b&&!Me.state.farcasterUrl)try{const{url:E}=await b.provider.getFarcasterUri();Me.setFarcasterUrl(E,l)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=xe.getAuthConnector();c=Pe.returnOpenHref(`${ae.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:b}=await g.provider.getSocialRedirectUri({provider:o});if(c&&b){Me.setSocialWindow(c,l),s=Me.state.socialWindow,c.location.href=b;const E=setInterval(()=>{s?.closed&&!a&&(d(new Error("Popup closed")),clearInterval(E))},1e3);window.addEventListener("message",h,!1)}else c?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),c?.close()}}}m()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=At.subscribeKey("open",c=>{c||(Ve.state.view!==e&&Ve.replace(e),a(),s(new Error("Modal closed")))})}const o=J.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&At.close(),o(),i(Vi.parseCaipAddress(a)))})})},async updateEmail(){const t=be.getConnectedConnectorId(J.state.activeChain),e=xe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ae.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await At.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(At.close(),clearInterval(s),o(),n({email:a}))},vq),o=At.subscribeKey("open",a=>{a||(Ve.state.view!=="Connect"&&Ve.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Ts(t)===jn.ACCOUNT_TYPES.EOA}};function NM(){const t=J.state.activeCaipNetwork?.chainNamespace||"eip155",e=J.state.activeCaipNetwork?.id||1,r=It.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function Ts(t){return J.getAccountData(t)?.preferredAccountType}function Fp(t){return t?J.state.chains.get(t)?.networkState?.caipNetwork:J.state.activeCaipNetwork}const t_={getConnectionStatus(t,e){const r=xe.state.activeConnectorIds[e],n=Ne.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!he.state.remoteFeatures?.multiWallet,r=xe.state.activeConnectorIds[t],n=Ne.getConnections(t),s=(Ne.state.recentConnections.get(t)??[]).filter(a=>xe.getConnectorById(a.connectorId)),o=t_.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},Gf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),yn=gr({...Gf}),xq={state:yn,subscribeKey(t,e){return Bi(yn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Pe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){yn.message=Gf.message,yn.variant=Gf.variant,yn.svg=Gf.svg,yn.open=Gf.open,yn.autoClose=Gf.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Gf.autoClose}){yn.open?(yn.open=!1,setTimeout(()=>{yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n},150)):(yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n)}},Cc=xq,Ur=gr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Aq={state:Ur,subscribe(t){return fi(Ur,()=>t(Ur))},setLastNetworkInView(t){Ur.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Ur.loading=!0;try{const e=await Ke.fetchTransactions({account:t,cursor:Ur.next,chainId:J.state.activeCaipNetwork?.caipNetworkId}),r=Lb.filterSpamTransactions(e.data),n=Lb.filterByConnectedChain(r),i=[...Ur.transactions,...n];Ur.loading=!1,Ur.transactions=i,Ur.transactionsByYear=Lb.groupTransactionsByYearAndMonth(Ur.transactionsByYear,n),Ur.empty=i.length===0,Ur.next=e.next?e.next:void 0}catch{const r=J.state.activeChain;Dt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:he.state.projectId,cursor:Ur.next,isSmartAccount:Ts(r)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Cc.showError("Failed to fetch transactions"),Ur.loading=!1,Ur.empty=!0,Ur.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=J.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Ur.next=void 0},resetTransactions(){Ur.transactions=[],Ur.transactionsByYear={},Ur.lastNetworkInView=void 0,Ur.loading=!1,Ur.empty=!1,Ur.next=void 0}},Lb=Xs(Aq,"API_ERROR"),Ut=gr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Mf;const Cq={state:Ut,subscribe(t){return fi(Ut,()=>t(Ut))},subscribeKey(t,e){return Bi(Ut,t,e)},_getClient(){return Ut._client},setClient(t){Ut._client=Ad(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Ne.syncStorageConnections(e)},syncStorageConnections(t){const e=be.getConnections(),r=t??Array.from(J.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(Ut.recentConnections);s.set(n,i),Ut.recentConnections=s}},getConnections(t){return t?Ut.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Ne.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=Pe.isTelegram()||Pe.isSafari()&&Pe.isIos();if(t==="always"||t==="auto"&&e){if(Mf){await Mf,Mf=void 0;return}if(!Pe.isPairingExpired(Ut?.wcPairingExpiry)){const r=Ut.wcUri;Ut.wcUri=r;return}Mf=Ne._getClient()?.connectWalletConnect?.().catch(()=>{}),Ne.state.status="connecting",await Mf,Mf=void 0,Ut.wcPairingExpiry=void 0,Ne.state.status="connected"}else await Ne._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await Ne._getClient()?.connectExternal?.(t);return r&&J.setActiveNamespace(e),n},async reconnectExternal(t){await Ne._getClient()?.reconnectExternal?.(t);const e=t.chain||J.state.activeChain;e&&xe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;At.setLoading(!0,J.state.activeChain);const r=xe.getAuthConnector();r&&(Me.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),be.setPreferredAccountTypes(Object.entries(J.state.chains).reduce((n,[i,s])=>{const o=i,a=Ts(o);return a!==void 0&&(n[o]=a),n},{})),await Ne.reconnectExternal(r),At.setLoading(!1,J.state.activeChain),Dt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:J.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return Ne._getClient()?.signMessage(t)},parseUnits(t,e){return Ne._getClient()?.parseUnits(t,e)},formatUnits(t,e){return Ne._getClient()?.formatUnits(t,e)},updateBalance(t){return Ne._getClient()?.updateBalance(t)},async sendTransaction(t){return Ne._getClient()?.sendTransaction(t)},async getCapabilities(t){return Ne._getClient()?.getCapabilities(t)},async grantPermissions(t){return Ne._getClient()?.grantPermissions(t)},async walletGetAssets(t){return Ne._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return Ne._getClient()?.estimateGas(t)},async writeContract(t){return Ne._getClient()?.writeContract(t)},async getEnsAddress(t){return Ne._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return Ne._getClient()?.getEnsAvatar(t)},checkInstalled(t){return Ne._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Ut.wcLinking=void 0,Ut.recentWallet=void 0,Ut.status="disconnected",Lb.resetTransactions(),be.deleteWalletConnectDeepLink()},resetUri(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Mf=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=Ne.state;e&&be.setWalletConnectDeepLink(e),r&&be.setAppKitRecent(r),t&&Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Ve.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){Ut.wcBasic=t},setUri(t){Ut.wcUri=t,Ut.wcPairingExpiry=Pe.getPairingExpiry()},setWcLinking(t){Ut.wcLinking=t},setWcError(t){Ut.wcError=t,Ut.buffering=!1},setRecentWallet(t){Ut.recentWallet=t},setBuffering(t){Ut.buffering=t},setStatus(t){Ut.status=t},setIsSwitchingConnection(t){Ut.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await Ne._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new y0("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(Ut.connections);r.set(e,t),Ut.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=Me.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&cp.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Ne.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=xe.getConnectorById(t.connectorId),i=t.connectorId===ae.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e});else return(await Ne.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=xe.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===ae.CONNECTOR_ID.AUTH,a=t.connectorId===ae.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&cp.isSocialProvider(s)){const{address:l}=await cp.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){At.open({view:"ConnectingFarcaster"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const{address:l}=await cp.connectEmail({closeModalOnConnect:n,onOpen(){At.open({view:"EmailLogin"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await cp.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";At.state.open?Ve.push(f):At.open({view:f})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const l=await Ne.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=Me.getCaipAddress(r);if(o){const{address:c}=Vi.parseCaipAddress(o);s=c}const a=t_.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await Ne.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Ne.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},Ne=Xs(Cq),eh=gr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Fa={state:eh,subscribe(t){return fi(eh,()=>t(eh))},subscribeOpen(t){return Bi(eh,"open",t)},set(t){Object.assign(eh,{...eh,...t})}},Nq={async getTokenList(t){return(await Ke.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=J.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await Ne?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Ke.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await Ke.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=Ne.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await WN.getMyTokensWithBalance(t);return Me.setTokenBalance(e,J.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:NM(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Xt=gr({tokenBalances:[],loading:!1}),Sq={state:Xt,subscribe(t){return fi(Xt,()=>t(Xt))},subscribeKey(t,e){return Bi(Xt,t,e)},setToken(t){t&&(Xt.token=Ad(t))},setTokenAmount(t){Xt.sendTokenAmount=t},setReceiverAddress(t){Xt.receiverAddress=t},setReceiverProfileImageUrl(t){Xt.receiverProfileImageUrl=t},setReceiverProfileName(t){Xt.receiverProfileName=t},setNetworkBalanceInUsd(t){Xt.networkBalanceInUSD=t},setLoading(t){Xt.loading=t},async sendToken(){try{switch(St.setLoading(!0),J.state.activeCaipNetwork?.chainNamespace){case"eip155":await St.sendEvmToken();return;case"solana":await St.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{St.setLoading(!1)}},async sendEvmToken(){const t=J.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Ts(t);if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!St.state.token)throw new Error("A token is required");St.state.token?.address?(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.address,amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendERC20Token({receiverAddress:St.state.receiverAddress,tokenAddress:St.state.token.address,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals})):(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.symbol||"",amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendNativeToken({receiverAddress:St.state.receiverAddress,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals}))},async fetchTokenBalance(t){Xt.loading=!0;const e=J.state.activeChain,r=J.state.activeCaipNetwork?.caipNetworkId,n=J.state.activeCaipNetwork?.chainNamespace,i=Me.getCaipAddress(e)??J.state.activeCaipAddress,s=i?Pe.getPlainAddress(i):void 0;if(Xt.lastRetry&&!Pe.isAllowedRetry(Xt.lastRetry,30*It.ONE_SEC_MS))return Xt.loading=!1,[];try{if(s&&r&&n){const o=await WN.getMyTokensWithBalance();return Xt.tokenBalances=o,Xt.lastRetry=void 0,o}}catch(o){Xt.lastRetry=Date.now(),t?.(o),Cc.showError("Token Balance Unavailable")}finally{Xt.loading=!1}return[]},fetchNetworkBalance(){if(Xt.tokenBalances.length===0)return;const t=Nq.mapBalancesToSwapTokens(Xt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===NM());e&&(Xt.networkBalanceInUSD=e?KW.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Ve.pushTransactionStack({});const e=t.receiverAddress,r=Me.state.address,n=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ne.sendTransaction({chainNamespace:ae.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),Dt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Ts("eip155")===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token?.symbol||"",amount:t.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),Ne._getClient()?.updateBalance("eip155"),St.resetSend()},async sendERC20Token(t){Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});const e=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Me.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=Pe.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Ne.writeContract({fromAddress:Me.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:XW.getERC20Abi(r),chainNamespace:ae.CHAIN.EVM}),St.resetSend()}},async sendSolanaToken(){if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});let t;if(St.state.token&&Pe.isCaipAddress(St.state.token.address)){const[,,e]=St.state.token.address.split(":");t=e}await Ne.sendTransaction({chainNamespace:"solana",tokenMint:t,to:St.state.receiverAddress,value:St.state.sendTokenAmount}),Ne._getClient()?.updateBalance("solana"),St.resetSend()},resetSend(){Xt.token=void 0,Xt.sendTokenAmount=void 0,Xt.receiverAddress=void 0,Xt.receiverProfileImageUrl=void 0,Xt.receiverProfileName=void 0,Xt.loading=!1,Xt.tokenBalances=[]}},St=Xs(Sq),ov={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},zy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ie=gr({chains:LW(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Iq={state:Ie,subscribe(t){return fi(Ie,()=>{t(Ie)})},subscribeKey(t,e){return Bi(Ie,t,e)},subscribeChainProp(t,e,r){let n;return fi(Ie.chains,()=>{const i=r||Ie.activeChain;if(i){const s=Ie.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=be.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=he.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Ie.noAdapters=!0),Ie.noAdapters||(Ie.activeChain=a?.namespace,Ie.activeCaipNetwork=s,J.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ie.activeChain&&Fa.set({activeChain:a?.namespace})),l.forEach(u=>{const f=e?.filter(m=>m.chainNamespace===u),d=be.getPreferredAccountTypes()||{},h={...he.state.defaultAccountTypes,...d};J.state.chains.set(u,{namespace:u,networkState:gr({...zy,caipNetwork:f?.[0]}),accountState:gr({...ov,preferredAccountType:h[u]}),caipNetworks:f??[],...r}),J.setRequestedCaipNetworks(f??[],u)})},removeAdapter(t){if(Ie.activeChain===t){const e=Array.from(Ie.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&J.setActiveCaipNetwork(r)}}Ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...zy,caipNetwork:n[0]},accountState:ov,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),J.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ie.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),Ie.chains.set(t.chainNamespace,{...e,caipNetworks:r}),J.setRequestedCaipNetworks(r,t.chainNamespace),xe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=Ie.chains.get(t);if(r){const n=Ie.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&J.setActiveCaipNetwork(r.caipNetworks[0]),Ie.chains.set(t,{...r,caipNetworks:i}),J.setRequestedCaipNetworks(i||[],t),i.length===0&&xe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Ie.chains.get(t);r&&(r.networkState={...r.networkState||zy,...e},Ie.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Ie.chains.get(t);if(n){const i={...n.accountState||ov,...e};Ie.chains.set(t,{...n,accountState:i}),(Ie.chains.size===1||Ie.activeChain===t)&&(e.caipAddress&&(Ie.activeCaipAddress=e.caipAddress),Me.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Ie.chains.get(t);if(r){const n={...r.networkState||zy,...e};Ie.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){J.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){Ie.activeChain=t;const e=t?Ie.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(Ie.activeCaipAddress=e?.accountState?.caipAddress,Ie.activeCaipNetwork=r,J.setChainNetworkData(t,{caipNetwork:r}),be.setActiveCaipNetworkId(r?.caipNetworkId),Fa.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ie.activeChain!==t.chainNamespace&&J.setIsSwitchingNamespace(!0);const e=Ie.chains.get(t.chainNamespace);Ie.activeChain=t.chainNamespace,Ie.activeCaipNetwork=t,J.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ie.activeCaipAddress=void 0,J.setAccountProp("caipAddress",Ie.activeCaipAddress,t.chainNamespace),e&&Me.replaceState(e.accountState),St.resetSend(),Fa.set({activeChain:Ie.activeChain,selectedNetworkId:Ie.activeCaipNetwork?.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!J.checkIfSupportedNetwork(t.chainNamespace)&&he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&!Ne.state.wcBasic&&J.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ie.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==J.state.activeChain,r=J.getNetworkData(t)?.caipNetwork,n=J.getCaipNetworkByNamespace(t,r?.id);e&&n&&await J.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=J.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!J.state.chains.get(e)?.caipNetworks?.some(s=>s.id===Ie.activeCaipNetwork?.id),i=J.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&At.close()}catch{Ve.goBack()}Dt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=Ie.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Ie.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=Ie.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Ie.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return Pe.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=J.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){J.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=J.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));xe.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=J.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?Ie.chains.get(t)?.networkState?.caipNetwork:Ie.activeCaipNetwork},getActiveCaipAddress(){return Ie.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ie.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await J.getNetworkControllerClient()?.getApprovedCaipNetworksData();J.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Ie.activeCaipNetwork?.caipNetworkId,n=J.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return Ie.activeChain?J.getRequestedCaipNetworks(Ie.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){J.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=wM.caipNetworkIdToNumber(Ie.activeCaipNetwork?.caipNetworkId),e=Ie.activeChain;return!e||!t?!1:!!J.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){At.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ie.activeCaipNetwork;return!!(t?.chainNamespace&&It.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){J.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=J.state.chains.get(e)?.accountState?.preferredAccountType,n=he.state.defaultAccountTypes[e];Ie.activeCaipAddress=void 0,J.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),xe.removeConnectorId(e)},setIsSwitchingNamespace(t){Ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ie.chains.forEach(r=>{ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?Ie.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=J.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=xe.state.filterByNamespace;return(t?[Ie.chains.get(t)]:Array.from(Ie.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?J.getRequestedCaipNetworks(t):J.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ie.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ie.lastConnectedSIWECaipNetwork}},J=Xs(Iq),Tq={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},SM=Pe.getBlockchainApiUrl(),is=gr({clientId:null,api:new fy({baseUrl:SM,clientId:null}),supportedChains:{http:[],ws:[]}}),Ke={state:is,async get(t){const{st:e,sv:r}=Ke.getSdkProperties(),n=he.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return is.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=he.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{is.supportedChains.http.length||await Ke.getSupportedNetworks()}catch{return!1}return is.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ke.get({path:"v1/supported-chains"});return is.supportedChains=t,t}catch{return is.supportedChains}},async fetchIdentity({address:t}){const e=be.getIdentityFromCacheForAddress(t);if(e)return e;const r=await Ke.get({path:`/v1/identity/${t}`,params:{sender:J.state.activeCaipAddress?Pe.getPlainAddress(J.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=be.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Ke.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return be.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=be.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await is.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:he.state.projectId},headers:{"Content-Type":"application/json"}});return be.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ke.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return is.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:It.CONVERT_SLIPPAGE_TOLERANCE},projectId:he.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ke.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return Cc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ke.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/reverse/${t}`,params:{sender:Me.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?is.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?(await is.api.post({path:"/v1/generators/onrampurl",params:{projectId:he.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ke.get({path:"/v1/onramp/options"})}catch{return Tq}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?await is.api.post({path:"/v1/onramp/quote",params:{projectId:he.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?is.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:he.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){is.clientId=t,is.api=new fy({baseUrl:SM,clientId:t})}};function Rq(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function B3(t){return Rq(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const IM="2.37.13";let av={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${IM}`},rc=class s2 extends Error{constructor(e,r={}){const n=r.cause instanceof s2?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof s2&&r.cause.docsPath||r.docsPath,s=av.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...av.version?[`Version: ${av.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=IM}walk(e){return TM(this,e)}};function TM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?TM(t.cause,e):e?null:t}class Ske extends rc{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let RM=class extends rc{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function FN(t,{dir:e,size:r=32}={}){return typeof t=="string"?Pq(t,{dir:e,size:r}):Oq(t,{dir:e,size:r})}function Pq(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new RM({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Oq(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new RM({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Dq=class extends rc{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},kq=class extends rc{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function PM(t,{size:e}){if(B3(t)>e)throw new kq({givenSize:B3(t),maxSize:e})}const Mq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function j3(t,e={}){return typeof t=="number"||typeof t=="bigint"?$q(t,e):typeof t=="string"?DM(t,e):typeof t=="boolean"?Uq(t,e):OM(t,e)}function Uq(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(PM(r,{size:e.size}),FN(r,{size:e.size})):r}function OM(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Mq[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(PM(n,{size:e.size}),FN(n,{dir:"right",size:e.size})):n}function $q(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Dq({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?FN(a,{size:n}):a}const Lq=new TextEncoder;function DM(t,e={}){const r=Lq.encode(t);return OM(r,e)}const Gy=BigInt(2**32-1),H3=BigInt(32);function Fq(t,e=!1){return e?{h:Number(t&Gy),l:Number(t>>H3&Gy)}:{h:Number(t>>H3&Gy)|0,l:Number(t&Gy)|0}}function Bq(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Fq(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const jq=(t,e,r)=>t<<r|e>>>32-r,Hq=(t,e,r)=>e<<r|t>>>32-r,Wq=(t,e,r)=>e<<r-32|t>>>64-r,qq=(t,e,r)=>t<<r-32|e>>>64-r,th=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function zq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function r_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function w0(t,...e){if(!zq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r_(t.outputLen),r_(t.blockLen)}function W3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Gq(t,e){w0(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Kq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function kM(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Oke(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Dke(t,e){return t<<32-e|t>>>e}const Vq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Jq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Yq(t){for(let e=0;e<t.length;e++)t[e]=Jq(t[e]);return t}const q3=Vq?t=>t:Yq,Xq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Qq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kke(t){if(w0(t),Xq)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Qq[t[r]];return e}function Zq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function MM(t){return typeof t=="string"&&(t=Zq(t)),w0(t),t}function Mke(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];w0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class ez{}function tz(t){const e=n=>t().update(MM(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Uke(t=32){if(th&&typeof th.getRandomValues=="function")return th.getRandomValues(new Uint8Array(t));if(th&&typeof th.randomBytes=="function")return Uint8Array.from(th.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const rz=BigInt(0),lp=BigInt(1),nz=BigInt(2),iz=BigInt(7),sz=BigInt(256),oz=BigInt(113),UM=[],$M=[],LM=[];for(let t=0,e=lp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],UM.push(2*(5*n+r)),$M.push((t+1)*(t+2)/2%64);let i=rz;for(let s=0;s<7;s++)e=(e<<lp^(e>>iz)*oz)%sz,e&nz&&(i^=lp<<(lp<<BigInt(s))-lp);LM.push(i)}const FM=Bq(LM,!0),az=FM[0],cz=FM[1],z3=(t,e,r)=>r>32?Wq(t,e,r):jq(t,e,r),G3=(t,e,r)=>r>32?qq(t,e,r):Hq(t,e,r);function lz(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=z3(l,u,1)^r[a],d=G3(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=$M[o],c=z3(i,s,a),l=G3(i,s,a),u=UM[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=az[n],t[1]^=cz[n]}kM(r)}class BN extends ez{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,r_(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Kq(this.state)}clone(){return this._cloneInto()}keccak(){q3(this.state32),lz(this.state32,this.rounds),q3(this.state32),this.posOut=0,this.pos=0}update(e){W3(this),e=MM(e),w0(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){W3(this,!1),w0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return r_(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Gq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,kM(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new BN(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const uz=(t,e,r)=>tz(()=>new BN(e,t,r)),fz=uz(1,136,256/8);let dz=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const pd=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function hz(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const jN=t=>t;class sg extends rc{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${jN(o)}`,e&&`Request body: ${pd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class BM extends rc{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${jN(n)}`,`Request body: ${pd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class K3 extends rc{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${jN(r)}`,`Request body: ${pd(e)}`],name:"TimeoutError"})}}const pz=-1;class Ps extends rc{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof BM?e.code:r??pz}}class Qs extends Ps{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class qg extends Ps{constructor(e){super(e,{code:qg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class zg extends Ps{constructor(e){super(e,{code:zg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Gg extends Ps{constructor(e,{method:r}={}){super(e,{code:Gg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Kg extends Ps{constructor(e){super(e,{code:Kg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class _0 extends Ps{constructor(e){super(e,{code:_0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(_0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Vg extends Ps{constructor(e){super(e,{code:Vg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Jg extends Ps{constructor(e){super(e,{code:Jg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Yg extends Ps{constructor(e){super(e,{code:Yg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class E0 extends Ps{constructor(e){super(e,{code:E0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class id extends Ps{constructor(e,{method:r}={}){super(e,{code:id.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(id,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class v0 extends Ps{constructor(e){super(e,{code:v0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(v0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Xg extends Ps{constructor(e){super(e,{code:Xg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class gd extends Qs{constructor(e){super(e,{code:gd.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Qg extends Qs{constructor(e){super(e,{code:Qg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Zg extends Qs{constructor(e,{method:r}={}){super(e,{code:Zg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class em extends Qs{constructor(e){super(e,{code:em.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class tm extends Qs{constructor(e){super(e,{code:tm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class rm extends Qs{constructor(e){super(e,{code:rm.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class nm extends Qs{constructor(e){super(e,{code:nm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class im extends Qs{constructor(e){super(e,{code:im.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class sm extends Qs{constructor(e){super(e,{code:sm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class om extends Qs{constructor(e){super(e,{code:om.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class am extends Qs{constructor(e){super(e,{code:am.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class cm extends Qs{constructor(e){super(e,{code:cm.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class lm extends Qs{constructor(e){super(e,{code:lm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class gz extends Ps{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const mz="modulepreload",yz=function(t,e){return new URL(t,e).href},V3={},Gn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(r.map(u=>{if(u=yz(u,n),u in V3)return;V3[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(n)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===u&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":mz,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class HN extends rc{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(HN,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(HN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function bz(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const cv=new Map;function wz({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let h=0;h<u.length;h++){const{resolve:m}=u[h];m?.([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:m}=u[h];m?.(d)}})},o=()=>cv.delete(e),a=()=>c().map(({args:u})=>u),c=()=>cv.get(e)||[],l=u=>cv.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=bz();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(s,n),f)}}}async function jM(t){return new Promise(e=>setTimeout(e,t))}function _z(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await jM(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const o2=256;let Ky=o2,Vy;function Ez(t=11){if(!Vy||Ky+t>o2*2){Vy="",Ky=0;for(let e=0;e<o2;e++)Vy+=(256+Math.random()*256|0).toString(16).substring(1)}return Vy.substring(Ky,Ky+++t)}const Jy=new dz(8192);function vz(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Jy.get(r))return Jy.get(r);const n=t().finally(()=>Jy.delete(r));return Jy.set(r,n),n}function xz(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new id(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new id(new Error("method not supported"),{method:l});const u=i?DM(`${c}.${pd(r)}`):void 0;return vz(()=>_z(async()=>{try{return await t(r)}catch(f){const d=f;switch(d.code){case qg.code:throw new qg(d);case zg.code:throw new zg(d);case Gg.code:throw new Gg(d,{method:r.method});case Kg.code:throw new Kg(d);case _0.code:throw new _0(d);case Vg.code:throw new Vg(d);case Jg.code:throw new Jg(d);case Yg.code:throw new Yg(d);case E0.code:throw new E0(d);case id.code:throw new id(d,{method:r.method});case v0.code:throw new v0(d);case Xg.code:throw new Xg(d);case gd.code:throw new gd(d);case Qg.code:throw new Qg(d);case Zg.code:throw new Zg(d);case em.code:throw new em(d);case tm.code:throw new tm(d);case rm.code:throw new rm(d);case nm.code:throw new nm(d);case im.code:throw new im(d);case sm.code:throw new sm(d);case om.code:throw new om(d);case am.code:throw new am(d);case cm.code:throw new cm(d);case lm.code:throw new lm(d);case 5e3:throw new gd(d);default:throw f instanceof rc?f:new gz(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof sg){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Az(f)}),{enabled:i,id:u})}}function Az(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===v0.code||t.code===_0.code:t instanceof sg&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function HM(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Cz(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Nz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const J3=Nz();function Sz(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const d=await Cz(async({signal:m})=>{const g={...c,body:Array.isArray(n)?pd(n.map(S=>({jsonrpc:"2.0",id:S.id??J3.take(),...S}))):pd({jsonrpc:"2.0",id:n.id??J3.take(),...n}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?m:null)},b=new Request(t,g),E=await s?.(b,g)??{...g,url:t};return await i(E.url??t,E)},{errorInstance:new K3({body:n,url:t}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(m){if(d.ok)throw m;h={error:h}}}if(!d.ok)throw new sg({body:n,details:pd(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof sg||d instanceof K3?d:new sg({body:n,cause:d,url:t})}}}}function WM({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Ez();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:xz(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function Y3(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=Iz,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=t,h=()=>{};const m=WM({key:r,name:n,async request({method:g,params:b}){let E;const A=async(S=0)=>{const T=d[S]({...f,chain:c,retryCount:0,timeout:u});try{const P=await T.request({method:g,params:b});return h({method:g,params:b,response:P,transport:T,status:"success"}),P}catch(P){if(h({error:P,method:g,params:b,transport:T,status:"error"}),s(P)||S===d.length-1||(E??=d.slice(S+1).some(k=>{const{include:F,exclude:N}=k({chain:c}).config.methods||{};return F?F.includes(g):N?!N.includes(g):!0}),!E))throw P;return A(S+1)}};return A()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};Tz({chain:c,interval:g.interval??l,onTransports:b=>d=b,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return m})}function Iz(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===E0.code||t.code===gd.code||HN.nodeMessage.test(t.message)||t.code===5e3))}function Tz({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const b=g({chain:t,retryCount:0,timeout:s}),E=Date.now();let A,S;try{await(n?n({transport:b}):b.request({method:"net_listening"})),S=1}catch{S=0}finally{A=Date.now()}return{latency:A-E,success:S}}));u.push(d),u.length>i&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:b})=>b)))),m=o.map((g,b)=>{const E=u.map(k=>k[b].latency),S=1-E.reduce((k,F)=>k+F,0)/E.length/h,T=u.map(k=>k[b].success),P=T.reduce((k,F)=>k+F,0)/T.length;return P===0?[0,b]:[l*S+c*P,b]}).sort((g,b)=>b[0]-g[0]);r(m.map(([,g])=>o[g])),await jM(e),f()};f()}class Rz extends rc{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Yy(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:b=0}=typeof r=="object"?r:{},E=e.retryCount??h,A=m??e.timeout??1e4,S=t||d?.rpcUrls.default.http[0];if(!S)throw new Rz;const T=Sz(S,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:A});return WM({key:s,methods:o,name:a,async request({method:P,params:k}){const F={method:P,params:k},{schedule:N}=wz({id:S,wait:b,shouldSplitBatch(O){return O.length>g},fn:O=>T.request({body:O}),sort:(O,C)=>O.id-C.id}),v=async O=>r?N(O):[await T.request({body:O})],[{error:M,result:$}]=await v(F);if(f)return{error:M,result:$};if(M)throw new BM({body:F,error:M,url:S});return $},retryCount:E,retryDelay:u,timeout:A,type:"http"},{fetchOptions:i,url:S})}}const lv={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return hz(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},WN={async getMyTokensWithBalance(t){const e=Me.state.address,r=J.state.activeCaipNetwork,n=xe.getConnectorId("eip155")===ae.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=be.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===ae.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await Ke.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=lv.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await Ne.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await Ne.walletGetAssets({account:t,chainFilter:[r]});if(!lv.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>lv.createBalance(a,e.caipNetworkId));return be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},oc=gr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Pz={state:oc,replaceState(t){t&&Object.assign(oc,Ad(t))},subscribe(t){return J.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return J.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){J.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return J.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?Pe.getPlainAddress(t):void 0;e===J.state.activeChain&&(J.state.activeCaipAddress=t),J.setAccountProp("caipAddress",t,e),J.setAccountProp("address",r,e)},setBalance(t,e,r){J.setAccountProp("balance",t,r),J.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){J.setAccountProp("profileName",t,e)},setProfileImage(t,e){J.setAccountProp("profileImage",t,e)},setUser(t,e){J.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){J.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){J.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){J.setAccountProp("currentTab",t,J.state.activeChain)},setTokenBalance(t,e){t&&J.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){J.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=J.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),J.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=J.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),J.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){J.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){J.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&J.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){J.setAccountProp("socialWindow",t?Ad(t):void 0,e)},setFarcasterUrl(t,e){J.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){oc.balanceLoading=!0;const e=J.state.activeCaipNetwork?.caipNetworkId,r=J.state.activeCaipNetwork?.chainNamespace,n=J.state.activeCaipAddress,i=n?Pe.getPlainAddress(n):void 0;if(oc.lastRetry&&!Pe.isAllowedRetry(oc.lastRetry,30*It.ONE_SEC_MS))return oc.balanceLoading=!1,[];try{if(i&&e&&r){const s=await WN.getMyTokensWithBalance();return Me.setTokenBalance(s,r),oc.lastRetry=void 0,oc.balanceLoading=!1,s}}catch(s){oc.lastRetry=Date.now(),t?.(s),Cc.showError("Token Balance Unavailable")}finally{oc.balanceLoading=!1}return[]},resetAccount(t){J.resetAccount(t)}},Me=Xs(Pz),Oz={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=J.state.activeCaipNetwork,n=Ve.state.data;if(t.id===r?.id)return;const s=Me.getCaipAddress(J.state.activeChain),o=t.chainNamespace!==J.state.activeChain,a=Me.getCaipAddress(t.chainNamespace),l=xe.getConnectorId(J.state.activeChain)===ae.CONNECTOR_ID.AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||l&&u?Ve.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?Ve.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Ve.push("SwitchNetwork",{...n,network:t})}},ss=gr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Dz={state:ss,subscribe(t){return fi(ss,()=>t(ss))},subscribeKey(t,e){return Bi(ss,t,e)},async open(t){const e=t?.namespace,r=J.state.activeChain,n=e&&e!==r,i=J.getAccountData(t?.namespace)?.caipAddress,s=J.state.noAdapters;if(Ne.state.wcBasic?We.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await We.prefetch(),xe.setFilterByNamespace(t?.namespace),At.setLoading(!0,e),e&&n){const o=J.getNetworkData(e)?.caipNetwork||J.getRequestedCaipNetworks(e)[0];o&&(s?(await J.switchActiveNetwork(o),Ve.push("ConnectingWalletConnectBasic")):Oz.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else he.state.manualWCControl||s&&!i?Pe.isMobile()?Ve.reset("AllWallets"):Ve.reset("ConnectingWalletConnectBasic"):t?.view?Ve.reset(t.view,t.data):i?Ve.reset("Account"):Ve.reset("Connect");ss.open=!0,Fa.set({open:!0}),Dt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=he.state.enableEmbedded,e=!!J.state.activeCaipAddress;ss.open&&Dt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ss.open=!1,Ve.reset("Connect"),At.clearLoading(),t?e?Ve.replace("Account"):Ve.push("Connect"):Fa.set({open:!1}),Ne.resetUri()},setLoading(t,e){e&&ss.loadingNamespaceMap.set(e,t),ss.loading=t,Fa.set({loading:t})},clearLoading(){ss.loadingNamespaceMap.clear(),ss.loading=!1,Fa.set({loading:!1})},shake(){ss.shake||(ss.shake=!0,setTimeout(()=>{ss.shake=!1},500))}},At=Xs(Dz),og={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},a2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},kz={providers:xM,selectedProvider:null,error:null,purchaseCurrency:og,paymentCurrency:a2,purchaseCurrencies:[og],paymentCurrencies:[],quotesLoading:!1},Pt=gr(kz),Mz={state:Pt,subscribe(t){return fi(Pt,()=>t(Pt))},subscribeKey(t,e){return Bi(Pt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=J.state.activeChain,r=e===ae.CHAIN.SOLANA?"SOL":"USDC",n=e?J.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",QW),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",he.state.projectId),Pt.selectedProvider={...t,url:i.toString()}}else Pt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=xM.filter(n=>e.includes(n.name));Pt.providers=r}else Pt.providers=[]},setPurchaseCurrency(t){Pt.purchaseCurrency=t},setPaymentCurrency(t){Pt.paymentCurrency=t},setPurchaseAmount(t){c2.state.purchaseAmount=t},setPaymentAmount(t){c2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ke.getOnrampOptions();Pt.purchaseCurrencies=t.purchaseCurrencies,Pt.paymentCurrencies=t.paymentCurrencies,Pt.paymentCurrency=t.paymentCurrencies[0]||a2,Pt.purchaseCurrency=t.purchaseCurrencies[0]||og,await We.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await We.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){Pt.quotesLoading=!0;try{const t=await Ke.getOnrampQuote({purchaseCurrency:Pt.purchaseCurrency,paymentCurrency:Pt.paymentCurrency,amount:Pt.paymentAmount?.toString()||"0",network:Pt.purchaseCurrency?.symbol});return Pt.quotesLoading=!1,Pt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return Pt.error=t.message,Pt.quotesLoading=!1,null}finally{Pt.quotesLoading=!1}},resetState(){Pt.selectedProvider=null,Pt.error=null,Pt.purchaseCurrency=og,Pt.paymentCurrency=a2,Pt.purchaseCurrencies=[og],Pt.paymentCurrencies=[],Pt.paymentAmount=void 0,Pt.purchaseAmount=void 0,Pt.quotesLoading=!1}},c2=Xs(Mz),X3=2147483648,Uz={convertEVMChainIdToCoinType(t){if(t>=X3)throw new Error("Invalid chainId");return(X3|t)>>>0}},so=gr({suggestions:[],loading:!1}),$z={state:so,subscribe(t){return fi(so,()=>t(so))},subscribeKey(t,e){return Bi(so,t,e)},async resolveName(t){try{return await Ke.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Ke.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{so.loading=!0,so.suggestions=[];const e=await Ke.getEnsNameSuggestions(t);return so.suggestions=e.suggestions||[],so.suggestions}catch(e){const r=ag.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{so.loading=!1}},async getNamesForAddress(t){try{if(!J.state.activeCaipNetwork)return[];const r=be.getEnsFromCacheForAddress(t);if(r)return r;const n=await Ke.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=ag.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=J.state.activeCaipNetwork,r=Me.state.address,n=xe.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");so.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ve.pushTransactionStack({onCancel(){Ve.replace("RegisterAccountName")}});const s=await Ne.signMessage(i);so.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Uz.convertEVMChainIdToCoinType(Number(o));await Ke.registerEnsName({coinType:a,address:r,signature:s,message:i}),Me.setProfileName(t,e.chainNamespace),be.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Ve.replace("RegisterAccountNameSuccess")}catch(i){const s=ag.parseEnsApiError(i,`Error registering name ${t}`);throw Ve.replace("RegisterAccountName"),new Error(s)}finally{so.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},ag=Xs($z);var Xy={exports:{}},Q3;function Lz(){if(Q3)return Xy.exports;Q3=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(P,k,F){return Function.prototype.apply.call(P,k,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:r=function(P){return Object.getOwnPropertyNames(P)};function n(T){console&&console.warn&&console.warn(T)}var i=Number.isNaN||function(P){return P!==P};function s(){s.init.call(this)}Xy.exports=s,Xy.exports.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");o=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function c(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(P){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var N=P==="error",v=this._events;if(v!==void 0)N=N&&v.error===void 0;else if(!N)return!1;if(N){var M;if(k.length>0&&(M=k[0]),M instanceof Error)throw M;var $=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw $.context=M,$}var O=v[P];if(O===void 0)return!1;if(typeof O=="function")e(O,this,k);else for(var C=O.length,p=m(O,C),F=0;F<C;++F)e(p[F],this,k);return!0};function l(T,P,k,F){var N,v,M;if(a(k),v=T._events,v===void 0?(v=T._events=Object.create(null),T._eventsCount=0):(v.newListener!==void 0&&(T.emit("newListener",P,k.listener?k.listener:k),v=T._events),M=v[P]),M===void 0)M=v[P]=k,++T._eventsCount;else if(typeof M=="function"?M=v[P]=F?[k,M]:[M,k]:F?M.unshift(k):M.push(k),N=c(T),N>0&&M.length>N&&!M.warned){M.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=T,$.type=P,$.count=M.length,n($)}return T}s.prototype.addListener=function(P,k){return l(this,P,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(P,k){return l(this,P,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(T,P,k){var F={fired:!1,wrapFn:void 0,target:T,type:P,listener:k},N=u.bind(F);return N.listener=k,F.wrapFn=N,N}s.prototype.once=function(P,k){return a(k),this.on(P,f(this,P,k)),this},s.prototype.prependOnceListener=function(P,k){return a(k),this.prependListener(P,f(this,P,k)),this},s.prototype.removeListener=function(P,k){var F,N,v,M,$;if(a(k),N=this._events,N===void 0)return this;if(F=N[P],F===void 0)return this;if(F===k||F.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete N[P],N.removeListener&&this.emit("removeListener",P,F.listener||k));else if(typeof F!="function"){for(v=-1,M=F.length-1;M>=0;M--)if(F[M]===k||F[M].listener===k){$=F[M].listener,v=M;break}if(v<0)return this;v===0?F.shift():g(F,v),F.length===1&&(N[P]=F[0]),N.removeListener!==void 0&&this.emit("removeListener",P,$||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(P){var k,F,N;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[P]),this;if(arguments.length===0){var v=Object.keys(F),M;for(N=0;N<v.length;++N)M=v[N],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=F[P],typeof k=="function")this.removeListener(P,k);else if(k!==void 0)for(N=k.length-1;N>=0;N--)this.removeListener(P,k[N]);return this};function d(T,P,k){var F=T._events;if(F===void 0)return[];var N=F[P];return N===void 0?[]:typeof N=="function"?k?[N.listener||N]:[N]:k?b(N):m(N,N.length)}s.prototype.listeners=function(P){return d(this,P,!0)},s.prototype.rawListeners=function(P){return d(this,P,!1)},s.listenerCount=function(T,P){return typeof T.listenerCount=="function"?T.listenerCount(P):h.call(T,P)},s.prototype.listenerCount=h;function h(T){var P=this._events;if(P!==void 0){var k=P[T];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(T,P){for(var k=new Array(P),F=0;F<P;++F)k[F]=T[F];return k}function g(T,P){for(;P+1<T.length;P++)T[P]=T[P+1];T.pop()}function b(T){for(var P=new Array(T.length),k=0;k<P.length;++k)P[k]=T[k].listener||T[k];return P}function E(T,P){return new Promise(function(k,F){function N(M){T.removeListener(P,v),F(M)}function v(){typeof T.removeListener=="function"&&T.removeListener("error",N),k([].slice.call(arguments))}S(T,P,v,{once:!0}),P!=="error"&&A(T,N,{once:!0})})}function A(T,P,k){typeof T.on=="function"&&S(T,"error",P,k)}function S(T,P,k,F){if(typeof T.on=="function")F.once?T.once(P,k):T.on(P,k);else if(typeof T.addEventListener=="function")T.addEventListener(P,function N(v){F.once&&T.removeEventListener(P,N),k(v)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return Xy.exports}var Bo=Lz();const qN=Rs(Bo);var uv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l2=function(t,e){return l2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},l2(t,e)};function Fz(t,e){l2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var u2=function(){return u2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},u2.apply(this,arguments)};function Bz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function jz(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Hz(t,e){return function(r,n){e(r,n,t)}}function Wz(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qz(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function zz(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Gz(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Kz(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function f2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qM(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Vz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qM(arguments[e]));return t}function Jz(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function um(t){return this instanceof um?(this.v=t,this):new um(t)}function Yz(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(m,g){s.push([d,h,m,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(m){f(s[0][3],m)}}function c(d){d.value instanceof um?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Xz(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:um(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Qz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof f2=="function"?f2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Zz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function eG(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function tG(t){return t&&t.__esModule?t:{default:t}}function rG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function nG(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const iG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return u2},__asyncDelegator:Xz,__asyncGenerator:Yz,__asyncValues:Qz,__await:um,__awaiter:qz,__classPrivateFieldGet:rG,__classPrivateFieldSet:nG,__createBinding:Gz,__decorate:jz,__exportStar:Kz,__extends:Fz,__generator:zz,__importDefault:tG,__importStar:eG,__makeTemplateObject:Zz,__metadata:Wz,__param:Hz,__read:qM,__rest:Bz,__spread:Vz,__spreadArrays:Jz,__values:f2},Symbol.toStringTag,{value:"Module"})),dy=Kr(iG);var fv={},up={},Z3;function sG(){if(Z3)return up;Z3=1,Object.defineProperty(up,"__esModule",{value:!0}),up.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return up.delay=t,up}var Uf={},dv={},$f={},eT;function oG(){return eT||(eT=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.ONE_THOUSAND=$f.ONE_HUNDRED=void 0,$f.ONE_HUNDRED=100,$f.ONE_THOUSAND=1e3),$f}var hv={},tT;function aG(){return tT||(tT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(hv)),hv}var rT;function zM(){return rT||(rT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=dy;e.__exportStar(oG(),t),e.__exportStar(aG(),t)})(dv)),dv}var nT;function cG(){if(nT)return Uf;nT=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.fromMiliseconds=Uf.toMiliseconds=void 0;const t=zM();function e(n){return n*t.ONE_THOUSAND}Uf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Uf.fromMiliseconds=r,Uf}var iT;function lG(){return iT||(iT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=dy;e.__exportStar(sG(),t),e.__exportStar(cG(),t)})(fv)),fv}var rh={},sT;function uG(){if(sT)return rh;sT=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return rh.Watch=t,rh.default=t,rh}var pv={},fp={},oT;function fG(){if(oT)return fp;oT=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.IWatch=void 0;class t{}return fp.IWatch=t,fp}var aT;function dG(){return aT||(aT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),dy.__exportStar(fG(),t)})(pv)),pv}var cT;function hG(){return cT||(cT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=dy;e.__exportStar(lG(),t),e.__exportStar(uG(),t),e.__exportStar(dG(),t),e.__exportStar(zM(),t)})(uv)),uv}var Ce=hG();class qd{}let pG=class extends qd{constructor(e){super()}};const lT=Ce.FIVE_SECONDS,zd={pulse:"heartbeat_pulse"};let gG=class GM extends pG{constructor(e){super(e),this.events=new Bo.EventEmitter,this.interval=lT,this.interval=e?.interval||lT}static async init(e){const r=new GM(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ce.toMiliseconds(this.interval))}pulse(){this.events.emit(zd.pulse)}};const mG=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yG=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,bG=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function wG(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){_G(t);return}return e}function _G(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Qy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!bG.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(mG.test(t)||yG.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,wG)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function EG(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return EG(t(...e))}catch(r){return Promise.reject(r)}}function vG(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function xG(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Fb(t){if(vG(t))return String(t);if(xG(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Fb(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const d2="base64:";function AG(t){return typeof t=="string"?t:d2+SG(t)}function CG(t){return typeof t!="string"||!t.startsWith(d2)?t:NG(t.slice(d2.length))}function NG(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function SG(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ms(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function IG(...t){return ms(t.join(":"))}function Zy(t){return t=ms(t),t?t+":":""}function TG(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function RG(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const PG="memory",OG=()=>{const t=new Map;return{name:PG,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function DG(t={}){const e={mounts:{"":t.driver||OG()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=ms(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await uT(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,h=m=>{let g=d.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},d.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",b=ms(g?m:m.key),E=g?void 0:m.value,A=g||!m.options?u:{...u,...m.options},S=r(b);h(S).items.push({key:b,value:E,relativeKey:S.relativeKey,options:A})}return Promise.all([...d.values()].map(m=>f(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=ms(l);const{relativeKey:f,driver:d}=r(l);return zn(d.hasItem,f,u)},getItem(l,u={}){l=ms(l);const{relativeKey:f,driver:d}=r(l);return zn(d.getItem,f,u).then(h=>Qy(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?zn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:IG(f.base,h.key),value:Qy(h.value)}))):Promise.all(f.items.map(d=>zn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:Qy(h)})))))},getItemRaw(l,u={}){l=ms(l);const{relativeKey:f,driver:d}=r(l);return d.getItemRaw?zn(d.getItemRaw,f,u):zn(d.getItem,f,u).then(h=>CG(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=ms(l);const{relativeKey:d,driver:h}=r(l);h.setItem&&(await zn(h.setItem,d,Fb(u),f),h.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return zn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:Fb(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>zn(f.driver.setItem,d.relativeKey,Fb(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=ms(l);const{relativeKey:d,driver:h}=r(l);if(h.setItemRaw)await zn(h.setItemRaw,d,u,f);else if(h.setItem)await zn(h.setItem,d,AG(u),f);else return;h.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=ms(l);const{relativeKey:f,driver:d}=r(l);d.removeItem&&(await zn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await zn(d.removeItem,f+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=ms(l);const{relativeKey:f,driver:d}=r(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await zn(d.getMeta,f,u)),!u.nativeOnly){const m=await zn(d.getItem,f+"$",u).then(g=>Qy(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(h,m))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=Zy(l);const f=n(l,!0);let d=[];const h=[];let m=!0;for(const b of f){b.driver.flags?.maxDepth||(m=!1);const E=await zn(b.driver.getKeys,b.relativeBase,u);for(const A of E){const S=b.mountpoint+ms(A);d.some(T=>S.startsWith(T))||h.push(S)}d=[b.mountpoint,...d.filter(A=>!A.startsWith(b.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return h.filter(b=>(!g||TG(b,u.maxDepth))&&RG(b,l))},async clear(l,u={}){l=Zy(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return zn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>fT(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Zy(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(uT(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=Zy(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await fT(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=ms(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=ms(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function uT(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function fT(t){typeof t.dispose=="function"&&await zn(t.dispose)}function Gd(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function KM(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=Gd(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let gv;function hy(){return gv||(gv=KM("keyval-store","keyval")),gv}function dT(t,e=hy()){return e("readonly",r=>Gd(r.get(t)))}function kG(t,e,r=hy()){return r("readwrite",n=>(n.put(e,t),Gd(n.transaction)))}function MG(t,e=hy()){return e("readwrite",r=>(r.delete(t),Gd(r.transaction)))}function UG(t=hy()){return t("readwrite",e=>(e.clear(),Gd(e.transaction)))}function $G(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Gd(t.transaction)}function LG(t=hy()){return t("readonly",e=>{if(e.getAllKeys)return Gd(e.getAllKeys());const r=[];return $G(e,n=>r.push(n.key)).then(()=>r)})}const FG=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),BG=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Nd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return BG(t)}catch{return t}}function Ul(t){return typeof t=="string"?t:FG(t)||""}const jG="idb-keyval";var HG=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=KM(t.dbName,t.storeName)),{name:jG,options:t,async hasItem(i){return!(typeof await dT(r(i),n)>"u")},async getItem(i){return await dT(r(i),n)??null},setItem(i,s){return kG(r(i),s,n)},removeItem(i){return MG(r(i),n)},getKeys(){return LG(n)},clear(){return UG(n)}}};const WG="WALLET_CONNECT_V2_INDEXED_DB",qG="keyvaluestorage";let zG=class{constructor(){this.indexedDb=DG({driver:HG({dbName:WG,storeName:qG})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Ul(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bb={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof mv<"u"&&mv.localStorage?Bb.exports=mv.localStorage:typeof window<"u"&&window.localStorage?Bb.exports=window.localStorage:Bb.exports=new e})();function GG(t){var e;return[t[0],Nd((e=t[1])!=null?e:"")]}let KG=class{constructor(){this.localStorage=Bb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(GG)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Nd(r)}async setItem(e,r){this.localStorage.setItem(e,Ul(r))}async removeItem(e){this.localStorage.removeItem(e)}};const VG="wc_storage_version",hT=1,JG=async(t,e,r)=>{const n=VG,i=await e.getItem(n);if(i&&i>=hT){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,hT),r(e),YG(t,o)},YG=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let XG=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new KG;this.storage=e;try{const r=new zG;JG(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var yv,pT;function QG(){if(pT)return yv;pT=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}yv=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",d=1-o,h=-1,m=r&&r.length||0,g=0;g<m;){if(r.charCodeAt(g)===37&&g+1<m){switch(h=h>-1?h:0,r.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Number(n[d]),h=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Math.floor(Number(n[d])),h=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;h<g&&(f+=r.slice(h,g));var b=typeof n[d];if(b==="string"){f+="'"+n[d]+"'",h=g+2,g++;break}if(b==="function"){f+=n[d].name||"<anonymous>",h=g+2,g++;break}f+=s(n[d]),h=g+2,g++;break;case 115:if(d>=u)break;h<g&&(f+=r.slice(h,g)),f+=String(n[d]),h=g+2,g++;break;case 37:h<g&&(f+=r.slice(h,g)),f+="%",h=g+2,g++,d--;break}++d}++g}return h===-1?r:(h<m&&(f+=r.slice(h)),f)}return yv}var bv,gT;function ZG(){if(gT)return bv;gT=1;const t=QG();bv=i;const e=P().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:d};function n(k,F){return Array.isArray(k)?k.filter(function(v){return v!=="!stdSerializers.err"}):k===!0?Object.keys(F):!1}function i(k){k=k||{},k.browser=k.browser||{};const F=k.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const N=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const v=k.serializers||{},M=n(k.browser.serialize,v);let $=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const O=["error","fatal","warn","info","debug","trace"];typeof N=="function"&&(N.error=N.fatal=N.warn=N.info=N.debug=N.trace=N),k.enabled===!1&&(k.level="silent");const C=k.level||"info",p=Object.create(N);p.log||(p.log=b),Object.defineProperty(p,"levelVal",{get:w}),Object.defineProperty(p,"level",{get:x,set:I});const y={transmit:F,serialize:M,asObject:k.browser.asObject,levels:O,timestamp:h(k)};p.levels=i.levels,p.level=C,p.setMaxListeners=p.getMaxListeners=p.emit=p.addListener=p.on=p.prependListener=p.once=p.prependOnceListener=p.removeListener=p.removeAllListeners=p.listeners=p.listenerCount=p.eventNames=p.write=p.flush=b,p.serializers=v,p._serialize=M,p._stdErrSerialize=$,p.child=U,F&&(p._logEvent=f());function w(){return this.level==="silent"?1/0:this.levels.values[this.level]}function x(){return this._level}function I(B){if(B!=="silent"&&!this.levels.values[B])throw Error("unknown level "+B);this._level=B,s(y,p,"error","log"),s(y,p,"fatal","error"),s(y,p,"warn","error"),s(y,p,"info","log"),s(y,p,"debug","log"),s(y,p,"trace","log")}function U(B,D){if(!B)throw new Error("missing bindings for child Pino");D=D||{},M&&B.serializers&&(D.serializers=B.serializers);const _=D.serializers;if(M&&_){var L=Object.assign({},v,_),G=k.browser.serialize===!0?Object.keys(L):M;delete B.serializers,c([B],G,L,this._stdErrSerialize)}function R(V){this._childLevel=(V._childLevel|0)+1,this.error=l(V,B,"error"),this.fatal=l(V,B,"fatal"),this.warn=l(V,B,"warn"),this.info=l(V,B,"info"),this.debug=l(V,B,"debug"),this.trace=l(V,B,"trace"),L&&(this.serializers=L,this._serialize=G),F&&(this._logEvent=f([].concat(V._logEvent.bindings,B)))}return R.prototype=this,new R(this)}return p}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:A,unixTime:S,isoTime:T});function s(k,F,N,v){const M=Object.getPrototypeOf(F);F[N]=F.levelVal>F.levels.values[N]?b:M[N]?M[N]:e[N]||e[v]||b,o(k,F,N)}function o(k,F,N){!k.transmit&&F[N]===b||(F[N]=(function(v){return function(){const $=k.timestamp(),O=new Array(arguments.length),C=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var p=0;p<O.length;p++)O[p]=arguments[p];if(k.serialize&&!k.asObject&&c(O,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?v.call(C,a(this,N,O,$)):v.apply(C,O),k.transmit){const y=k.transmit.level||F.level,w=i.levels.values[y],x=i.levels.values[N];if(x<w)return;u(this,{ts:$,methodLevel:N,methodValue:x,transmitValue:i.levels.values[k.transmit.level||F.level],send:k.transmit.send,val:F.levelVal},O)}}})(F[N]))}function a(k,F,N,v){k._serialize&&c(N,k._serialize,k.serializers,k._stdErrSerialize);const M=N.slice();let $=M[0];const O={};v&&(O.time=v),O.level=i.levels.values[F];let C=(k._childLevel|0)+1;if(C<1&&(C=1),$!==null&&typeof $=="object"){for(;C--&&typeof M[0]=="object";)Object.assign(O,M.shift());$=M.length?t(M.shift(),M):void 0}else typeof $=="string"&&($=t(M.shift(),M));return $!==void 0&&(O.msg=$),O}function c(k,F,N,v){for(const M in k)if(v&&k[M]instanceof Error)k[M]=i.stdSerializers.err(k[M]);else if(typeof k[M]=="object"&&!Array.isArray(k[M]))for(const $ in k[M])F&&F.indexOf($)>-1&&$ in N&&(k[M][$]=N[$](k[M][$]))}function l(k,F,N){return function(){const v=new Array(1+arguments.length);v[0]=F;for(var M=1;M<v.length;M++)v[M]=arguments[M-1];return k[N].apply(this,v)}}function u(k,F,N){const v=F.send,M=F.ts,$=F.methodLevel,O=F.methodValue,C=F.val,p=k._logEvent.bindings;c(N,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=M,k._logEvent.messages=N.filter(function(y){return p.indexOf(y)===-1}),k._logEvent.level.label=$,k._logEvent.level.value=O,v($,k._logEvent,C),k._logEvent=f(p)}function f(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function d(k){const F={type:k.constructor.name,msg:k.message,stack:k.stack};for(const N in k)F[N]===void 0&&(F[N]=k[N]);return F}function h(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?E:A}function m(){return{}}function g(k){return k}function b(){}function E(){return!1}function A(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function T(){return new Date(Date.now()).toISOString()}function P(){function k(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return bv}var Rh=ZG();const py=Rs(Rh),eK={level:"info"},gy="custom_context",zN=1e3*1024;let tK=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},mT=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new tK(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},VM=class{constructor(e,r=zN){this.level=e??"error",this.levelValue=Rh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new mT(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Rh.levels.values.error?console.error(e):r===Rh.levels.values.warn?console.warn(e):r===Rh.levels.values.debug?console.debug(e):r===Rh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Ul({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new mT(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Ul({extraMetadata:e})),new Blob(r,{type:"application/json"})}},rK=class{constructor(e,r=zN){this.baseChunkLogger=new VM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},nK=class{constructor(e,r=zN){this.baseChunkLogger=new VM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var iK=Object.defineProperty,sK=Object.defineProperties,oK=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,aK=Object.prototype.hasOwnProperty,cK=Object.prototype.propertyIsEnumerable,bT=(t,e,r)=>e in t?iK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,n_=(t,e)=>{for(var r in e||(e={}))aK.call(e,r)&&bT(t,r,e[r]);if(yT)for(var r of yT(e))cK.call(e,r)&&bT(t,r,e[r]);return t},i_=(t,e)=>sK(t,oK(e));function U0(t){return i_(n_({},t),{level:t?.level||eK.level})}function lK(t,e=gy){return t[e]||""}function uK(t,e,r=gy){return t[r]=e,t}function Os(t,e=gy){let r="";return typeof t.bindings>"u"?r=lK(t,e):r=t.bindings().context||"",r}function fK(t,e,r=gy){const n=Os(t,r);return n.trim()?`${n}/${e}`:e}function ji(t,e,r=gy){const n=fK(t,e,r),i=t.child({context:n});return uK(i,n,r)}function dK(t){var e,r;const n=new rK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:py(i_(n_({},t.opts),{level:"trace",browser:i_(n_({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function hK(t){var e;const r=new nK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:py(i_(n_({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function GN(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?dK(t):hK(t)}var pK=Object.defineProperty,gK=(t,e,r)=>e in t?pK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wT=(t,e,r)=>gK(t,typeof e!="symbol"?e+"":e,r);let mK=class extends qd{constructor(e){super(),this.opts=e,wT(this,"protocol","wc"),wT(this,"version",2)}};var yK=Object.defineProperty,bK=(t,e,r)=>e in t?yK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wK=(t,e,r)=>bK(t,e+"",r);let _K=class extends qd{constructor(e,r){super(),this.core=e,this.logger=r,wK(this,"records",new Map)}},EK=class{constructor(e,r){this.logger=e,this.core=r}},vK=class extends qd{constructor(e,r){super(),this.relayer=e,this.logger=r}},xK=class extends qd{constructor(e){super()}},AK=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},CK=class extends qd{constructor(e,r){super(),this.relayer=e,this.logger=r}},NK=class extends qd{constructor(e,r){super(),this.core=e,this.logger=r}},SK=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},IK=class{constructor(e,r){this.projectId=e,this.logger=r}},TK=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var RK=Object.defineProperty,PK=(t,e,r)=>e in t?RK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_T=(t,e,r)=>PK(t,typeof e!="symbol"?e+"":e,r);let OK=class{constructor(e){this.opts=e,_T(this,"protocol","wc"),_T(this,"version",2)}},DK=class{constructor(e){this.client=e}};function kK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function JM(t,...e){if(!kK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ET(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MK(t,e){JM(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const nh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function UK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function YM(t){return typeof t=="string"&&(t=UK(t)),JM(t),t}let $K=class{clone(){return this._cloneInto()}};function LK(t){const e=n=>t().update(YM(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function XM(t=32){if(nh&&typeof nh.getRandomValues=="function")return nh.getRandomValues(new Uint8Array(t));if(nh&&typeof nh.randomBytes=="function")return nh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function FK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let BK=class extends $K{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wv(this.buffer)}update(e){ET(this);const{view:r,buffer:n,blockLen:i}=this;e=YM(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=wv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ET(this),MK(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;FK(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=wv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const eb=BigInt(2**32-1),h2=BigInt(32);function QM(t,e=!1){return e?{h:Number(t&eb),l:Number(t>>h2&eb)}:{h:Number(t>>h2&eb)|0,l:Number(t&eb)|0}}function jK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=QM(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const HK=(t,e)=>BigInt(t>>>0)<<h2|BigInt(e>>>0),WK=(t,e,r)=>t>>>r,qK=(t,e,r)=>t<<32-r|e>>>r,zK=(t,e,r)=>t>>>r|e<<32-r,GK=(t,e,r)=>t<<32-r|e>>>r,KK=(t,e,r)=>t<<64-r|e>>>r-32,VK=(t,e,r)=>t>>>r-32|e<<64-r,JK=(t,e)=>e,YK=(t,e)=>t,XK=(t,e,r)=>t<<r|e>>>32-r,QK=(t,e,r)=>e<<r|t>>>32-r,ZK=(t,e,r)=>e<<r-32|t>>>64-r,eV=(t,e,r)=>t<<r-32|e>>>64-r;function tV(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const rV=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nV=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,iV=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),sV=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,oV=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),aV=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,at={fromBig:QM,split:jK,toBig:HK,shrSH:WK,shrSL:qK,rotrSH:zK,rotrSL:GK,rotrBH:KK,rotrBL:VK,rotr32H:JK,rotr32L:YK,rotlSH:XK,rotlSL:QK,rotlBH:ZK,rotlBL:eV,add:tV,add3L:rV,add3H:nV,add4L:iV,add4H:sV,add5H:aV,add5L:oV},[cV,lV]=at.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),nu=new Uint32Array(80),iu=new Uint32Array(80);let uV=class extends BK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)nu[S]=e.getUint32(r),iu[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const T=nu[S-15]|0,P=iu[S-15]|0,k=at.rotrSH(T,P,1)^at.rotrSH(T,P,8)^at.shrSH(T,P,7),F=at.rotrSL(T,P,1)^at.rotrSL(T,P,8)^at.shrSL(T,P,7),N=nu[S-2]|0,v=iu[S-2]|0,M=at.rotrSH(N,v,19)^at.rotrBH(N,v,61)^at.shrSH(N,v,6),$=at.rotrSL(N,v,19)^at.rotrBL(N,v,61)^at.shrSL(N,v,6),O=at.add4L(F,$,iu[S-7],iu[S-16]),C=at.add4H(O,k,M,nu[S-7],nu[S-16]);nu[S]=C|0,iu[S]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:E,Hl:A}=this;for(let S=0;S<80;S++){const T=at.rotrSH(f,d,14)^at.rotrSH(f,d,18)^at.rotrBH(f,d,41),P=at.rotrSL(f,d,14)^at.rotrSL(f,d,18)^at.rotrBL(f,d,41),k=f&h^~f&g,F=d&m^~d&b,N=at.add5L(A,P,F,lV[S],iu[S]),v=at.add5H(N,E,T,k,cV[S],nu[S]),M=N|0,$=at.rotrSH(n,i,28)^at.rotrBH(n,i,34)^at.rotrBH(n,i,39),O=at.rotrSL(n,i,28)^at.rotrBL(n,i,34)^at.rotrBL(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;E=g|0,A=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=at.add(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=at.add3L(M,O,p);n=at.add3H(y,v,$,C),i=y|0}({h:n,l:i}=at.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=at.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=at.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=at.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=at.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=at.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=at.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:E,l:A}=at.add(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,E,A)}roundClean(){nu.fill(0),iu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const fV=LK(()=>new uV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KN=BigInt(0),ZM=BigInt(1),dV=BigInt(2);function VN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function JN(t){if(!VN(t))throw new Error("Uint8Array expected")}function _v(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const hV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YN(t){JN(t);let e="";for(let r=0;r<t.length;r++)e+=hV[t[r]];return e}function e9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?KN:BigInt("0x"+t)}const Kc={_0:48,_9:57,A:65,F:70,a:97,f:102};function vT(t){if(t>=Kc._0&&t<=Kc._9)return t-Kc._0;if(t>=Kc.A&&t<=Kc.F)return t-(Kc.A-10);if(t>=Kc.a&&t<=Kc.f)return t-(Kc.a-10)}function t9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=vT(t.charCodeAt(s)),a=vT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function pV(t){return e9(YN(t))}function jb(t){return JN(t),e9(YN(Uint8Array.from(t).reverse()))}function r9(t,e){return t9(t.toString(16).padStart(e*2,"0"))}function p2(t,e){return r9(t,e).reverse()}function Vc(t,e,r){let n;if(typeof e=="string")try{n=t9(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(VN(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function xT(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];JN(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const Ev=t=>typeof t=="bigint"&&KN<=t;function gV(t,e,r){return Ev(t)&&Ev(e)&&Ev(r)&&e<=t&&t<r}function dp(t,e,r,n){if(!gV(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function mV(t){let e;for(e=0;t>KN;t>>=ZM,e+=1);return e}const yV=t=>(dV<<BigInt(t-1))-ZM,bV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||VN(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function XN(t,e,r={}){const n=(i,s,o)=>{const a=bV[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function AT(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Vn=BigInt(0),cn=BigInt(1),Yf=BigInt(2),wV=BigInt(3),g2=BigInt(4),CT=BigInt(5),NT=BigInt(8);function Un(t,e){const r=t%e;return r>=Vn?r:e+r}function _V(t,e,r){if(e<Vn)throw new Error("invalid exponent, negatives unsupported");if(r<=Vn)throw new Error("invalid modulus");if(r===cn)return Vn;let n=cn;for(;e>Vn;)e&cn&&(n=n*t%r),t=t*t%r,e>>=cn;return n}function ac(t,e,r){let n=t;for(;e-- >Vn;)n*=n,n%=r;return n}function ST(t,e){if(t===Vn)throw new Error("invert: expected non-zero number");if(e<=Vn)throw new Error("invert: expected positive modulus, got "+e);let r=Un(t,e),n=e,i=Vn,s=cn;for(;r!==Vn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==cn)throw new Error("invert: does not exist");return Un(i,e)}function EV(t){const e=(t-cn)/Yf;let r,n,i;for(r=t-cn,n=0;r%Yf===Vn;r/=Yf,n++);for(i=Yf;i<t&&_V(i,e,t)!==t-cn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+cn)/g2;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+cn)/Yf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(f);d<c&&!o.eql(m,o.ONE);d++)m=o.sqr(m);const h=o.pow(l,cn<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function vV(t){if(t%g2===wV){const e=(t+cn)/g2;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%NT===CT){const e=(t-CT)/NT;return function(r,n){const i=r.mul(n,Yf),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Yf),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return EV(t)}const xV=(t,e)=>(Un(t,e)&cn)===cn,AV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=AV.reduce((n,i)=>(n[i]="function",n),e);return XN(t,r)}function NV(t,e,r){if(r<Vn)throw new Error("invalid exponent, negatives unsupported");if(r===Vn)return t.ONE;if(r===cn)return e;let n=t.ONE,i=e;for(;r>Vn;)r&cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=cn;return n}function SV(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function n9(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function i9(t,e,r=!1,n={}){if(t<=Vn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=n9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:yV(i),ZERO:Vn,ONE:cn,create:c=>Un(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Vn<=c&&c<t},is0:c=>c===Vn,isOdd:c=>(c&cn)===cn,neg:c=>Un(-c,t),eql:(c,l)=>c===l,sqr:c=>Un(c*c,t),add:(c,l)=>Un(c+l,t),sub:(c,l)=>Un(c-l,t),mul:(c,l)=>Un(c*l,t),pow:(c,l)=>NV(a,c,l),div:(c,l)=>Un(c*ST(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ST(c,t),sqrt:n.sqrt||(c=>(o||(o=vV(t)),o(a,c))),invertBatch:c=>SV(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?p2(c,s):r9(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?jb(c):pV(c)}});return Object.freeze(a)}const IT=BigInt(0),tb=BigInt(1);function vv(t,e){const r=e.negate();return t?r:e}function s9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function xv(t,e){s9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function IV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function TV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Av=new WeakMap,o9=new WeakMap;function Cv(t){return o9.get(t)||1}function RV(t,e){return{constTimeNegate:vv,hasPrecomputes(r){return Cv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>IT;)n&tb&&(i=i.add(s)),s=s.double(),n>>=tb;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=xv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=xv(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let m=Number(i&l);i>>=f,m>o&&(m-=u,i+=tb);const g=h,b=h+Math.abs(m)-1,E=d%2!==0,A=m<0;m===0?c=c.add(vv(E,n[g])):a=a.add(vv(A,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=xv(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===IT)break;let h=Number(i&c);if(i>>=u,h>a&&(h-=l,i+=tb),h===0)continue;let m=n[d+Math.abs(h)-1];h<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=Av.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Av.set(n,i(s))),s},wNAFCached(r,n,i){const s=Cv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Cv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){s9(n,e),o9.set(r,n),Av.delete(r)}}}function PV(t,e,r,n){if(IV(r,t),TV(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=mV(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const m=n[h],g=Number(m>>BigInt(f)&BigInt(a));c[g]=c[g].add(r[h])}let d=i;for(let h=c.length-1,m=i;h>0;h--)m=m.add(c[h]),d=d.add(m);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function OV(t){return CV(t.Fp),XN(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...n9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Zo=BigInt(0),os=BigInt(1),rb=BigInt(2),DV=BigInt(8),kV={zip215:!0};function MV(t){const e=OV(t);return XN(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function UV(t){const e=MV(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=rb<<BigInt(a*8)-os,u=r.create,f=i9(e.n,e.nBitLength),d=e.uvRatio||((y,w)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(w))}}catch{return{isValid:!1,value:Zo}}}),h=e.adjustScalarBytes||(y=>y),m=e.domain||((y,w,x)=>{if(_v("phflag",x),w.length||x)throw new Error("Contexts/pre-hash are not supported");return y});function g(y,w){dp("coordinate "+y,w,Zo,l)}function b(y){if(!(y instanceof S))throw new Error("ExtendedPoint expected")}const E=AT((y,w)=>{const{ex:x,ey:I,ez:U}=y,B=y.is0();w==null&&(w=B?DV:r.inv(U));const D=u(x*w),_=u(I*w),L=u(U*w);if(B)return{x:Zo,y:os};if(L!==os)throw new Error("invZ was invalid");return{x:D,y:_}}),A=AT(y=>{const{a:w,d:x}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:I,ey:U,ez:B,et:D}=y,_=u(I*I),L=u(U*U),G=u(B*B),R=u(G*G),V=u(_*w),K=u(G*u(V+L)),X=u(R+u(x*u(_*L)));if(K!==X)throw new Error("bad point: equation left != right (1)");const Q=u(I*U),ie=u(B*D);if(Q!==ie)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(w,x,I,U){this.ex=w,this.ey=x,this.ez=I,this.et=U,g("x",w),g("y",x),g("z",I),g("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof S)throw new Error("extended point not allowed");const{x,y:I}=w||{};return g("x",x),g("y",I),new S(x,I,os,u(x*I))}static normalizeZ(w){const x=r.invertBatch(w.map(I=>I.ez));return w.map((I,U)=>I.toAffine(x[U])).map(S.fromAffine)}static msm(w,x){return PV(S,f,w,x)}_setWindowSize(w){k.setWindowSize(this,w)}assertValidity(){A(this)}equals(w){b(w);const{ex:x,ey:I,ez:U}=this,{ex:B,ey:D,ez:_}=w,L=u(x*_),G=u(B*U),R=u(I*_),V=u(D*U);return L===G&&R===V}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:w}=e,{ex:x,ey:I,ez:U}=this,B=u(x*x),D=u(I*I),_=u(rb*u(U*U)),L=u(w*B),G=x+I,R=u(u(G*G)-B-D),V=L+D,K=V-_,X=L-D,Q=u(R*K),ie=u(V*X),le=u(R*X),H=u(K*V);return new S(Q,ie,H,le)}add(w){b(w);const{a:x,d:I}=e,{ex:U,ey:B,ez:D,et:_}=this,{ex:L,ey:G,ez:R,et:V}=w;if(x===BigInt(-1)){const _e=u((B-U)*(G+L)),q=u((B+U)*(G-L)),z=u(q-_e);if(z===Zo)return this.double();const ne=u(D*rb*V),se=u(_*rb*R),pe=se+ne,me=q+_e,ee=se-ne,ce=u(pe*z),ke=u(me*ee),Le=u(pe*ee),Ge=u(z*me);return new S(ce,ke,Ge,Le)}const K=u(U*L),X=u(B*G),Q=u(_*I*V),ie=u(D*R),le=u((U+B)*(L+G)-K-X),H=ie-Q,Y=ie+Q,W=u(X-x*K),Z=u(le*H),fe=u(Y*W),oe=u(le*W),ge=u(H*Y);return new S(Z,fe,ge,oe)}subtract(w){return this.add(w.negate())}wNAF(w){return k.wNAFCached(this,w,S.normalizeZ)}multiply(w){const x=w;dp("scalar",x,os,n);const{p:I,f:U}=this.wNAF(x);return S.normalizeZ([I,U])[0]}multiplyUnsafe(w,x=S.ZERO){const I=w;return dp("scalar",I,Zo,n),I===Zo?P:this.is0()||I===os?this:k.wNAFCachedUnsafe(this,I,S.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(w){return E(this,w)}clearCofactor(){const{h:w}=e;return w===os?this:this.multiplyUnsafe(w)}static fromHex(w,x=!1){const{d:I,a:U}=e,B=r.BYTES;w=Vc("pointHex",w,B),_v("zip215",x);const D=w.slice(),_=w[B-1];D[B-1]=_&-129;const L=jb(D),G=x?l:r.ORDER;dp("pointHex.y",L,Zo,G);const R=u(L*L),V=u(R-os),K=u(I*R-U);let{isValid:X,value:Q}=d(V,K);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const ie=(Q&os)===os,le=(_&128)!==0;if(!x&&Q===Zo&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==ie&&(Q=u(-Q)),S.fromAffine({x:Q,y:L})}static fromPrivateKey(w){return v(w).point}toRawBytes(){const{x:w,y:x}=this.toAffine(),I=p2(x,r.BYTES);return I[I.length-1]|=w&os?128:0,I}toHex(){return YN(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,os,u(e.Gx*e.Gy)),S.ZERO=new S(Zo,os,os,Zo);const{BASE:T,ZERO:P}=S,k=RV(S,a*8);function F(y){return Un(y,n)}function N(y){return F(jb(y))}function v(y){const w=r.BYTES;y=Vc("private key",y,w);const x=Vc("hashed private key",s(y),2*w),I=h(x.slice(0,w)),U=x.slice(w,2*w),B=N(I),D=T.multiply(B),_=D.toRawBytes();return{head:I,prefix:U,scalar:B,point:D,pointBytes:_}}function M(y){return v(y).pointBytes}function $(y=new Uint8Array,...w){const x=xT(...w);return N(s(m(x,Vc("context",y),!!i)))}function O(y,w,x={}){y=Vc("message",y),i&&(y=i(y));const{prefix:I,scalar:U,pointBytes:B}=v(w),D=$(x.context,I,y),_=T.multiply(D).toRawBytes(),L=$(x.context,_,B,y),G=F(D+L*U);dp("signature.s",G,Zo,n);const R=xT(_,p2(G,r.BYTES));return Vc("result",R,r.BYTES*2)}const C=kV;function p(y,w,x,I=C){const{context:U,zip215:B}=I,D=r.BYTES;y=Vc("signature",y,2*D),w=Vc("message",w),x=Vc("publicKey",x,D),B!==void 0&&_v("zip215",B),i&&(w=i(w));const _=jb(y.slice(D,2*D));let L,G,R;try{L=S.fromHex(x,B),G=S.fromHex(y.slice(0,D),B),R=T.multiplyUnsafe(_)}catch{return!1}if(!B&&L.isSmallOrder())return!1;const V=$(U,G.toRawBytes(),L.toRawBytes(),w);return G.add(L.multiplyUnsafe(V)).subtract(R).clearCofactor().equals(S.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:O,verify:p,ExtendedPoint:S,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>o(r.BYTES),precompute(y=8,w=S.BASE){return w._setWindowSize(y),w.multiply(BigInt(3)),w}}}}BigInt(0),BigInt(1);const QN=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),TT=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const $V=BigInt(1),RT=BigInt(2);BigInt(3);const LV=BigInt(5),FV=BigInt(8);function BV(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=QN,o=t*t%s*t%s,a=ac(o,RT,s)*o%s,c=ac(a,$V,s)*t%s,l=ac(c,LV,s)*c%s,u=ac(l,e,s)*l%s,f=ac(u,r,s)*u%s,d=ac(f,n,s)*f%s,h=ac(d,i,s)*d%s,m=ac(h,i,s)*d%s,g=ac(m,e,s)*l%s;return{pow_p_5_8:ac(g,RT,s)*t%s,b2:o}}function jV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function HV(t,e){const r=QN,n=Un(e*e*e,r),i=Un(n*n*e,r),s=BV(t*i).pow_p_5_8;let o=Un(t*n*s,r);const a=Un(e*o*o,r),c=o,l=Un(o*TT,r),u=a===t,f=a===Un(-t,r),d=a===Un(-t*TT,r);return u&&(o=c),(f||d)&&(o=l),xV(o,r)&&(o=Un(-o,r)),{isValid:u||f,value:o}}const WV=i9(QN,void 0,!0),qV={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:WV,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:FV,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fV,randomBytes:XM,adjustScalarBytes:jV,uvRatio:HV},a9=UV(qV),zV="EdDSA",GV="JWT",s_=".",N1="base64url",c9="utf8",l9="utf8",KV=":",VV="did",JV="key",PT="base58btc",YV="z",XV="K36",QV=32;function ZN(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function u9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ZN(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function f9(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=u9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return ZN(r)}function ZV(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,E=0,A=m.length;E!==A&&m[E]===0;)E++,g++;for(var S=(A-E)*u+1>>>0,T=new Uint8Array(S);E!==A;){for(var P=m[E],k=0,F=S-1;(P!==0||k<b)&&F!==-1;F--,k++)P+=256*T[F]>>>0,T[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");b=k,E++}for(var N=S-b;N!==S&&T[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(T[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,E=0;m[g]===c;)b++,g++;for(var A=(m.length-g)*l+1>>>0,S=new Uint8Array(A);m[g];){var T=r[m.charCodeAt(g)];if(T===255)return;for(var P=0,k=A-1;(T!==0||P<E)&&k!==-1;k--,P++)T+=a*S[k]>>>0,S[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=P,g++}if(m[g]!==" "){for(var F=A-E;F!==A&&S[F]===0;)F++;for(var N=new Uint8Array(b+(A-F)),v=b;F!==A;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var eJ=ZV,tJ=eJ;const d9=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},rJ=t=>new TextEncoder().encode(t),nJ=t=>new TextDecoder().decode(t);let iJ=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},sJ=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return h9(this,e)}},oJ=class{constructor(e){this.decoders=e}or(e){return h9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const h9=(t,e)=>new oJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let aJ=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new iJ(e,r,n),this.decoder=new sJ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const S1=({name:t,prefix:e,encode:r,decode:n})=>new aJ(t,e,r,n),my=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=tJ(r,e);return S1({prefix:t,name:e,encode:n,decode:s=>d9(i(s))})},cJ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},lJ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>S1({prefix:e,name:t,encode(i){return lJ(i,n,r)},decode(i){return cJ(i,n,r,t)}}),uJ=S1({prefix:"\0",name:"identity",encode:t=>nJ(t),decode:t=>rJ(t)});var fJ=Object.freeze({__proto__:null,identity:uJ});const dJ=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var hJ=Object.freeze({__proto__:null,base2:dJ});const pJ=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gJ=Object.freeze({__proto__:null,base8:pJ});const mJ=my({prefix:"9",name:"base10",alphabet:"0123456789"});var yJ=Object.freeze({__proto__:null,base10:mJ});const bJ=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wJ=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _J=Object.freeze({__proto__:null,base16:bJ,base16upper:wJ});const EJ=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vJ=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),xJ=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),AJ=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),CJ=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NJ=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),SJ=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),IJ=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),TJ=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var RJ=Object.freeze({__proto__:null,base32:EJ,base32upper:vJ,base32pad:xJ,base32padupper:AJ,base32hex:CJ,base32hexupper:NJ,base32hexpad:SJ,base32hexpadupper:IJ,base32z:TJ});const PJ=my({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),OJ=my({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var DJ=Object.freeze({__proto__:null,base36:PJ,base36upper:OJ});const kJ=my({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MJ=my({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var UJ=Object.freeze({__proto__:null,base58btc:kJ,base58flickr:MJ});const $J=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LJ=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FJ=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),BJ=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var jJ=Object.freeze({__proto__:null,base64:$J,base64pad:LJ,base64url:FJ,base64urlpad:BJ});const p9=Array.from(""),HJ=p9.reduce((t,e,r)=>(t[r]=e,t),[]),WJ=p9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function qJ(t){return t.reduce((e,r)=>(e+=HJ[r],e),"")}function zJ(t){const e=[];for(const r of t){const n=WJ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const GJ=S1({prefix:"",name:"base256emoji",encode:qJ,decode:zJ});var KJ=Object.freeze({__proto__:null,base256emoji:GJ}),VJ=g9,OT=128,JJ=-128,YJ=Math.pow(2,31);function g9(t,e,r){e=e||[],r=r||0;for(var n=r;t>=YJ;)e[r++]=t&255|OT,t/=128;for(;t&JJ;)e[r++]=t&255|OT,t>>>=7;return e[r]=t|0,g9.bytes=r-n+1,e}var XJ=m2,QJ=128,DT=127;function m2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw m2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&DT)<<i:(o&DT)*Math.pow(2,i),i+=7}while(o>=QJ);return m2.bytes=s-n,r}var ZJ=Math.pow(2,7),eY=Math.pow(2,14),tY=Math.pow(2,21),rY=Math.pow(2,28),nY=Math.pow(2,35),iY=Math.pow(2,42),sY=Math.pow(2,49),oY=Math.pow(2,56),aY=Math.pow(2,63),cY=function(t){return t<ZJ?1:t<eY?2:t<tY?3:t<rY?4:t<nY?5:t<iY?6:t<sY?7:t<oY?8:t<aY?9:10},lY={encode:VJ,decode:XJ,encodingLength:cY},m9=lY;const kT=(t,e,r=0)=>(m9.encode(t,e,r),e),MT=t=>m9.encodingLength(t),y2=(t,e)=>{const r=e.byteLength,n=MT(t),i=n+MT(r),s=new Uint8Array(i+r);return kT(t,s,0),kT(r,s,n),s.set(e,i),new uY(t,r,e,s)};let uY=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const y9=({name:t,code:e,encode:r})=>new fY(t,e,r);let fY=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?y2(this.code,r):r.then(n=>y2(this.code,n))}else throw Error("Unknown type, must be binary type")}};const b9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),dY=y9({name:"sha2-256",code:18,encode:b9("SHA-256")}),hY=y9({name:"sha2-512",code:19,encode:b9("SHA-512")});var pY=Object.freeze({__proto__:null,sha256:dY,sha512:hY});const w9=0,gY="identity",_9=d9,mY=t=>y2(w9,_9(t)),yY={code:w9,name:gY,encode:_9,digest:mY};var bY=Object.freeze({__proto__:null,identity:yY});new TextEncoder,new TextDecoder;const UT={...fJ,...hJ,...gJ,...yJ,..._J,...RJ,...DJ,...UJ,...jJ,...KJ};({...pY,...bY});function E9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const $T=E9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Nv=E9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=u9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),v9={utf8:$T,"utf-8":$T,hex:UT.base16,latin1:Nv,ascii:Nv,binary:Nv,...UT};function I1(t,e="utf8"){const r=v9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function $0(t,e="utf8"){const r=v9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ZN(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function LT(t){return Nd(I1($0(t,N1),c9))}function o_(t){return I1($0(Ul(t),c9),N1)}function x9(t){const e=$0(XV,PT),r=YV+I1(f9([e,t]),PT);return[VV,JV,r].join(KV)}function wY(t){return I1(t,N1)}function _Y(t){return $0(t,N1)}function EY(t){return $0([o_(t.header),o_(t.payload)].join(s_),l9)}function vY(t){return[o_(t.header),o_(t.payload),wY(t.signature)].join(s_)}function b2(t){const e=t.split(s_),r=LT(e[0]),n=LT(e[1]),i=_Y(e[2]),s=$0(e.slice(0,2).join(s_),l9);return{header:r,payload:n,signature:i,data:s}}function FT(t=XM(QV)){const e=a9.getPublicKey(t);return{secretKey:f9([t,e]),publicKey:e}}async function xY(t,e,r,n,i=Ce.fromMiliseconds(Date.now())){const s={alg:zV,typ:GV},o=x9(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=EY({header:s,payload:c}),u=a9.sign(l,n.secretKey.slice(0,32));return vY({header:s,payload:c,signature:u})}var BT=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},AY=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),CY=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),NY=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),SY=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),IY=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),TY=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,RY=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jT=3,PY=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",TY]],HT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function OY(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new IY:typeof navigator<"u"?kY(navigator.userAgent):UY()}function DY(t){return t!==""&&PY.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function kY(t){var e=DY(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new SY;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<jT&&(i=BT(BT([],i,!0),$Y(jT-i.length),!0)):i=[];var s=i.join("."),o=MY(t),a=RY.exec(t);return a&&a[1]?new NY(r,s,o,a[1]):new AY(r,s,o)}function MY(t){for(var e=0,r=HT.length;e<r;e++){var n=HT[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function UY(){var t=typeof process<"u"&&process.version;return t?new CY(process.version.slice(1)):null}function $Y(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var or={},WT;function A9(){if(WT)return or;WT=1,Object.defineProperty(or,"__esModule",{value:!0}),or.getLocalStorage=or.getLocalStorageOrThrow=or.getCrypto=or.getCryptoOrThrow=or.getLocation=or.getLocationOrThrow=or.getNavigator=or.getNavigatorOrThrow=or.getDocument=or.getDocumentOrThrow=or.getFromWindowOrThrow=or.getFromWindow=void 0;function t(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}or.getFromWindow=t;function e(d){const h=t(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}or.getFromWindowOrThrow=e;function r(){return e("document")}or.getDocumentOrThrow=r;function n(){return t("document")}or.getDocument=n;function i(){return e("navigator")}or.getNavigatorOrThrow=i;function s(){return t("navigator")}or.getNavigator=s;function o(){return e("location")}or.getLocationOrThrow=o;function a(){return t("location")}or.getLocation=a;function c(){return e("crypto")}or.getCryptoOrThrow=c;function l(){return t("crypto")}or.getCrypto=l;function u(){return e("localStorage")}or.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return or.getLocalStorage=f,or}var $l=A9(),hp={},qT;function LY(){if(qT)return hp;qT=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.getWindowMetadata=void 0;const t=A9();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const h=r.getElementsByTagName("link"),m=[];for(let g=0;g<h.length;g++){const b=h[g],E=b.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const A=b.getAttribute("href");if(A)if(A.toLowerCase().indexOf("https:")===-1&&A.toLowerCase().indexOf("http:")===-1&&A.indexOf("//")!==0){let S=n.protocol+"//"+n.host;if(A.indexOf("/")===0)S+=A;else{const T=n.pathname.split("/");T.pop();const P=T.join("/");S+=P+"/"+A}m.push(S)}else if(A.indexOf("//")===0){const S=n.protocol+A;m.push(S)}else m.push(A)}}return m}function s(...h){const m=r.getElementsByTagName("meta");for(let g=0;g<m.length;g++){const b=m[g],E=["itemprop","property","name"].map(A=>b.getAttribute(A)).filter(A=>A?h.includes(A):!1);if(E.length&&E){const A=b.getAttribute("content");if(A)return A}}return""}function o(){let h=s("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=i();return{description:l,url:u,icons:f,name:c}}return hp.getWindowMetadata=e,hp}var FY=LY();function fm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function w2(t){return fm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const C9="2.31.0";let Sv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${C9}`};class Sd extends Error{constructor(e,r={}){const n=r.cause instanceof Sd?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Sd&&r.cause.docsPath||r.docsPath,s=Sv.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Sv.version?[`Version: ${Sv.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=C9}walk(e){return N9(this,e)}}function N9(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?N9(t.cause,e):e?null:t}class S9 extends Sd{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function L0(t,{dir:e,size:r=32}={}){return typeof t=="string"?BY(t,{dir:e,size:r}):jY(t,{dir:e,size:r})}function BY(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new S9({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function jY(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new S9({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class HY extends Sd{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class WY extends Sd{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function F0(t,{size:e}){if(w2(t)>e)throw new WY({givenSize:w2(t),maxSize:e})}function _2(t,e={}){const{signed:r}=e;e.size&&F0(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function qY(t,e={}){return Number(_2(t,e))}const zY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function E2(t,e={}){return typeof t=="number"||typeof t=="bigint"?T9(t,e):typeof t=="string"?VY(t,e):typeof t=="boolean"?GY(t,e):I9(t,e)}function GY(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(F0(r,{size:e.size}),L0(r,{size:e.size})):r}function I9(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=zY[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(F0(n,{size:e.size}),L0(n,{dir:"right",size:e.size})):n}function T9(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new HY({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?L0(a,{size:n}):a}const KY=new TextEncoder;function VY(t,e={}){const r=KY.encode(t);return I9(r,e)}const JY=new TextEncoder;function YY(t,e={}){return typeof t=="number"||typeof t=="bigint"?QY(t,e):typeof t=="boolean"?XY(t,e):fm(t)?R9(t,e):P9(t,e)}function XY(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(F0(r,{size:e.size}),L0(r,{size:e.size})):r}const Jc={zero:48,nine:57,A:65,F:70,a:97,f:102};function zT(t){if(t>=Jc.zero&&t<=Jc.nine)return t-Jc.zero;if(t>=Jc.A&&t<=Jc.F)return t-(Jc.A-10);if(t>=Jc.a&&t<=Jc.f)return t-(Jc.a-10)}function R9(t,e={}){let r=t;e.size&&(F0(r,{size:e.size}),r=L0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=zT(n.charCodeAt(a++)),l=zT(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Sd(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function QY(t,e){const r=T9(t,e);return R9(r)}function P9(t,e={}){const r=JY.encode(t);return typeof e.size=="number"?(F0(r,{size:e.size}),L0(r,{dir:"right",size:e.size})):r}function O9(t,e){const r=e||"hex",n=fz(fm(t,{strict:!1})?YY(t):t);return r==="bytes"?n:E2(n)}class ZY extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Iv=new ZY(8192);function eX(t,e){if(Iv.has(`${t}.${e}`))return Iv.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=O9(P9(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Iv.set(`${t}.${e}`,s),s}function tX(t){const e=O9(`0x${t.substring(4)}`).substring(26);return eX(`0x${e}`)}async function rX({hash:t,signature:e}){const r=fm(t)?t:E2(t),{secp256k1:n}=await Gn(async()=>{const{secp256k1:o}=await import("./secp256k1-CRk7xtEC.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:d}=e,h=Number(d??f),m=GT(h);return new n.Signature(_2(l),_2(u)).addRecoveryBit(m)}const o=fm(e)?e:E2(e);if(w2(o)!==65)throw new Error("invalid signature length");const a=qY(`0x${o.slice(130)}`),c=GT(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function GT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function nX({hash:t,signature:e}){return tX(await rX({hash:t,signature:e}))}function iX(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const m=(h-d)*s+1>>>0,g=new Uint8Array(m);for(;d!==h;){let A=l[d],S=0;for(let T=m-1;(A!==0||S<f)&&T!==-1;T--,S++)A+=256*g[T]>>>0,g[T]=A%r>>>0,A=A/r>>>0;if(A!==0)throw new Error("Non-zero carry");f=S,d++}let b=m-f;for(;b!==m&&g[b]===0;)b++;let E=n.repeat(u);for(;b<m;++b)E+=t.charAt(g[b]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*i+1>>>0,m=new Uint8Array(h);for(;u<l.length;){const A=l.charCodeAt(u);if(A>255)return;let S=e[A];if(S===255)return;let T=0;for(let P=h-1;(S!==0||T<d)&&P!==-1;P--,T++)S+=r*m[P]>>>0,m[P]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");d=T,u++}let g=h-d;for(;g!==h&&m[g]===0;)g++;const b=new Uint8Array(f+(h-g));let E=f;for(;g!==h;)b[E++]=m[g++];return b}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var sX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const B0=iX(sX);function oX(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function aX(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const cX=new TextEncoder,lX=50;function uX(t,e,r){cX.encodeInto(t,e.subarray(r))}function fX(t,e,r){t.length>lX?uX(t,e,r):aX(t,e,r)}const dX=4096;function D9(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=dX&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const hX=new TextDecoder,pX=200;function gX(t,e,r){const n=t.subarray(e,e+r);return hX.decode(n)}function mX(t,e,r){return r>pX?gX(t,e,r):D9(t,e,r)}class nb{constructor(e,r){this.type=e,this.data=r}}class $s extends Error{constructor(e){super(e);const r=Object.create($s.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:$s.name})}}const pp=4294967295;function yX(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function k9(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function M9(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function bX(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const wX=-1,_X=4294967296-1,EX=17179869184-1;function vX({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=EX)if(e===0&&t<=_X){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),k9(n,4,t),r}}function xX(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function AX(t){if(t instanceof Date){const e=xX(t);return vX(e)}else return null}function CX(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=M9(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new $s(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function NX(t){const e=CX(t);return new Date(e.sec*1e3+e.nsec/1e6)}const SX={type:wX,encode:AX,decode:NX};class a_{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(SX)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new nb(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new nb(o,s)}}}return e instanceof nb?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new nb(r,e)}}a_.defaultCodec=new a_;function IX(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function v2(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):IX(t)?new Uint8Array(t):Uint8Array.from(t)}const TX=100,RX=2048;let PX=class U9{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??a_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??TX,this.initialBufferSize=e?.initialBufferSize??RX,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new U9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=oX(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),fX(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=v2(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),yX(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),k9(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function OX(t,e){return new PX(e).encodeSharedRef(t)}function Tv(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const DX=16,kX=16;class MX{constructor(e=DX,r=kX){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=D9(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const x2="array",cg="map_key",$9="map_value",UX=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new $s("The type of key must be string or number but "+typeof t)};class $X{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=x2,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=cg,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===x2){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===cg||e.type===$9){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const gp=-1,eS=new DataView(new ArrayBuffer(0)),LX=new Uint8Array(eS.buffer);try{eS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const KT=new RangeError("Insufficient data"),FX=new MX;let BX=class L9{constructor(e){this.totalPos=0,this.pos=0,this.view=eS,this.bytes=LX,this.headByte=gp,this.stack=new $X,this.entered=!1,this.extensionCodec=e?.extensionCodec??a_.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??pp,this.maxBinLength=e?.maxBinLength??pp,this.maxArrayLength=e?.maxArrayLength??pp,this.maxMapLength=e?.maxMapLength??pp,this.maxExtLength=e?.maxExtLength??pp,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:FX,this.mapKeyConverter=e?.mapKeyConverter??UX}clone(){return new L9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=gp,this.stack.reset()}setBuffer(e){const r=v2(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===gp&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=v2(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Tv(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new $s(`Unrecognized type byte: ${Tv(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===x2)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===cg){if(r==="__proto__")throw new $s("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=$9;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=cg;continue e}}return r}}readHeadByte(){return this.headByte===gp&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=gp}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new $s(`Unrecognized array type byte: ${Tv(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new $s(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new $s(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new $s(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw KT;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=mX(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===cg:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new $s(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw KT;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new $s(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=bX(this.view,this.pos);return this.pos+=8,e}readI64(){const e=M9(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function jX(t,e){return new BX(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function F9(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function c_(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function tS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function A2(t){if(!Array.isArray(t))throw new Error("array expected")}function l_(t,e){if(!F9(!0,e))throw new Error(`${t}: array of strings expected`)}function WX(t,e){if(!F9(!1,e))throw new Error(`${t}: array of numbers expected`)}function qX(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function zX(t){const e=typeof t=="string"?t.split(""):t,r=e.length;l_("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(A2(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(A2(i),i.map(s=>{c_("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function GX(t=""){return c_("join",t),{encode:e=>(l_("join.decode",e),e.join(t)),decode:e=>(c_("join.decode",e),e.split(t))}}function KX(t,e="="){return tS(t),c_("padding",e),{encode(r){for(l_("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){l_("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const B9=(t,e)=>e===0?t:B9(e,t%e),u_=(t,e)=>t+(e-B9(t,e)),Rv=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function VT(t,e,r,n){if(A2(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(u_(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${u_(e,r)}`);let i=0,s=0;const o=Rv[e],a=Rv[r]-1,c=[];for(const l of t){if(tS(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=Rv[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function VX(t,e=!1){if(tS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(u_(8,t)>32||u_(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!HX(r))throw new Error("radix2.encode input should be Uint8Array");return VT(Array.from(r),8,t,!e)},decode:r=>(WX("radix2.decode",r),Uint8Array.from(VT(r,t,8,e)))}}const JX=qX(VX(5),zX("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),KX(5),GX(""));function rS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function j9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?rS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function lg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=j9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return rS(r)}function YX(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,E=0,A=m.length;E!==A&&m[E]===0;)E++,g++;for(var S=(A-E)*u+1>>>0,T=new Uint8Array(S);E!==A;){for(var P=m[E],k=0,F=S-1;(P!==0||k<b)&&F!==-1;F--,k++)P+=256*T[F]>>>0,T[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");b=k,E++}for(var N=S-b;N!==S&&T[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(T[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,E=0;m[g]===c;)b++,g++;for(var A=(m.length-g)*l+1>>>0,S=new Uint8Array(A);m[g];){var T=r[m.charCodeAt(g)];if(T===255)return;for(var P=0,k=A-1;(T!==0||P<E)&&k!==-1;k--,P++)T+=a*S[k]>>>0,S[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=P,g++}if(m[g]!==" "){for(var F=A-E;F!==A&&S[F]===0;)F++;for(var N=new Uint8Array(b+(A-F)),v=b;F!==A;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var XX=YX,QX=XX;const ZX=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},eQ=t=>new TextEncoder().encode(t),tQ=t=>new TextDecoder().decode(t);class rQ{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class nQ{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return H9(this,e)}}class iQ{constructor(e){this.decoders=e}or(e){return H9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const H9=(t,e)=>new iQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class sQ{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new rQ(e,r,n),this.decoder=new nQ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const T1=({name:t,prefix:e,encode:r,decode:n})=>new sQ(t,e,r,n),yy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=QX(r,e);return T1({prefix:t,name:e,encode:n,decode:s=>ZX(i(s))})},oQ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},aQ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>T1({prefix:e,name:t,encode(i){return aQ(i,n,r)},decode(i){return oQ(i,n,r,t)}}),cQ=T1({prefix:"\0",name:"identity",encode:t=>tQ(t),decode:t=>eQ(t)}),lQ=Object.freeze(Object.defineProperty({__proto__:null,identity:cQ},Symbol.toStringTag,{value:"Module"})),uQ=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),fQ=Object.freeze(Object.defineProperty({__proto__:null,base2:uQ},Symbol.toStringTag,{value:"Module"})),dQ=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),hQ=Object.freeze(Object.defineProperty({__proto__:null,base8:dQ},Symbol.toStringTag,{value:"Module"})),pQ=yy({prefix:"9",name:"base10",alphabet:"0123456789"}),gQ=Object.freeze(Object.defineProperty({__proto__:null,base10:pQ},Symbol.toStringTag,{value:"Module"})),mQ=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),yQ=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),bQ=Object.freeze(Object.defineProperty({__proto__:null,base16:mQ,base16upper:yQ},Symbol.toStringTag,{value:"Module"})),wQ=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_Q=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),EQ=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vQ=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xQ=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AQ=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CQ=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NQ=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),SQ=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),IQ=Object.freeze(Object.defineProperty({__proto__:null,base32:wQ,base32hex:xQ,base32hexpad:CQ,base32hexpadupper:NQ,base32hexupper:AQ,base32pad:EQ,base32padupper:vQ,base32upper:_Q,base32z:SQ},Symbol.toStringTag,{value:"Module"})),TQ=yy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),RQ=yy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),PQ=Object.freeze(Object.defineProperty({__proto__:null,base36:TQ,base36upper:RQ},Symbol.toStringTag,{value:"Module"})),OQ=yy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),DQ=yy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),kQ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:OQ,base58flickr:DQ},Symbol.toStringTag,{value:"Module"})),MQ=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),UQ=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$Q=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),LQ=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),FQ=Object.freeze(Object.defineProperty({__proto__:null,base64:MQ,base64pad:UQ,base64url:$Q,base64urlpad:LQ},Symbol.toStringTag,{value:"Module"})),W9=Array.from(""),BQ=W9.reduce((t,e,r)=>(t[r]=e,t),[]),jQ=W9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function HQ(t){return t.reduce((e,r)=>(e+=BQ[r],e),"")}function WQ(t){const e=[];for(const r of t){const n=jQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const qQ=T1({prefix:"",name:"base256emoji",encode:HQ,decode:WQ}),zQ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:qQ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const JT={...lQ,...fQ,...hQ,...gQ,...bQ,...IQ,...PQ,...kQ,...FQ,...zQ};function q9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const YT=q9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Pv=q9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=j9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),z9={utf8:YT,"utf-8":YT,hex:JT.base16,latin1:Pv,ascii:Pv,binary:Pv,...JT};function So(t,e="utf8"){const r=z9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?rS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Is(t,e="utf8"){const r=z9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const GQ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Ov,XT;function G9(){if(XT)return Ov;XT=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=n(a[u]).toUpperCase(),l+=" ",l+=n(a[u+1]).toUpperCase();else if(c===64)l+=n(a[u+1]).toUpperCase(),l+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=d%256;const f=new Date().getTime();console.log("Generated random input in "+(f-l)+"ms"),l=f;for(let d=0;d<c;d++){const h=o(u),m=new Date().getTime(),g=m-l;l=m,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Ov={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},Ov}var Dv,QT;function KQ(){if(QT)return Dv;QT=1;const t=G9();function e(E,A,S){const T=E[A]+E[S];let P=E[A+1]+E[S+1];T>=4294967296&&P++,E[A]=T,E[A+1]=P}function r(E,A,S,T){let P=E[A]+S;S<0&&(P+=4294967296);let k=E[A+1]+T;P>=4294967296&&k++,E[A]=P,E[A+1]=k}function n(E,A){return E[A]^E[A+1]<<8^E[A+2]<<16^E[A+3]<<24}function i(E,A,S,T,P,k){const F=l[P],N=l[P+1],v=l[k],M=l[k+1];e(c,E,A),r(c,E,F,N);let $=c[T]^c[E],O=c[T+1]^c[E+1];c[T]=O,c[T+1]=$,e(c,S,T),$=c[A]^c[S],O=c[A+1]^c[S+1],c[A]=$>>>24^O<<8,c[A+1]=O>>>24^$<<8,e(c,E,A),r(c,E,v,M),$=c[T]^c[E],O=c[T+1]^c[E+1],c[T]=$>>>16^O<<16,c[T+1]=O>>>16^$<<16,e(c,S,T),$=c[A]^c[S],O=c[A+1]^c[S+1],c[A]=O>>>31^$<<1,c[A+1]=$>>>31^O<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(E){return E*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(E,A){let S=0;for(S=0;S<16;S++)c[S]=E.h[S],c[S+16]=s[S];for(c[24]=c[24]^E.t,c[25]=c[25]^E.t/4294967296,A&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=n(E.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,a[S*16+0],a[S*16+1]),i(2,10,18,26,a[S*16+2],a[S*16+3]),i(4,12,20,28,a[S*16+4],a[S*16+5]),i(6,14,22,30,a[S*16+6],a[S*16+7]),i(0,10,20,30,a[S*16+8],a[S*16+9]),i(2,12,22,24,a[S*16+10],a[S*16+11]),i(4,14,16,26,a[S*16+12],a[S*16+13]),i(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)E.h[S]=E.h[S]^c[S]^c[S+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function d(E,A,S,T){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(A&&A.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(T&&T.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const P={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};f.fill(0),f[0]=E,A&&(f[1]=A.length),f[2]=1,f[3]=1,S&&f.set(S,32),T&&f.set(T,48);for(let k=0;k<16;k++)P.h[k]=s[k]^n(f,k*4);return A&&(h(P,A),P.c=128),P}function h(E,A){for(let S=0;S<A.length;S++)E.c===128&&(E.t+=E.c,u(E,!1),E.c=0),E.b[E.c++]=A[S]}function m(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;u(E,!0);const A=new Uint8Array(E.outlen);for(let S=0;S<E.outlen;S++)A[S]=E.h[S>>2]>>8*(S&3);return A}function g(E,A,S,T,P){S=S||64,E=t.normalizeInput(E),T&&(T=t.normalizeInput(T)),P&&(P=t.normalizeInput(P));const k=d(S,A,T,P);return h(k,E),m(k)}function b(E,A,S,T,P){const k=g(E,A,S,T,P);return t.toHex(k)}return Dv={blake2b:g,blake2bHex:b,blake2bInit:d,blake2bUpdate:h,blake2bFinal:m},Dv}var kv,ZT;function VQ(){if(ZT)return kv;ZT=1;const t=G9();function e(m,g){return m[g]^m[g+1]<<8^m[g+2]<<16^m[g+3]<<24}function r(m,g,b,E,A,S){o[m]=o[m]+o[g]+A,o[E]=n(o[E]^o[m],16),o[b]=o[b]+o[E],o[g]=n(o[g]^o[b],12),o[m]=o[m]+o[g]+S,o[E]=n(o[E]^o[m],8),o[b]=o[b]+o[E],o[g]=n(o[g]^o[b],7)}function n(m,g){return m>>>g^m<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(m,g){let b=0;for(b=0;b<8;b++)o[b]=m.h[b],o[b+8]=i[b];for(o[12]^=m.t,o[13]^=m.t/4294967296,g&&(o[14]=~o[14]),b=0;b<16;b++)a[b]=e(m.b,4*b);for(b=0;b<10;b++)r(0,4,8,12,a[s[b*16+0]],a[s[b*16+1]]),r(1,5,9,13,a[s[b*16+2]],a[s[b*16+3]]),r(2,6,10,14,a[s[b*16+4]],a[s[b*16+5]]),r(3,7,11,15,a[s[b*16+6]],a[s[b*16+7]]),r(0,5,10,15,a[s[b*16+8]],a[s[b*16+9]]),r(1,6,11,12,a[s[b*16+10]],a[s[b*16+11]]),r(2,7,8,13,a[s[b*16+12]],a[s[b*16+13]]),r(3,4,9,14,a[s[b*16+14]],a[s[b*16+15]]);for(b=0;b<8;b++)m.h[b]^=o[b]^o[b+8]}function l(m,g){if(!(m>0&&m<=32))throw new Error("Incorrect output length, should be in [1, 32]");const b=g?g.length:0;if(g&&!(b>0&&b<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:m};return E.h[0]^=16842752^b<<8^m,b>0&&(u(E,g),E.c=64),E}function u(m,g){for(let b=0;b<g.length;b++)m.c===64&&(m.t+=m.c,c(m,!1),m.c=0),m.b[m.c++]=g[b]}function f(m){for(m.t+=m.c;m.c<64;)m.b[m.c++]=0;c(m,!0);const g=new Uint8Array(m.outlen);for(let b=0;b<m.outlen;b++)g[b]=m.h[b>>2]>>8*(b&3)&255;return g}function d(m,g,b){b=b||32,m=t.normalizeInput(m);const E=l(b,g);return u(E,m),f(E)}function h(m,g,b){const E=d(m,g,b);return t.toHex(E)}return kv={blake2s:d,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:f},kv}var Mv,eR;function JQ(){if(eR)return Mv;eR=1;const t=KQ(),e=VQ();return Mv={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Mv}var YQ=JQ(),XQ={};const QQ=":";function md(t){const[e,r]=t.split(QQ);return{namespace:e,reference:r}}function K9(t,e){return t.includes(":")?[t]:e.chains||[]}var ZQ=Object.defineProperty,eZ=Object.defineProperties,tZ=Object.getOwnPropertyDescriptors,tR=Object.getOwnPropertySymbols,rZ=Object.prototype.hasOwnProperty,nZ=Object.prototype.propertyIsEnumerable,C2=(t,e,r)=>e in t?ZQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rR=(t,e)=>{for(var r in e||(e={}))rZ.call(e,r)&&C2(t,r,e[r]);if(tR)for(var r of tR(e))nZ.call(e,r)&&C2(t,r,e[r]);return t},iZ=(t,e)=>eZ(t,tZ(e)),nR=(t,e,r)=>C2(t,typeof e!="symbol"?e+"":e,r);const sZ="ReactNative",Vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},oZ="js";function f_(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function hf(){return!$l.getDocument()&&!!$l.getNavigator()&&navigator.product===sZ}function aZ(){return hf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function cZ(){return hf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function j0(){return!f_()&&!!$l.getNavigator()&&!!$l.getDocument()}function by(){return hf()?Vs.reactNative:f_()?Vs.node:j0()?Vs.browser:Vs.unknown}function iR(){var t;try{return hf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function lZ(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function uZ(t){var e,r;const n=V9();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),iZ(rR(rR({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function V9(){return FY.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function fZ(){if(by()===Vs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=OY();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function dZ(){var t;const e=by();return e===Vs.browser?[e,((t=$l.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function J9(t,e,r){const n=fZ(),i=dZ();return[[t,e].join("-"),[oZ,r].join("-"),n,i].join("/")}function hZ({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=J9(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=lZ(l[1]||"",f);return l[0]+"?"+d}function sd(t,e){return t.filter(r=>e.includes(r)).length===t.length}function N2(t){return Object.fromEntries(t.entries())}function S2(t){return new Map(Object.entries(t))}function Kf(t=Ce.FIVE_MINUTES,e){const r=Ce.toMiliseconds(t||Ce.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function Nc(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Y9(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function pZ(t){return Y9("topic",t)}function gZ(t){return Y9("id",t)}function X9(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Mn(t,e){return Ce.fromMiliseconds(Date.now()+Ce.toMiliseconds(t))}function xu(t){return Date.now()>=Ce.toMiliseconds(t)}function Kt(t,e){return`${t}${e?`:${e}`:""}`}function Oc(t=[],e=[]){return[...new Set([...t,...e])]}async function mZ({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=yZ(s,t,e),a=by();if(a===Vs.browser){if(!((n=$l.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}bZ(o)}else a===Vs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function yZ(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${vZ(n,!0)}`}else i=`${i}/wc?${n}`;return i}function bZ(t){let e="_self";EZ()?e="_top":(_Z()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function wZ(t,e){let r="";try{if(j0()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function sR(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function oR(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function nS(){return typeof process<"u"&&XQ.IS_VITEST==="true"}function _Z(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function EZ(){try{return window.self!==window.top}catch{return!1}}function vZ(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function Q9(t){return Buffer.from(t,"base64").toString("utf-8")}function xZ(t){return new Promise(e=>setTimeout(e,t))}let AZ=class{constructor({limit:e}){nR(this,"limit"),nR(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const ib=BigInt(2**32-1),aR=BigInt(32);function Z9(t,e=!1){return e?{h:Number(t&ib),l:Number(t>>aR&ib)}:{h:Number(t>>aR&ib)|0,l:Number(t&ib)|0}}function eU(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Z9(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const cR=(t,e,r)=>t>>>r,lR=(t,e,r)=>t<<32-r|e>>>r,Au=(t,e,r)=>t>>>r|e<<32-r,Cu=(t,e,r)=>t<<32-r|e>>>r,Bp=(t,e,r)=>t<<64-r|e>>>r-32,jp=(t,e,r)=>t>>>r-32|e<<64-r,CZ=(t,e)=>e,NZ=(t,e)=>t,SZ=(t,e,r)=>t<<r|e>>>32-r,IZ=(t,e,r)=>e<<r|t>>>32-r,TZ=(t,e,r)=>e<<r-32|t>>>64-r,RZ=(t,e,r)=>t<<r-32|e>>>64-r;function ha(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const iS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),sS=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,PZ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),OZ=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,DZ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),kZ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,ih=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function oS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ll(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ko(t,...e){if(!oS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ll(t.outputLen),Ll(t.blockLen)}function Ku(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cS(t,e){ko(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function dm(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Uv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cc(t,e){return t<<32-e|t>>>e}const tU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rU(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const sl=tU?t=>t:t=>rU(t);function MZ(t){for(let e=0;e<t.length;e++)t[e]=rU(t[e]);return t}const Nu=tU?t=>t:MZ,nU=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",UZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hm(t){if(ko(t),nU)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=UZ[t[r]];return e}const Yc={_0:48,_9:57,A:65,F:70,a:97,f:102};function uR(t){if(t>=Yc._0&&t<=Yc._9)return t-Yc._0;if(t>=Yc.A&&t<=Yc.F)return t-(Yc.A-10);if(t>=Yc.a&&t<=Yc.f)return t-(Yc.a-10)}function lS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(nU)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=uR(t.charCodeAt(s)),a=uR(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function $Z(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ya(t){return typeof t=="string"&&(t=$Z(t)),ko(t),t}function od(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ko(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let R1=class{};function wy(t){const e=n=>t().update(Ya(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function LZ(t){const e=(n,i)=>t(i).update(Ya(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function H0(t=32){if(ih&&typeof ih.getRandomValues=="function")return ih.getRandomValues(new Uint8Array(t));if(ih&&typeof ih.randomBytes=="function")return Uint8Array.from(ih.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const FZ=BigInt(0),mp=BigInt(1),BZ=BigInt(2),jZ=BigInt(7),HZ=BigInt(256),WZ=BigInt(113),iU=[],sU=[],oU=[];for(let t=0,e=mp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],iU.push(2*(5*n+r)),sU.push((t+1)*(t+2)/2%64);let i=FZ;for(let s=0;s<7;s++)e=(e<<mp^(e>>jZ)*WZ)%HZ,e&BZ&&(i^=mp<<(mp<<BigInt(s))-mp);oU.push(i)}const aU=eU(oU,!0),qZ=aU[0],zZ=aU[1],fR=(t,e,r)=>r>32?TZ(t,e,r):SZ(t,e,r),dR=(t,e,r)=>r>32?RZ(t,e,r):IZ(t,e,r);function GZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=fR(l,u,1)^r[a],d=dR(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=sU[o],c=fR(i,s,a),l=dR(i,s,a),u=iU[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=qZ[n],t[1]^=zZ[n]}Mo(r)}let KZ=class cU extends R1{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Ll(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=dm(this.state)}clone(){return this._cloneInto()}keccak(){Nu(this.state32),GZ(this.state32,this.rounds),Nu(this.state32),this.posOut=0,this.pos=0}update(e){Ku(this),e=Ya(e),ko(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ku(this,!1),ko(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ll(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mo(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new cU(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const VZ=(t,e,r)=>wy(()=>new KZ(e,t,r)),JZ=VZ(1,136,256/8);function YZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function XZ(t,e,r){return t&e^~t&r}function QZ(t,e,r){return t&e^t&r^e&r}let lU=class extends R1{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Uv(this.buffer)}update(e){Ku(this),e=Ya(e),ko(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Uv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ku(this),cS(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Mo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;YZ(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Uv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const su=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_i=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ZZ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ou=new Uint32Array(64);let eee=class extends lU{constructor(e=32){super(64,e,8,!1),this.A=su[0]|0,this.B=su[1]|0,this.C=su[2]|0,this.D=su[3]|0,this.E=su[4]|0,this.F=su[5]|0,this.G=su[6]|0,this.H=su[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)ou[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=ou[f-15],h=ou[f-2],m=cc(d,7)^cc(d,18)^d>>>3,g=cc(h,17)^cc(h,19)^h>>>10;ou[f]=g+ou[f-7]+m+ou[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=cc(a,6)^cc(a,11)^cc(a,25),h=u+d+XZ(a,c,l)+ZZ[f]+ou[f]|0,m=(cc(n,2)^cc(n,13)^cc(n,22))+QZ(n,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Mo(ou)}destroy(){this.set(0,0,0,0,0,0,0,0),Mo(this.buffer)}};const uU=eU(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tee=uU[0],ree=uU[1],au=new Uint32Array(80),cu=new Uint32Array(80);let uS=class extends lU{constructor(e=64){super(128,e,16,!1),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)au[S]=e.getUint32(r),cu[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const T=au[S-15]|0,P=cu[S-15]|0,k=Au(T,P,1)^Au(T,P,8)^cR(T,P,7),F=Cu(T,P,1)^Cu(T,P,8)^lR(T,P,7),N=au[S-2]|0,v=cu[S-2]|0,M=Au(N,v,19)^Bp(N,v,61)^cR(N,v,6),$=Cu(N,v,19)^jp(N,v,61)^lR(N,v,6),O=PZ(F,$,cu[S-7],cu[S-16]),C=OZ(O,k,M,au[S-7],au[S-16]);au[S]=C|0,cu[S]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:E,Hl:A}=this;for(let S=0;S<80;S++){const T=Au(f,d,14)^Au(f,d,18)^Bp(f,d,41),P=Cu(f,d,14)^Cu(f,d,18)^jp(f,d,41),k=f&h^~f&g,F=d&m^~d&b,N=DZ(A,P,F,ree[S],cu[S]),v=kZ(N,E,T,k,tee[S],au[S]),M=N|0,$=Au(n,i,28)^Bp(n,i,34)^Bp(n,i,39),O=Cu(n,i,28)^jp(n,i,34)^jp(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;E=g|0,A=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=ha(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=iS(M,O,p);n=sS(y,v,$,C),i=y|0}({h:n,l:i}=ha(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ha(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ha(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ha(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=ha(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=ha(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=ha(this.Gh|0,this.Gl|0,g|0,b|0),{h:E,l:A}=ha(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,E,A)}roundClean(){Mo(au,cu)}destroy(){Mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},nee=class extends uS{constructor(){super(48),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}};const Ei=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class iee extends uS{constructor(){super(32),this.Ah=Ei[0]|0,this.Al=Ei[1]|0,this.Bh=Ei[2]|0,this.Bl=Ei[3]|0,this.Ch=Ei[4]|0,this.Cl=Ei[5]|0,this.Dh=Ei[6]|0,this.Dl=Ei[7]|0,this.Eh=Ei[8]|0,this.El=Ei[9]|0,this.Fh=Ei[10]|0,this.Fl=Ei[11]|0,this.Gh=Ei[12]|0,this.Gl=Ei[13]|0,this.Hh=Ei[14]|0,this.Hl=Ei[15]|0}}const P1=wy(()=>new eee),see=wy(()=>new uS),oee=wy(()=>new nee),aee=wy(()=>new iee),cee=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Te=new Uint32Array(32);function lu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=iS(c,u,o);l=sS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:CZ(g,m),Dl:NZ(g)},{h,l:d}=ha(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Au(f,u,24),Bl:Cu(f,u,24)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function uu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=iS(c,u,o);l=sS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:Au(g,m,16),Dl:Cu(g,m,16)},{h,l:d}=ha(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Bp(f,u,63),Bl:jp(f,u,63)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function lee(t,e={},r,n,i){if(Ll(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class uee extends R1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ll(e),Ll(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=dm(this.buffer)}update(e){Ku(this),e=Ya(e),ko(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(Nu(i),this.compress(i,0,!1),Nu(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const f=new Uint32Array(a,u,Math.floor((s-c)/4));Nu(f);for(let d=0;c+r<s;d+=i.length,c+=r)this.length+=r,this.compress(f,d,!1);Nu(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Ku(this),cS(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Mo(this.buffer.subarray(r)),Nu(n),this.compress(n,0,!0),Nu(n);const i=dm(e);this.get().forEach((s,o)=>i[o]=sl(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class fee extends uee{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,lee(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Ya(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Ya(s);const a=dm(s);this.v4l^=sl(a[0]),this.v4h^=sl(a[1]),this.v5l^=sl(a[2]),this.v5h^=sl(a[3])}if(i!==void 0){i=Ya(i);const a=dm(i);this.v6l^=sl(a[0]),this.v6h^=sl(a[1]),this.v7l^=sl(a[2]),this.v7h^=sl(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:m,v7l:g,v7h:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=m|0,this.v7l=g|0,this.v7h=b|0}compress(e,r,n){this.get().forEach((c,l)=>Te[l]=c),Te.set(bn,16);let{h:i,l:s}=Z9(BigInt(this.length));Te[24]=bn[8]^s,Te[25]=bn[9]^i,n&&(Te[28]=~Te[28],Te[29]=~Te[29]);let o=0;const a=cee;for(let c=0;c<12;c++)lu(0,4,8,12,e,r+2*a[o++]),uu(0,4,8,12,e,r+2*a[o++]),lu(1,5,9,13,e,r+2*a[o++]),uu(1,5,9,13,e,r+2*a[o++]),lu(2,6,10,14,e,r+2*a[o++]),uu(2,6,10,14,e,r+2*a[o++]),lu(3,7,11,15,e,r+2*a[o++]),uu(3,7,11,15,e,r+2*a[o++]),lu(0,5,10,15,e,r+2*a[o++]),uu(0,5,10,15,e,r+2*a[o++]),lu(1,6,11,12,e,r+2*a[o++]),uu(1,6,11,12,e,r+2*a[o++]),lu(2,7,8,13,e,r+2*a[o++]),uu(2,7,8,13,e,r+2*a[o++]),lu(3,4,9,14,e,r+2*a[o++]),uu(3,4,9,14,e,r+2*a[o++]);this.v0l^=Te[0]^Te[16],this.v0h^=Te[1]^Te[17],this.v1l^=Te[2]^Te[18],this.v1h^=Te[3]^Te[19],this.v2l^=Te[4]^Te[20],this.v2h^=Te[5]^Te[21],this.v3l^=Te[6]^Te[22],this.v3h^=Te[7]^Te[23],this.v4l^=Te[8]^Te[24],this.v4h^=Te[9]^Te[25],this.v5l^=Te[10]^Te[26],this.v5h^=Te[11]^Te[27],this.v6l^=Te[12]^Te[28],this.v6h^=Te[13]^Te[29],this.v7l^=Te[14]^Te[30],this.v7h^=Te[15]^Te[31],Mo(Te)}destroy(){this.destroyed=!0,Mo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dee=LZ(t=>new fee(t)),hee="https://rpc.walletconnect.org/v1";function fU(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(JZ(r)).toString("hex")}async function pee(t,e,r,n,i,s){switch(r.t){case"eip191":return await gee(t,e,r.s);case"eip1271":return await mee(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function gee(t,e,r){return(await nX({hash:fU(e),signature:r})).toLowerCase()===t.toLowerCase()}async function mee(t,e,r,n,i,s){const o=md(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:fU(e)).substring(2),d=a+f+c+u+l,h=await fetch(`${s||hee}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:yee(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:m}=await h.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function yee(){return Date.now()+Math.floor(Math.random()*1e3)}function bee(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return B0.encode(s)}function wee(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=dee(n,{dkLen:32});return B0.encode(i)}function hR(t){const e=new Uint8Array(P1(_ee(t)));return B0.encode(e)}function _ee(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function pR(t){const e=Buffer.from(t,"base64"),r=jX(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=OX(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=aee(s);return JX.encode(o).replace(/=+$/,"")}function $v(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function Eee(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push($v(e.length)),i.push(e),i.push(Buffer.from([18])),i.push($v(r.length)),i.push(r),i.push(Buffer.from([26])),i.push($v(n.length)),i.push(n);const s=Buffer.concat(i),o=P1(s);return Buffer.from(o).toString("hex").toUpperCase()}var vee=Object.defineProperty,xee=Object.defineProperties,Aee=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,Cee=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,mR=(t,e,r)=>e in t?vee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,See=(t,e)=>{for(var r in e||(e={}))Cee.call(e,r)&&mR(t,r,e[r]);if(gR)for(var r of gR(e))Nee.call(e,r)&&mR(t,r,e[r]);return t},Iee=(t,e)=>xee(t,Aee(e));const Tee="did:pkh:",fS=t=>t?.split(":"),Ree=t=>{const e=t&&fS(t);if(e)return t.includes(Tee)?e[3]:e[1]},I2=t=>{const e=t&&fS(t);if(e)return e[2]+":"+e[3]},d_=t=>{const e=t&&fS(t);if(e)return e.pop()};async function yR(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=dU(i,i.iss),o=d_(i.iss);return await pee(o,s,n,I2(i.iss),r)}const dU=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=d_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Ree(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=Hb(t.resources);if(m){const g=pm(m);i=Fee(i,g)}return[r,n,"",i,"",s,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function Pee(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Oee(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Id(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Dee(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:kee(e,r,n)}}}function kee(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function hU(t){return Id(t),`urn:recap:${Pee(t).replace(/=/g,"")}`}function pm(t){const e=Oee(t.replace("urn:recap:",""));return Id(e),e}function Mee(t,e,r){const n=Dee(t,e,r);return hU(n)}function Uee(t){return t&&t.includes("urn:recap:")}function $ee(t,e){const r=pm(t),n=pm(e),i=Lee(r,n);return hU(i)}function Lee(t,e){Id(t),Id(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=Iee(See({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function Fee(t="",e){Id(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function bR(t){var e;const r=pm(t);Id(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function wR(t){const e=pm(t);Id(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Hb(t){if(!t)return;const e=t?.[t.length-1];return Uee(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function pU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function T2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Lv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Es(t,...e){if(!pU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _R(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Bee(t,e){Es(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Fu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function x0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function jee(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Hee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Wee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function R2(t){if(typeof t=="string")t=Wee(t);else if(pU(t))t=P2(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function qee(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function zee(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Gee=(t,e)=>{function r(n,...i){if(Es(n),!Hee)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Es(l):Es(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Es(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Es(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Es(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Es(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function ER(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Vee(e))throw new Error("invalid output, must be aligned");return e}function vR(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Kee(t,e,r){T2(r);const n=new Uint8Array(16),i=jee(n);return vR(i,0,BigInt(e),r),vR(i,8,BigInt(t),r),n}function Vee(t){return t.byteOffset%4===0}function P2(t){return Uint8Array.from(t)}const gU=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Jee=gU("expand 16-byte k"),Yee=gU("expand 32-byte k"),Xee=Fu(Jee),Qee=Fu(Yee);function $t(t,e){return t<<e|t>>>32-e}function O2(t){return t.byteOffset%4===0}const sb=64,Zee=16,mU=2**32-1,xR=new Uint32Array;function ete(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(sb),u=Fu(l),f=O2(i)&&O2(s),d=f?Fu(i):xR,h=f?Fu(s):xR;for(let m=0;m<c;o++){if(t(e,r,n,u,o,a),o>=mU)throw new Error("arx: counter overflow");const g=Math.min(sb,c-m);if(f&&g===sb){const b=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let E=0,A;E<Zee;E++)A=b+E,h[A]=d[A]^u[E];m+=sb;continue}for(let b=0,E;b<g;b++)E=m+b,s[E]=i[E]^l[b];m+=g}}function tte(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=qee({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Lv(i),Lv(o),T2(s),T2(r),(a,c,l,u,f=0)=>{Es(a),Es(c),Es(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),Es(u),Lv(f),f<0||f>=mU)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let m=a.length,g,b;if(m===32)h.push(g=P2(a)),b=Qee;else if(m===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),b=Xee,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);O2(c)||h.push(c=P2(c));const E=Fu(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,E,Fu(c.subarray(0,16)),E),c=c.subarray(16)}const A=16-i;if(A!==c.length)throw new Error(`arx: nonce must be ${A} or 16 bytes`);if(A!==12){const T=new Uint8Array(12);T.set(c,s?0:12-c.length),c=T,h.push(c)}const S=Fu(c);return ete(t,b,E,S,l,u,f,o),x0(...h),u}}const ti=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class rte{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=R2(e),Es(e,32);const r=ti(e,0),n=ti(e,2),i=ti(e,4),s=ti(e,6),o=ti(e,8),a=ti(e,10),c=ti(e,12),l=ti(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ti(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],m=o[7],g=o[8],b=o[9],E=ti(e,r+0),A=ti(e,r+2),S=ti(e,r+4),T=ti(e,r+6),P=ti(e,r+8),k=ti(e,r+10),F=ti(e,r+12),N=ti(e,r+14);let v=s[0]+(E&8191),M=s[1]+((E>>>13|A<<3)&8191),$=s[2]+((A>>>10|S<<6)&8191),O=s[3]+((S>>>7|T<<9)&8191),C=s[4]+((T>>>4|P<<12)&8191),p=s[5]+(P>>>1&8191),y=s[6]+((P>>>14|k<<2)&8191),w=s[7]+((k>>>11|F<<5)&8191),x=s[8]+((F>>>8|N<<8)&8191),I=s[9]+(N>>>5|i),U=0,B=U+v*a+M*(5*b)+$*(5*g)+O*(5*m)+C*(5*h);U=B>>>13,B&=8191,B+=p*(5*d)+y*(5*f)+w*(5*u)+x*(5*l)+I*(5*c),U+=B>>>13,B&=8191;let D=U+v*c+M*a+$*(5*b)+O*(5*g)+C*(5*m);U=D>>>13,D&=8191,D+=p*(5*h)+y*(5*d)+w*(5*f)+x*(5*u)+I*(5*l),U+=D>>>13,D&=8191;let _=U+v*l+M*c+$*a+O*(5*b)+C*(5*g);U=_>>>13,_&=8191,_+=p*(5*m)+y*(5*h)+w*(5*d)+x*(5*f)+I*(5*u),U+=_>>>13,_&=8191;let L=U+v*u+M*l+$*c+O*a+C*(5*b);U=L>>>13,L&=8191,L+=p*(5*g)+y*(5*m)+w*(5*h)+x*(5*d)+I*(5*f),U+=L>>>13,L&=8191;let G=U+v*f+M*u+$*l+O*c+C*a;U=G>>>13,G&=8191,G+=p*(5*b)+y*(5*g)+w*(5*m)+x*(5*h)+I*(5*d),U+=G>>>13,G&=8191;let R=U+v*d+M*f+$*u+O*l+C*c;U=R>>>13,R&=8191,R+=p*a+y*(5*b)+w*(5*g)+x*(5*m)+I*(5*h),U+=R>>>13,R&=8191;let V=U+v*h+M*d+$*f+O*u+C*l;U=V>>>13,V&=8191,V+=p*c+y*a+w*(5*b)+x*(5*g)+I*(5*m),U+=V>>>13,V&=8191;let K=U+v*m+M*h+$*d+O*f+C*u;U=K>>>13,K&=8191,K+=p*l+y*c+w*a+x*(5*b)+I*(5*g),U+=K>>>13,K&=8191;let X=U+v*g+M*m+$*h+O*d+C*f;U=X>>>13,X&=8191,X+=p*u+y*l+w*c+x*a+I*(5*b),U+=X>>>13,X&=8191;let Q=U+v*b+M*g+$*m+O*h+C*d;U=Q>>>13,Q&=8191,Q+=p*f+y*u+w*l+x*c+I*a,U+=Q>>>13,Q&=8191,U=(U<<2)+U|0,U=U+B|0,B=U&8191,U=U>>>13,D+=U,s[0]=B,s[1]=D,s[2]=_,s[3]=L,s[4]=G,s[5]=R,s[6]=V,s[7]=K,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;x0(n)}update(e){_R(this),e=R2(e),Es(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){x0(this.h,this.r,this.buffer,this.pad)}digestInto(e){_R(this),Bee(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function nte(t){const e=(n,i)=>t(i).update(R2(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const ite=nte(t=>new rte(t));function ste(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],h=e[3],m=e[4],g=e[5],b=e[6],E=e[7],A=i,S=r[0],T=r[1],P=r[2],k=o,F=a,N=c,v=l,M=u,$=f,O=d,C=h,p=m,y=g,w=b,x=E,I=A,U=S,B=T,D=P;for(let L=0;L<s;L+=2)k=k+M|0,I=$t(I^k,16),p=p+I|0,M=$t(M^p,12),k=k+M|0,I=$t(I^k,8),p=p+I|0,M=$t(M^p,7),F=F+$|0,U=$t(U^F,16),y=y+U|0,$=$t($^y,12),F=F+$|0,U=$t(U^F,8),y=y+U|0,$=$t($^y,7),N=N+O|0,B=$t(B^N,16),w=w+B|0,O=$t(O^w,12),N=N+O|0,B=$t(B^N,8),w=w+B|0,O=$t(O^w,7),v=v+C|0,D=$t(D^v,16),x=x+D|0,C=$t(C^x,12),v=v+C|0,D=$t(D^v,8),x=x+D|0,C=$t(C^x,7),k=k+$|0,D=$t(D^k,16),w=w+D|0,$=$t($^w,12),k=k+$|0,D=$t(D^k,8),w=w+D|0,$=$t($^w,7),F=F+O|0,I=$t(I^F,16),x=x+I|0,O=$t(O^x,12),F=F+O|0,I=$t(I^F,8),x=x+I|0,O=$t(O^x,7),N=N+C|0,U=$t(U^N,16),p=p+U|0,C=$t(C^p,12),N=N+C|0,U=$t(U^N,8),p=p+U|0,C=$t(C^p,7),v=v+M|0,B=$t(B^v,16),y=y+B|0,M=$t(M^y,12),v=v+M|0,B=$t(B^v,8),y=y+B|0,M=$t(M^y,7);let _=0;n[_++]=o+k|0,n[_++]=a+F|0,n[_++]=c+N|0,n[_++]=l+v|0,n[_++]=u+M|0,n[_++]=f+$|0,n[_++]=d+O|0,n[_++]=h+C|0,n[_++]=m+p|0,n[_++]=g+y|0,n[_++]=b+w|0,n[_++]=E+x|0,n[_++]=A+I|0,n[_++]=S+U|0,n[_++]=T+B|0,n[_++]=P+D|0}const ote=tte(ste,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ate=new Uint8Array(16),AR=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(ate.subarray(r))},cte=new Uint8Array(32);function CR(t,e,r,n,i){const s=t(e,r,cte),o=ite.create(s);i&&AR(o,i),AR(o,n);const a=Kee(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return x0(s,a),c}const lte=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=ER(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=CR(t,e,r,a,n);return s.set(c,o),x0(c),s},decrypt(i,s){s=ER(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=CR(t,e,r,o,n);if(!zee(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),x0(c),s}}),yU=Gee({blockSize:64,nonceLength:12,tagLength:16},lte(ote));let bU=class extends R1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,aS(e);const n=Ya(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Mo(s)}update(e){return Ku(this),this.iHash.update(e),this}digestInto(e){Ku(this),ko(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const O1=(t,e,r)=>new bU(t,e).update(r).digest();O1.create=(t,e)=>new bU(t,e);function ute(t,e,r){return aS(t),r===void 0&&(r=new Uint8Array(t.outputLen)),O1(t,Ya(r),Ya(e))}const Fv=Uint8Array.from([0]),NR=Uint8Array.of();function fte(t,e,r,n=32){aS(t),Ll(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=NR);const o=new Uint8Array(s*i),a=O1.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Fv[0]=u+1,c.update(u===0?NR:l).update(r).update(Fv).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Mo(l,Fv),o.slice(0,n)}const dte=(t,e,r,n,i)=>fte(t,ute(t,e,r),n,i),D1=P1,dS=BigInt(0),D2=BigInt(1);function h_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ob(t){const e=t.toString(16);return e.length&1?"0"+e:e}function wU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?dS:BigInt("0x"+t)}function k1(t){return wU(hm(t))}function p_(t){return ko(t),wU(hm(Uint8Array.from(t).reverse()))}function hS(t,e){return lS(t.toString(16).padStart(e*2,"0"))}function pS(t,e){return hS(t,e).reverse()}function _s(t,e,r){let n;if(typeof e=="string")try{n=lS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const Bv=t=>typeof t=="bigint"&&dS<=t;function hte(t,e,r){return Bv(t)&&Bv(e)&&Bv(r)&&e<=t&&t<r}function k2(t,e,r,n){if(!hte(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function pte(t){let e;for(e=0;t>dS;t>>=D2,e+=1);return e}const M1=t=>(D2<<BigInt(t))-D2;function gte(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=d=>new Uint8Array(d),i=d=>Uint8Array.of(d);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...d)=>r(o,s,...d),u=(d=n(0))=>{o=l(i(0),d),s=l(),d.length!==0&&(o=l(i(1),d),s=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){s=l();const m=s.slice();h.push(m),d+=s.length}return od(...h)};return(d,h)=>{c(),u(d);let m;for(;!(m=h(f()));)u();return c(),m}}function U1(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function SR(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Cs=BigInt(0),Zi=BigInt(1),ad=BigInt(2),mte=BigInt(3),_U=BigInt(4),EU=BigInt(5),vU=BigInt(8);function Ao(t,e){const r=t%e;return r>=Cs?r:e+r}function ia(t,e,r){let n=t;for(;e-- >Cs;)n*=n,n%=r;return n}function IR(t,e){if(t===Cs)throw new Error("invert: expected non-zero number");if(e<=Cs)throw new Error("invert: expected positive modulus, got "+e);let r=Ao(t,e),n=e,i=Cs,s=Zi;for(;r!==Cs;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Zi)throw new Error("invert: does not exist");return Ao(i,e)}function xU(t,e){const r=(t.ORDER+Zi)/_U,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function yte(t,e){const r=(t.ORDER-EU)/vU,n=t.mul(e,ad),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,ad),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function bte(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Zi,r=0;for(;e%ad===Cs;)e/=ad,r++;let n=ad;const i=W0(t);for(;TR(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return xU;let s=i.pow(n,e);const o=(e+Zi)/ad;return function(a,c){if(a.is0(c))return c;if(TR(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,m=a.sqr(f);for(;!a.eql(m,a.ONE);)if(h++,m=a.sqr(m),h===l)throw new Error("Cannot find square root");const g=Zi<<BigInt(l-h-1),b=a.pow(u,g);l=h,u=a.sqr(b),f=a.mul(f,u),d=a.mul(d,b)}return d}}function wte(t){return t%_U===mte?xU:t%vU===EU?yte:bte(t)}const _te=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ete(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=_te.reduce((n,i)=>(n[i]="function",n),e);return U1(t,r),t}function vte(t,e,r){if(r<Cs)throw new Error("invalid exponent, negatives unsupported");if(r===Cs)return t.ONE;if(r===Zi)return e;let n=t.ONE,i=e;for(;r>Cs;)r&Zi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Zi;return n}function AU(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function TR(t,e){const r=(t.ORDER-Zi)/ad,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function xte(t,e){e!==void 0&&Ll(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function W0(t,e,r=!1,n={}){if(t<=Cs)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=xte(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:M1(o),ZERO:Cs,ONE:Zi,create:u=>Ao(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Cs<=u&&u<t},is0:u=>u===Cs,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Zi)===Zi,neg:u=>Ao(-u,t),eql:(u,f)=>u===f,sqr:u=>Ao(u*u,t),add:(u,f)=>Ao(u+f,t),sub:(u,f)=>Ao(u-f,t),mul:(u,f)=>Ao(u*f,t),pow:(u,f)=>vte(l,u,f),div:(u,f)=>Ao(u*IR(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>IR(u,t),sqrt:s||(u=>(c||(c=wte(t)),c(l,u))),toBytes:u=>r?pS(u,a):hS(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?p_(u):k1(u)},invertBatch:u=>AU(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function CU(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function NU(t){const e=CU(t);return e+Math.ceil(e/2)}function Ate(t,e,r=!1){const n=t.length,i=CU(e),s=NU(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?p_(t):k1(t),a=Ao(o,e-Zi)+Zi;return r?pS(a,i):hS(a,i)}const A0=BigInt(0),cd=BigInt(1);function ug(t,e){const r=e.negate();return t?r:e}function Cte(t,e,r){const n=s=>s.pz,i=AU(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function SU(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function jv(t,e){SU(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=M1(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function RR(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=cd);const l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function Nte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Ste(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Hv=new WeakMap,IU=new WeakMap;function Wv(t){return IU.get(t)||1}function PR(t){if(t!==A0)throw new Error("invalid wNAF")}function Ite(t,e){return{constTimeNegate:ug,hasPrecomputes(r){return Wv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>A0;)n&cd&&(i=i.add(s)),s=s.double(),n>>=cd;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=jv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=jv(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:m}=RR(i,c,a);i=l,f?o=o.add(ug(h,n[m])):s=s.add(ug(d,n[u]))}return PR(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=jv(r,e);for(let a=0;a<o.windows&&i!==A0;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=RR(i,a,o);if(i=c,!u){const d=n[l];s=s.add(f?d.negate():d)}}return PR(i),s},getPrecomputes(r,n,i){let s=Hv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Hv.set(n,s))),s},wNAFCached(r,n,i){const s=Wv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Wv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){SU(n,e),IU.set(r,n),Hv.delete(r)}}}function Tte(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>A0||n>A0;)r&cd&&(s=s.add(i)),n&cd&&(o=o.add(i)),i=i.double(),r>>=cd,n>>=cd;return{p1:s,p2:o}}function Rte(t,e,r,n){Nte(r,t),Ste(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=pte(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=M1(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const b=n[g],E=Number(b>>BigInt(h)&l);u[E]=u[E].add(r[g])}let m=o;for(let g=u.length-1,b=o;g>0;g--)b=b.add(u[g]),m=m.add(b);if(d=d.add(m),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function OR(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Ete(e),e}else return W0(t)}function Pte(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>A0))throw new Error(`CURVE.${o} must be positive bigint`)}const n=OR(e.p,r.Fp),i=OR(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const yp=BigInt(0),sh=BigInt(1),ab=BigInt(2);function Ote(t){return U1(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Dte(t){const e=Ote(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||H0,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?ab**BigInt(254):ab**BigInt(447),m=a?BigInt(8)*ab**BigInt(251)-sh:BigInt(4)*ab**BigInt(445)-sh,g=h+m+sh,b=v=>Ao(v,r),E=A(f);function A(v){return pS(b(v),u)}function S(v){const M=_s("u coordinate",v,u);return a&&(M[31]&=127),b(p_(M))}function T(v){return p_(i(_s("scalar",v,u)))}function P(v,M){const $=N(S(M),T(v));if($===yp)throw new Error("invalid private or public key received");return A($)}function k(v){return P(v,E)}function F(v,M,$){const O=b(v*(M-$));return M=b(M-O),$=b($+O),{x_2:M,x_3:$}}function N(v,M){k2("u",v,yp,r),k2("scalar",M,h,g);const $=M,O=v;let C=sh,p=yp,y=v,w=sh,x=yp;for(let U=BigInt(l-1);U>=yp;U--){const B=$>>U&sh;x^=B,{x_2:C,x_3:y}=F(x,C,y),{x_2:p,x_3:w}=F(x,p,w),x=B;const D=C+p,_=b(D*D),L=C-p,G=b(L*L),R=_-G,V=y+w,K=y-w,X=b(K*D),Q=b(V*L),ie=X+Q,le=X-Q;y=b(ie*ie),w=b(O*b(le*le)),C=b(_*G),p=b(R*(_+b(d*R)))}({x_2:C,x_3:y}=F(x,C,y)),{x_2:p,x_3:w}=F(x,p,w);const I=s(p);return b(C*I)}return{scalarMult:P,scalarMultBase:k,getSharedSecret:(v,M)=>P(v,M),getPublicKey:v=>k(v),utils:{randomPrivateKey:()=>c(u)},GuBytes:E.slice()}}BigInt(0);const kte=BigInt(1),DR=BigInt(2),Mte=BigInt(3),Ute=BigInt(5);BigInt(8);const TU={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function $te(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=TU.p,o=t*t%s*t%s,a=ia(o,DR,s)*o%s,c=ia(a,kte,s)*t%s,l=ia(c,Ute,s)*c%s,u=ia(l,e,s)*l%s,f=ia(u,r,s)*u%s,d=ia(f,n,s)*f%s,h=ia(d,i,s)*d%s,m=ia(h,i,s)*d%s,g=ia(m,e,s)*l%s;return{pow_p_5_8:ia(g,DR,s)*t%s,b2:o}}function Lte(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const M2=(()=>{const t=TU.p;return Dte({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=$te(e);return Ao(ia(r,Mte,t)*n,t)},adjustScalarBytes:Lte})})();function kR(t){t.lowS!==void 0&&h_("lowS",t.lowS),t.prehash!==void 0&&h_("prehash",t.prehash)}class Fte extends Error{constructor(e=""){super(e)}}const bl={Err:Fte,_tlv:{encode:(t,e)=>{const{Err:r}=bl;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=ob(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?ob(i.length/2|128):"";return ob(t)+s+i+e},decode(t,e){const{Err:r}=bl;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=bl;if(t<fg)throw new e("integer: negative integers are not allowed");let r=ob(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=bl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return k1(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=bl,i=_s("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=bl,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},fg=BigInt(0),dg=BigInt(1),Bte=BigInt(2),cb=BigInt(3),jte=BigInt(4);function Hte(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function RU(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=_s("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Wte(t,e={}){const{Fp:r,Fn:n}=Pte("weierstrass",t,e),{h:i,n:s}=t;U1(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(N,v,M){const{x:$,y:O}=v.toAffine(),C=r.toBytes($);if(h_("isCompressed",M),M){a();const p=!r.isOdd(O);return od(PU(p),C)}else return od(Uint8Array.of(4),C,r.toBytes(O))}function l(N){ko(N);const v=r.BYTES,M=v+1,$=2*v+1,O=N.length,C=N[0],p=N.subarray(1);if(O===M&&(C===2||C===3)){const y=r.fromBytes(p);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");const w=d(y);let x;try{x=r.sqrt(w)}catch(U){const B=U instanceof Error?": "+U.message:"";throw new Error("bad point: is not on curve, sqrt error"+B)}a();const I=r.isOdd(x);return(C&1)===1!==I&&(x=r.neg(x)),{x:y,y:x}}else if(O===$&&C===4){const y=r.fromBytes(p.subarray(v*0,v*1)),w=r.fromBytes(p.subarray(v*1,v*2));if(!h(y,w))throw new Error("bad point: is not on curve");return{x:y,y:w}}else throw new Error(`bad point: got length ${O}, expected compressed=${M} or uncompressed=${$}`)}const u=e.toBytes||c,f=e.fromBytes||l,d=Hte(r,t.a,t.b);function h(N,v){const M=r.sqr(v),$=d(N);return r.eql(M,$)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(t.a,cb),jte),g=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function b(N,v,M=!1){if(!r.isValid(v)||M&&r.is0(v))throw new Error(`bad point coordinate ${N}`);return v}function E(N){if(!(N instanceof P))throw new Error("ProjectivePoint expected")}const A=SR((N,v)=>{const{px:M,py:$,pz:O}=N;if(r.eql(O,r.ONE))return{x:M,y:$};const C=N.is0();v==null&&(v=C?r.ONE:r.inv(O));const p=r.mul(M,v),y=r.mul($,v),w=r.mul(O,v);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(w,r.ONE))throw new Error("invZ was invalid");return{x:p,y}}),S=SR(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}const{x:v,y:M}=N.toAffine();if(!r.isValid(v)||!r.isValid(M))throw new Error("bad point: x or y not field elements");if(!h(v,M))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function T(N,v,M,$,O){return M=new P(r.mul(M.px,N),M.py,M.pz),v=ug($,v),M=ug(O,M),v.add(M)}class P{constructor(v,M,$){this.px=b("x",v),this.py=b("y",M,!0),this.pz=b("z",$),Object.freeze(this)}static fromAffine(v){const{x:M,y:$}=v||{};if(!v||!r.isValid(M)||!r.isValid($))throw new Error("invalid affine point");if(v instanceof P)throw new Error("projective point not allowed");return r.is0(M)&&r.is0($)?P.ZERO:new P(M,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){return Cte(P,"pz",v)}static fromBytes(v){return ko(v),P.fromHex(v)}static fromHex(v){const M=P.fromAffine(f(_s("pointHex",v)));return M.assertValidity(),M}static fromPrivateKey(v){const M=RU(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return P.BASE.multiply(M(v))}static msm(v,M){return Rte(P,n,v,M)}precompute(v=8,M=!0){return F.setWindowSize(this,v),M||this.multiply(cb),this}_setWindowSize(v){this.precompute(v)}assertValidity(){S(this)}hasEvenY(){const{y:v}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(v)}equals(v){E(v);const{px:M,py:$,pz:O}=this,{px:C,py:p,pz:y}=v,w=r.eql(r.mul(M,y),r.mul(C,O)),x=r.eql(r.mul($,y),r.mul(p,O));return w&&x}negate(){return new P(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:M}=t,$=r.mul(M,cb),{px:O,py:C,pz:p}=this;let y=r.ZERO,w=r.ZERO,x=r.ZERO,I=r.mul(O,O),U=r.mul(C,C),B=r.mul(p,p),D=r.mul(O,C);return D=r.add(D,D),x=r.mul(O,p),x=r.add(x,x),y=r.mul(v,x),w=r.mul($,B),w=r.add(y,w),y=r.sub(U,w),w=r.add(U,w),w=r.mul(y,w),y=r.mul(D,y),x=r.mul($,x),B=r.mul(v,B),D=r.sub(I,B),D=r.mul(v,D),D=r.add(D,x),x=r.add(I,I),I=r.add(x,I),I=r.add(I,B),I=r.mul(I,D),w=r.add(w,I),B=r.mul(C,p),B=r.add(B,B),I=r.mul(B,D),y=r.sub(y,I),x=r.mul(B,U),x=r.add(x,x),x=r.add(x,x),new P(y,w,x)}add(v){E(v);const{px:M,py:$,pz:O}=this,{px:C,py:p,pz:y}=v;let w=r.ZERO,x=r.ZERO,I=r.ZERO;const U=t.a,B=r.mul(t.b,cb);let D=r.mul(M,C),_=r.mul($,p),L=r.mul(O,y),G=r.add(M,$),R=r.add(C,p);G=r.mul(G,R),R=r.add(D,_),G=r.sub(G,R),R=r.add(M,O);let V=r.add(C,y);return R=r.mul(R,V),V=r.add(D,L),R=r.sub(R,V),V=r.add($,O),w=r.add(p,y),V=r.mul(V,w),w=r.add(_,L),V=r.sub(V,w),I=r.mul(U,R),w=r.mul(B,L),I=r.add(w,I),w=r.sub(_,I),I=r.add(_,I),x=r.mul(w,I),_=r.add(D,D),_=r.add(_,D),L=r.mul(U,L),R=r.mul(B,R),_=r.add(_,L),L=r.sub(D,L),L=r.mul(U,L),R=r.add(R,L),D=r.mul(_,R),x=r.add(x,D),D=r.mul(V,R),w=r.mul(G,w),w=r.sub(w,D),D=r.mul(G,_),I=r.mul(V,I),I=r.add(I,D),new P(w,x,I)}subtract(v){return this.add(v.negate())}is0(){return this.equals(P.ZERO)}multiply(v){const{endo:M}=e;if(!n.isValidNot0(v))throw new Error("invalid scalar: out of range");let $,O;const C=p=>F.wNAFCached(this,p,P.normalizeZ);if(M){const{k1neg:p,k1:y,k2neg:w,k2:x}=M.splitScalar(v),{p:I,f:U}=C(y),{p:B,f:D}=C(x);O=U.add(D),$=T(M.beta,I,B,p,w)}else{const{p,f:y}=C(v);$=p,O=y}return P.normalizeZ([$,O])[0]}multiplyUnsafe(v){const{endo:M}=e,$=this;if(!n.isValid(v))throw new Error("invalid scalar: out of range");if(v===fg||$.is0())return P.ZERO;if(v===dg)return $;if(F.hasPrecomputes(this))return this.multiply(v);if(M){const{k1neg:O,k1:C,k2neg:p,k2:y}=M.splitScalar(v),{p1:w,p2:x}=Tte(P,$,C,y);return T(M.beta,w,x,O,p)}else return F.wNAFCachedUnsafe($,v)}multiplyAndAddUnsafe(v,M,$){const O=this.multiplyUnsafe(M).add(v.multiplyUnsafe($));return O.is0()?void 0:O}toAffine(v){return A(this,v)}isTorsionFree(){const{isTorsionFree:v}=e;return i===dg?!0:v?v(P,this):F.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:v}=e;return i===dg?this:v?v(P,this):this.multiplyUnsafe(i)}toBytes(v=!0){return h_("isCompressed",v),this.assertValidity(),u(P,this,v)}toRawBytes(v=!0){return this.toBytes(v)}toHex(v=!0){return hm(this.toBytes(v))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}P.BASE=new P(t.Gx,t.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=n;const k=n.BITS,F=Ite(P,e.endo?Math.ceil(k/2):k);return P}function PU(t){return Uint8Array.of(t?2:3)}function qte(t,e,r={}){U1(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||H0,i=e.hmac||(($,...O)=>O1(e.hash,$,od(...O))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l($){const O=a>>dg;return $>O}function u($){return l($)?o.neg($):$}function f($,O){if(!o.isValidNot0(O))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class d{constructor(O,C,p){f("r",O),f("s",C),this.r=O,this.s=C,p!=null&&(this.recovery=p),Object.freeze(this)}static fromCompact(O){const C=o.BYTES,p=_s("compactSignature",O,C*2);return new d(o.fromBytes(p.subarray(0,C)),o.fromBytes(p.subarray(C,C*2)))}static fromDER(O){const{r:C,s:p}=bl.toSig(_s("DER",O));return new d(C,p)}assertValidity(){}addRecoveryBit(O){return new d(this.r,this.s,O)}recoverPublicKey(O){const C=s.ORDER,{r:p,s:y,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");if(a*Bte<C&&w>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=w===2||w===3?p+a:p;if(!s.isValid(x))throw new Error("recovery id 2 or 3 invalid");const I=s.toBytes(x),U=t.fromHex(od(PU((w&1)===0),I)),B=o.inv(x),D=S(_s("msgHash",O)),_=o.create(-D*B),L=o.create(y*B),G=t.BASE.multiplyUnsafe(_).add(U.multiplyUnsafe(L));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(O){if(O==="compact")return od(o.toBytes(this.r),o.toBytes(this.s));if(O==="der")return lS(bl.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return hm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return hm(this.toBytes("compact"))}}const h=RU(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),m={isValidPrivateKey($){try{return h($),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const $=a;return Ate(n(NU($)),$)},precompute($=8,O=t.BASE){return O.precompute($,!1)}};function g($,O=!0){return t.fromPrivateKey($).toBytes(O)}function b($){if(typeof $=="bigint")return!1;if($ instanceof t)return!0;const O=_s("key",$).length,C=s.BYTES,p=C+1,y=2*C+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===p))return O===p||O===y}function E($,O,C=!0){if(b($)===!0)throw new Error("first arg must be private key");if(b(O)===!1)throw new Error("second arg must be public key");return t.fromHex(O).multiply(h($)).toBytes(C)}const A=e.bits2int||function($){if($.length>8192)throw new Error("input is too large");const O=k1($),C=$.length*8-c;return C>0?O>>BigInt(C):O},S=e.bits2int_modN||function($){return o.create(A($))},T=M1(c);function P($){return k2("num < 2^"+c,$,fg,T),o.toBytes($)}function k($,O,C=F){if(["recovered","canonical"].some(G=>G in C))throw new Error("sign() legacy options not supported");const{hash:p}=e;let{lowS:y,prehash:w,extraEntropy:x}=C;y==null&&(y=!0),$=_s("msgHash",$),kR(C),w&&($=_s("prehashed msgHash",p($)));const I=S($),U=h(O),B=[P(U),P(I)];if(x!=null&&x!==!1){const G=x===!0?n(s.BYTES):x;B.push(_s("extraEntropy",G))}const D=od(...B),_=I;function L(G){const R=A(G);if(!o.isValidNot0(R))return;const V=o.inv(R),K=t.BASE.multiply(R).toAffine(),X=o.create(K.x);if(X===fg)return;const Q=o.create(V*o.create(_+X*U));if(Q===fg)return;let ie=(K.x===X?0:2)|Number(K.y&dg),le=Q;return y&&l(Q)&&(le=u(Q),ie^=1),new d(X,le,ie)}return{seed:D,k2sig:L}}const F={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function v($,O,C=F){const{seed:p,k2sig:y}=k($,O,C);return gte(e.hash.outputLen,o.BYTES,i)(p,y)}t.BASE.precompute(8);function M($,O,C,p=N){const y=$;O=_s("msgHash",O),C=_s("publicKey",C),kR(p);const{lowS:w,prehash:x,format:I}=p;if("strict"in p)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&!["compact","der","js"].includes(I))throw new Error('format must be "compact", "der" or "js"');const U=typeof y=="string"||oS(y),B=!U&&!I&&typeof y=="object"&&y!==null&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!U&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let D,_;try{if(B)if(I===void 0||I==="js")D=new d(y.r,y.s);else throw new Error("invalid format");if(U){try{I!=="compact"&&(D=d.fromDER(y))}catch(ie){if(!(ie instanceof bl.Err))throw ie}!D&&I!=="der"&&(D=d.fromCompact(y))}_=t.fromHex(C)}catch{return!1}if(!D||w&&D.hasHighS())return!1;x&&(O=e.hash(O));const{r:L,s:G}=D,R=S(O),V=o.inv(G),K=o.create(R*V),X=o.create(L*V),Q=t.BASE.multiplyUnsafe(K).add(_.multiplyUnsafe(X));return Q.is0()?!1:o.create(Q.x)===L}return Object.freeze({getPublicKey:g,getSharedSecret:E,sign:v,verify:M,utils:m,Point:t,Signature:d})}function zte(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=W0(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Gte(t){const{CURVE:e,curveOpts:r}=zte(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function Kte(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Vte(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=Gte(t),i=Wte(e,r),s=qte(i,n,r);return Kte(t,s)}function U2(t,e){const r=n=>Vte({...t,hash:n});return{...r(e),create:r}}const OU={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},DU={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},kU={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Jte=W0(OU.p),Yte=W0(DU.p),Xte=W0(kU.p),Qte=U2({...OU,Fp:Jte,lowS:!1},P1);U2({...DU,Fp:Yte,lowS:!1},oee),U2({...kU,Fp:Xte,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},see);const Zte=Qte,MU="base10",es="base16",vs="base64pad",Pu="base64url",_y="utf8",UU=0,Il=1,Ey=2,ere=0,MR=1,hg=12,gS=32;function tre(){const t=M2.utils.randomPrivateKey(),e=M2.getPublicKey(t);return{privateKey:Is(t,es),publicKey:Is(e,es)}}function $2(){const t=H0(gS);return Is(t,es)}function rre(t,e){const r=M2.getSharedSecret(So(t,es),So(e,es)),n=dte(D1,r,void 0,void 0,gS);return Is(n,es)}function Wb(t){const e=D1(So(t,es));return Is(e,es)}function Eo(t){const e=D1(So(t,_y));return Is(e,es)}function $U(t){return So(`${t}`,MU)}function Td(t){return Number(Is(t,MU))}function LU(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function FU(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function nre(t){const e=$U(typeof t.type<"u"?t.type:UU);if(Td(e)===Il&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?So(t.senderPublicKey,es):void 0,n=typeof t.iv<"u"?So(t.iv,es):H0(hg),i=So(t.symKey,es),s=yU(i,n).encrypt(So(t.message,_y)),o=BU({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Pu?LU(o):o}function ire(t){const e=So(t.symKey,es),{sealed:r,iv:n}=gm({encoded:t.encoded,encoding:t.encoding}),i=yU(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Is(i,_y)}function sre(t,e){const r=$U(Ey),n=H0(hg),i=So(t,_y),s=BU({type:r,sealed:i,iv:n});return e===Pu?LU(s):s}function ore(t,e){const{sealed:r}=gm({encoded:t,encoding:e});return Is(r,_y)}function BU(t){if(Td(t.type)===Ey)return Is(lg([t.type,t.sealed]),vs);if(Td(t.type)===Il){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Is(lg([t.type,t.senderPublicKey,t.iv,t.sealed]),vs)}return Is(lg([t.type,t.iv,t.sealed]),vs)}function gm(t){const e=(t.encoding||vs)===Pu?FU(t.encoded):t.encoded,r=So(e,vs),n=r.slice(ere,MR),i=MR;if(Td(n)===Il){const c=i+gS,l=c+hg,u=r.slice(i,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(Td(n)===Ey){const c=r.slice(i),l=H0(hg);return{type:n,sealed:c,iv:l}}const s=i+hg,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function are(t,e){const r=gm({encoded:t,encoding:e?.encoding});return jU({type:Td(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Is(r.senderPublicKey,es):void 0,receiverPublicKey:e?.receiverPublicKey})}function jU(t){const e=t?.type||UU;if(e===Il){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function UR(t){return t.type===Il&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function $R(t){return t.type===Ey}function cre(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return lg([new Uint8Array([4]),e,r])}function lre(t,e){const[r,n,i]=t.split("."),s=Buffer.from(FU(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=D1(c),u=cre(e);if(!Zte.verify(lg([o,a]),l,u))throw new Error("Invalid signature");return b2(t).payload}const ure="irn";function g_(t){return t?.relay||{protocol:ure}}function Vh(t){const e=GQ[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function fre(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function LR(t){if(!t.includes("wc:")){const l=Q9(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:dre(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:fre(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function dre(t){return t.startsWith("//")?t.substring(2):t}function hre(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function FR(t){const e=new URLSearchParams,r=hre(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function lb(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var pre=Object.defineProperty,gre=Object.defineProperties,mre=Object.getOwnPropertyDescriptors,BR=Object.getOwnPropertySymbols,yre=Object.prototype.hasOwnProperty,bre=Object.prototype.propertyIsEnumerable,jR=(t,e,r)=>e in t?pre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wre=(t,e)=>{for(var r in e||(e={}))yre.call(e,r)&&jR(t,r,e[r]);if(BR)for(var r of BR(e))bre.call(e,r)&&jR(t,r,e[r]);return t},_re=(t,e)=>gre(t,mre(e));function q0(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Ere(t){const e=[];return Object.values(t).forEach(r=>{e.push(...q0(r.accounts))}),e}function vre(t,e){const r=[];return Object.values(t).forEach(n=>{q0(n.accounts).includes(e)&&r.push(...n.methods)}),r}function xre(t,e){const r=[];return Object.values(t).forEach(n=>{q0(n.accounts).includes(e)&&r.push(...n.events)}),r}function $1(t){return t.includes(":")}function Jh(t){return $1(t)?t.split(":")[0]:t}function HR(t){var e,r,n;const i={};if(!Dc(t))return i;for(const[s,o]of Object.entries(t)){const a=$1(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Jh(s);i[u]=_re(wre({},i[u]),{chains:Oc(a,(e=i[u])==null?void 0:e.chains),methods:Oc(c,(r=i[u])==null?void 0:r.methods),events:Oc(l,(n=i[u])==null?void 0:n.events)})}return i}function Are(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function WR(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Are(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Oc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Cre(t,e){var r,n,i,s,o,a;const c=HR(t),l=HR(e),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:Oc((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:Oc((i=c[d])==null?void 0:i.methods,(s=l[d])==null?void 0:s.methods),events:Oc((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const Nre={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Sre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ae(t,e){const{message:r,code:n}=Sre[t];return{message:e?`${r} ${e}`:r,code:n}}function $r(t,e){const{message:r,code:n}=Nre[t];return{message:e?`${r} ${e}`:r,code:n}}function Tl(t,e){return!!Array.isArray(t)}function Dc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $n(t){return typeof t>"u"}function pn(t,e){return e&&$n(t)?!0:typeof t=="string"&&!!t.trim().length}function mS(t,e){return e&&$n(t)?!0:typeof t=="number"&&!isNaN(t)}function Ire(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return sd(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=q0(a),f=r[o];(!sd(K9(o,f),u)||!sd(f.methods,c)||!sd(f.events,l))&&(s=!1)}),s):!1}function m_(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Tre(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&m_(r)}}return!1}function Rre(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const r=Q9(t);return e(r)}}catch{}return!1}function Pre(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Ore(t){return t?.topic}function Dre(t,e){let r=null;return pn(t?.publicKey,!1)||(r=Ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function qR(t){let e=!0;return Tl(t)?t.length&&(e=t.every(r=>pn(r,!1))):e=!1,e}function kre(t,e,r){let n=null;return Tl(e)&&e.length?e.forEach(i=>{n||m_(i)||(n=$r("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):m_(t)||(n=$r("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Mre(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=kre(i,K9(i,s),`${e} ${r}`);o&&(n=o)}),n}function Ure(t,e){let r=null;return Tl(t)?t.forEach(n=>{r||Tre(n)||(r=$r("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=$r("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function $re(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Ure(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Lre(t,e){let r=null;return qR(t?.methods)?qR(t?.events)||(r=$r("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=$r("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function HU(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Lre(n,`${e}, namespace`);i&&(r=i)}),r}function Fre(t,e,r){let n=null;if(t&&Dc(t)){const i=HU(t,e);i&&(n=i);const s=Mre(t,e,r);s&&(n=s)}else n=Ae("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function qv(t,e){let r=null;if(t&&Dc(t)){const n=HU(t,e);n&&(r=n);const i=$re(t,e);i&&(r=i)}else r=Ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function WU(t){return pn(t.protocol,!0)}function Bre(t,e){let r=!1;return t?t&&Tl(t)&&t.length&&t.forEach(n=>{r=WU(n)}):r=!0,r}function jre(t){return typeof t=="number"}function bs(t){return typeof t<"u"&&typeof t!==null}function Hre(t){return!(!t||typeof t!="object"||!t.code||!mS(t.code,!1)||!t.message||!pn(t.message,!1))}function Wre(t){return!($n(t)||!pn(t.method,!1))}function qre(t){return!($n(t)||$n(t.result)&&$n(t.error)||!mS(t.id,!1)||!pn(t.jsonrpc,!1))}function zre(t){return!($n(t)||!pn(t.name,!1))}function zR(t,e){return!(!m_(e)||!Ere(t).includes(e))}function Gre(t,e,r){return pn(r,!1)?vre(t,e).includes(r):!1}function Kre(t,e,r){return pn(r,!1)?xre(t,e).includes(r):!1}function GR(t,e,r){let n=null;const i=Vre(t),s=Jre(e),o=Object.keys(i),a=Object.keys(s),c=KR(Object.keys(t)),l=KR(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),sd(o,a)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=q0(e[f].accounts);d.includes(f)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(sd(i[f].methods,s[f].methods)?sd(i[f].events,s[f].events)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Vre(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function KR(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Jre(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:q0(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function Yre(t,e){return mS(t,!1)&&t<=e.max&&t>=e.min}function VR(){const t=by();return new Promise(e=>{switch(t){case Vs.browser:e(Xre());break;case Vs.reactNative:e(Qre());break;case Vs.node:e(Zre());break;default:e(!0)}})}function Xre(){return j0()&&navigator?.onLine}async function Qre(){return hf()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Zre(){return!0}function ene(t){switch(by()){case Vs.browser:tne(t);break;case Vs.reactNative:rne(t);break}}function tne(t){!hf()&&j0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function rne(t){hf()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function nne(){var t;return j0()&&$l.getDocument()?((t=$l.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const zv={};class bp{static get(e){return zv[e]}static set(e,r){zv[e]=r}static delete(e){delete zv[e]}}function ine(t){const e=B0.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function sne({publicKey:t,signature:e,payload:r}){var n;const i=L2(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=cne(r.address),a=r.era==="00"?new Uint8Array([0]):L2(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${ane(r.tip)}`),f=une(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...i]),h=lne(d.length+1);return new Uint8Array([...h,s,...d])}function one(t){const e=L2(t),r=YQ.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function L2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function ane(t){return t.startsWith("0x")?t.slice(2):t}function cne(t){const e=B0.decode(t)[0];return e===42?0:e===60?2:1}function lne(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function une(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function fne(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=ine(t.transaction.address),n=sne({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return one(i)}const dne="PARSE_ERROR",hne="INVALID_REQUEST",pne="METHOD_NOT_FOUND",gne="INVALID_PARAMS",qU="INTERNAL_ERROR",yS="SERVER_ERROR",mne=[-32700,-32600,-32601,-32602,-32603],pg={[dne]:{code:-32700,message:"Parse error"},[hne]:{code:-32600,message:"Invalid Request"},[pne]:{code:-32601,message:"Method not found"},[gne]:{code:-32602,message:"Invalid params"},[qU]:{code:-32603,message:"Internal error"},[yS]:{code:-32e3,message:"Server error"}},zU=yS;function yne(t){return mne.includes(t)}function JR(t){return Object.keys(pg).includes(t)?pg[t]:pg[zU]}function bne(t){const e=Object.values(pg).find(r=>r.code===t);return e||pg[zU]}function GU(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Gv={},Xc={},YR;function wne(){if(YR)return Xc;YR=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.isBrowserCryptoAvailable=Xc.getSubtleCrypto=Xc.getBrowerCrypto=void 0;function t(){return Oa?.crypto||Oa?.msCrypto||{}}Xc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Xc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Xc.isBrowserCryptoAvailable=r,Xc}var Qc={},XR;function _ne(){if(XR)return Qc;XR=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.isBrowser=Qc.isNode=Qc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Qc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Qc.isNode=e;function r(){return!t()&&!e()}return Qc.isBrowser=r,Qc}var QR;function Ene(){return QR||(QR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=dy;e.__exportStar(wne(),t),e.__exportStar(_ne(),t)})(Gv)),Gv}var vne=Ene();function gc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Mu(t=6){return BigInt(gc(t))}function Ec(t,e,r){return{id:r||gc(),jsonrpc:"2.0",method:t,params:e}}function mm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function L1(t,e,r){return{id:t,jsonrpc:"2.0",error:xne(e)}}function xne(t,e){return typeof t>"u"?JR(qU):(typeof t=="string"&&(t=Object.assign(Object.assign({},JR(yS)),{message:t})),yne(t.code)&&(t=bne(t.code)),t)}let Ane=class{},Cne=class extends Ane{constructor(){super()}},Nne=class extends Cne{constructor(e){super()}};const Sne="^https?:",Ine="^wss?:";function Tne(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function KU(t,e){const r=Tne(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function ZR(t){return KU(t,Sne)}function eP(t){return KU(t,Ine)}function Rne(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function VU(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function bS(t){return VU(t)&&"method"in t}function F1(t){return VU(t)&&(mc(t)||vo(t))}function mc(t){return"result"in t}function vo(t){return"error"in t}let jo=class extends Nne{constructor(e){super(e),this.events=new Bo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ec(e.method,e.params||[],e.id||Mu().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{vo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),F1(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Pne=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),One=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",tP=t=>t.split("?")[0],rP=10,Dne=Pne();let kne=class{constructor(e){if(this.url=e,this.events=new Bo.EventEmitter,this.registering=!1,!eP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ul(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!eP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=vne.isReactNative()?void 0:{rejectUnauthorized:!Rne(e)},s=new Dne(e,[],i);One()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Nd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=L1(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return GU(e,tP(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>rP&&this.events.setMaxListeners(rP)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${tP(this.url)}`));return this.events.emit("register_error",r),r}};var Mne={};const JU="wc",YU=2,F2="core",Lc=`${JU}@2:${F2}:`,Une={logger:"error"},$ne={database:":memory:"},Lne="crypto",nP="client_ed25519_seed",Fne=Ce.ONE_DAY,Bne="keychain",jne="0.3",Hne="messages",Wne="0.3",qne=Ce.SIX_HOURS,zne="publisher",XU="irn",Gne="error",QU="wss://relay.walletconnect.org",Kne="relayer",an={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Vne="_subscription",oo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Jne=.1,B2="2.21.7",Dr={link_mode:"link_mode",relay:"relay"},qb={inbound:"inbound",outbound:"outbound"},Yne="0.3",Xne="WALLETCONNECT_CLIENT_ID",iP="WALLETCONNECT_LINK_MODE_APPS",Us={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Qne="subscription",Zne="0.3",eie="pairing",tie="0.3",wp={wc_pairingDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:0}}},Xf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ea={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rie="history",nie="0.3",iie="expirer",wo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},sie="0.3",oie="verify-api",aie="https://verify.walletconnect.com",ZU="https://verify.walletconnect.org",gg=ZU,cie=`${gg}/v3`,lie=[aie,ZU],uie="echo",fie="https://echo.walletconnect.com",dc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ol={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},fu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},_p={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Lf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Ep={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},die=.1,hie="event-client",pie=86400,gie="https://pulse.walletconnect.org/batch";function mie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,E=0,A=m.length;E!==A&&m[E]===0;)E++,g++;for(var S=(A-E)*u+1>>>0,T=new Uint8Array(S);E!==A;){for(var P=m[E],k=0,F=S-1;(P!==0||k<b)&&F!==-1;F--,k++)P+=256*T[F]>>>0,T[F]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");b=k,E++}for(var N=S-b;N!==S&&T[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(T[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,E=0;m[g]===c;)b++,g++;for(var A=(m.length-g)*l+1>>>0,S=new Uint8Array(A);m[g];){var T=r[m.charCodeAt(g)];if(T===255)return;for(var P=0,k=A-1;(T!==0||P<E)&&k!==-1;k--,P++)T+=a*S[k]>>>0,S[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=P,g++}if(m[g]!==" "){for(var F=A-E;F!==A&&S[F]===0;)F++;for(var N=new Uint8Array(b+(A-F)),v=b;F!==A;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var yie=mie,bie=yie;const e7=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},wie=t=>new TextEncoder().encode(t),_ie=t=>new TextDecoder().decode(t);class Eie{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class vie{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return t7(this,e)}}class xie{constructor(e){this.decoders=e}or(e){return t7(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const t7=(t,e)=>new xie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Aie{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Eie(e,r,n),this.decoder=new vie(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const B1=({name:t,prefix:e,encode:r,decode:n})=>new Aie(t,e,r,n),vy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=bie(r,e);return B1({prefix:t,name:e,encode:n,decode:s=>e7(i(s))})},Cie=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Nie=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>B1({prefix:e,name:t,encode(i){return Nie(i,n,r)},decode(i){return Cie(i,n,r,t)}}),Sie=B1({prefix:"\0",name:"identity",encode:t=>_ie(t),decode:t=>wie(t)});var Iie=Object.freeze({__proto__:null,identity:Sie});const Tie=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Rie=Object.freeze({__proto__:null,base2:Tie});const Pie=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Oie=Object.freeze({__proto__:null,base8:Pie});const Die=vy({prefix:"9",name:"base10",alphabet:"0123456789"});var kie=Object.freeze({__proto__:null,base10:Die});const Mie=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Uie=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $ie=Object.freeze({__proto__:null,base16:Mie,base16upper:Uie});const Lie=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Fie=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bie=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jie=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Hie=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wie=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),qie=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zie=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Gie=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Kie=Object.freeze({__proto__:null,base32:Lie,base32upper:Fie,base32pad:Bie,base32padupper:jie,base32hex:Hie,base32hexupper:Wie,base32hexpad:qie,base32hexpadupper:zie,base32z:Gie});const Vie=vy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Jie=vy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Yie=Object.freeze({__proto__:null,base36:Vie,base36upper:Jie});const Xie=vy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qie=vy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Zie=Object.freeze({__proto__:null,base58btc:Xie,base58flickr:Qie});const ese=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tse=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rse=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),nse=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ise=Object.freeze({__proto__:null,base64:ese,base64pad:tse,base64url:rse,base64urlpad:nse});const r7=Array.from(""),sse=r7.reduce((t,e,r)=>(t[r]=e,t),[]),ose=r7.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ase(t){return t.reduce((e,r)=>(e+=sse[r],e),"")}function cse(t){const e=[];for(const r of t){const n=ose[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const lse=B1({prefix:"",name:"base256emoji",encode:ase,decode:cse});var use=Object.freeze({__proto__:null,base256emoji:lse}),fse=n7,sP=128,dse=-128,hse=Math.pow(2,31);function n7(t,e,r){e=e||[],r=r||0;for(var n=r;t>=hse;)e[r++]=t&255|sP,t/=128;for(;t&dse;)e[r++]=t&255|sP,t>>>=7;return e[r]=t|0,n7.bytes=r-n+1,e}var pse=j2,gse=128,oP=127;function j2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw j2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&oP)<<i:(o&oP)*Math.pow(2,i),i+=7}while(o>=gse);return j2.bytes=s-n,r}var mse=Math.pow(2,7),yse=Math.pow(2,14),bse=Math.pow(2,21),wse=Math.pow(2,28),_se=Math.pow(2,35),Ese=Math.pow(2,42),vse=Math.pow(2,49),xse=Math.pow(2,56),Ase=Math.pow(2,63),Cse=function(t){return t<mse?1:t<yse?2:t<bse?3:t<wse?4:t<_se?5:t<Ese?6:t<vse?7:t<xse?8:t<Ase?9:10},Nse={encode:fse,decode:pse,encodingLength:Cse},i7=Nse;const aP=(t,e,r=0)=>(i7.encode(t,e,r),e),cP=t=>i7.encodingLength(t),H2=(t,e)=>{const r=e.byteLength,n=cP(t),i=n+cP(r),s=new Uint8Array(i+r);return aP(t,s,0),aP(r,s,n),s.set(e,i),new Sse(t,r,e,s)};class Sse{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const s7=({name:t,code:e,encode:r})=>new Ise(t,e,r);class Ise{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?H2(this.code,r):r.then(n=>H2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const o7=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Tse=s7({name:"sha2-256",code:18,encode:o7("SHA-256")}),Rse=s7({name:"sha2-512",code:19,encode:o7("SHA-512")});var Pse=Object.freeze({__proto__:null,sha256:Tse,sha512:Rse});const a7=0,Ose="identity",c7=e7,Dse=t=>H2(a7,c7(t)),kse={code:a7,name:Ose,encode:c7,digest:Dse};var Mse=Object.freeze({__proto__:null,identity:kse});new TextEncoder,new TextDecoder;const lP={...Iie,...Rie,...Oie,...kie,...$ie,...Kie,...Yie,...Zie,...ise,...use};({...Pse,...Mse});function l7(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Use(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?l7(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function u7(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uP=u7("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Kv=u7("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Use(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),$se={utf8:uP,"utf-8":uP,hex:lP.base16,latin1:Kv,ascii:Kv,binary:Kv,...lP};function Lse(t,e="utf8"){const r=$se[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?l7(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Fse=Object.defineProperty,Bse=(t,e,r)=>e in t?Fse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lc=(t,e,r)=>Bse(t,typeof e!="symbol"?e+"":e,r);class jse{constructor(e,r){this.core=e,this.logger=r,lc(this,"keychain",new Map),lc(this,"name",Bne),lc(this,"version",jne),lc(this,"initialized",!1),lc(this,"storagePrefix",Lc),lc(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),lc(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),lc(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),lc(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ae("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),lc(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=ji(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,N2(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?S2(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Hse=Object.defineProperty,Wse=(t,e,r)=>e in t?Hse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>Wse(t,typeof e!="symbol"?e+"":e,r);class qse{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",Lne),ri(this,"keychain"),ri(this,"randomSessionIdentifier",$2()),ri(this,"initialized",!1),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ri(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=FT(i);return x9(s.publicKey)}),ri(this,"generateKeyPair",()=>{this.isInitialized();const i=tre();return this.setPrivateKey(i.publicKey,i.privateKey)}),ri(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=FT(s),a=this.randomSessionIdentifier;return await xY(a,i,Fne,o)}),ri(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=rre(a,s);return this.setSymKey(c,o)}),ri(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Wb(i);return await this.keychain.set(o,i),o}),ri(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"encode",async(i,s,o)=>{this.isInitialized();const a=jU(o),c=Ul(s);if($R(a))return sre(c,o?.encoding);if(UR(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return nre({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),ri(this,"decode",async(i,s,o)=>{this.isInitialized();const a=are(s,o);if($R(a)){const c=ore(s,o?.encoding);return Nd(c)}if(UR(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=ire({symKey:c,encoded:s,encoding:o?.encoding});return Nd(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ri(this,"getPayloadType",(i,s=vs)=>{const o=gm({encoded:i,encoding:s});return Td(o.type)}),ri(this,"getPayloadSenderPublicKey",(i,s=vs)=>{const o=gm({encoded:i,encoding:s});return o.senderPublicKey?Is(o.senderPublicKey,es):void 0}),this.core=e,this.logger=ji(r,this.name),this.keychain=n||new jse(this.core,this.logger)}get context(){return Os(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(nP)}catch{e=$2(),await this.keychain.set(nP,e)}return Lse(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var zse=Object.defineProperty,Gse=Object.defineProperties,Kse=Object.getOwnPropertyDescriptors,fP=Object.getOwnPropertySymbols,Vse=Object.prototype.hasOwnProperty,Jse=Object.prototype.propertyIsEnumerable,W2=(t,e,r)=>e in t?zse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yse=(t,e)=>{for(var r in e||(e={}))Vse.call(e,r)&&W2(t,r,e[r]);if(fP)for(var r of fP(e))Jse.call(e,r)&&W2(t,r,e[r]);return t},Xse=(t,e)=>Gse(t,Kse(e)),ks=(t,e,r)=>W2(t,typeof e!="symbol"?e+"":e,r);class Qse extends EK{constructor(e,r){super(e,r),this.logger=e,this.core=r,ks(this,"messages",new Map),ks(this,"messagesWithoutClientAck",new Map),ks(this,"name",Hne),ks(this,"version",Wne),ks(this,"initialized",!1),ks(this,"storagePrefix",Lc),ks(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),ks(this,"set",async(n,i,s)=>{this.isInitialized();const o=Eo(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===qb.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Xse(Yse({},c),{[o]:i}))}return await this.persist(),o}),ks(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),ks(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),ks(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Eo(i);return typeof s[o]<"u"}),ks(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Eo(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),ks(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=ji(e,this.name),this.core=r}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,N2(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,N2(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?S2(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?S2(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zse=Object.defineProperty,eoe=Object.defineProperties,toe=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,roe=Object.prototype.hasOwnProperty,noe=Object.prototype.propertyIsEnumerable,q2=(t,e,r)=>e in t?Zse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oh=(t,e)=>{for(var r in e||(e={}))roe.call(e,r)&&q2(t,r,e[r]);if(dP)for(var r of dP(e))noe.call(e,r)&&q2(t,r,e[r]);return t},hP=(t,e)=>eoe(t,toe(e)),ao=(t,e,r)=>q2(t,typeof e!="symbol"?e+"":e,r);class ioe extends vK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ao(this,"events",new Bo.EventEmitter),ao(this,"name",zne),ao(this,"queue",new Map),ao(this,"publishTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),ao(this,"initialPublishTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),ao(this,"needsTransportRestart",!1),ao(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=s?.ttl||qne,d=s?.prompt||!1,h=s?.tag||0,m=s?.id||Mu().toString(),g=Vh(g_().protocol),b={id:m,method:s?.publishMethod||g.publish,params:oh({topic:n,message:i,ttl:f,prompt:d,tag:h,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},E=`Failed to publish payload, please try again. id:${m} tag:${h}`;try{$n((o=b.params)==null?void 0:o.prompt)&&((a=b.params)==null||delete a.prompt),$n((c=b.params)==null?void 0:c.tag)&&((l=b.params)==null||delete l.tag);const A=new Promise(async S=>{const T=({id:k})=>{var F;((F=b.id)==null?void 0:F.toString())===k.toString()&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(an.publish,T),S())};this.relayer.events.on(an.publish,T);const P=Nc(new Promise((k,F)=>{this.rpcPublish(b,s).then(k).catch(N=>{this.logger.warn(N,N?.message),F(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${h}`);try{await P,this.events.removeListener(an.publish,T)}catch(k){this.queue.set(m,{request:b,opts:s,attempt:1}),this.logger.warn(k,k?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:n,message:i,opts:s}}),await Nc(A,this.publishTimeout,E)}catch(A){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(A),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw A}finally{this.queue.delete(m)}}),ao(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:h,prompt:m,tag:g,ttl:b=Ce.FIVE_MINUTES}=u,E=u.id||Mu().toString(),A=Vh(g_().protocol),S=h||A.publish,T={id:E,method:S,params:oh(hP(oh({},l),{ttl:b,prompt:m,tag:g,attestation:f}),d)},P=`Failed to publish custom payload, please try again. id:${E} tag:${g}`;try{$n((i=T.params)==null?void 0:i.prompt)&&((s=T.params)==null||delete s.prompt),$n((o=T.params)==null?void 0:o.tag)&&((a=T.params)==null||delete a.tag);const k=new Promise(async F=>{const N=({id:M})=>{var $;(($=T.id)==null?void 0:$.toString())===M.toString()&&(this.removeRequestFromQueue(M),this.relayer.events.removeListener(an.publish,N),F())};this.relayer.events.on(an.publish,N);const v=Nc(new Promise((M,$)=>{this.rpcPublish(T,u).then(M).catch(O=>{this.logger.warn(O,O?.message),$(O)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${E} tag:${g}`);try{await v,this.events.removeListener(an.publish,N)}catch(M){this.queue.set(E,{request:T,opts:u,attempt:1}),this.logger.warn(M,M?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:l,opts:u}}),await Nc(k,this.publishTimeout,P)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw k}finally{this.queue.delete(E)}}),ao(this,"on",(n,i)=>{this.events.on(n,i)}),ao(this,"once",(n,i)=>{this.events.once(n,i)}),ao(this,"off",(n,i)=>{this.events.off(n,i)}),ao(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=ji(r,this.name),this.registerEventListeners()}get context(){return Os(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(an.publish,oh(oh({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,hP(oh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(zd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(an.connection_stalled);return}this.checkQueue()}),this.relayer.on(an.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var soe=Object.defineProperty,ooe=(t,e,r)=>e in t?soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ah=(t,e,r)=>ooe(t,typeof e!="symbol"?e+"":e,r);class aoe{constructor(){ah(this,"map",new Map),ah(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),ah(this,"get",e=>this.map.get(e)||[]),ah(this,"exists",(e,r)=>this.get(e).includes(r)),ah(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),ah(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var coe=Object.defineProperty,loe=Object.defineProperties,uoe=Object.getOwnPropertyDescriptors,pP=Object.getOwnPropertySymbols,foe=Object.prototype.hasOwnProperty,doe=Object.prototype.propertyIsEnumerable,z2=(t,e,r)=>e in t?coe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vp=(t,e)=>{for(var r in e||(e={}))foe.call(e,r)&&z2(t,r,e[r]);if(pP)for(var r of pP(e))doe.call(e,r)&&z2(t,r,e[r]);return t},Vv=(t,e)=>loe(t,uoe(e)),ar=(t,e,r)=>z2(t,typeof e!="symbol"?e+"":e,r);class hoe extends CK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ar(this,"subscriptions",new Map),ar(this,"topicMap",new aoe),ar(this,"events",new Bo.EventEmitter),ar(this,"name",Qne),ar(this,"version",Zne),ar(this,"pending",new Map),ar(this,"cached",[]),ar(this,"initialized",!1),ar(this,"storagePrefix",Lc),ar(this,"subscribeTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),ar(this,"initialSubscribeTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),ar(this,"clientId"),ar(this,"batchSubscribeTopicsLimit",500),ar(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ar(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=g_(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),ar(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),ar(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),ar(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),ar(this,"on",(n,i)=>{this.events.on(n,i)}),ar(this,"once",(n,i)=>{this.events.once(n,i)}),ar(this,"off",(n,i)=>{this.events.off(n,i)}),ar(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),ar(this,"start",async()=>{await this.onConnect()}),ar(this,"stop",async()=>{await this.onDisconnect()}),ar(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ar(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),ar(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(zd.pulse,async()=>{await this.checkPending()}),this.events.on(Us.created,async n=>{const i=Us.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Us.deleted,async n=>{const i=Us.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=ji(r,this.name),this.clientId=""}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=g_(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=$r("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===Dr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Vh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===Dr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Ce.toMiliseconds(Ce.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===e&&(this.events.removeListener(Us.created,d),f(h.id))};this.events.on(Us.created,d);try{const h=await Nc(new Promise((m,g)=>{this.relayer.request(a).catch(b=>{this.logger.warn(b,b?.message),g(b)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Us.created,d),f(h)}catch{}}),u=await Nc(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(an.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Vh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Nc(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Vh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Nc(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Vh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Vv(vp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,vp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,vp({},r)),this.topicMap.set(r.topic,e),this.events.emit(Us.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Us.deleted,Vv(vp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Us.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Us.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>Vv(vp({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await xZ(Ce.toMiliseconds(Ce.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Eo(e+await this.getClientId())}}var poe=Object.defineProperty,gP=Object.getOwnPropertySymbols,goe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,G2=(t,e,r)=>e in t?poe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mP=(t,e)=>{for(var r in e||(e={}))goe.call(e,r)&&G2(t,r,e[r]);if(gP)for(var r of gP(e))moe.call(e,r)&&G2(t,r,e[r]);return t},Lt=(t,e,r)=>G2(t,typeof e!="symbol"?e+"":e,r);class yoe extends xK{constructor(e){super(e),Lt(this,"protocol","wc"),Lt(this,"version",2),Lt(this,"core"),Lt(this,"logger"),Lt(this,"events",new Bo.EventEmitter),Lt(this,"provider"),Lt(this,"messages"),Lt(this,"subscriber"),Lt(this,"publisher"),Lt(this,"name",Kne),Lt(this,"transportExplicitlyClosed",!1),Lt(this,"initialized",!1),Lt(this,"connectionAttemptInProgress",!1),Lt(this,"relayUrl"),Lt(this,"projectId"),Lt(this,"packageName"),Lt(this,"bundleId"),Lt(this,"hasExperiencedNetworkDisruption",!1),Lt(this,"pingTimeout"),Lt(this,"heartBeatTimeout",Ce.toMiliseconds(Ce.THIRTY_SECONDS+Ce.FIVE_SECONDS)),Lt(this,"reconnectTimeout"),Lt(this,"connectPromise"),Lt(this,"reconnectInProgress",!1),Lt(this,"requestsInFlight",[]),Lt(this,"connectTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),Lt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Mu().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Lt(this,"resetPingTimeout",()=>{f_()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Lt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Lt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(an.connect)}),Lt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Lt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(an.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Lt(this,"registerProviderListeners",()=>{this.provider.on(oo.payload,this.onPayloadHandler),this.provider.on(oo.connect,this.onConnectHandler),this.provider.on(oo.disconnect,this.onDisconnectHandler),this.provider.on(oo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ji(e.logger,this.name):py(U0({level:e.logger||Gne})),this.messages=new Qse(this.logger,e.core),this.subscriber=new hoe(this,this.logger),this.publisher=new ioe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||QU,aZ()?this.packageName=iR():cZ()&&(this.bundleId=iR()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Os(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Dr.relay},qb.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Us.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Us.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,mP({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Nc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await VR())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Mn(Ce.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(an.message,e),await this.recordMessageEvent(e,qb.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(oo.disconnect,s),await Nc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(oo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(oo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(oo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Ce.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(f_())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new jo(new kne(hZ({sdkVersion:B2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),bS(e)){if(!e.method.endsWith(Vne))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Dr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mP({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else F1(e)&&this.events.emit(an.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,qb.inbound),this.events.emit(an.message,e))}async acknowledgePayload(e){const r=mm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(oo.payload,this.onPayloadHandler),this.provider.off(oo.connect,this.onConnectHandler),this.provider.off(oo.disconnect,this.onDisconnectHandler),this.provider.off(oo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await VR();ene(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(zd.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&nne())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(an.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ce.toMiliseconds(Jne)))))}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function boe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function yP(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function bP(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const woe="[object RegExp]",_oe="[object String]",Eoe="[object Number]",voe="[object Boolean]",wP="[object Arguments]",xoe="[object Symbol]",Aoe="[object Date]",Coe="[object Map]",Noe="[object Set]",Soe="[object Array]",Ioe="[object Function]",Toe="[object ArrayBuffer]",Jv="[object Object]",Roe="[object Error]",Poe="[object DataView]",Ooe="[object Uint8Array]",Doe="[object Uint8ClampedArray]",koe="[object Uint16Array]",Moe="[object Uint32Array]",Uoe="[object BigUint64Array]",$oe="[object Int8Array]",Loe="[object Int16Array]",Foe="[object Int32Array]",Boe="[object BigInt64Array]",joe="[object Float32Array]",Hoe="[object Float64Array]";function Woe(){}function _P(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function qoe(t,e,r){return Hp(t,e,void 0,void 0,void 0,void 0,r)}function Hp(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return mg(t,e,s,o)}return mg(t,e,s,o)}function mg(t,e,r,n){if(Object.is(t,e))return!0;let i=bP(t),s=bP(e);if(i===wP&&(i=Jv),s===wP&&(s=Jv),i!==s)return!1;switch(i){case _oe:return t.toString()===e.toString();case Eoe:{const c=t.valueOf(),l=e.valueOf();return boe(c,l)}case voe:case Aoe:case xoe:return Object.is(t.valueOf(),e.valueOf());case woe:return t.source===e.source&&t.flags===e.flags;case Ioe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Coe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Hp(l,e.get(c),c,t,e,r,n))return!1;return!0}case Noe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>Hp(f,h,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case Soe:case Ooe:case Doe:case koe:case Moe:case Uoe:case $oe:case Loe:case Foe:case Boe:case joe:case Hoe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Hp(t[c],e[c],c,t,e,r,n))return!1;return!0}case Toe:return t.byteLength!==e.byteLength?!1:mg(new Uint8Array(t),new Uint8Array(e),r,n);case Poe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:mg(new Uint8Array(t),new Uint8Array(e),r,n);case Roe:return t.name===e.name&&t.message===e.message;case Jv:{if(!(mg(t.constructor,e.constructor,r,n)||_P(t)&&_P(e)))return!1;const c=[...Object.keys(t),...yP(t)],l=[...Object.keys(e),...yP(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;const h=e[f];if(!Hp(d,h,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function zoe(t,e){return qoe(t,e,Woe)}var Goe=Object.defineProperty,EP=Object.getOwnPropertySymbols,Koe=Object.prototype.hasOwnProperty,Voe=Object.prototype.propertyIsEnumerable,K2=(t,e,r)=>e in t?Goe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vP=(t,e)=>{for(var r in e||(e={}))Koe.call(e,r)&&K2(t,r,e[r]);if(EP)for(var r of EP(e))Voe.call(e,r)&&K2(t,r,e[r]);return t},as=(t,e,r)=>K2(t,typeof e!="symbol"?e+"":e,r);class Kd extends AK{constructor(e,r,n,i=Lc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,as(this,"map",new Map),as(this,"version",Yne),as(this,"cached",[]),as(this,"initialized",!1),as(this,"getKey"),as(this,"storagePrefix",Lc),as(this,"recentlyDeleted",[]),as(this,"recentlyDeletedLimit",200),as(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!$n(o)?this.map.set(this.getKey(o),o):Pre(o)?this.map.set(o.id,o):Ore(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),as(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),as(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),as(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>zoe(a[c],o[c]))):this.values)),as(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=vP(vP({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),as(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ji(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Joe=Object.defineProperty,Yoe=(t,e,r)=>e in t?Joe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vt=(t,e,r)=>Yoe(t,typeof e!="symbol"?e+"":e,r);class Xoe{constructor(e,r){this.core=e,this.logger=r,vt(this,"name",eie),vt(this,"version",tie),vt(this,"events",new qN),vt(this,"pairings"),vt(this,"initialized",!1),vt(this,"storagePrefix",Lc),vt(this,"ignoredPayloadTypes",[Il]),vt(this,"registeredMethods",[]),vt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),vt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),vt(this,"create",async n=>{this.isInitialized();const i=$2(),s=await this.core.crypto.setSymKey(i),o=Mn(Ce.FIVE_MINUTES),a={protocol:XU},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=FR({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Xf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),vt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[dc.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=LR(n.uri);i.props.properties.topic=s,i.addTrace(dc.pairing_uri_validation_success),i.addTrace(dc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(dc.existing_pairing),u.active)throw i.setError(ol.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(dc.pairing_not_expired)}const f=c||Mn(Ce.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(dc.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Xf.create,d),i.addTrace(dc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(dc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ol.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(ol.subscribe_pairing_topic_failure),h}return i.addTrace(dc.subscribe_pairing_topic_success),d}),vt(this,"activate",async({topic:n})=>{this.isInitialized();const i=Mn(Ce.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),vt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Kf();this.events.once(Kt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),vt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),vt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),vt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),vt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",$r("USER_DISCONNECTED")),await this.deletePairing(i))}),vt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return FR({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),vt(this,"sendRequest",async(n,i,s)=>{const o=Ec(i,s),a=await this.core.crypto.encode(n,o),c=wp[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),vt(this,"sendResult",async(n,i,s)=>{const o=mm(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=wp[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),vt(this,"sendError",async(n,i,s)=>{const o=L1(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=wp[c]?wp[c].res:wp.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),vt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,$r("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),vt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>xu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),vt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),vt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),vt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Xf.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),vt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{mc(i)?this.events.emit(Kt("pairing_ping",s),{}):vo(i)&&this.events.emit(Kt("pairing_ping",s),{error:i.error})},500)}),vt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Xf.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),vt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=$r("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),vt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error($r("WC_METHOD_UNSUPPORTED",n))}),vt(this,"isValidPair",(n,i)=>{var s;if(!bs(n)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(!Rre(n.uri)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ol.malformed_pairing_uri),new Error(a)}const o=LR(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ce.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(ol.pairing_expired);const{message:a}=Ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),vt(this,"isValidPing",async n=>{if(!bs(n)){const{message:s}=Ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),vt(this,"isValidDisconnect",async n=>{if(!bs(n)){const{message:s}=Ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),vt(this,"isValidPairingTopic",async n=>{if(!pn(n,!1)){const{message:i}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(xu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ae("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=ji(r,this.name),this.pairings=new Kd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Os(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(an.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Dr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);bS(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):F1(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(wo.expired,async e=>{const{topic:r}=X9(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Xf.expire,{topic:r}))})}}var Qoe=Object.defineProperty,Zoe=(t,e,r)=>e in t?Qoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ni=(t,e,r)=>Zoe(t,typeof e!="symbol"?e+"":e,r);class eae extends _K{constructor(e,r){super(e,r),this.core=e,this.logger=r,ni(this,"records",new Map),ni(this,"events",new Bo.EventEmitter),ni(this,"name",rie),ni(this,"version",nie),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",Lc),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Mn(Ce.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ea.created,o)}),ni(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ea.updated,i))}),ni(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ni(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ea.deleted,s)}}),this.persist()}),ni(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ni(this,"on",(n,i)=>{this.events.on(n,i)}),ni(this,"once",(n,i)=>{this.events.once(n,i)}),ni(this,"off",(n,i)=>{this.events.off(n,i)}),ni(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ji(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ec(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ea.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ea.created,e=>{const r=ea.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.updated,e=>{const r=ea.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.deleted,e=>{const r=ea.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(zd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Ce.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ea.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tae=Object.defineProperty,rae=(t,e,r)=>e in t?tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vi=(t,e,r)=>rae(t,typeof e!="symbol"?e+"":e,r);class nae extends NK{constructor(e,r){super(e,r),this.core=e,this.logger=r,vi(this,"expirations",new Map),vi(this,"events",new Bo.EventEmitter),vi(this,"name",iie),vi(this,"version",sie),vi(this,"cached",[]),vi(this,"initialized",!1),vi(this,"storagePrefix",Lc),vi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),vi(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),vi(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(wo.created,{target:s,expiration:o})}),vi(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),vi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(wo.deleted,{target:i,expiration:s})}}),vi(this,"on",(n,i)=>{this.events.on(n,i)}),vi(this,"once",(n,i)=>{this.events.once(n,i)}),vi(this,"off",(n,i)=>{this.events.off(n,i)}),vi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=ji(r,this.name)}get context(){return Os(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return pZ(e);if(typeof e=="number")return gZ(e);const{message:r}=Ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(wo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ce.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(wo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(zd.pulse,()=>this.checkExpirations()),this.events.on(wo.created,e=>{const r=wo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(wo.expired,e=>{const r=wo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(wo.deleted,e=>{const r=wo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iae=Object.defineProperty,sae=(t,e,r)=>e in t?iae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fn=(t,e,r)=>sae(t,typeof e!="symbol"?e+"":e,r);class oae extends SK{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,fn(this,"name",oie),fn(this,"abortController"),fn(this,"isDevEnv"),fn(this,"verifyUrlV3",cie),fn(this,"storagePrefix",Lc),fn(this,"version",YU),fn(this,"publicKey"),fn(this,"fetchPromise"),fn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ce.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),fn(this,"register",async i=>{if(!j0()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=$l.getDocument(),u=this.startAbortTimer(Ce.ONE_SECOND*5),f=await new Promise((d,h)=>{const m=()=>{window.removeEventListener("message",b),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const b=E=>{if(E.data&&typeof E.data=="string")try{const A=JSON.parse(E.data);if(A.type==="verify_attestation"){if(b2(A.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",b),d(A.attestation===null?"":A.attestation)}}catch(A){this.logger.warn(A)}};l.body.appendChild(g),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),fn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(b2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),fn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ce.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),fn(this,"getVerifyUrl",i=>{let s=i||gg;return lie.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${gg}`),s=gg),s}),fn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ce.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),fn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),fn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),fn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),fn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),fn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),fn(this,"validateAttestation",(i,s)=>{const o=lre(i,s.publicKey),a={hasExpired:Ce.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ji(r,this.name),this.abortController=new AbortController,this.isDevEnv=nS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Os(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ce.toMiliseconds(e))}}var aae=Object.defineProperty,cae=(t,e,r)=>e in t?aae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xP=(t,e,r)=>cae(t,typeof e!="symbol"?e+"":e,r);class lae extends IK{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,xP(this,"context",uie),xP(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${fie}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ji(r,this.context)}}var uae=Object.defineProperty,AP=Object.getOwnPropertySymbols,fae=Object.prototype.hasOwnProperty,dae=Object.prototype.propertyIsEnumerable,V2=(t,e,r)=>e in t?uae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xp=(t,e)=>{for(var r in e||(e={}))fae.call(e,r)&&V2(t,r,e[r]);if(AP)for(var r of AP(e))dae.call(e,r)&&V2(t,r,e[r]);return t},Wn=(t,e,r)=>V2(t,typeof e!="symbol"?e+"":e,r);class hae extends TK{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Wn(this,"context",hie),Wn(this,"storagePrefix",Lc),Wn(this,"storageVersion",die),Wn(this,"events",new Map),Wn(this,"shouldPersist",!1),Wn(this,"init",async()=>{if(!nS())try{const i={eventId:oR(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:J9(this.core.relayer.protocol,this.core.relayer.version,B2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Wn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=oR(),u=this.core.projectId||"",f=Date.now(),d=xp({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Wn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return xp(xp({},a),this.setMethods(a.eventId))}),Wn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Wn(this,"setEventListeners",()=>{this.core.heartbeat.on(zd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ce.fromMiliseconds(Date.now())-Ce.fromMiliseconds(i.timestamp)>pie&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Wn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Wn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Wn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,xp(xp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Wn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Wn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${gie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${B2}${s}`,{method:"POST",body:JSON.stringify(i)})}),Wn(this,"getAppDomain",()=>V9().url),this.logger=ji(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var pae=Object.defineProperty,CP=Object.getOwnPropertySymbols,gae=Object.prototype.hasOwnProperty,mae=Object.prototype.propertyIsEnumerable,J2=(t,e,r)=>e in t?pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NP=(t,e)=>{for(var r in e||(e={}))gae.call(e,r)&&J2(t,r,e[r]);if(CP)for(var r of CP(e))mae.call(e,r)&&J2(t,r,e[r]);return t},ur=(t,e,r)=>J2(t,typeof e!="symbol"?e+"":e,r);let yae=class f7 extends mK{constructor(e){var r;super(e),ur(this,"protocol",JU),ur(this,"version",YU),ur(this,"name",F2),ur(this,"relayUrl"),ur(this,"projectId"),ur(this,"customStoragePrefix"),ur(this,"events",new Bo.EventEmitter),ur(this,"logger"),ur(this,"heartbeat"),ur(this,"relayer"),ur(this,"crypto"),ur(this,"storage"),ur(this,"history"),ur(this,"expirer"),ur(this,"pairing"),ur(this,"verify"),ur(this,"echoClient"),ur(this,"linkModeSupportedApps"),ur(this,"eventClient"),ur(this,"initialized",!1),ur(this,"logChunkController"),ur(this,"on",(a,c)=>this.events.on(a,c)),ur(this,"once",(a,c)=>this.events.once(a,c)),ur(this,"off",(a,c)=>this.events.off(a,c)),ur(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),ur(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Dr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||QU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=U0({level:typeof e?.logger=="string"&&e.logger?e.logger:Une.logger,name:F2}),{logger:s,chunkLoggerController:o}=GN({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ji(s,this.name),this.heartbeat=new gG,this.crypto=new qse(this,this.logger,e?.keychain),this.history=new eae(this,this.logger),this.expirer=new nae(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new XG(NP(NP({},$ne),e?.storageOptions)),this.relayer=new yoe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Xoe(this,this.logger),this.verify=new oae(this,this.logger,this.storage),this.echoClient=new lae(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new hae(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new f7(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Xne,n),r}get context(){return Os(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(iP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(iP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Mne.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const bae=yae,d7="wc",h7=2,p7="client",wS=`${d7}@${h7}:${p7}:`,Yv={name:p7,logger:"error"},SP="WALLETCONNECT_DEEPLINK_CHOICE",wae="proposal",IP="Proposal expired",_ae="session",ch=Ce.SEVEN_DAYS,Eae="engine",ii={wc_sessionPropose:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1119}}},Xv={min:Ce.FIVE_MINUTES,max:Ce.SEVEN_DAYS},uc={idle:"IDLE",active:"ACTIVE"},vae={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},xae="request",Aae=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Cae="wc",Nae="auth",Sae="authKeys",Iae="pairingTopics",Tae="requests",j1=`${Cae}@${1.5}:${Nae}:`,zb=`${j1}:PUB_KEY`;var Rae=Object.defineProperty,Pae=Object.defineProperties,Oae=Object.getOwnPropertyDescriptors,TP=Object.getOwnPropertySymbols,Dae=Object.prototype.hasOwnProperty,kae=Object.prototype.propertyIsEnumerable,Y2=(t,e,r)=>e in t?Rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qt=(t,e)=>{for(var r in e||(e={}))Dae.call(e,r)&&Y2(t,r,e[r]);if(TP)for(var r of TP(e))kae.call(e,r)&&Y2(t,r,e[r]);return t},xi=(t,e)=>Pae(t,Oae(e)),we=(t,e,r)=>Y2(t,typeof e!="symbol"?e+"":e,r);class Mae extends DK{constructor(e){super(e),we(this,"name",Eae),we(this,"events",new qN),we(this,"initialized",!1),we(this,"requestQueue",{state:uc.idle,queue:[]}),we(this,"sessionRequestQueue",{state:uc.idle,queue:[]}),we(this,"emittedSessionRequests",new AZ({limit:500})),we(this,"requestQueueDelay",Ce.ONE_SECOND),we(this,"expectedPairingMethodMap",new Map),we(this,"recentlyDeletedMap",new Map),we(this,"recentlyDeletedLimit",200),we(this,"relayMessageCache",[]),we(this,"pendingSessions",new Map),we(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay)))}),we(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=xi(Qt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Cre(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,f,d=!1;try{if(u){const k=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),k}if(!u||!d){const{topic:k,uri:F}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=k,f=F}if(!u){const{message:k}=Ae("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(k)}const h=await this.client.core.crypto.generateKeyPair(),m=ii.wc_sessionPropose.req.ttl||Ce.FIVE_MINUTES,g=Mn(m),b=xi(Qt(Qt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:XU}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:gc()}),E=Kt("session_connect",b.id),{reject:A,resolve:S,done:T}=Kf(m,IP),P=({id:k})=>{k===b.id&&(this.client.events.off("proposal_expire",P),this.pendingSessions.delete(b.id),this.events.emit(E,{error:{message:IP,code:0}}))};return this.client.events.on("proposal_expire",P),this.events.once(E,({error:k,session:F})=>{this.client.events.off("proposal_expire",P),k?A(k):F&&S(F)}),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}),await this.setProposal(b.id,b),{uri:f,approval:T}}),we(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),we(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[fu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(v){throw o.setError(_p.no_internet_connection),v}try{await this.isValidProposalId(r?.id)}catch(v){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(_p.proposal_not_found),v}try{await this.isValidApprove(r)}catch(v){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(_p.session_approve_namespace_validation_failure),v}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:b,optionalNamespaces:E}=h;let A=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});A||(A=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:fu.session_approve_started,properties:{topic:m,trace:[fu.session_approve_started,fu.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),T=g.publicKey,P=await this.client.core.crypto.generateSharedKey(S,T),k=Qt(Qt(Qt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:Mn(ch)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),F=Dr.relay;A.addTrace(fu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(P,{transportType:F,internal:{skipSubscribe:!0}})}catch(v){throw A.setError(_p.subscribe_session_topic_failure),v}A.addTrace(fu.subscribe_session_topic_success);const N=xi(Qt({},k),{topic:P,requiredNamespaces:b,optionalNamespaces:E,pairingTopic:m,acknowledged:!1,self:k.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:Dr.relay});await this.client.session.set(P,N),A.addTrace(fu.store_session);try{await this.sendApproveSession({sessionTopic:P,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:S},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),A.addTrace(fu.session_approve_publish_success)}catch(v){throw this.client.logger.error(v),this.client.session.delete(P,$r("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(P),v}return this.client.core.eventClient.deleteEvent({eventId:A.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(P,Mn(ch)),{topic:P,acknowledged:()=>Promise.resolve(this.client.session.get(P))}}),we(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(n)}),we(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Kf(),c=gc(),l=Mu().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Kt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),we(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=gc(),{done:s,resolve:o,reject:a}=Kf();return this.events.once(Kt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Mn(ch)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),we(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:n,request:i,topic:s,expiry:o=ii.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const c=gc(),l=Mu().toString(),{done:u,resolve:f,reject:d}=Kf(o,"Request expired. Please try again.");this.events.once(Kt("session_request",c),({error:b,result:E})=>{b?d(b):f(E)});const h="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:{request:xi(Qt({},i),{expiryTimestamp:Mn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const g={request:xi(Qt({},i),{expiryTimestamp:Mn(o)}),chainId:n};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(E=>d(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),b()}),new Promise(async b=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){const A=await wZ(this.client.core.storage,SP);await mZ({id:c,topic:s,wcDeepLink:A})}b()}),u()]).then(b=>b[2])}),we(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);mc(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):vo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),we(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=gc(),s=Mu().toString(),{done:o,resolve:a,reject:c}=Kf();this.events.once(Kt("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),we(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Mu().toString(),a=gc();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),we(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:$r("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),we(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Ire(n,r)))),we(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),we(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Dr.link_mode:Dr.relay;o===Dr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:m,methods:g=[],expiry:b}=r,E=[...r.resources||[]],{topic:A,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:A,uri:S}});const T=await this.client.core.crypto.generateKeyPair(),P=Wb(T);if(await Promise.all([this.client.auth.authKeys.set(zb,{responseTopic:P,publicKey:T}),this.client.auth.pairingTopics.set(P,{topic:P,pairingTopic:A})]),await this.client.core.relayer.subscribe(P,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${A}`),g.length>0){const{namespace:U}=md(a[0]);let B=Mee(U,"request",g);Hb(E)&&(B=$ee(B,E.pop())),E.push(B)}const k=b&&b>ii.wc_sessionAuthenticate.req.ttl?b:ii.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:m,resources:E},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:Mn(k)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},v={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:A,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:Mn(ii.wc_sessionPropose.req.ttl),id:gc()},{done:M,resolve:$,reject:O}=Kf(k,"Request expired"),C=gc(),p=Kt("session_connect",v.id),y=Kt("session_request",C),w=async({error:U,session:B})=>{this.events.off(y,x),U?O(U):B&&$({session:B})},x=async U=>{var B,D,_;if(await this.deletePendingAuthRequest(C,{message:"fulfilled",code:0}),U.error){const Q=$r("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return U.error.code===Q.code?void 0:(this.events.off(p,w),O(U.error.message))}await this.deleteProposal(v.id),this.events.off(p,w);const{cacaos:L,responder:G}=U.result,R=[],V=[];for(const Q of L){await yR({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),O($r("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ie}=Q,le=Hb(ie.resources),H=[I2(ie.iss)],Y=d_(ie.iss);if(le){const W=bR(le),Z=wR(le);R.push(...W),H.push(...Z)}for(const W of H)V.push(`${W}:${Y}`)}const K=await this.client.core.crypto.generateSharedKey(T,G.publicKey);let X;R.length>0&&(X={topic:K,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:Mn(ch),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:A,namespaces:WR([...new Set(R)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,X),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:G.metadata}),X=this.client.session.get(K)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&(D=G.metadata.redirect)!=null&&D.linkMode&&(_=G.metadata.redirect)!=null&&_.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(K,{transportType:Dr.link_mode})),$({auths:L,session:X})};this.events.once(p,w),this.events.once(y,x);let I;try{if(s){const U=Ec("wc_sessionAuthenticate",F,C);this.client.core.history.set(A,U);const B=await this.client.core.crypto.encode("",U,{type:Ey,encoding:Pu});I=lb(n,A,B)}else await Promise.all([this.sendRequest({topic:A,method:"wc_sessionAuthenticate",params:F,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:C}),this.sendRequest({topic:A,method:"wc_sessionPropose",params:v,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v.id})])}catch(U){throw this.events.off(p,w),this.events.off(y,x),U}return await this.setProposal(v.id,v),await this.setAuthRequest(C,{request:xi(Qt({},F),{verifyContext:{}}),pairingTopic:A,transportType:o}),{uri:I??S,response:M}}),we(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Lf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Ep.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Ep.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Dr.relay;a===Dr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Wb(c),f={type:Il,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const b of i){if(!await yR({cacao:b,projectId:this.client.core.projectId})){s.setError(Ep.invalid_cacao);const P=$r("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:P,encodeOpts:f}),new Error(P.message)}s.addTrace(Lf.cacaos_verified);const{p:E}=b,A=Hb(E.resources),S=[I2(E.iss)],T=d_(E.iss);if(A){const P=bR(A),k=wR(A);d.push(...P),S.push(...k)}for(const P of S)h.push(`${P}:${T}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Lf.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Mn(ch),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:WR([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(Lf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(b){throw s.setError(Ep.subscribe_authenticated_session_topic_failure),b}s.addTrace(Lf.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Lf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Lf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(Ep.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),we(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Wb(o),l={type:Il,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),we(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return dU(n,i)}),we(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),we(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),we(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,$r("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(SP).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,$r("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=uc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),we(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(_p.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,$r("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),we(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=uc.idle,this.client.events.emit("session_request_expire",{id:r}))}),we(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),we(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),we(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Mn(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),we(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Dr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),we(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Mn(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),we(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,h=Ec(i,s,c);let m;const g=!!u;try{const A=g?Pu:vs;m=await this.client.core.crypto.encode(n,h,{encoding:A})}catch(A){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),A}let b;if(Aae.includes(i)){const A=Eo(JSON.stringify(h)),S=Eo(m);b=await this.client.core.verify.register({id:S,decryptedId:A})}const E=Qt(Qt({},ii[i].req),d);if(E.attestation=b,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(n,h),g){const A=lb(u,n,m);await global.Linking.openURL(A,this.client.name)}else E.tvf=xi(Qt({},f),{correlationId:h.id}),l?(E.internal=xi(Qt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,E)):this.client.core.relayer.publish(n,m,E).catch(A=>this.client.logger.error(A));return h.id}),we(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Ec("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:vs}),a=Eo(JSON.stringify(s)),c=Eo(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:xi(Qt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),we(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=mm(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:vs}),u=Ec("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(n,u,{encoding:vs});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:xi(Qt({},a),{publishMethod:"wc_approveSession"})})}),we(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=mm(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?Pu:vs;u=await this.client.core.crypto.encode(i,l,xi(Qt({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let d,h;try{d=await this.client.core.history.get(i,n);const m=d.request;try{h=this.getTVFParams(n,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(f){const m=lb(c,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=d.request.method,g=ii[m].res;g.tvf=xi(Qt({},h),{correlationId:n}),o?(g.internal=xi(Qt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(l)}),we(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=L1(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?Pu:vs;u=await this.client.core.crypto.encode(i,l,xi(Qt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=lb(c,i,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,m=a||ii[h].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(l)}),we(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;xu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{xu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),we(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),we(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),we(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===uc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=uc.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=uc.idle}),we(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),we(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),we(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ae("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),we(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),we(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(ol.proposal_listener_not_found)),this.isValidConnect(Qt({},i.params));const u=a.expiryTimestamp||Mn(ii.wc_sessionPropose.req.ttl),f=Qt({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:Eo(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(dc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),we(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(mc(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(vo(n)){await this.deleteProposal(s);const o=Kt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),we(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(h.proposalId),g=xi(Qt(Qt(Qt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:Dr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Kt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;mc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Kt("session_approve",i),{})):vo(n)&&(await this.client.session.delete(r,$r("USER_DISCONNECTED")),this.events.emit(Kt("session_approve",i),{error:n.error}))}),we(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=bp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:$r("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Qt({topic:r},i));try{bp.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw bp.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),we(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Kt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Kt("session_update",i),{}):vo(n)&&this.events.emit(Kt("session_update",i),{error:n.error})}),we(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Mn(ch)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),we(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Kt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Kt("session_extend",i),{}):vo(n)&&this.events.emit(Kt("session_extend",i),{error:n.error})}),we(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),we(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Kt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);mc(n)?this.events.emit(Kt("session_ping",i),{}):vo(n)&&this.events.emit(Kt("session_ping",i),{error:n.error})},500)}),we(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(an.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:$r("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),we(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(Qt({topic:o},d));const h=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Eo(JSON.stringify(Ec("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:m};await this.setPendingSessionRequest(g),u===Dr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),we(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Kt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Kt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Kt("session_request",i),{error:n.error})}),we(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=bp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Qt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),bp.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),mc(n)?this.events.emit(Kt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Kt("session_request",i),{error:n.error})}),we(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:Eo(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===Dr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Il,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:h,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:d})}}),we(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),we(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=uc.idle,this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay))}),we(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Kt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Kt("session_request",s.request.id),{error:n})})}),we(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===uc.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),we(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=uc.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),we(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ec("wc_sessionPropose",xi(Qt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),we(this,"isValidConnect",async r=>{if(!bs(r)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if($n(n)||await this.isValidPairingTopic(n),!Bre(c)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!$n(i)&&Dc(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!$n(s)&&Dc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),$n(o)||this.validateSessionProps(o,"sessionProperties"),!$n(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),we(this,"validateNamespaces",(r,n)=>{const i=Fre(r,"connect()",n);if(i)throw new Error(i.message)}),we(this,"isValidApprove",async r=>{if(!bs(r))throw new Error(Ae("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=qv(i,"approve()");if(l)throw new Error(l.message);const u=GR(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!pn(s,!0)){const{message:f}=Ae("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if($n(o)||this.validateSessionProps(o,"sessionProperties"),!$n(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),we(this,"isValidReject",async r=>{if(!bs(r)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Hre(i)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),we(this,"isValidSessionSettleRequest",r=>{if(!bs(r)){const{message:l}=Ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!WU(n)){const{message:l}=Ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Dre(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=qv(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(xu(o)){const{message:l}=Ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),we(this,"isValidUpdate",async r=>{if(!bs(r)){const{message:c}=Ae("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=qv(i,"update()");if(o)throw new Error(o.message);const a=GR(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),we(this,"isValidExtend",async r=>{if(!bs(r)){const{message:i}=Ae("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),we(this,"isValidRequest",async r=>{if(!bs(r)){const{message:c}=Ae("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!zR(a,s)){const{message:c}=Ae("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Wre(i)){const{message:c}=Ae("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Gre(a,s,i.method)){const{message:c}=Ae("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Yre(o,Xv)){const{message:c}=Ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Xv.min} and ${Xv.max}`);throw new Error(c)}}),we(this,"isValidRespond",async r=>{var n;if(!bs(r)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!qre(s)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),we(this,"isValidPing",async r=>{if(!bs(r)){const{message:i}=Ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),we(this,"isValidEmit",async r=>{if(!bs(r)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!zR(o,s)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!zre(i)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Kre(o,s,i.name)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),we(this,"isValidDisconnect",async r=>{if(!bs(r)){const{message:i}=Ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),we(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(i,!1))throw new Error("uri is required parameter");if(!pn(s,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>md(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=md(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),we(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||gg,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Dr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),we(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ae("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),we(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),we(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),we(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),we(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,f,d;return!r||n!==Dr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),we(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),we(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=sR(r,"topic")||"",i=decodeURIComponent(sR(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Dr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),we(this,"registerLinkModeListeners",async()=>{var r;if(nS()||hf()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),we(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),we(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),we(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=vae[s];if(s==="sui_signTransaction")return[wee(n.transactionBytes)];if(s==="near_signTransaction")return[hR(n)];if(s==="near_signTransactions")return n.map(c=>hR(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[fne({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Tl(n)?n.map(c=>pR(c)):[pR(n)];if(s==="cosmos_signDirect")return[Eee(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Tl(a))return s==="solana_signAllTransactions"?a.map(c=>bee(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(an.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(zb)?this.client.auth.authKeys.get(zb):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Dr.link_mode?Pu:vs});bS(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Eo(n)})):F1(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(wo.expired,async e=>{const{topic:r,id:n}=X9(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ae("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ae("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Xf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Xf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(xu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ae("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(xu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Ae("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:r}=Ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!jre(e)){const{message:r}=Ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(xu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Ae("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Uae extends Kd{constructor(e,r){super(e,r,wae,wS),this.core=e,this.logger=r}}let $ae=class extends Kd{constructor(e,r){super(e,r,_ae,wS),this.core=e,this.logger=r}};class Lae extends Kd{constructor(e,r){super(e,r,xae,wS,n=>n.id),this.core=e,this.logger=r}}class Fae extends Kd{constructor(e,r){super(e,r,Sae,j1,()=>zb),this.core=e,this.logger=r}}class Bae extends Kd{constructor(e,r){super(e,r,Iae,j1),this.core=e,this.logger=r}}class jae extends Kd{constructor(e,r){super(e,r,Tae,j1,n=>n.id),this.core=e,this.logger=r}}var Hae=Object.defineProperty,Wae=(t,e,r)=>e in t?Hae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qv=(t,e,r)=>Wae(t,typeof e!="symbol"?e+"":e,r);class qae{constructor(e,r){this.core=e,this.logger=r,Qv(this,"authKeys"),Qv(this,"pairingTopics"),Qv(this,"requests"),this.authKeys=new Fae(this.core,this.logger),this.pairingTopics=new Bae(this.core,this.logger),this.requests=new jae(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var zae=Object.defineProperty,Gae=(t,e,r)=>e in t?zae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xt=(t,e,r)=>Gae(t,typeof e!="symbol"?e+"":e,r);let Kae=class g7 extends OK{constructor(e){super(e),xt(this,"protocol",d7),xt(this,"version",h7),xt(this,"name",Yv.name),xt(this,"metadata"),xt(this,"core"),xt(this,"logger"),xt(this,"events",new Bo.EventEmitter),xt(this,"engine"),xt(this,"session"),xt(this,"proposal"),xt(this,"pendingRequest"),xt(this,"auth"),xt(this,"signConfig"),xt(this,"on",(n,i)=>this.events.on(n,i)),xt(this,"once",(n,i)=>this.events.once(n,i)),xt(this,"off",(n,i)=>this.events.off(n,i)),xt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),xt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),xt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),xt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),xt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Yv.name,this.metadata=uZ(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:py(U0({level:e?.logger||Yv.logger}));this.core=e?.core||new bae(e),this.logger=ji(r,this.name),this.session=new $ae(this.core,this.logger),this.proposal=new Uae(this.core,this.logger),this.pendingRequest=new Lae(this.core,this.logger),this.engine=new Mae(this),this.auth=new qae(this.core,this.logger)}static async init(e){const r=new g7(e);return await r.initialize(),r}get context(){return Os(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var ub={exports:{}},RP;function Vae(){return RP||(RP=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Oa<"u"&&Oa,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Oa<"u"&&Oa||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(y){return y&&DataView.prototype.isPrototypeOf(y)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(y){return y&&u.indexOf(Object.prototype.toString.call(y))>-1};function d(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function h(y){return typeof y!="string"&&(y=String(y)),y}function m(y){var w={next:function(){var x=y.shift();return{done:x===void 0,value:x}}};return c.iterable&&(w[Symbol.iterator]=function(){return w}),w}function g(y){this.map={},y instanceof g?y.forEach(function(w,x){this.append(x,w)},this):Array.isArray(y)?y.forEach(function(w){if(w.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+w.length);this.append(w[0],w[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(w){this.append(w,y[w])},this)}g.prototype.append=function(y,w){y=d(y),w=h(w);var x=this.map[y];this.map[y]=x?x+", "+w:w},g.prototype.delete=function(y){delete this.map[d(y)]},g.prototype.get=function(y){return y=d(y),this.has(y)?this.map[y]:null},g.prototype.has=function(y){return this.map.hasOwnProperty(d(y))},g.prototype.set=function(y,w){this.map[d(y)]=h(w)},g.prototype.forEach=function(y,w){for(var x in this.map)this.map.hasOwnProperty(x)&&y.call(w,this.map[x],x,this)},g.prototype.keys=function(){var y=[];return this.forEach(function(w,x){y.push(x)}),m(y)},g.prototype.values=function(){var y=[];return this.forEach(function(w){y.push(w)}),m(y)},g.prototype.entries=function(){var y=[];return this.forEach(function(w,x){y.push([x,w])}),m(y)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function b(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function E(y){return new Promise(function(w,x){y.onload=function(){w(y.result)},y.onerror=function(){x(y.error)}})}function A(y){var w=new FileReader,x=E(w);return w.readAsArrayBuffer(y),x}function S(y){var w=new FileReader,x=E(w),I=/charset=([A-Za-z0-9_-]+)/.exec(y.type),U=I?I[1]:"utf-8";return w.readAsText(y,U),x}function T(y){for(var w=new Uint8Array(y),x=new Array(w.length),I=0;I<w.length;I++)x[I]=String.fromCharCode(w[I]);return x.join("")}function P(y){if(y.slice)return y.slice(0);var w=new Uint8Array(y.byteLength);return w.set(new Uint8Array(y)),w.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:c.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:c.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():c.arrayBuffer&&c.blob&&l(y)?(this._bodyArrayBuffer=P(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||f(y))?this._bodyArrayBuffer=P(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=b(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(A);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(y){var w=y.toUpperCase();return F.indexOf(w)>-1?w:y}function v(y,w){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var x=w.body;if(y instanceof v){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,w.headers||(this.headers=new g(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!x&&y._bodyInit!=null&&(x=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new g(w.headers)),this.method=N(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal||(function(){if("AbortController"in a){var B=new AbortController;return B.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function M(y){var w=new FormData;return y.trim().split("&").forEach(function(x){if(x){var I=x.split("="),U=I.shift().replace(/\+/g," "),B=I.join("=").replace(/\+/g," ");w.append(decodeURIComponent(U),decodeURIComponent(B))}}),w}function $(y){var w=new g,x=y.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var U=I.split(":"),B=U.shift().trim();if(B){var D=U.join(":").trim();try{w.append(B,D)}catch(_){console.warn("Response "+_.message)}}}),w}k.call(v.prototype);function O(y,w){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new g(w.headers),this.url=w.url||"",this._initBody(y)}k.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},O.error=function(){var y=new O(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var C=[301,302,303,307,308];O.redirect=function(y,w){if(C.indexOf(w)===-1)throw new RangeError("Invalid status code");return new O(null,{status:w,headers:{location:y}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,x){this.message=w,this.name=x;var I=Error(w);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function p(y,w){return new Promise(function(x,I){var U=new v(y,w);if(U.signal&&U.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function D(){B.abort()}B.onload=function(){var G={statusText:B.statusText,headers:$(B.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(B.status<200||B.status>599)?G.status=200:G.status=B.status,G.url="responseURL"in B?B.responseURL:G.headers.get("X-Request-URL");var R="response"in B?B.response:B.responseText;setTimeout(function(){x(new O(R,G))},0)},B.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function _(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(B.open(U.method,_(U.url),!0),U.credentials==="include"?B.withCredentials=!0:U.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(c.blob?B.responseType="blob":c.arrayBuffer&&(B.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof g||a.Headers&&w.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(w.headers).forEach(function(G){L.push(d(G)),B.setRequestHeader(G,h(w.headers[G]))}),U.headers.forEach(function(G,R){L.indexOf(R)===-1&&B.setRequestHeader(R,G)})}else U.headers.forEach(function(G,R){B.setRequestHeader(R,G)});U.signal&&(U.signal.addEventListener("abort",D),B.onreadystatechange=function(){B.readyState===4&&U.signal.removeEventListener("abort",D)}),B.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return p.polyfill=!0,a.fetch||(a.fetch=p,a.Headers=g,a.Request=v,a.Response=O),o.Headers=g,o.Request=v,o.Response=O,o.fetch=p,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(ub,ub.exports)),ub.exports}var Jae=Vae();const PP=Rs(Jae);var Yae=Object.defineProperty,Xae=Object.defineProperties,Qae=Object.getOwnPropertyDescriptors,OP=Object.getOwnPropertySymbols,Zae=Object.prototype.hasOwnProperty,ece=Object.prototype.propertyIsEnumerable,DP=(t,e,r)=>e in t?Yae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kP=(t,e)=>{for(var r in e||(e={}))Zae.call(e,r)&&DP(t,r,e[r]);if(OP)for(var r of OP(e))ece.call(e,r)&&DP(t,r,e[r]);return t},MP=(t,e)=>Xae(t,Qae(e));const tce={Accept:"application/json","Content-Type":"application/json"},rce="POST",UP={headers:tce,method:rce},$P=10;let nc=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Bo.EventEmitter,this.isAvailable=!1,this.registering=!1,!ZR(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Ul(e),n=await(await PP(this.url,MP(kP({},UP),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!ZR(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Ul({id:1,jsonrpc:"2.0",method:"test",params:[]});await PP(e,MP(kP({},UP),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Nd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=L1(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return GU(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>$P&&this.events.setMaxListeners($P)}};const LP="error",nce="wss://relay.walletconnect.org",ice="wc",sce="universal_provider",fb=`${ice}@2:${sce}:`,m7="https://rpc.walletconnect.org/v1/",y7="generic",oce=`${m7}bundler`,Ho={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function _S(t){return t==null||typeof t!="object"&&typeof t!="function"}function b7(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function w7(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ace="[object RegExp]",_7="[object String]",E7="[object Number]",v7="[object Boolean]",x7="[object Arguments]",cce="[object Symbol]",lce="[object Date]",uce="[object Map]",fce="[object Set]",dce="[object Array]",hce="[object ArrayBuffer]",pce="[object Object]",gce="[object DataView]",mce="[object Uint8Array]",yce="[object Uint8ClampedArray]",bce="[object Uint16Array]",wce="[object Uint32Array]",_ce="[object Int8Array]",Ece="[object Int16Array]",vce="[object Int32Array]",xce="[object Float32Array]",Ace="[object Float64Array]";function ES(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cce(t,e){return Yh(t,void 0,t,new Map,e)}function Yh(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(_S(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yh(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Yh(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Yh(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(ES(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yh(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Qf(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Qf(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Qf(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Qf(o,t,r,n,i),o}if(typeof t=="object"&&Nce(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Qf(o,t,r,n,i),o}return t}function Qf(t,e,r=t,n,i){const s=[...Object.keys(e),...b7(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Yh(e[a],a,r,n,i))}}function Nce(t){switch(w7(t)){case x7:case dce:case hce:case gce:case v7:case lce:case xce:case Ace:case _ce:case Ece:case vce:case uce:case E7:case pce:case ace:case fce:case _7:case cce:case mce:case yce:case bce:case wce:return!0;default:return!1}}function Sce(t,e){return Cce(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case E7:case _7:case v7:{const o=new t.constructor(t?.valueOf());return Qf(o,t),o}case x7:{const o={};return Qf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function FP(t){return Sce(t)}function BP(t){return t!==null&&typeof t=="object"&&w7(t)==="[object Arguments]"}function jP(t){return typeof t=="object"&&t!==null}function Ice(){}function Tce(t){return ES(t)}function Rce(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Pce(t){if(_S(t))return t;if(Array.isArray(t)||ES(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Oce(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=X2(i,o,n,new Map)}return i}function X2(t,e,r,n){if(_S(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Pce(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...b7(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(BP(a)&&(a={...a}),BP(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=FP(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||jP(c)&&jP(a)?t[o]=X2(c,a,r,n):c==null&&Rce(a)?t[o]=X2({},a,r,n):c==null&&Tce(a)?t[o]=FP(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Dce(t,...e){return Oce(t,...e,Ice)}var kce=Object.defineProperty,Mce=Object.defineProperties,Uce=Object.getOwnPropertyDescriptors,HP=Object.getOwnPropertySymbols,$ce=Object.prototype.hasOwnProperty,Lce=Object.prototype.propertyIsEnumerable,WP=(t,e,r)=>e in t?kce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,db=(t,e)=>{for(var r in e||(e={}))$ce.call(e,r)&&WP(t,r,e[r]);if(HP)for(var r of HP(e))Lce.call(e,r)&&WP(t,r,e[r]);return t},Fce=(t,e)=>Mce(t,Uce(e));function Ys(t,e,r){var n;const i=md(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${m7}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Vd(t){return t.includes(":")?t.split(":")[1]:t}function A7(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Bce(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function qP(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function hb(t={},e={}){const r=qP(zP(t)),n=qP(zP(e));return Dce(r,n)}function zP(t){var e,r,n,i,s;const o={};if(!Dc(t))return o;for(const[a,c]of Object.entries(t)){const l=$1(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Jh(a);o[h]=Fce(db(db({},o[h]),c),{chains:Oc(l,(e=o[h])==null?void 0:e.chains),methods:Oc(u,(r=o[h])==null?void 0:r.methods),events:Oc(f,(n=o[h])==null?void 0:n.events)}),(Dc(d)||Dc(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=db(db({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function GP(t){return t.includes(":")?t.split(":")[2]:t}function KP(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=$1(r)?[r]:n.chains?n.chains:A7(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function Zv(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const C7={},Wt=t=>C7[t],ex=(t,e)=>{C7[t]=e};var jce=Object.defineProperty,VP=Object.getOwnPropertySymbols,Hce=Object.prototype.hasOwnProperty,Wce=Object.prototype.propertyIsEnumerable,JP=(t,e,r)=>e in t?jce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,YP=(t,e)=>{for(var r in e||(e={}))Hce.call(e,r)&&JP(t,r,e[r]);if(VP)for(var r of VP(e))Wce.call(e,r)&&JP(t,r,e[r]);return t};const XP="eip155",qce=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],zce=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,tx=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,QP=t=>Object.keys(t).filter(e=>qce.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),Gce=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Dc(i)&&!Dc(n))return;const o=QP(n);for(const a of r){const c=zce(a);if(!c)continue;s[tx(c)]=o;const l=i?.[`${XP}:${c}`];if(l){const u=l?.[`${XP}:${c}:${e}`];s[tx(c)]=YP(YP({},s[tx(c)]),QP(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Kce=Object.defineProperty,Vce=(t,e,r)=>e in t?Kce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lh=(t,e,r)=>Vce(t,typeof e!="symbol"?e+"":e,r);class Jce{constructor(e){lh(this,"name","polkadot"),lh(this,"client"),lh(this,"httpProviders"),lh(this,"events"),lh(this,"namespace"),lh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var Yce=Object.defineProperty,Xce=Object.defineProperties,Qce=Object.getOwnPropertyDescriptors,ZP=Object.getOwnPropertySymbols,Zce=Object.prototype.hasOwnProperty,ele=Object.prototype.propertyIsEnumerable,Q2=(t,e,r)=>e in t?Yce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e6=(t,e)=>{for(var r in e||(e={}))Zce.call(e,r)&&Q2(t,r,e[r]);if(ZP)for(var r of ZP(e))ele.call(e,r)&&Q2(t,r,e[r]);return t},t6=(t,e)=>Xce(t,Qce(e)),uh=(t,e,r)=>Q2(t,typeof e!="symbol"?e+"":e,r);class tle{constructor(e){uh(this,"name","eip155"),uh(this,"client"),uh(this,"chainId"),uh(this,"namespace"),uh(this,"httpProviders"),uh(this,"events"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Vd(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=Gce(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:t6(e6({},l.sessionProperties||{}),{capabilities:t6(e6({},u||{}),{[f]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ec("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${oce}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var rle=Object.defineProperty,nle=(t,e,r)=>e in t?rle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fh=(t,e,r)=>nle(t,typeof e!="symbol"?e+"":e,r);class ile{constructor(e){fh(this,"name","solana"),fh(this,"client"),fh(this,"httpProviders"),fh(this,"events"),fh(this,"namespace"),fh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var sle=Object.defineProperty,ole=(t,e,r)=>e in t?sle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dh=(t,e,r)=>ole(t,typeof e!="symbol"?e+"":e,r);class ale{constructor(e){dh(this,"name","cosmos"),dh(this,"client"),dh(this,"httpProviders"),dh(this,"events"),dh(this,"namespace"),dh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var cle=Object.defineProperty,lle=(t,e,r)=>e in t?cle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hh=(t,e,r)=>lle(t,typeof e!="symbol"?e+"":e,r);class ule{constructor(e){hh(this,"name","algorand"),hh(this,"client"),hh(this,"httpProviders"),hh(this,"events"),hh(this,"namespace"),hh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new jo(new nc(n,Wt("disableProviderPing")))}}var fle=Object.defineProperty,dle=(t,e,r)=>e in t?fle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ph=(t,e,r)=>dle(t,typeof e!="symbol"?e+"":e,r);class hle{constructor(e){ph(this,"name","cip34"),ph(this,"client"),ph(this,"httpProviders"),ph(this,"events"),ph(this,"namespace"),ph(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Vd(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var ple=Object.defineProperty,gle=(t,e,r)=>e in t?ple(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gh=(t,e,r)=>gle(t,typeof e!="symbol"?e+"":e,r);class mle{constructor(e){gh(this,"name","elrond"),gh(this,"client"),gh(this,"httpProviders"),gh(this,"events"),gh(this,"namespace"),gh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var yle=Object.defineProperty,ble=(t,e,r)=>e in t?yle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mh=(t,e,r)=>ble(t,typeof e!="symbol"?e+"":e,r);class wle{constructor(e){mh(this,"name","multiversx"),mh(this,"client"),mh(this,"httpProviders"),mh(this,"events"),mh(this,"namespace"),mh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Vd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var _le=Object.defineProperty,Ele=(t,e,r)=>e in t?_le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yh=(t,e,r)=>Ele(t,typeof e!="symbol"?e+"":e,r);class vle{constructor(e){yh(this,"name","near"),yh(this,"client"),yh(this,"httpProviders"),yh(this,"events"),yh(this,"namespace"),yh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new nc(n,Wt("disableProviderPing")))}}var xle=Object.defineProperty,Ale=(t,e,r)=>e in t?xle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bh=(t,e,r)=>Ale(t,typeof e!="symbol"?e+"":e,r);class Cle{constructor(e){bh(this,"name","tezos"),bh(this,"client"),bh(this,"httpProviders"),bh(this,"events"),bh(this,"namespace"),bh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new nc(n))}}var Nle=Object.defineProperty,Sle=(t,e,r)=>e in t?Nle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wh=(t,e,r)=>Sle(t,typeof e!="symbol"?e+"":e,r);class Ile{constructor(e){wh(this,"name",y7),wh(this,"client"),wh(this,"httpProviders"),wh(this,"events"),wh(this,"namespace"),wh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return md(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=md(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var Tle=Object.defineProperty,Rle=Object.defineProperties,Ple=Object.getOwnPropertyDescriptors,r6=Object.getOwnPropertySymbols,Ole=Object.prototype.hasOwnProperty,Dle=Object.prototype.propertyIsEnumerable,Z2=(t,e,r)=>e in t?Tle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pb=(t,e)=>{for(var r in e||(e={}))Ole.call(e,r)&&Z2(t,r,e[r]);if(r6)for(var r of r6(e))Dle.call(e,r)&&Z2(t,r,e[r]);return t},rx=(t,e)=>Rle(t,Ple(e)),co=(t,e,r)=>Z2(t,typeof e!="symbol"?e+"":e,r);let kle=class N7{constructor(e){co(this,"client"),co(this,"namespaces"),co(this,"optionalNamespaces"),co(this,"sessionProperties"),co(this,"scopedProperties"),co(this,"events",new qN),co(this,"rpcProviders",{}),co(this,"session"),co(this,"providerOpts"),co(this,"logger"),co(this,"uri"),co(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:py(U0({level:e?.logger||LP})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new N7(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:pb({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,mm(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:$r("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=KP(this.session.namespaces);this.namespaces=hb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=KP(i.namespaces);return this.namespaces=hb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Tl(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await Kae.init({core:this.providerOpts.core,logger:this.providerOpts.logger||LP,relayUrl:this.providerOpts.relayUrl||nce,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Jh(r)))];ex("client",this.client),ex("events",this.events),ex("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Bce(r,this.session);if(n?.length===0)return;const i=A7(n),s=hb(this.namespaces,this.optionalNamespaces),o=rx(pb({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new tle({namespace:o});break;case"algorand":this.rpcProviders[r]=new ule({namespace:o});break;case"solana":this.rpcProviders[r]=new ile({namespace:o});break;case"cosmos":this.rpcProviders[r]=new ale({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Jce({namespace:o});break;case"cip34":this.rpcProviders[r]=new hle({namespace:o});break;case"elrond":this.rpcProviders[r]=new mle({namespace:o});break;case"multiversx":this.rpcProviders[r]=new wle({namespace:o});break;case"near":this.rpcProviders[r]=new vle({namespace:o});break;case"tezos":this.rpcProviders[r]=new Cle({namespace:o});break;default:this.rpcProviders[r]=new Ile({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Tl(o)&&this.events.emit("accountsChanged",o.map(GP))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Jh(o),l=Zv(o)!==Zv(a)?`${c}:${Zv(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=rx(pb({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",rx(pb({},$r("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ho.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[y7]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=hb(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Jh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Jh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(GP);if(!Tl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${fb}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${fb}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${fb}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(fb)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}},Ff=null;const qs={getSIWX(){return he.state.siwx},async initializeIfEnabled(t=J.getActiveCaipAddress()){const e=he.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(J.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(he.state.remoteFeatures?.emailCapture){const o=J.getAccountData(r)?.user;await At.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Ff&&await Ff,(await e.getSessions(`${r}:${n}`,i)).length)return;await At.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Ne._getClient()?.disconnect().catch(console.error),Ve.reset("Connect"),Cc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=he.state.siwx,e=Pe.getPlainAddress(J.getActiveCaipAddress()),r=Fp(),n=Ne._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();xe.getConnectorId(r.chainNamespace)===ae.CONNECTOR_ID.AUTH&&Ve.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),J.setLastConnectedSIWECaipNetwork(r),At.close(),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!At.state.open||Ve.state.view==="ApproveTransaction")&&await At.open({view:"SIWXSignMessage"}),Cc.showError("Error signing message"),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=J.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");n&&n.length>0?await J.switchActiveNetwork(r):await Ne.disconnect()}else await Ne.disconnect()}else At.close();At.close(),Dt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=J.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=he.state.siwx;let r=t?.address;if(!r){const i=J.getActiveCaipAddress();r=Pe.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=J.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Ve.state.view==="ApproveTransaction",r=Ve.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=qs.getSIWX(),o=Fp();if(!s||!i.includes(ae.CHAIN.EVM)||he.state.remoteFeatures?.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await qs.addEmbeddedWalletSession(l,u.message,u.signature),J.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Ff)return Ff;const n=qs.getSIWX();return n?(Ff=n.addSession({data:t,message:e,signature:r}).finally(()=>{Ff=null}),Ff):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=qs.getSIWX(),i=Fp(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:Fp()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Cc.showLoading("Authenticating...",{autoClose:!1}),Me.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&J.setLastConnectedSIWECaipNetwork(i),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:qs.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:qs.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Cc.hide()}}return!0},getSIWXEventProperties(){const t=J.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:J.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Ts(t)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Tt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:ae.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},xc={ConnectorExplorerIds:{[ae.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ae.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ae.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Tt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Tt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Tt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Tt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Tt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Tt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Tt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Tt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Tt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Tt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Tt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Tt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[ae.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ae.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ae.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ae.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ae.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ae.CONNECTOR_ID.COINBASE]:"Coinbase",[ae.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ae.CONNECTOR_ID.LEDGER]:"Ledger",[ae.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ae.CONNECTOR_ID.INJECTED]:"INJECTED",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ae.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ae.CONNECTOR_ID.AUTH]:"AUTH",[Tt.CONNECTOR_TYPE_AUTH]:"AUTH"}},Fn={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Tt.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=J.state.activeChain;return ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>xe.getConnectorId(e)===ae.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return ae.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},Mle=new AbortController,Ai={EmbeddedWalletAbortController:Mle,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Kh()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},Ule={createLogger(t,e="error"){const r=U0({level:e}),{logger:n}=GN({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},$le="rpc.walletconnect.org";function n6(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const nx=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ph={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===$le}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ae.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ae.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return nx.includes(e)?n6(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(d=>d.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:xc.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Ph.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(Yy(i.url,i.config))}),nx.includes(t.caipNetworkId)&&n.push(Yy(n6(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(Yy(i))}),Y3(n)},extendWagmiTransports(t,e,r){if(nx.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return Y3([r,Yy(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ae.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=be.getActiveCaipNetworkId(),r=J.getAllRequestedCaipNetworks(),n=Array.from(J.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},y_={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},cs=gr({providers:{...y_},providerIds:{...y_}}),dt={state:cs,subscribeKey(t,e){return Bi(cs,t,e)},subscribe(t){return fi(cs,()=>{t(cs)})},subscribeProviders(t){return fi(cs.providers,()=>t(cs.providers))},setProvider(t,e){t&&e&&(cs.providers[t]=Ad(e))},getProvider(t){if(t)return cs.providers[t]},setProviderId(t,e){e&&(cs.providerIds[t]=e)},getProviderId(t){if(t)return cs.providerIds[t]},reset(){cs.providers={...y_},cs.providerIds={...y_}},resetChain(t){cs.providers[t]=void 0,cs.providerIds[t]=void 0}},i6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},si={set(t,e){zs.isClient&&localStorage.setItem(`${$e.STORAGE_KEY}${t}`,e)},get(t){return zs.isClient?localStorage.getItem(`${$e.STORAGE_KEY}${t}`):null},delete(t,e){zs.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${$e.STORAGE_KEY}${t}`))}},gb=30*1e3,zs={checkIfAllowedToTriggerEmail(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<gb){const r=Math.ceil((gb-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<gb)return Math.ceil((gb-e)/1e3)}return 0},checkIfRequestExists(t){return jn.NOT_SAFE_RPC_METHODS.includes(t.method)||jn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(i6.transactionHash)||t?.match(i6.signedMessage))?$e.RPC_RESPONSE_TYPE_TX:$e.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return jn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var jt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(jt||(jt={}));var eC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(eC||(eC={}));const Re=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ou=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},Ee=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Lle=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Xa extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Xa.create=t=>new Xa(t);const ym=(t,e)=>{let r;switch(t.code){case Ee.invalid_type:t.received===Re.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ee.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ee.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=e.defaultError,jt.assertNever(t)}return{message:r}};let S7=ym;function Fle(t){S7=t}function b_(){return S7}const w_=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Ble=[];function Ue(t,e){const r=w_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b_(),ym].filter(n=>!!n)});t.common.issues.push(r)}class Li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return rt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Li.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const rt=Object.freeze({status:"aborted"}),I7=t=>({status:"dirty",value:t}),rs=t=>({status:"valid",value:t}),tC=t=>t.status==="aborted",rC=t=>t.status==="dirty",bm=t=>t.status==="valid",__=t=>typeof Promise<"u"&&t instanceof Promise;var ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ze||(ze={}));class Fc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s6=(t,e)=>{if(bm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Xa(t.common.issues);return this._error=r,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class ct{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ou(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ou(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Li,ctx:{common:e.parent.common,data:e.data,parsedType:Ou(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(__(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ou(e)},s=this._parseSync({data:e,path:i.path,parent:i});return s6(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ou(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(__(i)?i:Promise.resolve(i));return s6(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ec({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Rl.create(this,this._def)}nullable(){return Od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this,this._def)}promise(){return N0.create(this,this._def)}or(e){return vm.create([this,e],this._def)}and(e){return xm.create(this,e,this._def)}transform(e){return new ec({...ot(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Im({...ot(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new R7({typeName:Xe.ZodBranded,type:this,...ot(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new A_({...ot(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return xy.create(this,e)}readonly(){return N_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jle=/^c[^\s-]{8,}$/i,Hle=/^[a-z][a-z0-9]*$/,Wle=/^[0-9A-HJKMNP-TV-Z]{26}$/,qle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zle=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Gle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ix;const Kle=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Vle=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Jle=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Yle(t,e){return!!((e==="v4"||!e)&&Kle.test(t)||(e==="v6"||!e)&&Vle.test(t))}class Ba extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.string,received:s.parsedType}),rt}const n=new Li;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")zle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"email",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")ix||(ix=new RegExp(Gle,"u")),ix.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")qle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")jle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Hle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Wle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ue(i,{validation:"url",code:Ee.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Jle(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Yle(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),n.dirty()):jt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ee.invalid_string,...ze.errToObj(n)})}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ze.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...ze.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ze.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ze.errToObj(r)})}nonempty(e){return this.min(1,ze.errToObj(e))}trim(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ba.create=t=>{var e;return new Ba({checks:[],typeName:Xe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};function Xle(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Vu extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.number,received:s.parsedType}),rt}let n;const i=new Li;for(const s of this._def.checks)s.kind==="int"?jt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Xle(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_finite,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Vu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Vu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Vu.create=t=>new Vu({checks:[],typeName:Xe.ZodNumber,coerce:t?.coerce||!1,...ot(t)});class Ju extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Re.bigint){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.bigint,received:s.parsedType}),rt}let n;const i=new Li;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Ju({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Ju({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ju.create=t=>{var e;return new Ju({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};class wm extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.boolean,received:n.parsedType}),rt}return rs(e.data)}}wm.create=t=>new wm({typeName:Xe.ZodBoolean,coerce:t?.coerce||!1,...ot(t)});class Rd extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.date,received:s.parsedType}),rt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_date}),rt}const n=new Li;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):jt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Rd.create=t=>new Rd({checks:[],coerce:t?.coerce||!1,typeName:Xe.ZodDate,...ot(t)});class E_ extends ct{_parse(e){if(this._getType(e)!==Re.symbol){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.symbol,received:n.parsedType}),rt}return rs(e.data)}}E_.create=t=>new E_({typeName:Xe.ZodSymbol,...ot(t)});class _m extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.undefined,received:n.parsedType}),rt}return rs(e.data)}}_m.create=t=>new _m({typeName:Xe.ZodUndefined,...ot(t)});class Em extends ct{_parse(e){if(this._getType(e)!==Re.null){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.null,received:n.parsedType}),rt}return rs(e.data)}}Em.create=t=>new Em({typeName:Xe.ZodNull,...ot(t)});class C0 extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return rs(e.data)}}C0.create=t=>new C0({typeName:Xe.ZodAny,...ot(t)});class yd extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rs(e.data)}}yd.create=t=>new yd({typeName:Xe.ZodUnknown,...ot(t)});class Fl extends ct{_parse(e){const r=this._getOrReturnCtx(e);return Ue(r,{code:Ee.invalid_type,expected:Re.never,received:r.parsedType}),rt}}Fl.create=t=>new Fl({typeName:Xe.ZodNever,...ot(t)});class v_ extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.void,received:n.parsedType}),rt}return rs(e.data)}}v_.create=t=>new v_({typeName:Xe.ZodVoid,...ot(t)});class Qa extends ct{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Re.array)return Ue(r,{code:Ee.invalid_type,expected:Re.array,received:r.parsedType}),rt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ue(r,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ue(r,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ue(r,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Fc(r,o,r.path,a)))).then(o=>Li.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Fc(r,o,r.path,a)));return Li.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Qa({...this._def,minLength:{value:e,message:ze.toString(r)}})}max(e,r){return new Qa({...this._def,maxLength:{value:e,message:ze.toString(r)}})}length(e,r){return new Qa({...this._def,exactLength:{value:e,message:ze.toString(r)}})}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ot(e)});function Oh(t){if(t instanceof zr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Rl.create(Oh(n))}return new zr({...t._def,shape:()=>e})}else return t instanceof Qa?new Qa({...t._def,type:Oh(t.element)}):t instanceof Rl?Rl.create(Oh(t.unwrap())):t instanceof Od?Od.create(Oh(t.unwrap())):t instanceof Bc?Bc.create(t.items.map(e=>Oh(e))):t}class zr extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=jt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Re.object){const l=this._getOrReturnCtx(e);return Ue(l,{code:Ee.invalid_type,expected:Re.object,received:l.parsedType}),rt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Fl&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Fc(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Fl){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(Ue(i,{code:Ee.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Fc(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Li.mergeObjectSync(n,l)):Li.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ze.errToObj,new zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ze.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new zr({...this._def,catchall:e})}pick(e){const r={};return jt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new zr({...this._def,shape:()=>r})}omit(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new zr({...this._def,shape:()=>r})}deepPartial(){return Oh(this)}partial(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new zr({...this._def,shape:()=>r})}required(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Rl;)s=s._def.innerType;r[n]=s}}),new zr({...this._def,shape:()=>r})}keyof(){return T7(jt.objectKeys(this.shape))}}zr.create=(t,e)=>new zr({shape:()=>t,unknownKeys:"strip",catchall:Fl.create(),typeName:Xe.ZodObject,...ot(e)});zr.strictCreate=(t,e)=>new zr({shape:()=>t,unknownKeys:"strict",catchall:Fl.create(),typeName:Xe.ZodObject,...ot(e)});zr.lazycreate=(t,e)=>new zr({shape:t,unknownKeys:"strip",catchall:Fl.create(),typeName:Xe.ZodObject,...ot(e)});class vm extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Xa(a.ctx.common.issues));return Ue(r,{code:Ee.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Xa(c));return Ue(r,{code:Ee.invalid_union,unionErrors:a}),rt}}get options(){return this._def.options}}vm.create=(t,e)=>new vm({options:t,typeName:Xe.ZodUnion,...ot(e)});const Gb=t=>t instanceof Cm?Gb(t.schema):t instanceof ec?Gb(t.innerType()):t instanceof Nm?[t.value]:t instanceof Yu?t.options:t instanceof Sm?Object.keys(t.enum):t instanceof Im?Gb(t._def.innerType):t instanceof _m?[void 0]:t instanceof Em?[null]:null;class H1 extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Ue(r,{code:Ee.invalid_type,expected:Re.object,received:r.parsedType}),rt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ue(r,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Gb(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new H1({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ot(n)})}}function nC(t,e){const r=Ou(t),n=Ou(e);if(t===e)return{valid:!0,data:t};if(r===Re.object&&n===Re.object){const i=jt.objectKeys(e),s=jt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=nC(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=nC(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Re.date&&n===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xm extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(tC(s)||tC(o))return rt;const a=nC(s.value,o.value);return a.valid?((rC(s)||rC(o))&&r.dirty(),{status:r.value,value:a.data}):(Ue(n,{code:Ee.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xm.create=(t,e,r)=>new xm({left:t,right:e,typeName:Xe.ZodIntersection,...ot(r)});class Bc extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.array)return Ue(n,{code:Ee.invalid_type,expected:Re.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Ue(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Ue(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Fc(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Li.mergeArray(r,o)):Li.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Bc({...this._def,rest:e})}}Bc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bc({items:t,typeName:Xe.ZodTuple,rest:null,...ot(e)})};class Am extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.object)return Ue(n,{code:Ee.invalid_type,expected:Re.object,received:n.parsedType}),rt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Fc(n,a,n.path,a)),value:o._parse(new Fc(n,n.data[a],n.path,a))});return n.common.async?Li.mergeObjectAsync(r,i):Li.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ct?new Am({keyType:e,valueType:r,typeName:Xe.ZodRecord,...ot(n)}):new Am({keyType:Ba.create(),valueType:e,typeName:Xe.ZodRecord,...ot(r)})}}class x_ extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.map)return Ue(n,{code:Ee.invalid_type,expected:Re.map,received:n.parsedType}),rt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Fc(n,a,n.path,[l,"key"])),value:s._parse(new Fc(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}x_.create=(t,e,r)=>new x_({valueType:e,keyType:t,typeName:Xe.ZodMap,...ot(r)});class Pd extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.set)return Ue(n,{code:Ee.invalid_type,expected:Re.set,received:n.parsedType}),rt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ue(n,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ue(n,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return rt;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new Fc(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Pd({...this._def,minSize:{value:e,message:ze.toString(r)}})}max(e,r){return new Pd({...this._def,maxSize:{value:e,message:ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Pd.create=(t,e)=>new Pd({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ot(e)});class i0 extends ct{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.function)return Ue(r,{code:Ee.invalid_type,expected:Re.function,received:r.parsedType}),rt;function n(a,c){return w_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,b_(),ym].filter(l=>!!l),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return w_({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,b_(),ym].filter(l=>!!l),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof N0){const a=this;return rs(async function(...c){const l=new Xa([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(i(f,h)),l})})}else{const a=this;return rs(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Xa([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new Xa([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new i0({...this._def,args:Bc.create(e).rest(yd.create())})}returns(e){return new i0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new i0({args:e||Bc.create([]).rest(yd.create()),returns:r||yd.create(),typeName:Xe.ZodFunction,...ot(n)})}}class Cm extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Cm.create=(t,e)=>new Cm({getter:t,typeName:Xe.ZodLazy,...ot(e)});class Nm extends ct{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ue(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Nm.create=(t,e)=>new Nm({value:t,typeName:Xe.ZodLiteral,...ot(e)});function T7(t,e){return new Yu({values:t,typeName:Xe.ZodEnum,...ot(e)})}class Yu extends ct{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{expected:jt.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),rt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),rt}return rs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Yu.create(e)}exclude(e){return Yu.create(this.options.filter(r=>!e.includes(r)))}}Yu.create=T7;class Sm extends ct{_parse(e){const r=jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const i=jt.objectValues(r);return Ue(n,{expected:jt.joinValues(i),received:n.parsedType,code:Ee.invalid_type}),rt}if(r.indexOf(e.data)===-1){const i=jt.objectValues(r);return Ue(n,{received:n.data,code:Ee.invalid_enum_value,options:i}),rt}return rs(e.data)}get enum(){return this._def.values}}Sm.create=(t,e)=>new Sm({values:t,typeName:Xe.ZodNativeEnum,...ot(e)});class N0 extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ue(r,{code:Ee.invalid_type,expected:Re.promise,received:r.parsedType}),rt;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return rs(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}N0.create=(t,e)=>new N0({type:t,typeName:Xe.ZodPromise,...ot(e)});class ec extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ue(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!bm(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>bm(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);jt.assertNever(i)}}ec.create=(t,e,r)=>new ec({schema:t,typeName:Xe.ZodEffects,effect:e,...ot(r)});ec.createWithPreprocess=(t,e,r)=>new ec({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...ot(r)});class Rl extends ct{_parse(e){return this._getType(e)===Re.undefined?rs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rl.create=(t,e)=>new Rl({innerType:t,typeName:Xe.ZodOptional,...ot(e)});class Od extends ct{_parse(e){return this._getType(e)===Re.null?rs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Od.create=(t,e)=>new Od({innerType:t,typeName:Xe.ZodNullable,...ot(e)});class Im extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Im.create=(t,e)=>new Im({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class A_ extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return __(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}A_.create=(t,e)=>new A_({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class C_ extends ct{_parse(e){if(this._getType(e)!==Re.nan){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.nan,received:n.parsedType}),rt}return{status:"valid",value:e.data}}}C_.create=t=>new C_({typeName:Xe.ZodNaN,...ot(t)});const Qle=Symbol("zod_brand");class R7 extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xy extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),I7(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new xy({in:e,out:r,typeName:Xe.ZodPipeline})}}class N_ extends ct{_parse(e){const r=this._def.innerType._parse(e);return bm(r)&&(r.value=Object.freeze(r.value)),r}}N_.create=(t,e)=>new N_({innerType:t,typeName:Xe.ZodReadonly,...ot(e)});const P7=(t,e={},r)=>t?C0.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):C0.create(),Zle={object:zr.lazycreate};var Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const eue=(t,e={message:`Input not instance of ${t.name}`})=>P7(r=>r instanceof t,e),O7=Ba.create,D7=Vu.create,tue=C_.create,rue=Ju.create,k7=wm.create,nue=Rd.create,iue=E_.create,sue=_m.create,oue=Em.create,aue=C0.create,cue=yd.create,lue=Fl.create,uue=v_.create,fue=Qa.create,due=zr.create,hue=zr.strictCreate,pue=vm.create,gue=H1.create,mue=xm.create,yue=Bc.create,bue=Am.create,wue=x_.create,_ue=Pd.create,Eue=i0.create,vue=Cm.create,xue=Nm.create,Aue=Yu.create,Cue=Sm.create,Nue=N0.create,o6=ec.create,Sue=Rl.create,Iue=Od.create,Tue=ec.createWithPreprocess,Rue=xy.create,Pue=()=>O7().optional(),Oue=()=>D7().optional(),Due=()=>k7().optional(),kue={string:(t=>Ba.create({...t,coerce:!0})),number:(t=>Vu.create({...t,coerce:!0})),boolean:(t=>wm.create({...t,coerce:!0})),bigint:(t=>Ju.create({...t,coerce:!0})),date:(t=>Rd.create({...t,coerce:!0}))},Mue=rt;var j=Object.freeze({__proto__:null,defaultErrorMap:ym,setErrorMap:Fle,getErrorMap:b_,makeIssue:w_,EMPTY_PATH:Ble,addIssueToContext:Ue,ParseStatus:Li,INVALID:rt,DIRTY:I7,OK:rs,isAborted:tC,isDirty:rC,isValid:bm,isAsync:__,get util(){return jt},get objectUtil(){return eC},ZodParsedType:Re,getParsedType:Ou,ZodType:ct,ZodString:Ba,ZodNumber:Vu,ZodBigInt:Ju,ZodBoolean:wm,ZodDate:Rd,ZodSymbol:E_,ZodUndefined:_m,ZodNull:Em,ZodAny:C0,ZodUnknown:yd,ZodNever:Fl,ZodVoid:v_,ZodArray:Qa,ZodObject:zr,ZodUnion:vm,ZodDiscriminatedUnion:H1,ZodIntersection:xm,ZodTuple:Bc,ZodRecord:Am,ZodMap:x_,ZodSet:Pd,ZodFunction:i0,ZodLazy:Cm,ZodLiteral:Nm,ZodEnum:Yu,ZodNativeEnum:Sm,ZodPromise:N0,ZodEffects:ec,ZodTransformer:ec,ZodOptional:Rl,ZodNullable:Od,ZodDefault:Im,ZodCatch:A_,ZodNaN:C_,BRAND:Qle,ZodBranded:R7,ZodPipeline:xy,ZodReadonly:N_,custom:P7,Schema:ct,ZodSchema:ct,late:Zle,get ZodFirstPartyTypeKind(){return Xe},coerce:kue,any:aue,array:fue,bigint:rue,boolean:k7,date:nue,discriminatedUnion:gue,effect:o6,enum:Aue,function:Eue,instanceof:eue,intersection:mue,lazy:vue,literal:xue,map:wue,nan:tue,nativeEnum:Cue,never:lue,null:oue,nullable:Iue,number:D7,object:due,oboolean:Due,onumber:Oue,optional:Sue,ostring:Pue,pipeline:Rue,preprocess:Tue,promise:Nue,record:bue,set:_ue,strictObject:hue,string:O7,symbol:iue,transformer:o6,tuple:yue,undefined:sue,union:pue,unknown:cue,void:uue,NEVER:Mue,ZodIssueCode:Ee,quotelessJson:Lle,ZodError:Xa});const Vr=j.object({message:j.string()});function Oe(t){return j.literal($e[t])}const W1=j.object({serializedMessage:j.string().optional(),accountAddress:j.string(),chainId:j.string(),notBefore:j.string().optional(),domain:j.string(),uri:j.string(),version:j.string(),nonce:j.string(),statement:j.string().optional(),resources:j.array(j.string()).optional(),requestId:j.string().optional(),issuedAt:j.string().optional(),expirationTime:j.string().optional()});j.object({accessList:j.array(j.string()),blockHash:j.string().nullable(),blockNumber:j.string().nullable(),chainId:j.string().or(j.number()),from:j.string(),gas:j.string(),hash:j.string(),input:j.string().nullable(),maxFeePerGas:j.string(),maxPriorityFeePerGas:j.string(),nonce:j.string(),r:j.string(),s:j.string(),to:j.string(),transactionIndex:j.string().nullable(),type:j.string(),v:j.string(),value:j.string()});const Uue=j.object({chainId:j.string().or(j.number()),rpcUrl:j.optional(j.string())}),$ue=j.object({email:j.string().email()}),Lue=j.object({otp:j.string()}),Fue=j.object({uri:j.string(),preferredAccountType:j.optional(j.string()),chainId:j.optional(j.string().or(j.number())),siwxMessage:j.optional(W1),rpcUrl:j.optional(j.string())}),Bue=j.object({chainId:j.optional(j.string().or(j.number())),preferredAccountType:j.optional(j.string()),socialUri:j.optional(j.string()),siwxMessage:j.optional(W1),rpcUrl:j.optional(j.string())}),jue=j.object({provider:j.enum(["google","github","apple","facebook","x","discord"])}),Hue=j.object({email:j.string().email()}),Wue=j.object({otp:j.string()}),que=j.object({otp:j.string()}),zue=j.object({themeMode:j.optional(j.enum(["light","dark"])),themeVariables:j.optional(j.record(j.string(),j.string().or(j.number()))),w3mThemeVariables:j.optional(j.record(j.string(),j.string()))}),Gue=j.object({metadata:j.object({name:j.string(),description:j.string(),url:j.string(),icons:j.array(j.string())}).optional(),sdkVersion:j.string().optional(),sdkType:j.string().optional(),projectId:j.string()}),Kue=j.object({type:j.string()}),Vue=j.object({action:j.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Jue=j.object({url:j.string()}),Yue=j.object({userName:j.string()}),Xue=j.object({email:j.string().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:j.string().optional().nullable(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(W1)}),Que=j.object({action:j.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Zue=j.object({email:j.string().email().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),smartAccountDeployed:j.optional(j.boolean()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(W1)}),efe=j.object({uri:j.string()}),tfe=j.object({isConnected:j.boolean()}),rfe=j.object({chainId:j.string().or(j.number())}),nfe=j.object({chainId:j.string().or(j.number())}),ife=j.object({newEmail:j.string().email()}),sfe=j.object({smartAccountEnabledNetworks:j.array(j.number())});j.object({address:j.string(),isDeployed:j.boolean()});const ofe=j.object({version:j.string().optional()}),afe=j.object({type:j.string(),address:j.string()}),cfe=j.any(),lfe=j.object({method:j.literal("eth_accounts")}),ufe=j.object({method:j.literal("eth_blockNumber")}),ffe=j.object({method:j.literal("eth_call"),params:j.array(j.any())}),dfe=j.object({method:j.literal("eth_chainId")}),hfe=j.object({method:j.literal("eth_estimateGas"),params:j.array(j.any())}),pfe=j.object({method:j.literal("eth_feeHistory"),params:j.array(j.any())}),gfe=j.object({method:j.literal("eth_gasPrice")}),mfe=j.object({method:j.literal("eth_getAccount"),params:j.array(j.any())}),yfe=j.object({method:j.literal("eth_getBalance"),params:j.array(j.any())}),bfe=j.object({method:j.literal("eth_getBlockByHash"),params:j.array(j.any())}),wfe=j.object({method:j.literal("eth_getBlockByNumber"),params:j.array(j.any())}),_fe=j.object({method:j.literal("eth_getBlockReceipts"),params:j.array(j.any())}),Efe=j.object({method:j.literal("eth_getBlockTransactionCountByHash"),params:j.array(j.any())}),vfe=j.object({method:j.literal("eth_getBlockTransactionCountByNumber"),params:j.array(j.any())}),xfe=j.object({method:j.literal("eth_getCode"),params:j.array(j.any())}),Afe=j.object({method:j.literal("eth_getFilterChanges"),params:j.array(j.any())}),Cfe=j.object({method:j.literal("eth_getFilterLogs"),params:j.array(j.any())}),Nfe=j.object({method:j.literal("eth_getLogs"),params:j.array(j.any())}),Sfe=j.object({method:j.literal("eth_getProof"),params:j.array(j.any())}),Ife=j.object({method:j.literal("eth_getStorageAt"),params:j.array(j.any())}),Tfe=j.object({method:j.literal("eth_getTransactionByBlockHashAndIndex"),params:j.array(j.any())}),Rfe=j.object({method:j.literal("eth_getTransactionByBlockNumberAndIndex"),params:j.array(j.any())}),Pfe=j.object({method:j.literal("eth_getTransactionByHash"),params:j.array(j.any())}),Ofe=j.object({method:j.literal("eth_getTransactionCount"),params:j.array(j.any())}),Dfe=j.object({method:j.literal("eth_getTransactionReceipt"),params:j.array(j.any())}),kfe=j.object({method:j.literal("eth_getUncleCountByBlockHash"),params:j.array(j.any())}),Mfe=j.object({method:j.literal("eth_getUncleCountByBlockNumber"),params:j.array(j.any())}),Ufe=j.object({method:j.literal("eth_maxPriorityFeePerGas")}),$fe=j.object({method:j.literal("eth_newBlockFilter")}),Lfe=j.object({method:j.literal("eth_newFilter"),params:j.array(j.any())}),Ffe=j.object({method:j.literal("eth_newPendingTransactionFilter")}),Bfe=j.object({method:j.literal("eth_sendRawTransaction"),params:j.array(j.any())}),jfe=j.object({method:j.literal("eth_syncing"),params:j.array(j.any())}),Hfe=j.object({method:j.literal("eth_uninstallFilter"),params:j.array(j.any())}),a6=j.object({method:j.literal("personal_sign"),params:j.array(j.any())}),Wfe=j.object({method:j.literal("eth_signTypedData_v4"),params:j.array(j.any())}),qfe=j.object({method:j.literal("eth_sendTransaction"),params:j.array(j.any())}),zfe=j.object({method:j.literal("solana_signMessage"),params:j.object({message:j.string(),pubkey:j.string()})}),Gfe=j.object({method:j.literal("solana_signTransaction"),params:j.object({transaction:j.string()})}),Kfe=j.object({method:j.literal("solana_signAllTransactions"),params:j.object({transactions:j.array(j.string())})}),Vfe=j.object({method:j.literal("solana_signAndSendTransaction"),params:j.object({transaction:j.string(),options:j.object({skipPreflight:j.boolean().optional(),preflightCommitment:j.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:j.number().optional(),minContextSlot:j.number().optional()}).optional()})}),Jfe=j.object({method:j.literal("wallet_sendCalls"),params:j.array(j.object({chainId:j.string().or(j.number()).optional(),from:j.string().optional(),version:j.string().optional(),capabilities:j.any().optional(),calls:j.array(j.object({to:j.string().startsWith("0x"),data:j.string().startsWith("0x").optional(),value:j.string().optional()}))}))}),Yfe=j.object({method:j.literal("wallet_getCallsStatus"),params:j.array(j.string())}),Xfe=j.object({method:j.literal("wallet_getCapabilities"),params:j.array(j.string().or(j.number()).optional()).optional()}),Qfe=j.object({method:j.literal("wallet_grantPermissions"),params:j.array(j.any())}),Zfe=j.object({method:j.literal("wallet_revokePermissions"),params:j.any()}),ede=j.object({method:j.literal("wallet_getAssets"),params:j.any()}),c6=j.object({token:j.string()}),De=j.object({id:j.string().optional()}),sx={appEvent:De.extend({type:Oe("APP_SWITCH_NETWORK"),payload:Uue}).or(De.extend({type:Oe("APP_CONNECT_EMAIL"),payload:$ue})).or(De.extend({type:Oe("APP_CONNECT_DEVICE")})).or(De.extend({type:Oe("APP_CONNECT_OTP"),payload:Lue})).or(De.extend({type:Oe("APP_CONNECT_SOCIAL"),payload:Fue})).or(De.extend({type:Oe("APP_GET_FARCASTER_URI")})).or(De.extend({type:Oe("APP_CONNECT_FARCASTER")})).or(De.extend({type:Oe("APP_GET_USER"),payload:j.optional(Bue)})).or(De.extend({type:Oe("APP_GET_SOCIAL_REDIRECT_URI"),payload:jue})).or(De.extend({type:Oe("APP_SIGN_OUT")})).or(De.extend({type:Oe("APP_IS_CONNECTED"),payload:j.optional(c6)})).or(De.extend({type:Oe("APP_GET_CHAIN_ID")})).or(De.extend({type:Oe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(De.extend({type:Oe("APP_INIT_SMART_ACCOUNT")})).or(De.extend({type:Oe("APP_SET_PREFERRED_ACCOUNT"),payload:Kue})).or(De.extend({type:Oe("APP_RPC_REQUEST"),payload:a6.or(ede).or(lfe).or(ufe).or(ffe).or(dfe).or(hfe).or(pfe).or(gfe).or(mfe).or(yfe).or(bfe).or(wfe).or(_fe).or(Efe).or(vfe).or(xfe).or(Afe).or(Cfe).or(Nfe).or(Sfe).or(Ife).or(Tfe).or(Rfe).or(Pfe).or(Ofe).or(Dfe).or(kfe).or(Mfe).or(Ufe).or($fe).or(Lfe).or(Ffe).or(Bfe).or(jfe).or(Hfe).or(a6).or(Wfe).or(qfe).or(zfe).or(Gfe).or(Kfe).or(Vfe).or(Yfe).or(Jfe).or(Xfe).or(Qfe).or(Zfe).and(j.object({chainId:j.string().or(j.number()).optional(),chainNamespace:j.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:j.string().optional()}))})).or(De.extend({type:Oe("APP_UPDATE_EMAIL"),payload:Hue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Wue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:que})).or(De.extend({type:Oe("APP_SYNC_THEME"),payload:zue})).or(De.extend({type:Oe("APP_SYNC_DAPP_DATA"),payload:Gue})).or(De.extend({type:Oe("APP_RELOAD")})).or(De.extend({type:Oe("APP_RPC_ABORT")})),frameEvent:De.extend({type:Oe("FRAME_SWITCH_NETWORK_ERROR"),payload:Vr}).or(De.extend({type:Oe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:nfe})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Vue})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Jue})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Yue})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Xue})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_USER_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_USER_SUCCESS"),payload:Zue})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:efe})).or(De.extend({type:Oe("FRAME_SIGN_OUT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SIGN_OUT_SUCCESS")})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_SUCCESS"),payload:tfe})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:rfe})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_SUCCESS"),payload:cfe})).or(De.extend({type:Oe("FRAME_SESSION_UPDATE"),payload:c6})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Que})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:ife})).or(De.extend({type:Oe("FRAME_SYNC_THEME_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SYNC_THEME_SUCCESS")})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:sfe})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:afe})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_READY"),payload:ofe})).or(De.extend({type:Oe("FRAME_RELOAD_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_RELOAD_SUCCESS")}))};function ox(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function tde({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=ae.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(oq);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",cq),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class rde{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=ae.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:f}){if(!ox($e.FRAME_EVENT_KEY,f))return;const d=sx.frameEvent.safeParse(f);if(!d.success){console.warn("W3mFrame: invalid frame event",d.error.message);return}d.data?.id===a&&(c(d.data),window.removeEventListener("message",u))}zs.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{zs.isClient&&window.addEventListener("message",({data:c})=>{if(!ox($e.FRAME_EVENT_KEY,c))return;const l=sx.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{zs.isClient&&window.addEventListener("message",({data:c})=>{if(!ox($e.APP_EVENT_KEY,c))return;const l=sx.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(zs.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(zs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),zs.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=tde({projectId:e,chainId:n,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class nde{constructor(e){const r=U0({level:aq}),{logger:n,chunkLoggerController:i}=GN({opts:r});this.logger=ji(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class ide{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new nde(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(r);this.w3mFrame=new rde({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!si.get($e.EMAIL_LOGIN_USED_KEY)}getEmail(){return si.get($e.EMAIL)}getUsername(){return si.get($e.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:$e.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{zs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:$e.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){try{return this.appEvent({type:$e.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:$e.APP_CONNECT_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:$e.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:$e.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:$e.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:$e.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){try{return this.appEvent({type:$e.APP_SYNC_THEME,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){try{return this.appEvent({type:$e.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:$e.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:$e.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){if(e?.socialUri)try{await this.init();const r=this.getRpcUrl(e.chainId),n=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:r}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting social"),r}else try{const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.getUser({chainId:r,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(r)});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async getUser(e){try{await this.init();const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.appEvent({type:$e.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){try{await this.init();const i=this.getRpcUrl(r),s=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:$e.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:$e.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const r=this.getRpcUrl(e),n=await this.appEvent({type:$e.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(n.chainId),n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error switching network"),r}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const n=setTimeout(()=>{r()},3e3);await this.appEvent({type:$e.APP_SIGN_OUT}),clearTimeout(n),r()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const r=e;try{if(jn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const n=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(n)?.id;r.chainNamespace=n,r.chainId=i,r.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:$e.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(s,r),s}catch(n){throw this.rpcErrorHandler?.(n,r),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_ERROR&&e(),r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:jn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:r})=>{jn.SAFE_RPC_METHODS.includes(r)||e.abort(),await this.appEvent({type:$e.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let r,n;function i(c){return c.replace("@w3m-app/","")}const s=[$e.APP_SYNC_DAPP_DATA,$e.APP_SYNC_THEME,$e.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[$e.APP_CONNECT_EMAIL,$e.APP_CONNECT_DEVICE,$e.APP_CONNECT_OTP,$e.APP_CONNECT_SOCIAL,$e.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const f=new AbortController;if(o==="RPC_REQUEST"){const h=e;this.openRpcRequests.set(u,{...h.payload,abortController:f})}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const d=(h,m)=>{h.id===u&&(m?.logger.info?.({framEvent:h,id:u},"Received frame response"),this.openRpcRequests.delete(h.id),h.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&c(h.payload),c(void 0)):h.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&l(new Error(h.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,h=>d(h,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){si.set($e.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){si.set($e.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&si.set($e.EMAIL,e),si.set($e.EMAIL_LOGIN_USED_KEY,"true"),si.delete($e.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){si.delete($e.EMAIL_LOGIN_USED_KEY),si.delete($e.EMAIL),si.delete($e.LAST_USED_CHAIN_KEY),si.delete($e.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&si.set($e.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=si.get($e.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){si.set($e.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=Vi.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r);return(e?n.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):n[0])?.rpcUrls.default.http?.[0]}}class yg{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){return yg.instance||(yg.instance=new ide({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!he.state.remoteFeatures?.emailCapture})),yg.instance}}var l6={};const sde={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof l6<"u"?l6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},iC={filterOutDuplicatesByRDNS(t){const e=he.state.enableEIP6963?xe.state.connectors:[],r=be.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Pe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=xe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=be.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=xe.state,{featuredWalletIds:r}=he.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||he.state.features?.connectMethodsOrder,n=e||xe.state.connectors;if(r)return r;const{injected:i,announced:s}=Kb.getConnectorsByType(n,We.state.recommended,We.state.featured),o=i.filter(Kb.showConnector),a=s.filter(Kb.showConnector);return o.length||a.length?["wallet","email","social"]:sde.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&We.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&We.state.excludedWallets.some(n=>Fn.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},Kb={getConnectorsByType(t,e,r){const{customWallets:n}=he.state,i=be.getRecentWallets(),s=iC.filterOutDuplicateWallets(e),o=iC.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&We.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&We.state.excludedWallets.some(i=>Fn.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Pe.isMobile()||Pe.isMobile()&&!e&&!Ne.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(J.state.chains.values()).some(r=>xe.getConnectorId(r.namespace)===ae.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=he.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:he.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),d=new Set(f.map(g=>g.type)),h=c.filter(g=>d.has(g)).map(g=>({type:g,isEnabled:!0})),m=f.filter(({type:g})=>!h.some(({type:E})=>E===g));return Array.from(new Set([...h,...m].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Pe.isMobile())return{accounts:[],chainId:void 0};if(t.id===ae.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Vb=globalThis,vS=Vb.ShadowRoot&&(Vb.ShadyCSS===void 0||Vb.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xS=Symbol(),u6=new WeakMap;let M7=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==xS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(vS&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=u6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&u6.set(r,e))}return e}toString(){return this.cssText}};const pa=t=>new M7(typeof t=="string"?t:t+"",void 0,xS),Du=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new M7(r,t,xS)},ode=(t,e)=>{if(vS)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),i=Vb.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},f6=vS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return pa(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ade,defineProperty:cde,getOwnPropertyDescriptor:lde,getOwnPropertyNames:ude,getOwnPropertySymbols:fde,getPrototypeOf:dde}=Object,q1=globalThis,d6=q1.trustedTypes,hde=d6?d6.emptyScript:"",pde=q1.reactiveElementPolyfillSupport,bg=(t,e)=>t,sC={toAttribute(t,e){switch(e){case Boolean:t=t?hde:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},U7=(t,e)=>!ade(t,e),h6={attribute:!0,type:String,converter:sC,reflect:!1,useDefault:!1,hasChanged:U7};Symbol.metadata??=Symbol("metadata"),q1.litPropertyMetadata??=new WeakMap;let Dh=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=h6){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&cde(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=lde(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??h6}static _$Ei(){if(this.hasOwnProperty(bg("elementProperties")))return;const e=dde(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(bg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(bg("properties"))){const r=this.properties,n=[...ude(r),...fde(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(f6(i))}else e!==void 0&&r.push(f6(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ode(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:sC).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:sC;this._$Em=i;const a=o.fromAttribute(r,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??U7)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Dh.elementStyles=[],Dh.shadowRootOptions={mode:"open"},Dh[bg("elementProperties")]=new Map,Dh[bg("finalized")]=new Map,pde?.({ReactiveElement:Dh}),(q1.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const AS=globalThis,S_=AS.trustedTypes,p6=S_?S_.createPolicy("lit-html",{createHTML:t=>t}):void 0,$7="$lit$",ku=`lit$${Math.random().toFixed(9).slice(2)}$`,L7="?"+ku,gde=`<${L7}>`,Dd=document,Tm=()=>Dd.createComment(""),Rm=t=>t===null||typeof t!="object"&&typeof t!="function",CS=Array.isArray,mde=t=>CS(t)||typeof t?.[Symbol.iterator]=="function",ax=`[ 	
\f\r]`,Ap=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g6=/-->/g,m6=/>/g,Bf=RegExp(`>|${ax}(?:([^\\s"'>=/]+)(${ax}*=${ax}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),y6=/'/g,b6=/"/g,F7=/^(?:script|style|textarea|title)$/i,B7=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),PMe=B7(1),OMe=B7(2),S0=Symbol.for("lit-noChange"),Kn=Symbol.for("lit-nothing"),w6=new WeakMap,ld=Dd.createTreeWalker(Dd,129);function j7(t,e){if(!CS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return p6!==void 0?p6.createHTML(e):e}const yde=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Ap;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Ap?u[1]==="!--"?o=g6:u[1]!==void 0?o=m6:u[2]!==void 0?(F7.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Bf):u[3]!==void 0&&(o=Bf):o===Bf?u[0]===">"?(o=i??Ap,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Bf:u[3]==='"'?b6:y6):o===b6||o===y6?o=Bf:o===g6||o===m6?o=Ap:(o=Bf,i=void 0);const h=o===Bf&&t[a+1].startsWith("/>")?" ":"";s+=o===Ap?c+gde:f>=0?(n.push(l),c.slice(0,f)+$7+c.slice(f)+ku+h):c+ku+(f===-2?a:h)}return[j7(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let oC=class H7{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=yde(e,r);if(this.el=H7.createElement(l,n),ld.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=ld.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith($7)){const d=u[o++],h=i.getAttribute(f).split(ku),m=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:m[2],strings:h,ctor:m[1]==="."?wde:m[1]==="?"?_de:m[1]==="@"?Ede:z1}),i.removeAttribute(f)}else f.startsWith(ku)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(F7.test(i.tagName)){const f=i.textContent.split(ku),d=f.length-1;if(d>0){i.textContent=S_?S_.emptyScript:"";for(let h=0;h<d;h++)i.append(f[h],Tm()),ld.nextNode(),c.push({type:2,index:++s});i.append(f[d],Tm())}}}else if(i.nodeType===8)if(i.data===L7)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(ku,f+1))!==-1;)c.push({type:7,index:s}),f+=ku.length-1}s++}}static createElement(e,r){const n=Dd.createElement("template");return n.innerHTML=e,n}};function I0(t,e,r=t,n){if(e===S0)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=Rm(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=I0(t,i._$AS(t,e.values),i,n)),e}class bde{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??Dd).importNode(r,!0);ld.currentNode=i;let s=ld.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Ay(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new vde(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=ld.nextNode(),o++)}return ld.currentNode=Dd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Ay{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Kn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=I0(this,e,r),Rm(e)?e===Kn||e==null||e===""?(this._$AH!==Kn&&this._$AR(),this._$AH=Kn):e!==this._$AH&&e!==S0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):mde(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Kn&&Rm(this._$AH)?this._$AA.nextSibling.data=e:this.T(Dd.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=oC.createElement(j7(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new bde(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=w6.get(e.strings);return r===void 0&&w6.set(e.strings,r=new oC(e)),r}k(e){CS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Ay(this.O(Tm()),this.O(Tm()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class z1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Kn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Kn}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=I0(this,e,r,0),o=!Rm(e)||e!==this._$AH&&e!==S0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=I0(this,a[n+c],r,c),l===S0&&(l=this._$AH[c]),o||=!Rm(l)||l!==this._$AH[c],l===Kn?e=Kn:e!==Kn&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class wde extends z1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Kn?void 0:e}}class _de extends z1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Kn)}}class Ede extends z1{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=I0(this,e,r,0)??Kn)===S0)return;const n=this._$AH,i=e===Kn&&n!==Kn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Kn&&(n===Kn||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class vde{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){I0(this,e)}}const xde=AS.litHtmlPolyfillSupport;xde?.(oC,Ay),(AS.litHtmlVersions??=[]).push("3.3.1");const Ade=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new Ay(e.insertBefore(Tm(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NS=globalThis;class Jb extends Dh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ade(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return S0}}Jb._$litElement$=!0,Jb.finalized=!0,NS.litElementHydrateSupport?.({LitElement:Jb});const Cde=NS.litElementPolyfillSupport;Cde?.({LitElement:Jb});(NS.litElementVersions??=[]).push("4.2.1");const Nde={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},I_={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Sde={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Ide={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Tde={regular:"KHTeka",mono:"KHTekaMono"},Rde={regular:"400",medium:"500"},Pde={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Ode={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Dde={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},kde={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},aC={colors:Nde,fontFamily:Tde,fontWeight:Rde,textSize:Pde,typography:Ode,tokens:{core:I_.core,theme:I_.dark},borderRadius:Sde,spacing:Ide,durations:kde,easings:Dde},_6="--apkt",ll={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${_6}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${_6}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...aC,tokens:{...aC.tokens,theme:t==="light"?I_.light:I_.dark}},{cssVariables:n}=ll.createCSSVariables(r),i=ll.assignCSSVariables(n,r),s=ll.generateW3MVariables(e),o=ll.generateW3MOverrides(e),a=ll.generateScaledVariables(e),c=ll.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=ll.applyColorMixToVariables(e,l),f={...l,...u};return`:root {${Object.entries(f).map(([h,m])=>`${h}:${m.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:Mde}=ll.createCSSVariables(aC);function DMe(t,...e){return Du(t,...e.map(r=>pa(typeof r=="function"?r(Mde):r)))}let Zf,ud,Sc,Ma,T_;const al={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function R_(t,e="dark"){Zf&&document.head.removeChild(Zf),Zf=document.createElement("style"),Zf.textContent=ll.createRootStyles(e,t),document.head.appendChild(Zf)}function kMe(t,e="dark"){if(T_=t,ud=document.createElement("style"),Sc=document.createElement("style"),Ma=document.createElement("style"),ud.textContent=s0(t).core.cssText,Sc.textContent=s0(t).dark.cssText,Ma.textContent=s0(t).light.cssText,document.head.appendChild(ud),document.head.appendChild(Sc),document.head.appendChild(Ma),R_(t,e),cC(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(al)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}cC(e)}function cC(t="dark"){Sc&&Ma&&Zf&&(t==="light"?(R_(T_,t),Sc.removeAttribute("media"),Ma.media="enabled"):(R_(T_,t),Ma.removeAttribute("media"),Sc.media="enabled"))}function Ude(t){if(T_=t,ud&&Sc&&Ma&&(ud.textContent=s0(t).core.cssText,Sc.textContent=s0(t).dark.cssText,Ma.textContent=s0(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];ud.textContent=ud.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Sc.textContent=Sc.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Ma.textContent=Ma.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(Zf){const e=Ma?.media==="enabled"?"light":"dark";R_(t,e)}}function s0(t){const e=!!t?.["--w3m-font-family"];return{core:Du`
      ${e?Du``:Du`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-300-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${pa(al["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Du`
      :root {
      }
    `,light:Du`
      :root {
      }
    `}}const MMe=Du`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,UMe=Du`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,o0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([o0.getAddresses(t),o0.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:o0.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[xc.NetworkImageIds[e.id]]}]})}},_h={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},$de=HM({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Lde=HM({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0});function Xu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const E6=Xu({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),v6=Xu({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Xu({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Xu({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Xu({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Xu({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Fde={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Pl={getMethodsByChainNamespace(t){return Fde[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case E6.caipNetworkId:u.chains.push(E6.deprecatedCaipNetworkId);break;case v6.caipNetworkId:u.chains.push(v6.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await ag.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=Pl.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(f=>{const d=c.find(g=>g.includes(`${e}:${l}:${f}`));if(!d)return;const{chainId:h,chainNamespace:m}=Vi.parseCaipAddress(d);return{address:f,chainId:h,chainNamespace:m}}).filter(f=>f!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>Vi.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class Bde{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case ae.CHAIN.EVM:await this.syncEVMConnections(e);break;case ae.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case ae.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Pl.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await Kb.fetchProviderData(a);if(c.length>0&&l){const u=r.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),a.provider&&a.id!==ae.CONNECTOR_ID.AUTH&&a.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Pl.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const d=Pl.getWalletConnectAccounts(n,this.namespace);d.length>0&&s({connectorId:a.id,accounts:d.map(h=>({address:h.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(d=>Pe.createAccount(ae.CHAIN.BITCOIN,d.address,d.purpose||"payment",d.publicKey,d.path));if(u&&u.length>1&&(u=[{namespace:ae.CHAIN.BITCOIN,publicKey:u[_h.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[_h.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[_h.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:ae.CHAIN.BITCOIN,publicKey:u[_h.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[_h.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[_h.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(d=>d.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(d=>({address:d.address,type:d.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>Fn.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>Fn.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Fn.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>Fn.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>Fn.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const Cl={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class SS{constructor({provider:e,namespace:r}){this.id=ae.CONNECTOR_ID.WALLET_CONNECT,this.name=xc.ConnectorNamesMap[ae.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=xc.ConnectorImageIds[ae.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=J.getCaipNetworks.bind(J),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=he.state.universalProviderConfigOverride,i=Pl.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return qs.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:jde})}}const jde=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Hde=[ae.CONNECTOR_ID.AUTH,ae.CONNECTOR_ID.WALLET_CONNECT];class W7{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getConnectorId=r=>xe.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new Bde({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:ae.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ae.CONNECTOR_ID.AUTH,type:"AUTH",name:ae.CONNECTOR_NAMES.AUTH,provider:e,imageId:xc.ConnectorImageIds[ae.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!Fn.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){Me.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=Ts(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof SS);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=Pe.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Pe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=Pe.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=Pe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?o0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(Hde.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class Wde extends W7{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new SS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>Pe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&It.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Me.state.balanceLoading&&e.chainId===J.state.activeCaipNetwork?.id)return{balance:Me.state.balance||"0.00",symbol:Me.state.balanceSymbol||""};const i=(await Me.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return J.state.activeCaipNetwork?.chainNamespace===ae.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:B0.encode(new TextEncoder().encode(n)),pubkey:i}},J.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},J.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ae.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:j3(r.id)}]})}catch(i){if(i.code===Cl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Cl.ERROR_INVALID_CHAIN_ID||i.code===Cl.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Cl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:j3(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const qde=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],mb={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?It.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},zde={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=mb[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=mb[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return mb[t].processApi(e)},processFallbackFeature(t,e){return mb[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await We.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?It.DEFAULT_REMOTE_FEATURES:It.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of qde){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),It.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ai.open({debugMessage:Ai.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class Gde{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=J.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=J.getNetworkData(r)?.caipNetwork;return s||J.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return J.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getActiveChainNamespace=()=>J.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{J.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>J.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>J.state.activeChain===r||!r?J.state.activeCaipAddress:J.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{Ke.setClientId(r)},this.getProvider=r=>dt.getProvider(r),this.getProviderType=r=>dt.getProviderId(r),this.getPreferredAccountType=r=>Ts(r),this.setCaipAddress=(r,n)=>{Me.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{Me.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Me.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Me.setProfileImage(r,n)},this.setUser=(r,n)=>{Me.setUser(r,n)},this.resetAccount=r=>{Me.resetAccount(r)},this.setCaipNetwork=r=>{J.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{J.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{Me.setStatus(r,n),xe.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>J.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...xe.state.allConnectors,...r];xe.setConnectors(n)},this.setConnections=(r,n)=>{be.setConnections(r,n),Ne.setConnections(r,n)},this.fetchIdentity=r=>Ke.fetchIdentity(r),this.getReownName=r=>ag.getNamesForAddress(r),this.getConnectors=()=>xe.getConnectors(),this.getConnectorImage=r=>AM.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?t_.getConnectionsData(r).connections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?t_.getConnectionsData(r).recentConnections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Ne.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}be.deleteAddressFromConnection(r),Ne.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=dt.getProviderId(n),s=r?{...r,type:i}:void 0;Me.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!J.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Me.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Me.removeAddressLabel(r,n)},this.getAddress=r=>J.state.activeChain===r||!r?Me.state.address:J.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>J.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{J.resetNetwork(r)},this.addConnector=r=>{xe.addConnector(r)},this.resetWcConnection=()=>{Ne.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Me.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Me.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{J.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{he.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),he.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await zde.fetchRemoteFeatures(e),he.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&c2.setOnrampProviders(this.remoteFeatures.onramp),(he.state.remoteFeatures?.email||Array.isArray(he.state.remoteFeatures?.socials)&&he.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),he.state.features?.reownAuthentication||he.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await Gn(async()=>{const{ReownAuthentication:i}=await import("./features-BrkQU9p3.js");return{ReownAuthentication:i}},[],import.meta.url),n=he.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),he.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await We.fetchAllowedOrigins();if(!Pe.isClient())return;const r=window.location.origin;Pl.isOriginAllowed(r,e,Cl.DEFAULT_ALLOWED_ANCESTORS)||ai.open(Ai.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ai.open(Ai.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ai.open({displayMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,Dt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ws.setThemeMode(e.themeMode),e.themeVariables&&ws.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");J.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&J.setActiveCaipNetwork(r)}initializeConnectionController(e){Ne.initialize(e.adapters??[]),Ne.setWcBasic(e.basic??!1)}initializeConnectorController(){xe.initialize(this.chainNamespaces)}initializeProjectSettings(e){he.setProjectId(e.projectId),he.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){he.setDebug(e.debug!==!1),he.setEnableWalletConnect(e.enableWalletConnect!==!1),he.setEnableWalletGuide(e.enableWalletGuide!==!1),he.setEnableWallets(e.enableWallets!==!1),he.setEIP6963Enabled(e.enableEIP6963!==!1),he.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),he.setEnableReconnect(e.enableReconnect!==!1),he.setEnableAuthLogger(e.enableAuthLogger!==!1),he.setCustomRpcUrls(e.customRpcUrls),he.setEnableEmbedded(e.enableEmbedded),he.setAllWallets(e.allWallets),he.setIncludeWalletIds(e.includeWalletIds),he.setExcludeWalletIds(e.excludeWalletIds),he.setFeaturedWalletIds(e.featuredWalletIds),he.setTokens(e.tokens),he.setTermsConditionsUrl(e.termsConditionsUrl),he.setPrivacyPolicyUrl(e.privacyPolicyUrl),he.setCustomWallets(e.customWallets),he.setFeatures(e.features),he.setAllowUnsupportedChain(e.allowUnsupportedChain),he.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),he.setPreferUniversalLinks(e.experimental_preferUniversalLinks),he.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),he.setMetadata(e.metadata),he.setDisableAppend(e.disableAppend),he.setEnableEmbedded(e.enableEmbedded),he.setSIWX(e.siwx),this.features=he.state.features??{},!e.projectId){ai.open(Ai.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===ae.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");he.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Pe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Ph.getUnsupportedNetwork(`${r}:${e}`);J.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Ph.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Ph.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Ph.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?Ph.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(J.state.chains.get(e)?.accountState?.caipAddress||!he.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=J.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=Ne.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),be.setConnectedNamespaces([...J.state.chains.keys()]),await this.syncWalletConnectAccount(),await qs.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=J.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||J.state.activeChain,o=xe.getConnectorId(s),a=r===ae.CONNECTOR_ID.AUTH||o===ae.CONNECTOR_ID.AUTH,c=r===ae.CONNECTOR_ID.WALLET_CONNECT||o===ae.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(J.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const f=u.map(async m=>{const g=xe.getConnectorId(m),b=await this.disconnectNamespace(m,r||g);b&&(a&&be.deleteConnectedSocialProvider(),b.connections.forEach(E=>{be.addDisconnectedConnectorId(E.connectorId,m)})),i&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),d=await Promise.allSettled(f);St.resetSend(),Ne.resetWcConnection(),qs.getSIWX()?.signOutOnDisconnect&&await qs.clearSessions(),xe.setFilterByNamespace(void 0),Ne.syncStorageConnections();const h=d.filter(m=>m.status==="rejected");if(h.length>0)throw new Error(h.map(m=>m.reason.message).join(", "));Dt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=J.state.activeChain,n=this.getAdapter(J.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:Me.state.address,provider:dt.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(It.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=dt.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===ae.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=dt.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=J.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Me.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Me.state.profileImage||!1},getEnsAddress:async e=>await Pl.resolveReownName(e),writeContract:async e=>{const r=J.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=dt.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!Me.state.address||this.updateNativeBalance(Me.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ne.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=J.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===Tt.CONNECTOR_TYPE_AUTH&&ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>xe.getConnectorId(f)===ae.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return be.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),be.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===Tt.CONNECTOR_TYPE_AUTH,i=Fn.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=J.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=dt.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=dt.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(be.addConnectedNamespace(c),be.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){ai.warn(Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(dt.getProviderId(J.state.activeChain)===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=dt.getProvider(r),s=dt.getProviderId(r);if(e.chainNamespace===J.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Tt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Vi.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new Wde({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=be.getConnectionStatus();he.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(be.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=J.state.activeChain===e,c=J.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(Ne.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=Me.state.address,s=J.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=J.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=J.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),be.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Ne.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Pe.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===ae.CHAIN.EVM&&Pe.isSafeApp()&&xe.setConnectorId(ae.CONNECTOR_ID.SAFE,e);const r=xe.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ae.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ae.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};J.resetAccount(r),J.resetNetwork(r),be.removeConnectedNamespace(r);const i=Array.from(J.state.chains.keys());(r?[r]:i).forEach(o=>be.addDisconnectedConnectorId(xe.getConnectorId(o)||"",o)),xe.removeConnectorId(r),dt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&At.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=be.getConnections()[e]??[];return{hasDisconnected:be.isConnectorDisconnected(i,e),hasConnected:o.some(a=>Fn.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=xe.getConnectorId(e),i=this.getCaipNetwork(e),o=xe.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=J.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=Vi.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=Vi.validateCaipAddress(a),{chainId:l,address:u}=Vi.parseCaipAddress(c);if(dt.setProviderId(n,Tt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&J.state.activeCaipNetwork&&i.namespace!==ae.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:J.state.activeCaipNetwork});dt.setProvider(n,f)}else dt.setProvider(n,this.universalProvider);xe.setConnectorId(ae.CONNECTOR_ID.WALLET_CONNECT,n),be.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await J.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){dt.setProviderId(i,e),dt.setProvider(i,r),xe.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===J.state.activeChain,n=J.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=be.getActiveNetworkProps(),c=s||a,l=J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME,u=J.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),d=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!f&&!d){const m=this.getApprovedCaipNetworkIds()||[],g=m.find(E=>Vi.parseCaipNetworkId(E)?.chainId===c.toString()),b=m.find(E=>Vi.parseCaipNetworkId(E)?.chainNamespace===o);f=this.getCaipNetworks().find(E=>E.caipNetworkId===g),d=this.getCaipNetworks().find(E=>E.caipNetworkId===b||"deprecatedCaipNetworkId"in E&&E.deprecatedCaipNetworkId===b)}const h=f||d;h?.chainNamespace===J.state.activeChain?he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME?J.showUnsupportedChainUI():this.setCaipNetwork(h):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),Fn.isLowerCaseMatch(i,Me.state.address)||this.syncAccountInfo(i,h?.id,o),r?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=xe.getConnectorId(e),n=dt.getProviderId(e);if(n===Tt.CONNECTOR_TYPE_ANNOUNCED||n===Tt.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const i=dt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===ae.CONNECTOR_ID.COINBASE_SDK||r===ae.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!wM.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=J.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=Ule.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};he.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await kle.init(r),he.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Pl.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Ne.setUri(r)},onConnect:r=>{const{address:n}=Pe.getAccount(r[0]);Ne.finalizeWcConnection(n)},onDisconnect:()=>{J.state.noAdapters&&this.resetAccount(e),Ne.resetWcConnection()},onChainChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Pe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Dt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Ai.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Ai.ALERT_ERRORS[o];a&&(ai.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&Ne.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return At.open({...e,data:{swap:e.arguments}})}return At.open(e)}async close(){await this.injectModalUi(),At.close()}setLoading(e,r){At.setLoading(e,r)}async disconnect(e){await Ne.disconnect({namespace:e})}getSIWX(){return he.state.siwx}getError(){return""}getChainId(){return J.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){ai.open(Ai.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await J.switchActiveNetwork(r)}getWalletProvider(){return J.state.activeChain?dt.state.providers[J.state.activeChain]:null}getWalletProviderType(){return dt.getProviderId(J.state.activeChain)}subscribeProviders(e){return dt.subscribeProviders(e)}getThemeMode(){return ws.state.themeMode}getThemeVariables(){return ws.state.themeVariables}setThemeMode(e){ws.setThemeMode(e),cC(ws.state.themeMode)}setTermsConditionsUrl(e){he.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){he.setPrivacyPolicyUrl(e)}setThemeVariables(e){ws.setThemeVariables(e),Ude(ws.state.themeVariables)}subscribeTheme(e){return ws.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Ne.subscribe(e):(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?J.state.chains.get(e)?.accountState?.connectedWalletInfo:Me.state.connectedWalletInfo}getAccount(e){const r=e||J.state.activeChain,n=xe.getAuthConnector(r),i=J.getAccountData(r),s=be.getConnectedConnectorId(J.state.activeChain),o=Ne.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>Pe.createAccount(r,l,u||"eoa",f)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:Pe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===ae.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Ts(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?J.subscribeChainProp("accountState",n,r):J.subscribe(n),xe.subscribe(n)}subscribeNetwork(e){return J.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?Me.subscribeKey("connectedWalletInfo",e,r):Me.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Me.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){J.subscribeKey("activeCaipNetwork",e)}getState(){return Fa.state}getRemoteFeatures(){return he.state.remoteFeatures}subscribeState(e){return Fa.subscribe(e)}subscribeRemoteFeatures(e){return he.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Cc.showError(e)}showSuccessMessage(e){Cc.showSuccess(e)}getEvent(){return{...Dt.state}}subscribeEvents(e){return Dt.subscribe(e)}replace(e){Ve.replace(e)}redirect(e){Ve.push(e)}popTransactionStack(e){Ve.popTransactionStack(e)}isOpen(){return At.state.open}isTransactionStackEmpty(){return Ve.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){he.setFeatures(e)}updateRemoteFeatures(e){he.setRemoteFeatures(e)}updateOptions(e){const n={...he.state||{},...e};he.setOptions(n)}setConnectMethodsOrder(e){he.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){he.setWalletFeaturesOrder(e)}setCollapseWallets(e){he.setCollapseWallets(e)}setSocialsOrder(e){he.setSocialsOrder(e)}getConnectMethodsOrder(){return iC.getConnectOrderMethod(he.state.features,xe.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||J.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&J.removeNetwork(e,r)}}let x6=!1;class Kde extends Gde{async onAuthProviderConnected(e){const r=Fn.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await qs.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===ae.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=he.state.defaultAccountTypes[r],s=Ts(r),o=e.preferredAccountType||s||i;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Me.state.user||{},...u},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{zs.checkIfRequestExists(r)?zs.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(jn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(jn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const i=zs.checkIfRequestIsSafe(n),s=Me.state.address,o=J.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=J.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const i=J.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,i)})}async syncAuthConnectorTheme(e){if(!e)return;const r=ws.getSnapshot(),n=he.getSnapshot();await Promise.all([e.syncDappData({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:Wg(r.themeVariables,r.themeMode)})])}async syncAuthConnector(e,r){const n=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),i=r===J.state.activeChain;if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername();this.setUser({...Me.state?.user||{},username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),r&&n&&i){const l=await e.getSmartAccountEnabledNetworks();if(J.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],r),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:ae.CONNECTOR_ID.AUTH,info:{name:ae.CONNECTOR_ID.AUTH},type:Tt.CONNECTOR_TYPE_AUTH,provider:e,chainId:J.getNetworkData(r)?.caipNetwork?.id,chain:r}),this.setStatus("connected",r);const u=be.getConnectedSocialProvider();u?Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Me.state.address,properties:{provider:u,reconnect:!0}}):Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Me.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),be.removeConnectedNamespace(r))}this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){try{if(!Pe.isTelegram())return;const r=be.getTelegramSocialProvider();if(!r||!Pe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Me.setSocialProvider(r,e),await this.authProvider?.init();const s=xe.getAuthConnector();r&&s&&(this.setLoading(!0,e),await Ne.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),be.setConnectedSocialProvider(r),be.removeTelegramSocialProvider(),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){if(!ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=n||i,a=Fn.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=yg.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Ai.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?ai.open(Ai.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?ai.open(Ai.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&ai.open(Ai.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>Fp(l),getCaipNetworks:l=>J.getCaipNetworks(l)}),Fa.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===J.state.activeChain&&he.state.enableReconnect;he.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&We.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const r=J.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(n);if(n===r&&i){const o=this.getAdapter(n),a=dt.getProvider(n),c=dt.getProviderId(n);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=dt.getProviderId(r)===Tt.CONNECTOR_TYPE_AUTH,c=dt.getProviderId(n),l=c===Tt.CONNECTOR_TYPE_AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{J.state.activeChain=e.chainNamespace,i?await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:ae.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Tt.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===Tt.CONNECTOR_TYPE_WALLET_CONNECT){if(!J.state.noAdapters){const f=this.getAdapter(n),d=dt.getProvider(n),h=dt.getProviderId(n);await f?.switchNetwork({caipNetwork:e,provider:d,providerType:h})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Fa.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){const i=`${n}:${r}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=xe.getConnectorId(n)===ae.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,n):(this.setProfileName(a,n),this.setProfileImage(c,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=dt.getProviderId(e);if(r===Tt.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=be.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Pe.isClient()&&!x6)try{const e={...It.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Pe.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!he.state.disableAppend&&!he.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}x6=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Pe.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(Gn(()=>import("./embedded-wallet-CrExBtFm.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),r.email&&n.push(Gn(()=>import("./email-CSeAmrA4.js"),__vite__mapDeps([15,3,16,13,7,12,5,6,11,17,9]),import.meta.url)),r.socials&&n.push(Gn(()=>import("./socials-DRzjjePo.js"),__vite__mapDeps([18,3,5,19,6,20,12,21,11,7,22,4,23]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(Gn(()=>import("./swaps-B-KLUAqy.js"),__vite__mapDeps([24,3,11,7,12,5,25,26,27,23,28,4,9,6]),import.meta.url)),e.send&&n.push(Gn(()=>import("./send-DCvvsprf.js"),__vite__mapDeps([29,3,11,7,12,5,6,30,13,28,4,23,27,9,31,32,33]),import.meta.url)),e.receive&&n.push(Gn(()=>import("./receive-C9oZKn5t.js"),__vite__mapDeps([34,3,5,4,22]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(Gn(()=>import("./onramp-jXDz9r5G.js"),__vite__mapDeps([35,3,5,36,7,19,6,4,37,38,13,30,11,12,21,39,9]),import.meta.url)),r.payWithExchange&&n.push(Gn(()=>import("./pay-with-exchange-DYlje3Xc.js"),__vite__mapDeps([40,3,11,7,10,4,5,36,23,39,12,9,6,13,31,32]),import.meta.url)),r.activity&&n.push(Gn(()=>import("./transactions-BYWm_VMU.js"),__vite__mapDeps([41,3,42,12,5,13,4,23]),import.meta.url)),(e.pay||r.payments)&&n.push(Gn(()=>import("./index-CGRxmx6g.js"),__vite__mapDeps([43,3,5,11,7,44,4,12,10,36,32,21]),import.meta.url)),r.emailCapture&&n.push(Gn(()=>import("./data-capture-CU0C7NYK.js"),__vite__mapDeps([45,3,16,13,7,46]),import.meta.url)),await Promise.all([...n,Gn(()=>import("./index-DuI1oYQU.js"),__vite__mapDeps([47,3,5,4,7,33,12,48,38,13,30,8,10,36,11,44,42,23,31,25,26,32,6,9,17,19,20,21,22,14,37]),import.meta.url),Gn(()=>import("./w3m-modal-CarDJRAD.js"),__vite__mapDeps([49,3,5,10,4,8,7,12,26,48,38,13,30,27]),import.meta.url)])}}function q7(t){const e=_t(t?.namespace||J.state.activeChain),r=_t(J.state.chains),n=_t({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){const l=be.getConnectedConnectorId(c),u=c?xe.getAuthConnector(c):void 0,f=c||J.state.activeChain,d=f?a.get(f)?.accountState:void 0;n.value.address=Pe.getPlainAddress(d?.caipAddress),n.value.caipAddress=d?.caipAddress,n.value.status=d?.status,n.value.isConnected=!!d?.caipAddress,n.value.embeddedWalletInfo=u&&l===ae.CONNECTOR_ID.AUTH?{user:d?.user,authProvider:d?.socialProvider??"email",accountType:Ts(f),isSmartAccountDeployed:!!d?.smartAccountDeployed}:void 0}const s=J.subscribeKey("activeChain",a=>{e.value=t?.namespace||a,i(r.value,e.value)}),o=J.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return ff(()=>{i(r.value,e.value)}),df(()=>{o(),s()}),n}let Yb;function Vde(t){t&&(Yb=t)}function A6(t){const e=_t(dt.state.providers[t]),r=_t(dt.state.providerIds[t]),n=dt.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return df(()=>{n?.()}),Hl({walletProvider:e,walletProviderType:r})}function Jde(){if(!Yb)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await Yb?.open(r)}async function e(){await Yb?.close()}return Hl({open:t,close:e})}const Yde="1.8.1";let Wp;function Xde(t){return Wp||(Wp=new Kde({...t,sdkVersion:Pe.generateSdkVersion(t.adapters??[],"html",Yde)}),Vde(Wp)),Wp}function z7(){const t=_t({caipNetwork:J.state.activeCaipNetwork,chainId:J.state.activeCaipNetwork?.id,caipNetworkId:J.state.activeCaipNetwork?.caipNetworkId,switchNetwork:r=>{Wp?.switchNetwork(r)}}),e=J.subscribeKey("activeCaipNetwork",r=>{t.value.caipNetwork=r,t.value.chainId=r?.id,t.value.caipNetworkId=r?.caipNetworkId});return df(()=>{e()}),t}var Xb={exports:{}};const Qde={},Zde=Object.freeze(Object.defineProperty({__proto__:null,default:Qde},Symbol.toStringTag,{value:"Module"})),ehe=Kr(Zde);var the=Xb.exports,C6;function rhe(){return C6||(C6=1,(function(t){(function(e,r){function n(C,p){if(!C)throw new Error(p||"Assertion failed")}function i(C,p){C.super_=p;var y=function(){};y.prototype=p.prototype,C.prototype=new y,C.prototype.constructor=C}function s(C,p,y){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((p==="le"||p==="be")&&(y=p,p=10),this._init(C||0,p||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ehe.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,y){return p.cmp(y)>0?p:y},s.min=function(p,y){return p.cmp(y)<0?p:y},s.prototype._init=function(p,y,w){if(typeof p=="number")return this._initNumber(p,y,w);if(typeof p=="object")return this._initArray(p,y,w);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),p=p.toString().replace(/\s+/g,"");var x=0;p[0]==="-"&&(x++,this.negative=1),x<p.length&&(y===16?this._parseHex(p,x,w):(this._parseBase(p,y,x),w==="le"&&this._initArray(this.toArray(),y,w)))},s.prototype._initNumber=function(p,y,w){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),y,w)},s.prototype._initArray=function(p,y,w){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var I,U,B=0;if(w==="be")for(x=p.length-1,I=0;x>=0;x-=3)U=p[x]|p[x-1]<<8|p[x-2]<<16,this.words[I]|=U<<B&67108863,this.words[I+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);else if(w==="le")for(x=0,I=0;x<p.length;x+=3)U=p[x]|p[x+1]<<8|p[x+2]<<16,this.words[I]|=U<<B&67108863,this.words[I+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);return this._strip()};function a(C,p){var y=C.charCodeAt(p);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+C)}function c(C,p,y){var w=a(C,y);return y-1>=p&&(w|=a(C,y-1)<<4),w}s.prototype._parseHex=function(p,y,w){this.length=Math.ceil((p.length-y)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var I=0,U=0,B;if(w==="be")for(x=p.length-1;x>=y;x-=2)B=c(p,y,x)<<I,this.words[U]|=B&67108863,I>=18?(I-=18,U+=1,this.words[U]|=B>>>26):I+=8;else{var D=p.length-y;for(x=D%2===0?y+1:y;x<p.length;x+=2)B=c(p,y,x)<<I,this.words[U]|=B&67108863,I>=18?(I-=18,U+=1,this.words[U]|=B>>>26):I+=8}this._strip()};function l(C,p,y,w){for(var x=0,I=0,U=Math.min(C.length,y),B=p;B<U;B++){var D=C.charCodeAt(B)-48;x*=w,D>=49?I=D-49+10:D>=17?I=D-17+10:I=D,n(D>=0&&I<w,"Invalid character"),x+=I}return x}s.prototype._parseBase=function(p,y,w){this.words=[0],this.length=1;for(var x=0,I=1;I<=67108863;I*=y)x++;x--,I=I/y|0;for(var U=p.length-w,B=U%x,D=Math.min(U,U-B)+w,_=0,L=w;L<D;L+=x)_=l(p,L,L+x,y),this.imuln(I),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(B!==0){var G=1;for(_=l(p,L,p.length,y),L=0;L<B;L++)G*=y;this.imuln(G),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var y=0;y<this.length;y++)p.words[y]=this.words[y];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(C,p){C.words=p.words,C.length=p.length,C.negative=p.negative,C.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,y){p=p||10,y=y|0||1;var w;if(p===16||p==="hex"){w="";for(var x=0,I=0,U=0;U<this.length;U++){var B=this.words[U],D=((B<<x|I)&16777215).toString(16);I=B>>>24-x&16777215,x+=2,x>=26&&(x-=26,U--),I!==0||U!==this.length-1?w=d[6-D.length]+D+w:w=D+w}for(I!==0&&(w=I.toString(16)+w);w.length%y!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(p===(p|0)&&p>=2&&p<=36){var _=h[p],L=m[p];w="";var G=this.clone();for(G.negative=0;!G.isZero();){var R=G.modrn(L).toString(p);G=G.idivn(L),G.isZero()?w=R+w:w=d[_-R.length]+R+w}for(this.isZero()&&(w="0"+w);w.length%y!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,y){return this.toArrayLike(o,p,y)}),s.prototype.toArray=function(p,y){return this.toArrayLike(Array,p,y)};var g=function(p,y){return p.allocUnsafe?p.allocUnsafe(y):new p(y)};s.prototype.toArrayLike=function(p,y,w){this._strip();var x=this.byteLength(),I=w||Math.max(1,x);n(x<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var U=g(p,I),B=y==="le"?"LE":"BE";return this["_toArrayLike"+B](U,x),U},s.prototype._toArrayLikeLE=function(p,y){for(var w=0,x=0,I=0,U=0;I<this.length;I++){var B=this.words[I]<<U|x;p[w++]=B&255,w<p.length&&(p[w++]=B>>8&255),w<p.length&&(p[w++]=B>>16&255),U===6?(w<p.length&&(p[w++]=B>>24&255),x=0,U=0):(x=B>>>24,U+=2)}if(w<p.length)for(p[w++]=x;w<p.length;)p[w++]=0},s.prototype._toArrayLikeBE=function(p,y){for(var w=p.length-1,x=0,I=0,U=0;I<this.length;I++){var B=this.words[I]<<U|x;p[w--]=B&255,w>=0&&(p[w--]=B>>8&255),w>=0&&(p[w--]=B>>16&255),U===6?(w>=0&&(p[w--]=B>>24&255),x=0,U=0):(x=B>>>24,U+=2)}if(w>=0)for(p[w--]=x;w>=0;)p[w--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var y=p,w=0;return y>=4096&&(w+=13,y>>>=13),y>=64&&(w+=7,y>>>=7),y>=8&&(w+=4,y>>>=4),y>=2&&(w+=2,y>>>=2),w+y},s.prototype._zeroBits=function(p){if(p===0)return 26;var y=p,w=0;return(y&8191)===0&&(w+=13,y>>>=13),(y&127)===0&&(w+=7,y>>>=7),(y&15)===0&&(w+=4,y>>>=4),(y&3)===0&&(w+=2,y>>>=2),(y&1)===0&&w++,w},s.prototype.bitLength=function(){var p=this.words[this.length-1],y=this._countBits(p);return(this.length-1)*26+y};function b(C){for(var p=new Array(C.bitLength()),y=0;y<p.length;y++){var w=y/26|0,x=y%26;p[y]=C.words[w]>>>x&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,y=0;y<this.length;y++){var w=this._zeroBits(this.words[y]);if(p+=w,w!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]|p.words[y];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var y;this.length>p.length?y=p:y=this;for(var w=0;w<y.length;w++)this.words[w]=this.words[w]&p.words[w];return this.length=y.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var y,w;this.length>p.length?(y=this,w=p):(y=p,w=this);for(var x=0;x<w.length;x++)this.words[x]=y.words[x]^w.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var y=Math.ceil(p/26)|0,w=p%26;this._expand(y),w>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return w>0&&(this.words[x]=~this.words[x]&67108863>>26-w),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,y){n(typeof p=="number"&&p>=0);var w=p/26|0,x=p%26;return this._expand(w+1),y?this.words[w]=this.words[w]|1<<x:this.words[w]=this.words[w]&~(1<<x),this._strip()},s.prototype.iadd=function(p){var y;if(this.negative!==0&&p.negative===0)return this.negative=0,y=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,y=this.isub(p),p.negative=1,y._normSign();var w,x;this.length>p.length?(w=this,x=p):(w=p,x=this);for(var I=0,U=0;U<x.length;U++)y=(w.words[U]|0)+(x.words[U]|0)+I,this.words[U]=y&67108863,I=y>>>26;for(;I!==0&&U<w.length;U++)y=(w.words[U]|0)+I,this.words[U]=y&67108863,I=y>>>26;if(this.length=w.length,I!==0)this.words[this.length]=I,this.length++;else if(w!==this)for(;U<w.length;U++)this.words[U]=w.words[U];return this},s.prototype.add=function(p){var y;return p.negative!==0&&this.negative===0?(p.negative=0,y=this.sub(p),p.negative^=1,y):p.negative===0&&this.negative!==0?(this.negative=0,y=p.sub(this),this.negative=1,y):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var y=this.iadd(p);return p.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var w=this.cmp(p);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,I;w>0?(x=this,I=p):(x=p,I=this);for(var U=0,B=0;B<I.length;B++)y=(x.words[B]|0)-(I.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;for(;U!==0&&B<x.length;B++)y=(x.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;if(U===0&&B<x.length&&x!==this)for(;B<x.length;B++)this.words[B]=x.words[B];return this.length=Math.max(this.length,B),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function E(C,p,y){y.negative=p.negative^C.negative;var w=C.length+p.length|0;y.length=w,w=w-1|0;var x=C.words[0]|0,I=p.words[0]|0,U=x*I,B=U&67108863,D=U/67108864|0;y.words[0]=B;for(var _=1;_<w;_++){for(var L=D>>>26,G=D&67108863,R=Math.min(_,p.length-1),V=Math.max(0,_-C.length+1);V<=R;V++){var K=_-V|0;x=C.words[K]|0,I=p.words[V]|0,U=x*I+G,L+=U/67108864|0,G=U&67108863}y.words[_]=G|0,D=L|0}return D!==0?y.words[_]=D|0:y.length--,y._strip()}var A=function(p,y,w){var x=p.words,I=y.words,U=w.words,B=0,D,_,L,G=x[0]|0,R=G&8191,V=G>>>13,K=x[1]|0,X=K&8191,Q=K>>>13,ie=x[2]|0,le=ie&8191,H=ie>>>13,Y=x[3]|0,W=Y&8191,Z=Y>>>13,fe=x[4]|0,oe=fe&8191,ge=fe>>>13,_e=x[5]|0,q=_e&8191,z=_e>>>13,ne=x[6]|0,se=ne&8191,pe=ne>>>13,me=x[7]|0,ee=me&8191,ce=me>>>13,ke=x[8]|0,Le=ke&8191,Ge=ke>>>13,Fr=x[9]|0,nt=Fr&8191,Rt=Fr>>>13,Xo=I[0]|0,lt=Xo&8191,pt=Xo>>>13,ic=I[1]|0,er=ic&8191,mr=ic>>>13,xf=I[2]|0,yr=xf&8191,br=xf>>>13,Af=I[3]|0,wr=Af&8191,_r=Af>>>13,Cf=I[4]|0,Er=Cf&8191,vr=Cf>>>13,Nf=I[5]|0,xr=Nf&8191,Ar=Nf>>>13,Sf=I[6]|0,Cr=Sf&8191,Nr=Sf>>>13,If=I[7]|0,Sr=If&8191,Ir=If>>>13,Tf=I[8]|0,Tr=Tf&8191,Rr=Tf>>>13,Rf=I[9]|0,Pr=Rf&8191,Or=Rf>>>13;w.negative=p.negative^y.negative,w.length=19,D=Math.imul(R,lt),_=Math.imul(R,pt),_=_+Math.imul(V,lt)|0,L=Math.imul(V,pt);var Jl=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(Jl>>>26)|0,Jl&=67108863,D=Math.imul(X,lt),_=Math.imul(X,pt),_=_+Math.imul(Q,lt)|0,L=Math.imul(Q,pt),D=D+Math.imul(R,er)|0,_=_+Math.imul(R,mr)|0,_=_+Math.imul(V,er)|0,L=L+Math.imul(V,mr)|0;var Yl=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(Yl>>>26)|0,Yl&=67108863,D=Math.imul(le,lt),_=Math.imul(le,pt),_=_+Math.imul(H,lt)|0,L=Math.imul(H,pt),D=D+Math.imul(X,er)|0,_=_+Math.imul(X,mr)|0,_=_+Math.imul(Q,er)|0,L=L+Math.imul(Q,mr)|0,D=D+Math.imul(R,yr)|0,_=_+Math.imul(R,br)|0,_=_+Math.imul(V,yr)|0,L=L+Math.imul(V,br)|0;var Xl=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(Xl>>>26)|0,Xl&=67108863,D=Math.imul(W,lt),_=Math.imul(W,pt),_=_+Math.imul(Z,lt)|0,L=Math.imul(Z,pt),D=D+Math.imul(le,er)|0,_=_+Math.imul(le,mr)|0,_=_+Math.imul(H,er)|0,L=L+Math.imul(H,mr)|0,D=D+Math.imul(X,yr)|0,_=_+Math.imul(X,br)|0,_=_+Math.imul(Q,yr)|0,L=L+Math.imul(Q,br)|0,D=D+Math.imul(R,wr)|0,_=_+Math.imul(R,_r)|0,_=_+Math.imul(V,wr)|0,L=L+Math.imul(V,_r)|0;var Ql=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(Ql>>>26)|0,Ql&=67108863,D=Math.imul(oe,lt),_=Math.imul(oe,pt),_=_+Math.imul(ge,lt)|0,L=Math.imul(ge,pt),D=D+Math.imul(W,er)|0,_=_+Math.imul(W,mr)|0,_=_+Math.imul(Z,er)|0,L=L+Math.imul(Z,mr)|0,D=D+Math.imul(le,yr)|0,_=_+Math.imul(le,br)|0,_=_+Math.imul(H,yr)|0,L=L+Math.imul(H,br)|0,D=D+Math.imul(X,wr)|0,_=_+Math.imul(X,_r)|0,_=_+Math.imul(Q,wr)|0,L=L+Math.imul(Q,_r)|0,D=D+Math.imul(R,Er)|0,_=_+Math.imul(R,vr)|0,_=_+Math.imul(V,Er)|0,L=L+Math.imul(V,vr)|0;var Zl=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(Zl>>>26)|0,Zl&=67108863,D=Math.imul(q,lt),_=Math.imul(q,pt),_=_+Math.imul(z,lt)|0,L=Math.imul(z,pt),D=D+Math.imul(oe,er)|0,_=_+Math.imul(oe,mr)|0,_=_+Math.imul(ge,er)|0,L=L+Math.imul(ge,mr)|0,D=D+Math.imul(W,yr)|0,_=_+Math.imul(W,br)|0,_=_+Math.imul(Z,yr)|0,L=L+Math.imul(Z,br)|0,D=D+Math.imul(le,wr)|0,_=_+Math.imul(le,_r)|0,_=_+Math.imul(H,wr)|0,L=L+Math.imul(H,_r)|0,D=D+Math.imul(X,Er)|0,_=_+Math.imul(X,vr)|0,_=_+Math.imul(Q,Er)|0,L=L+Math.imul(Q,vr)|0,D=D+Math.imul(R,xr)|0,_=_+Math.imul(R,Ar)|0,_=_+Math.imul(V,xr)|0,L=L+Math.imul(V,Ar)|0;var TE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(TE>>>26)|0,TE&=67108863,D=Math.imul(se,lt),_=Math.imul(se,pt),_=_+Math.imul(pe,lt)|0,L=Math.imul(pe,pt),D=D+Math.imul(q,er)|0,_=_+Math.imul(q,mr)|0,_=_+Math.imul(z,er)|0,L=L+Math.imul(z,mr)|0,D=D+Math.imul(oe,yr)|0,_=_+Math.imul(oe,br)|0,_=_+Math.imul(ge,yr)|0,L=L+Math.imul(ge,br)|0,D=D+Math.imul(W,wr)|0,_=_+Math.imul(W,_r)|0,_=_+Math.imul(Z,wr)|0,L=L+Math.imul(Z,_r)|0,D=D+Math.imul(le,Er)|0,_=_+Math.imul(le,vr)|0,_=_+Math.imul(H,Er)|0,L=L+Math.imul(H,vr)|0,D=D+Math.imul(X,xr)|0,_=_+Math.imul(X,Ar)|0,_=_+Math.imul(Q,xr)|0,L=L+Math.imul(Q,Ar)|0,D=D+Math.imul(R,Cr)|0,_=_+Math.imul(R,Nr)|0,_=_+Math.imul(V,Cr)|0,L=L+Math.imul(V,Nr)|0;var RE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(RE>>>26)|0,RE&=67108863,D=Math.imul(ee,lt),_=Math.imul(ee,pt),_=_+Math.imul(ce,lt)|0,L=Math.imul(ce,pt),D=D+Math.imul(se,er)|0,_=_+Math.imul(se,mr)|0,_=_+Math.imul(pe,er)|0,L=L+Math.imul(pe,mr)|0,D=D+Math.imul(q,yr)|0,_=_+Math.imul(q,br)|0,_=_+Math.imul(z,yr)|0,L=L+Math.imul(z,br)|0,D=D+Math.imul(oe,wr)|0,_=_+Math.imul(oe,_r)|0,_=_+Math.imul(ge,wr)|0,L=L+Math.imul(ge,_r)|0,D=D+Math.imul(W,Er)|0,_=_+Math.imul(W,vr)|0,_=_+Math.imul(Z,Er)|0,L=L+Math.imul(Z,vr)|0,D=D+Math.imul(le,xr)|0,_=_+Math.imul(le,Ar)|0,_=_+Math.imul(H,xr)|0,L=L+Math.imul(H,Ar)|0,D=D+Math.imul(X,Cr)|0,_=_+Math.imul(X,Nr)|0,_=_+Math.imul(Q,Cr)|0,L=L+Math.imul(Q,Nr)|0,D=D+Math.imul(R,Sr)|0,_=_+Math.imul(R,Ir)|0,_=_+Math.imul(V,Sr)|0,L=L+Math.imul(V,Ir)|0;var PE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(PE>>>26)|0,PE&=67108863,D=Math.imul(Le,lt),_=Math.imul(Le,pt),_=_+Math.imul(Ge,lt)|0,L=Math.imul(Ge,pt),D=D+Math.imul(ee,er)|0,_=_+Math.imul(ee,mr)|0,_=_+Math.imul(ce,er)|0,L=L+Math.imul(ce,mr)|0,D=D+Math.imul(se,yr)|0,_=_+Math.imul(se,br)|0,_=_+Math.imul(pe,yr)|0,L=L+Math.imul(pe,br)|0,D=D+Math.imul(q,wr)|0,_=_+Math.imul(q,_r)|0,_=_+Math.imul(z,wr)|0,L=L+Math.imul(z,_r)|0,D=D+Math.imul(oe,Er)|0,_=_+Math.imul(oe,vr)|0,_=_+Math.imul(ge,Er)|0,L=L+Math.imul(ge,vr)|0,D=D+Math.imul(W,xr)|0,_=_+Math.imul(W,Ar)|0,_=_+Math.imul(Z,xr)|0,L=L+Math.imul(Z,Ar)|0,D=D+Math.imul(le,Cr)|0,_=_+Math.imul(le,Nr)|0,_=_+Math.imul(H,Cr)|0,L=L+Math.imul(H,Nr)|0,D=D+Math.imul(X,Sr)|0,_=_+Math.imul(X,Ir)|0,_=_+Math.imul(Q,Sr)|0,L=L+Math.imul(Q,Ir)|0,D=D+Math.imul(R,Tr)|0,_=_+Math.imul(R,Rr)|0,_=_+Math.imul(V,Tr)|0,L=L+Math.imul(V,Rr)|0;var OE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(OE>>>26)|0,OE&=67108863,D=Math.imul(nt,lt),_=Math.imul(nt,pt),_=_+Math.imul(Rt,lt)|0,L=Math.imul(Rt,pt),D=D+Math.imul(Le,er)|0,_=_+Math.imul(Le,mr)|0,_=_+Math.imul(Ge,er)|0,L=L+Math.imul(Ge,mr)|0,D=D+Math.imul(ee,yr)|0,_=_+Math.imul(ee,br)|0,_=_+Math.imul(ce,yr)|0,L=L+Math.imul(ce,br)|0,D=D+Math.imul(se,wr)|0,_=_+Math.imul(se,_r)|0,_=_+Math.imul(pe,wr)|0,L=L+Math.imul(pe,_r)|0,D=D+Math.imul(q,Er)|0,_=_+Math.imul(q,vr)|0,_=_+Math.imul(z,Er)|0,L=L+Math.imul(z,vr)|0,D=D+Math.imul(oe,xr)|0,_=_+Math.imul(oe,Ar)|0,_=_+Math.imul(ge,xr)|0,L=L+Math.imul(ge,Ar)|0,D=D+Math.imul(W,Cr)|0,_=_+Math.imul(W,Nr)|0,_=_+Math.imul(Z,Cr)|0,L=L+Math.imul(Z,Nr)|0,D=D+Math.imul(le,Sr)|0,_=_+Math.imul(le,Ir)|0,_=_+Math.imul(H,Sr)|0,L=L+Math.imul(H,Ir)|0,D=D+Math.imul(X,Tr)|0,_=_+Math.imul(X,Rr)|0,_=_+Math.imul(Q,Tr)|0,L=L+Math.imul(Q,Rr)|0,D=D+Math.imul(R,Pr)|0,_=_+Math.imul(R,Or)|0,_=_+Math.imul(V,Pr)|0,L=L+Math.imul(V,Or)|0;var DE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(DE>>>26)|0,DE&=67108863,D=Math.imul(nt,er),_=Math.imul(nt,mr),_=_+Math.imul(Rt,er)|0,L=Math.imul(Rt,mr),D=D+Math.imul(Le,yr)|0,_=_+Math.imul(Le,br)|0,_=_+Math.imul(Ge,yr)|0,L=L+Math.imul(Ge,br)|0,D=D+Math.imul(ee,wr)|0,_=_+Math.imul(ee,_r)|0,_=_+Math.imul(ce,wr)|0,L=L+Math.imul(ce,_r)|0,D=D+Math.imul(se,Er)|0,_=_+Math.imul(se,vr)|0,_=_+Math.imul(pe,Er)|0,L=L+Math.imul(pe,vr)|0,D=D+Math.imul(q,xr)|0,_=_+Math.imul(q,Ar)|0,_=_+Math.imul(z,xr)|0,L=L+Math.imul(z,Ar)|0,D=D+Math.imul(oe,Cr)|0,_=_+Math.imul(oe,Nr)|0,_=_+Math.imul(ge,Cr)|0,L=L+Math.imul(ge,Nr)|0,D=D+Math.imul(W,Sr)|0,_=_+Math.imul(W,Ir)|0,_=_+Math.imul(Z,Sr)|0,L=L+Math.imul(Z,Ir)|0,D=D+Math.imul(le,Tr)|0,_=_+Math.imul(le,Rr)|0,_=_+Math.imul(H,Tr)|0,L=L+Math.imul(H,Rr)|0,D=D+Math.imul(X,Pr)|0,_=_+Math.imul(X,Or)|0,_=_+Math.imul(Q,Pr)|0,L=L+Math.imul(Q,Or)|0;var kE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(kE>>>26)|0,kE&=67108863,D=Math.imul(nt,yr),_=Math.imul(nt,br),_=_+Math.imul(Rt,yr)|0,L=Math.imul(Rt,br),D=D+Math.imul(Le,wr)|0,_=_+Math.imul(Le,_r)|0,_=_+Math.imul(Ge,wr)|0,L=L+Math.imul(Ge,_r)|0,D=D+Math.imul(ee,Er)|0,_=_+Math.imul(ee,vr)|0,_=_+Math.imul(ce,Er)|0,L=L+Math.imul(ce,vr)|0,D=D+Math.imul(se,xr)|0,_=_+Math.imul(se,Ar)|0,_=_+Math.imul(pe,xr)|0,L=L+Math.imul(pe,Ar)|0,D=D+Math.imul(q,Cr)|0,_=_+Math.imul(q,Nr)|0,_=_+Math.imul(z,Cr)|0,L=L+Math.imul(z,Nr)|0,D=D+Math.imul(oe,Sr)|0,_=_+Math.imul(oe,Ir)|0,_=_+Math.imul(ge,Sr)|0,L=L+Math.imul(ge,Ir)|0,D=D+Math.imul(W,Tr)|0,_=_+Math.imul(W,Rr)|0,_=_+Math.imul(Z,Tr)|0,L=L+Math.imul(Z,Rr)|0,D=D+Math.imul(le,Pr)|0,_=_+Math.imul(le,Or)|0,_=_+Math.imul(H,Pr)|0,L=L+Math.imul(H,Or)|0;var ME=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(ME>>>26)|0,ME&=67108863,D=Math.imul(nt,wr),_=Math.imul(nt,_r),_=_+Math.imul(Rt,wr)|0,L=Math.imul(Rt,_r),D=D+Math.imul(Le,Er)|0,_=_+Math.imul(Le,vr)|0,_=_+Math.imul(Ge,Er)|0,L=L+Math.imul(Ge,vr)|0,D=D+Math.imul(ee,xr)|0,_=_+Math.imul(ee,Ar)|0,_=_+Math.imul(ce,xr)|0,L=L+Math.imul(ce,Ar)|0,D=D+Math.imul(se,Cr)|0,_=_+Math.imul(se,Nr)|0,_=_+Math.imul(pe,Cr)|0,L=L+Math.imul(pe,Nr)|0,D=D+Math.imul(q,Sr)|0,_=_+Math.imul(q,Ir)|0,_=_+Math.imul(z,Sr)|0,L=L+Math.imul(z,Ir)|0,D=D+Math.imul(oe,Tr)|0,_=_+Math.imul(oe,Rr)|0,_=_+Math.imul(ge,Tr)|0,L=L+Math.imul(ge,Rr)|0,D=D+Math.imul(W,Pr)|0,_=_+Math.imul(W,Or)|0,_=_+Math.imul(Z,Pr)|0,L=L+Math.imul(Z,Or)|0;var UE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(UE>>>26)|0,UE&=67108863,D=Math.imul(nt,Er),_=Math.imul(nt,vr),_=_+Math.imul(Rt,Er)|0,L=Math.imul(Rt,vr),D=D+Math.imul(Le,xr)|0,_=_+Math.imul(Le,Ar)|0,_=_+Math.imul(Ge,xr)|0,L=L+Math.imul(Ge,Ar)|0,D=D+Math.imul(ee,Cr)|0,_=_+Math.imul(ee,Nr)|0,_=_+Math.imul(ce,Cr)|0,L=L+Math.imul(ce,Nr)|0,D=D+Math.imul(se,Sr)|0,_=_+Math.imul(se,Ir)|0,_=_+Math.imul(pe,Sr)|0,L=L+Math.imul(pe,Ir)|0,D=D+Math.imul(q,Tr)|0,_=_+Math.imul(q,Rr)|0,_=_+Math.imul(z,Tr)|0,L=L+Math.imul(z,Rr)|0,D=D+Math.imul(oe,Pr)|0,_=_+Math.imul(oe,Or)|0,_=_+Math.imul(ge,Pr)|0,L=L+Math.imul(ge,Or)|0;var $E=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+($E>>>26)|0,$E&=67108863,D=Math.imul(nt,xr),_=Math.imul(nt,Ar),_=_+Math.imul(Rt,xr)|0,L=Math.imul(Rt,Ar),D=D+Math.imul(Le,Cr)|0,_=_+Math.imul(Le,Nr)|0,_=_+Math.imul(Ge,Cr)|0,L=L+Math.imul(Ge,Nr)|0,D=D+Math.imul(ee,Sr)|0,_=_+Math.imul(ee,Ir)|0,_=_+Math.imul(ce,Sr)|0,L=L+Math.imul(ce,Ir)|0,D=D+Math.imul(se,Tr)|0,_=_+Math.imul(se,Rr)|0,_=_+Math.imul(pe,Tr)|0,L=L+Math.imul(pe,Rr)|0,D=D+Math.imul(q,Pr)|0,_=_+Math.imul(q,Or)|0,_=_+Math.imul(z,Pr)|0,L=L+Math.imul(z,Or)|0;var LE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(LE>>>26)|0,LE&=67108863,D=Math.imul(nt,Cr),_=Math.imul(nt,Nr),_=_+Math.imul(Rt,Cr)|0,L=Math.imul(Rt,Nr),D=D+Math.imul(Le,Sr)|0,_=_+Math.imul(Le,Ir)|0,_=_+Math.imul(Ge,Sr)|0,L=L+Math.imul(Ge,Ir)|0,D=D+Math.imul(ee,Tr)|0,_=_+Math.imul(ee,Rr)|0,_=_+Math.imul(ce,Tr)|0,L=L+Math.imul(ce,Rr)|0,D=D+Math.imul(se,Pr)|0,_=_+Math.imul(se,Or)|0,_=_+Math.imul(pe,Pr)|0,L=L+Math.imul(pe,Or)|0;var FE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(FE>>>26)|0,FE&=67108863,D=Math.imul(nt,Sr),_=Math.imul(nt,Ir),_=_+Math.imul(Rt,Sr)|0,L=Math.imul(Rt,Ir),D=D+Math.imul(Le,Tr)|0,_=_+Math.imul(Le,Rr)|0,_=_+Math.imul(Ge,Tr)|0,L=L+Math.imul(Ge,Rr)|0,D=D+Math.imul(ee,Pr)|0,_=_+Math.imul(ee,Or)|0,_=_+Math.imul(ce,Pr)|0,L=L+Math.imul(ce,Or)|0;var BE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(BE>>>26)|0,BE&=67108863,D=Math.imul(nt,Tr),_=Math.imul(nt,Rr),_=_+Math.imul(Rt,Tr)|0,L=Math.imul(Rt,Rr),D=D+Math.imul(Le,Pr)|0,_=_+Math.imul(Le,Or)|0,_=_+Math.imul(Ge,Pr)|0,L=L+Math.imul(Ge,Or)|0;var jE=(B+D|0)+((_&8191)<<13)|0;B=(L+(_>>>13)|0)+(jE>>>26)|0,jE&=67108863,D=Math.imul(nt,Pr),_=Math.imul(nt,Or),_=_+Math.imul(Rt,Pr)|0,L=Math.imul(Rt,Or);var HE=(B+D|0)+((_&8191)<<13)|0;return B=(L+(_>>>13)|0)+(HE>>>26)|0,HE&=67108863,U[0]=Jl,U[1]=Yl,U[2]=Xl,U[3]=Ql,U[4]=Zl,U[5]=TE,U[6]=RE,U[7]=PE,U[8]=OE,U[9]=DE,U[10]=kE,U[11]=ME,U[12]=UE,U[13]=$E,U[14]=LE,U[15]=FE,U[16]=BE,U[17]=jE,U[18]=HE,B!==0&&(U[19]=B,w.length++),w};Math.imul||(A=E);function S(C,p,y){y.negative=p.negative^C.negative,y.length=C.length+p.length;for(var w=0,x=0,I=0;I<y.length-1;I++){var U=x;x=0;for(var B=w&67108863,D=Math.min(I,p.length-1),_=Math.max(0,I-C.length+1);_<=D;_++){var L=I-_,G=C.words[L]|0,R=p.words[_]|0,V=G*R,K=V&67108863;U=U+(V/67108864|0)|0,K=K+B|0,B=K&67108863,U=U+(K>>>26)|0,x+=U>>>26,U&=67108863}y.words[I]=B,w=U,U=x}return w!==0?y.words[I]=w:y.length--,y._strip()}function T(C,p,y){return S(C,p,y)}s.prototype.mulTo=function(p,y){var w,x=this.length+p.length;return this.length===10&&p.length===10?w=A(this,p,y):x<63?w=E(this,p,y):x<1024?w=S(this,p,y):w=T(this,p,y),w},s.prototype.mul=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),this.mulTo(p,y)},s.prototype.mulf=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),T(this,p,y)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var y=p<0;y&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var w=0,x=0;x<this.length;x++){var I=(this.words[x]|0)*p,U=(I&67108863)+(w&67108863);w>>=26,w+=I/67108864|0,w+=U>>>26,this.words[x]=U&67108863}return w!==0&&(this.words[x]=w,this.length++),this.length=p===0?1:this.length,y?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var y=b(p);if(y.length===0)return new s(1);for(var w=this,x=0;x<y.length&&y[x]===0;x++,w=w.sqr());if(++x<y.length)for(var I=w.sqr();x<y.length;x++,I=I.sqr())y[x]!==0&&(w=w.mul(I));return w},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26,x=67108863>>>26-y<<26-y,I;if(y!==0){var U=0;for(I=0;I<this.length;I++){var B=this.words[I]&x,D=(this.words[I]|0)-B<<y;this.words[I]=D|U,U=B>>>26-y}U&&(this.words[I]=U,this.length++)}if(w!==0){for(I=this.length-1;I>=0;I--)this.words[I+w]=this.words[I];for(I=0;I<w;I++)this.words[I]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,y,w){n(typeof p=="number"&&p>=0);var x;y?x=(y-y%26)/26:x=0;var I=p%26,U=Math.min((p-I)/26,this.length),B=67108863^67108863>>>I<<I,D=w;if(x-=U,x=Math.max(0,x),D){for(var _=0;_<U;_++)D.words[_]=this.words[_];D.length=U}if(U!==0)if(this.length>U)for(this.length-=U,_=0;_<this.length;_++)this.words[_]=this.words[_+U];else this.words[0]=0,this.length=1;var L=0;for(_=this.length-1;_>=0&&(L!==0||_>=x);_--){var G=this.words[_]|0;this.words[_]=L<<26-I|G>>>I,L=G&B}return D&&L!==0&&(D.words[D.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,y,w){return n(this.negative===0),this.iushrn(p,y,w)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26,x=1<<y;if(this.length<=w)return!1;var I=this.words[w];return!!(I&x)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(y!==0&&w++,this.length=Math.min(w,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,y,w){var x=p.length+w,I;this._expand(x);var U,B=0;for(I=0;I<p.length;I++){U=(this.words[I+w]|0)+B;var D=(p.words[I]|0)*y;U-=D&67108863,B=(U>>26)-(D/67108864|0),this.words[I+w]=U&67108863}for(;I<this.length-w;I++)U=(this.words[I+w]|0)+B,B=U>>26,this.words[I+w]=U&67108863;if(B===0)return this._strip();for(n(B===-1),B=0,I=0;I<this.length;I++)U=-(this.words[I]|0)+B,B=U>>26,this.words[I]=U&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,y){var w=this.length-p.length,x=this.clone(),I=p,U=I.words[I.length-1]|0,B=this._countBits(U);w=26-B,w!==0&&(I=I.ushln(w),x.iushln(w),U=I.words[I.length-1]|0);var D=x.length-I.length,_;if(y!=="mod"){_=new s(null),_.length=D+1,_.words=new Array(_.length);for(var L=0;L<_.length;L++)_.words[L]=0}var G=x.clone()._ishlnsubmul(I,1,D);G.negative===0&&(x=G,_&&(_.words[D]=1));for(var R=D-1;R>=0;R--){var V=(x.words[I.length+R]|0)*67108864+(x.words[I.length+R-1]|0);for(V=Math.min(V/U|0,67108863),x._ishlnsubmul(I,V,R);x.negative!==0;)V--,x.negative=0,x._ishlnsubmul(I,1,R),x.isZero()||(x.negative^=1);_&&(_.words[R]=V)}return _&&_._strip(),x._strip(),y!=="div"&&w!==0&&x.iushrn(w),{div:_||null,mod:x}},s.prototype.divmod=function(p,y,w){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,I,U;return this.negative!==0&&p.negative===0?(U=this.neg().divmod(p,y),y!=="mod"&&(x=U.div.neg()),y!=="div"&&(I=U.mod.neg(),w&&I.negative!==0&&I.iadd(p)),{div:x,mod:I}):this.negative===0&&p.negative!==0?(U=this.divmod(p.neg(),y),y!=="mod"&&(x=U.div.neg()),{div:x,mod:U.mod}):(this.negative&p.negative)!==0?(U=this.neg().divmod(p.neg(),y),y!=="div"&&(I=U.mod.neg(),w&&I.negative!==0&&I.isub(p)),{div:U.div,mod:I}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?y==="div"?{div:this.divn(p.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,y)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var y=this.divmod(p);if(y.mod.isZero())return y.div;var w=y.div.negative!==0?y.mod.isub(p):y.mod,x=p.ushrn(1),I=p.andln(1),U=w.cmp(x);return U<0||I===1&&U===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var w=(1<<26)%p,x=0,I=this.length-1;I>=0;I--)x=(w*x+(this.words[I]|0))%p;return y?-x:x},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var w=0,x=this.length-1;x>=0;x--){var I=(this.words[x]|0)+w*67108864;this.words[x]=I/p|0,w=I%p}return this._strip(),y?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var y=this,w=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var x=new s(1),I=new s(0),U=new s(0),B=new s(1),D=0;y.isEven()&&w.isEven();)y.iushrn(1),w.iushrn(1),++D;for(var _=w.clone(),L=y.clone();!y.isZero();){for(var G=0,R=1;(y.words[0]&R)===0&&G<26;++G,R<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(x.isOdd()||I.isOdd())&&(x.iadd(_),I.isub(L)),x.iushrn(1),I.iushrn(1);for(var V=0,K=1;(w.words[0]&K)===0&&V<26;++V,K<<=1);if(V>0)for(w.iushrn(V);V-- >0;)(U.isOdd()||B.isOdd())&&(U.iadd(_),B.isub(L)),U.iushrn(1),B.iushrn(1);y.cmp(w)>=0?(y.isub(w),x.isub(U),I.isub(B)):(w.isub(y),U.isub(x),B.isub(I))}return{a:U,b:B,gcd:w.iushln(D)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var y=this,w=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var x=new s(1),I=new s(0),U=w.clone();y.cmpn(1)>0&&w.cmpn(1)>0;){for(var B=0,D=1;(y.words[0]&D)===0&&B<26;++B,D<<=1);if(B>0)for(y.iushrn(B);B-- >0;)x.isOdd()&&x.iadd(U),x.iushrn(1);for(var _=0,L=1;(w.words[0]&L)===0&&_<26;++_,L<<=1);if(_>0)for(w.iushrn(_);_-- >0;)I.isOdd()&&I.iadd(U),I.iushrn(1);y.cmp(w)>=0?(y.isub(w),x.isub(I)):(w.isub(y),I.isub(x))}var G;return y.cmpn(1)===0?G=x:G=I,G.cmpn(0)<0&&G.iadd(p),G},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var y=this.clone(),w=p.clone();y.negative=0,w.negative=0;for(var x=0;y.isEven()&&w.isEven();x++)y.iushrn(1),w.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;w.isEven();)w.iushrn(1);var I=y.cmp(w);if(I<0){var U=y;y=w,w=U}else if(I===0||w.cmpn(1)===0)break;y.isub(w)}while(!0);return w.iushln(x)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var y=p%26,w=(p-y)/26,x=1<<y;if(this.length<=w)return this._expand(w+1),this.words[w]|=x,this;for(var I=x,U=w;I!==0&&U<this.length;U++){var B=this.words[U]|0;B+=I,I=B>>>26,B&=67108863,this.words[U]=B}return I!==0&&(this.words[U]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var y=p<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var w;if(this.length>1)w=1;else{y&&(p=-p),n(p<=67108863,"Number is too big");var x=this.words[0]|0;w=x===p?0:x<p?-1:1}return this.negative!==0?-w|0:w},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var y=this.ucmp(p);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var y=0,w=this.length-1;w>=0;w--){var x=this.words[w]|0,I=p.words[w]|0;if(x!==I){x<I?y=-1:x>I&&(y=1);break}}return y},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new $(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var P={k256:null,p224:null,p192:null,p25519:null};function k(C,p){this.name=C,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},k.prototype.ireduce=function(p){var y=p,w;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),w=y.bitLength();while(w>this.n);var x=w<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},k.prototype.split=function(p,y){p.iushrn(this.n,0,y)},k.prototype.imulK=function(p){return p.imul(this.k)};function F(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,k),F.prototype.split=function(p,y){for(var w=4194303,x=Math.min(p.length,9),I=0;I<x;I++)y.words[I]=p.words[I];if(y.length=x,p.length<=9){p.words[0]=0,p.length=1;return}var U=p.words[9];for(y.words[y.length++]=U&w,I=10;I<p.length;I++){var B=p.words[I]|0;p.words[I-10]=(B&w)<<4|U>>>22,U=B}U>>>=22,p.words[I-10]=U,U===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var y=0,w=0;w<p.length;w++){var x=p.words[w]|0;y+=x*977,p.words[w]=y&67108863,y=x*64+(y/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function N(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,k);function v(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(v,k);function M(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(M,k),M.prototype.imulK=function(p){for(var y=0,w=0;w<p.length;w++){var x=(p.words[w]|0)*19+y,I=x&67108863;x>>>=26,p.words[w]=I,y=x}return y!==0&&(p.words[p.length++]=y),p},s._prime=function(p){if(P[p])return P[p];var y;if(p==="k256")y=new F;else if(p==="p224")y=new N;else if(p==="p192")y=new v;else if(p==="p25519")y=new M;else throw new Error("Unknown prime "+p);return P[p]=y,y};function $(C){if(typeof C=="string"){var p=s._prime(C);this.m=p.p,this.prime=p}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,y){n((p.negative|y.negative)===0,"red works only with positives"),n(p.red&&p.red===y.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,y){this._verify2(p,y);var w=p.add(y);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},$.prototype.iadd=function(p,y){this._verify2(p,y);var w=p.iadd(y);return w.cmp(this.m)>=0&&w.isub(this.m),w},$.prototype.sub=function(p,y){this._verify2(p,y);var w=p.sub(y);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},$.prototype.isub=function(p,y){this._verify2(p,y);var w=p.isub(y);return w.cmpn(0)<0&&w.iadd(this.m),w},$.prototype.shl=function(p,y){return this._verify1(p),this.imod(p.ushln(y))},$.prototype.imul=function(p,y){return this._verify2(p,y),this.imod(p.imul(y))},$.prototype.mul=function(p,y){return this._verify2(p,y),this.imod(p.mul(y))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(p,w)}for(var x=this.m.subn(1),I=0;!x.isZero()&&x.andln(1)===0;)I++,x.iushrn(1);n(!x.isZero());var U=new s(1).toRed(this),B=U.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new s(2*_*_).toRed(this);this.pow(_,D).cmp(B)!==0;)_.redIAdd(B);for(var L=this.pow(_,x),G=this.pow(p,x.addn(1).iushrn(1)),R=this.pow(p,x),V=I;R.cmp(U)!==0;){for(var K=R,X=0;K.cmp(U)!==0;X++)K=K.redSqr();n(X<V);var Q=this.pow(L,new s(1).iushln(V-X-1));G=G.redMul(Q),L=Q.redSqr(),R=R.redMul(L),V=X}return G},$.prototype.invm=function(p){var y=p._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},$.prototype.pow=function(p,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return p.clone();var w=4,x=new Array(1<<w);x[0]=new s(1).toRed(this),x[1]=p;for(var I=2;I<x.length;I++)x[I]=this.mul(x[I-1],p);var U=x[0],B=0,D=0,_=y.bitLength()%26;for(_===0&&(_=26),I=y.length-1;I>=0;I--){for(var L=y.words[I],G=_-1;G>=0;G--){var R=L>>G&1;if(U!==x[0]&&(U=this.sqr(U)),R===0&&B===0){D=0;continue}B<<=1,B|=R,D++,!(D!==w&&(I!==0||G!==0))&&(U=this.mul(U,x[B]),D=0,B=0)}_=26}return U},$.prototype.convertTo=function(p){var y=p.umod(this.m);return y===p?y.clone():y},$.prototype.convertFrom=function(p){var y=p.clone();return y.red=null,y},s.mont=function(p){return new O(p)};function O(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(O,$),O.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},O.prototype.convertFrom=function(p){var y=this.imod(p.mul(this.rinv));return y.red=null,y},O.prototype.imul=function(p,y){if(p.isZero()||y.isZero())return p.words[0]=0,p.length=1,p;var w=p.imul(y),x=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=w.isub(x).iushrn(this.shift),U=I;return I.cmp(this.m)>=0?U=I.isub(this.m):I.cmpn(0)<0&&(U=I.iadd(this.m)),U._forceRed(this)},O.prototype.mul=function(p,y){if(p.isZero()||y.isZero())return new s(0)._forceRed(this);var w=p.mul(y),x=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=w.isub(x).iushrn(this.shift),U=I;return I.cmp(this.m)>=0?U=I.isub(this.m):I.cmpn(0)<0&&(U=I.iadd(this.m)),U._forceRed(this)},O.prototype.invm=function(p){var y=this.imod(p._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,the)})(Xb)),Xb.exports}var nhe=rhe();const te=Rs(nhe),ihe="logger/5.8.0";let N6=!1,S6=!1;const Qb={debug:1,default:2,info:2,warning:3,error:4,off:5};let I6=Qb.default,cx=null;function she(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const T6=she();var lC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(lC||(lC={}));var ga;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ga||(ga={}));const R6="0123456789abcdef";let re=class wn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Qb[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(I6>Qb[n])&&console.log.apply(console,r)}debug(...e){this._log(wn.levels.DEBUG,e)}info(...e){this._log(wn.levels.INFO,e)}warn(...e){this._log(wn.levels.WARNING,e)}makeError(e,r,n){if(S6)return this.makeError("censored error",r,{});r||(r=wn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=R6[l[f]>>4],u+=R6[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ga.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ga.CALL_EXCEPTION:case ga.INSUFFICIENT_FUNDS:case ga.MISSING_NEW:case ga.NONCE_EXPIRED:case ga.REPLACEMENT_UNDERPRICED:case ga.TRANSACTION_REPLACED:case ga.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,wn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){T6&&this.throwError("platform missing String.prototype.normalize",wn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T6})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,wn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,wn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",wn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cx||(cx=new wn(ihe)),cx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),N6){if(!e)return;this.globalLogger().throwError("error censorship permanent",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S6=!!e,N6=!!r}static setLogLevel(e){const r=Qb[e.toLowerCase()];if(r==null){wn.globalLogger().warn("invalid log level - "+e);return}I6=r}static from(e){return new wn(e)}};re.errors=ga;re.levels=lC;const ohe="bytes/5.8.0",Jr=new re(ohe);function G7(t){return!!t.toHexString}function a0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return a0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function G1(t){return ht(t)&&!(t.length%2)||z0(t)}function P6(t){return typeof t=="number"&&t==t&&t%1===0}function z0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!P6(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!P6(r)||r<0||r>=256)return!1}return!0}function de(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),a0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),G7(t)&&(t=t.toHexString()),ht(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Jr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return a0(new Uint8Array(n))}return z0(t)?a0(new Uint8Array(t)):Jr.throwArgumentError("invalid arrayify value","value",t)}function Gt(t){const e=t.map(i=>de(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),a0(n)}function Ol(t){let e=de(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Zb(t,e){t=de(t),t.length>e&&Jr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),a0(r)}function ht(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const lx="0123456789abcdef";function ye(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=lx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),G7(t))return t.toHexString();if(ht(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Jr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(z0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=lx[(i&240)>>4]+lx[i&15]}return r}return Jr.throwArgumentError("invalid hexlify value","value",t)}function kd(t){if(typeof t!="string")t=ye(t);else if(!ht(t)||t.length%2)return null;return(t.length-2)/2}function gn(t,e,r){return typeof t!="string"?t=ye(t):(!ht(t)||t.length%2)&&Jr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Yi(t){let e="0x";return t.forEach(r=>{e+=ye(r).substring(2)}),e}function IS(t){const e=ahe(ye(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function ahe(t){typeof t!="string"&&(t=ye(t)),ht(t)||Jr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function sr(t,e){for(typeof t!="string"?t=ye(t):ht(t)||Jr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Jr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function G0(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(G1(t)){let r=de(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64))):r.length===65?(e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64)),e.v=r[64]):Jr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Jr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ye(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Zb(de(e._vs),32);e._vs=ye(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ye(i);e.s==null?e.s=o:e.s!==o&&Jr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Jr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Jr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ht(e.r)?Jr.throwArgumentError("signature missing or invalid r","signature",t):e.r=sr(e.r,32),e.s==null||!ht(e.s)?Jr.throwArgumentError("signature missing or invalid s","signature",t):e.s=sr(e.s,32);const r=de(e.s);r[0]>=128&&Jr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ye(r);e._vs&&(ht(e._vs)||Jr.throwArgumentError("signature invalid _vs","signature",t),e._vs=sr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Jr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function O6(t){return t=G0(t),ye(Gt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const K7="bignumber/5.8.0";var P_=te.BN;const ul=new re(K7),ux={},D6=9007199254740991;function che(t){return t!=null&&(ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ht(t)||typeof t=="bigint"||z0(t))}let k6=!1,ve=class sa{constructor(e,r){e!==ux&&ul.throwError("cannot call constructor directly; use BigNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ls(gt(this).fromTwos(e))}toTwos(e){return ls(gt(this).toTwos(e))}abs(){return this._hex[0]==="-"?sa.from(this._hex.substring(1)):this}add(e){return ls(gt(this).add(gt(e)))}sub(e){return ls(gt(this).sub(gt(e)))}div(e){return sa.from(e).isZero()&&lo("division-by-zero","div"),ls(gt(this).div(gt(e)))}mul(e){return ls(gt(this).mul(gt(e)))}mod(e){const r=gt(e);return r.isNeg()&&lo("division-by-zero","mod"),ls(gt(this).umod(r))}pow(e){const r=gt(e);return r.isNeg()&&lo("negative-power","pow"),ls(gt(this).pow(r))}and(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","and"),ls(gt(this).and(r))}or(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","or"),ls(gt(this).or(r))}xor(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","xor"),ls(gt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&lo("negative-width","mask"),ls(gt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&lo("negative-width","shl"),ls(gt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&lo("negative-width","shr"),ls(gt(this).shrn(e))}eq(e){return gt(this).eq(gt(e))}lt(e){return gt(this).lt(gt(e))}lte(e){return gt(this).lte(gt(e))}gt(e){return gt(this).gt(gt(e))}gte(e){return gt(this).gte(gt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return gt(this).isZero()}toNumber(){try{return gt(this).toNumber()}catch{lo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ul.throwError("this platform does not support BigInt",re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?k6||(k6=!0,ul.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ul.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",re.errors.UNEXPECTED_ARGUMENT,{}):ul.throwError("BigNumber.toString does not accept parameters",re.errors.UNEXPECTED_ARGUMENT,{})),gt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof sa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new sa(ux,Pm(e)):e.match(/^-?[0-9]+$/)?new sa(ux,Pm(new P_(e))):ul.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&lo("underflow","BigNumber.from",e),(e>=D6||e<=-D6)&&lo("overflow","BigNumber.from",e),sa.from(String(e));const r=e;if(typeof r=="bigint")return sa.from(r.toString());if(z0(r))return sa.from(ye(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return sa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ht(n)||n[0]==="-"&&ht(n.substring(1))))return sa.from(n)}return ul.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Pm(t){if(typeof t!="string")return Pm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ul.throwArgumentError("invalid hex","value",t),t=Pm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ls(t){return ve.from(Pm(t))}function gt(t){const e=ve.from(t).toHexString();return e[0]==="-"?new P_("-"+e.substring(3),16):new P_(e.substring(2),16)}function lo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ul.throwError(t,re.errors.NUMERIC_FAULT,n)}function lhe(t){return new P_(t,36).toString(16)}const Xi=new re(K7),wg={},V7=ve.from(0),J7=ve.from(-1);function Y7(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Xi.throwError(t,re.errors.NUMERIC_FAULT,i)}let _g="0";for(;_g.length<256;)_g+=_g;function TS(t){if(typeof t!="number")try{t=ve.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+_g.substring(0,t):Xi.throwArgumentError("invalid decimal size","decimals",t)}function ew(t,e){e==null&&(e=0);const r=TS(e);t=ve.from(t);const n=t.lt(V7);n&&(t=t.mul(J7));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function hc(t,e){e==null&&(e=0);const r=TS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Xi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Xi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Xi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Y7("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=ve.from(s),c=ve.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(J7)),l}class c0{constructor(e,r,n,i){e!==wg&&Xi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=TS(i),Object.freeze(this)}static from(e){if(e instanceof c0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Xi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Xi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Xi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Xi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new c0(wg,r,n,i)}}class oi{constructor(e,r,n,i){e!==wg&&Xi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Xi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(M6.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(M6.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Xi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+_g.substring(0,e),this.format),i=uhe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Xi.throwArgumentError("invalid byte width","width",e);const r=ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return sr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!che(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(ew(e,r),c0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=c0.from(r),i=hc(e,n.decimals);!n.signed&&i.lt(V7)&&Y7("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=sr(s,n.width/8));const o=ew(i,n.decimals);return new oi(wg,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=c0.from(r);if(de(e).length>n.width/8)throw new Error("overflow");let i=ve.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=ew(i,n.decimals);return new oi(wg,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(z0(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==re.errors.INVALID_ARGUMENT)throw n}return Xi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const M6=oi.from(1),uhe=oi.from("0.5"),fhe="properties/5.8.0";var dhe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const O_=new re(fhe);function ue(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Ns(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function rn(t){return dhe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function X7(t,e){(!t||typeof t!="object")&&O_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||O_.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Bn(t){const e={};for(const r in t)e[r]=t[r];return e}const hhe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Q7(t){if(t==null||hhe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Q7(n))return!1}return!0}return O_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function phe(t){if(Q7(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Bl(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ue(e,r,Bl(n))}return e}return O_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Bl(t){return phe(t)}let Zs=class{constructor(e){for(const r in e)this[r]=Bl(e[r])}};const Cy="abi/5.8.0",Ct=new re(Cy),Md={};let U6={calldata:!0,memory:!0,storage:!0},ghe={calldata:!0,memory:!0};function yb(t,e){if(t==="bytes"||t==="string"){if(U6[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&ghe[e])return!0;return(U6[e]||e==="payable")&&Ct.throwArgumentError("invalid modifier","name",e),!1}function mhe(t,e){let r=t;function n(a){Ct.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Lh(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),yb(o.type,o.name)&&(o.name=""),o.type=Lh(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),yb(o.type,o.name)&&(o.name=""),o.type=Lh(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Lh(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):yb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Ct.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):yb(o.type,o.name)&&(o.name=""),s.type=Lh(s.type),s}function tw(t,e){for(let r in e)ue(t,r,e[r])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),yhe=new RegExp(/^(.*)\[([0-9]*)\]$/);let kc=class bu{constructor(e,r){e!==Md&&Ct.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),tw(this,r);let n=this.type.match(yhe);n?tw(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:bu.fromObject({type:n[1],components:this.components}),baseType:"array"}):tw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):r+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Bt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?bu.fromString(e,r):bu.fromObject(e)}static fromObject(e){return bu.isParamType(e)?e:new bu(Md,{name:e.name||null,type:Lh(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(bu.fromObject):null})}static fromString(e,r){function n(i){return bu.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(mhe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function Om(t,e){return whe(t).map(r=>kc.fromString(r,e))}let K1=class qp{constructor(e,r){e!==Md&&Ct.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),tw(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return qp.isFragment(e)?e:typeof e=="string"?qp.fromString(e):qp.fromObject(e)}static fromObject(e){if(qp.isFragment(e))return e;switch(e.type){case"function":return k_.fromObject(e);case"event":return uC.fromObject(e);case"constructor":return D_.fromObject(e);case"error":return L6.fromObject(e);case"fallback":case"receive":return null}return Ct.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?uC.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?k_.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?D_.fromString(e.trim()):e.split(" ")[0]==="error"?L6.fromString(e.substring(5).trim()):Ct.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},uC=class kh extends K1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?kh.fromString(e):kh.fromObject(e)}static fromObject(e){if(kh.isEventFragment(e))return e;e.type!=="event"&&Ct.throwArgumentError("invalid event object","value",e);const r={name:Dm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(kc.fromObject):[],type:"event"};return new kh(Md,r)}static fromString(e){let r=e.match(km);r||Ct.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ct.warn("unknown modifier: "+i)}}),kh.fromObject({name:r[1].trim(),anonymous:n,inputs:Om(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function Z7(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ct.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ct.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function e$(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function t$(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ct.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ct.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ct.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e}let D_=class Mh extends K1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&Ct.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Mh.fromString(e):Mh.fromObject(e)}static fromObject(e){if(Mh.isConstructorFragment(e))return e;e.type!=="constructor"&&Ct.throwArgumentError("invalid constructor object","value",e);let r=t$(e);r.constant&&Ct.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(kc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Mh(Md,n)}static fromString(e){let r={type:"constructor"};e=Z7(e,r);let n=e.match(km);return(!n||n[1].trim()!=="constructor")&&Ct.throwArgumentError("invalid constructor string","value",e),r.inputs=Om(n[2].trim(),!1),e$(n[3].trim(),r),Mh.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},k_=class Uh extends D_{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Uh.fromString(e):Uh.fromObject(e)}static fromObject(e){if(Uh.isFunctionFragment(e))return e;e.type!=="function"&&Ct.throwArgumentError("invalid function object","value",e);let r=t$(e);const n={type:e.type,name:Dm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(kc.fromObject):[],outputs:e.outputs?e.outputs.map(kc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Uh(Md,n)}static fromString(e){let r={type:"function"};e=Z7(e,r);let n=e.split(" returns ");n.length>2&&Ct.throwArgumentError("invalid function string","value",e);let i=n[0].match(km);if(i||Ct.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Dm(r.name),r.inputs=Om(i[2],!1),e$(i[3].trim(),r),n.length>1){let s=n[1].match(km);(s[1].trim()!=""||s[3].trim()!="")&&Ct.throwArgumentError("unexpected tokens","value",e),r.outputs=Om(s[2],!1)}else r.outputs=[];return Uh.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function $6(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ct.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let L6=class $h extends K1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?$h.fromString(e):$h.fromObject(e)}static fromObject(e){if($h.isErrorFragment(e))return e;e.type!=="error"&&Ct.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Dm(e.name),inputs:e.inputs?e.inputs.map(kc.fromObject):[]};return $6(new $h(Md,r))}static fromString(e){let r={type:"error"},n=e.match(km);return n||Ct.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Dm(r.name),r.inputs=Om(n[2],!1),$6($h.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function Lh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const bhe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Dm(t){return(!t||!t.match(bhe))&&Ct.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const km=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function whe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ct.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const RS=new re(Cy);function _he(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let ql=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){RS.throwArgumentError(e,this.localName,r)}},fC=class{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Yi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Gt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=Gt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&RS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Gt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},Ehe=class dC{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):dC.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:RS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new dC(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}};var fx={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var F6;function vhe(){return F6||(F6=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Oa:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],E=[128,256],A=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});for(var T=function(R,V,K){return function(X){return new _(R,V,R).update(X)[K]()}},P=function(R,V,K){return function(X,Q){return new _(R,V,Q).update(X)[K]()}},k=function(R,V,K){return function(X,Q,ie,le){return p["cshake"+R].update(X,Q,ie,le)[K]()}},F=function(R,V,K){return function(X,Q,ie,le){return p["kmac"+R].update(X,Q,ie,le)[K]()}},N=function(R,V,K,X){for(var Q=0;Q<A.length;++Q){var ie=A[Q];R[ie]=V(K,X,ie)}return R},v=function(R,V){var K=T(R,V,"hex");return K.create=function(){return new _(R,V,R)},K.update=function(X){return K.create().update(X)},N(K,T,R,V)},M=function(R,V){var K=P(R,V,"hex");return K.create=function(X){return new _(R,V,X)},K.update=function(X,Q){return K.create(Q).update(X)},N(K,P,R,V)},$=function(R,V){var K=S[R],X=k(R,V,"hex");return X.create=function(Q,ie,le){return!ie&&!le?p["shake"+R].create(Q):new _(R,V,Q).bytepad([ie,le],K)},X.update=function(Q,ie,le,H){return X.create(ie,le,H).update(Q)},N(X,k,R,V)},O=function(R,V){var K=S[R],X=F(R,V,"hex");return X.create=function(Q,ie,le){return new L(R,V,ie).bytepad(["KMAC",le],K).bytepad([Q],K)},X.update=function(Q,ie,le,H){return X.create(Q,le,H).update(ie)},N(X,F,R,V)},C=[{name:"keccak",padding:d,bits:b,createMethod:v},{name:"sha3",padding:h,bits:b,createMethod:v},{name:"shake",padding:u,bits:E,createMethod:M},{name:"cshake",padding:f,bits:E,createMethod:$},{name:"kmac",padding:f,bits:E,createMethod:O}],p={},y=[],w=0;w<C.length;++w)for(var x=C[w],I=x.bits,U=0;U<I.length;++U){var B=x.name+"_"+I[U];if(y.push(B),p[B]=x.createMethod(I[U],x.padding),x.name!=="sha3"){var D=x.name+I[U];y.push(D),p[D]=p[B]}}function _(R,V,K){this.blocks=[],this.s=[],this.padding=V,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(R<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}_.prototype.update=function(R){if(this.finalized)throw new Error(r);var V,K=typeof R;if(K!=="string"){if(K==="object"){if(R===null)throw new Error(e);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!c||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);V=!0}for(var X=this.blocks,Q=this.byteCount,ie=R.length,le=this.blockCount,H=0,Y=this.s,W,Z;H<ie;){if(this.reset)for(this.reset=!1,X[0]=this.block,W=1;W<le+1;++W)X[W]=0;if(V)for(W=this.start;H<ie&&W<Q;++H)X[W>>2]|=R[H]<<m[W++&3];else for(W=this.start;H<ie&&W<Q;++H)Z=R.charCodeAt(H),Z<128?X[W>>2]|=Z<<m[W++&3]:Z<2048?(X[W>>2]|=(192|Z>>6)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):Z<55296||Z>=57344?(X[W>>2]|=(224|Z>>12)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):(Z=65536+((Z&1023)<<10|R.charCodeAt(++H)&1023),X[W>>2]|=(240|Z>>18)<<m[W++&3],X[W>>2]|=(128|Z>>12&63)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]);if(this.lastByteIndex=W,W>=Q){for(this.start=W-Q,this.block=X[le],W=0;W<le;++W)Y[W]^=X[W];G(Y),this.reset=!0}else this.start=W}return this},_.prototype.encode=function(R,V){var K=R&255,X=1,Q=[K];for(R=R>>8,K=R&255;K>0;)Q.unshift(K),R=R>>8,K=R&255,++X;return V?Q.push(X):Q.unshift(X),this.update(Q),Q.length},_.prototype.encodeString=function(R){var V,K=typeof R;if(K!=="string"){if(K==="object"){if(R===null)throw new Error(e);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!c||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);V=!0}var X=0,Q=R.length;if(V)X=Q;else for(var ie=0;ie<R.length;++ie){var le=R.charCodeAt(ie);le<128?X+=1:le<2048?X+=2:le<55296||le>=57344?X+=3:(le=65536+((le&1023)<<10|R.charCodeAt(++ie)&1023),X+=4)}return X+=this.encode(X*8),this.update(R),X},_.prototype.bytepad=function(R,V){for(var K=this.encode(V),X=0;X<R.length;++X)K+=this.encodeString(R[X]);var Q=V-K%V,ie=[];return ie.length=Q,this.update(ie),this},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,V=this.lastByteIndex,K=this.blockCount,X=this.s;if(R[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(R[0]=R[K],V=1;V<K+1;++V)R[V]=0;for(R[K-1]|=2147483648,V=0;V<K;++V)X[V]^=R[V];G(X)}},_.prototype.toString=_.prototype.hex=function(){this.finalize();for(var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le="",H;ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)H=V[Q],le+=l[H>>4&15]+l[H&15]+l[H>>12&15]+l[H>>8&15]+l[H>>20&15]+l[H>>16&15]+l[H>>28&15]+l[H>>24&15];ie%R===0&&(G(V),Q=0)}return X&&(H=V[Q],le+=l[H>>4&15]+l[H&15],X>1&&(le+=l[H>>12&15]+l[H>>8&15]),X>2&&(le+=l[H>>20&15]+l[H>>16&15])),le},_.prototype.arrayBuffer=function(){this.finalize();var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=this.outputBits>>3,H;X?H=new ArrayBuffer(K+1<<2):H=new ArrayBuffer(le);for(var Y=new Uint32Array(H);ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)Y[ie]=V[Q];ie%R===0&&G(V)}return X&&(Y[Q]=V[Q],H=H.slice(0,le)),H},_.prototype.buffer=_.prototype.arrayBuffer,_.prototype.digest=_.prototype.array=function(){this.finalize();for(var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=[],H,Y;ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)H=ie<<2,Y=V[Q],le[H]=Y&255,le[H+1]=Y>>8&255,le[H+2]=Y>>16&255,le[H+3]=Y>>24&255;ie%R===0&&G(V)}return X&&(H=ie<<2,Y=V[Q],le[H]=Y&255,X>1&&(le[H+1]=Y>>8&255),X>2&&(le[H+2]=Y>>16&255)),le};function L(R,V,K){_.call(this,R,V,K)}L.prototype=new _,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),_.prototype.finalize.call(this)};var G=function(R){var V,K,X,Q,ie,le,H,Y,W,Z,fe,oe,ge,_e,q,z,ne,se,pe,me,ee,ce,ke,Le,Ge,Fr,nt,Rt,Xo,lt,pt,ic,er,mr,xf,yr,br,Af,wr,_r,Cf,Er,vr,Nf,xr,Ar,Sf,Cr,Nr,If,Sr,Ir,Tf,Tr,Rr,Rf,Pr,Or,Jl,Yl,Xl,Ql,Zl;for(X=0;X<48;X+=2)Q=R[0]^R[10]^R[20]^R[30]^R[40],ie=R[1]^R[11]^R[21]^R[31]^R[41],le=R[2]^R[12]^R[22]^R[32]^R[42],H=R[3]^R[13]^R[23]^R[33]^R[43],Y=R[4]^R[14]^R[24]^R[34]^R[44],W=R[5]^R[15]^R[25]^R[35]^R[45],Z=R[6]^R[16]^R[26]^R[36]^R[46],fe=R[7]^R[17]^R[27]^R[37]^R[47],oe=R[8]^R[18]^R[28]^R[38]^R[48],ge=R[9]^R[19]^R[29]^R[39]^R[49],V=oe^(le<<1|H>>>31),K=ge^(H<<1|le>>>31),R[0]^=V,R[1]^=K,R[10]^=V,R[11]^=K,R[20]^=V,R[21]^=K,R[30]^=V,R[31]^=K,R[40]^=V,R[41]^=K,V=Q^(Y<<1|W>>>31),K=ie^(W<<1|Y>>>31),R[2]^=V,R[3]^=K,R[12]^=V,R[13]^=K,R[22]^=V,R[23]^=K,R[32]^=V,R[33]^=K,R[42]^=V,R[43]^=K,V=le^(Z<<1|fe>>>31),K=H^(fe<<1|Z>>>31),R[4]^=V,R[5]^=K,R[14]^=V,R[15]^=K,R[24]^=V,R[25]^=K,R[34]^=V,R[35]^=K,R[44]^=V,R[45]^=K,V=Y^(oe<<1|ge>>>31),K=W^(ge<<1|oe>>>31),R[6]^=V,R[7]^=K,R[16]^=V,R[17]^=K,R[26]^=V,R[27]^=K,R[36]^=V,R[37]^=K,R[46]^=V,R[47]^=K,V=Z^(Q<<1|ie>>>31),K=fe^(ie<<1|Q>>>31),R[8]^=V,R[9]^=K,R[18]^=V,R[19]^=K,R[28]^=V,R[29]^=K,R[38]^=V,R[39]^=K,R[48]^=V,R[49]^=K,_e=R[0],q=R[1],Ar=R[11]<<4|R[10]>>>28,Sf=R[10]<<4|R[11]>>>28,Rt=R[20]<<3|R[21]>>>29,Xo=R[21]<<3|R[20]>>>29,Yl=R[31]<<9|R[30]>>>23,Xl=R[30]<<9|R[31]>>>23,Er=R[40]<<18|R[41]>>>14,vr=R[41]<<18|R[40]>>>14,mr=R[2]<<1|R[3]>>>31,xf=R[3]<<1|R[2]>>>31,z=R[13]<<12|R[12]>>>20,ne=R[12]<<12|R[13]>>>20,Cr=R[22]<<10|R[23]>>>22,Nr=R[23]<<10|R[22]>>>22,lt=R[33]<<13|R[32]>>>19,pt=R[32]<<13|R[33]>>>19,Ql=R[42]<<2|R[43]>>>30,Zl=R[43]<<2|R[42]>>>30,Tr=R[5]<<30|R[4]>>>2,Rr=R[4]<<30|R[5]>>>2,yr=R[14]<<6|R[15]>>>26,br=R[15]<<6|R[14]>>>26,se=R[25]<<11|R[24]>>>21,pe=R[24]<<11|R[25]>>>21,If=R[34]<<15|R[35]>>>17,Sr=R[35]<<15|R[34]>>>17,ic=R[45]<<29|R[44]>>>3,er=R[44]<<29|R[45]>>>3,Le=R[6]<<28|R[7]>>>4,Ge=R[7]<<28|R[6]>>>4,Rf=R[17]<<23|R[16]>>>9,Pr=R[16]<<23|R[17]>>>9,Af=R[26]<<25|R[27]>>>7,wr=R[27]<<25|R[26]>>>7,me=R[36]<<21|R[37]>>>11,ee=R[37]<<21|R[36]>>>11,Ir=R[47]<<24|R[46]>>>8,Tf=R[46]<<24|R[47]>>>8,Nf=R[8]<<27|R[9]>>>5,xr=R[9]<<27|R[8]>>>5,Fr=R[18]<<20|R[19]>>>12,nt=R[19]<<20|R[18]>>>12,Or=R[29]<<7|R[28]>>>25,Jl=R[28]<<7|R[29]>>>25,_r=R[38]<<8|R[39]>>>24,Cf=R[39]<<8|R[38]>>>24,ce=R[48]<<14|R[49]>>>18,ke=R[49]<<14|R[48]>>>18,R[0]=_e^~z&se,R[1]=q^~ne&pe,R[10]=Le^~Fr&Rt,R[11]=Ge^~nt&Xo,R[20]=mr^~yr&Af,R[21]=xf^~br&wr,R[30]=Nf^~Ar&Cr,R[31]=xr^~Sf&Nr,R[40]=Tr^~Rf&Or,R[41]=Rr^~Pr&Jl,R[2]=z^~se&me,R[3]=ne^~pe&ee,R[12]=Fr^~Rt&lt,R[13]=nt^~Xo&pt,R[22]=yr^~Af&_r,R[23]=br^~wr&Cf,R[32]=Ar^~Cr&If,R[33]=Sf^~Nr&Sr,R[42]=Rf^~Or&Yl,R[43]=Pr^~Jl&Xl,R[4]=se^~me&ce,R[5]=pe^~ee&ke,R[14]=Rt^~lt&ic,R[15]=Xo^~pt&er,R[24]=Af^~_r&Er,R[25]=wr^~Cf&vr,R[34]=Cr^~If&Ir,R[35]=Nr^~Sr&Tf,R[44]=Or^~Yl&Ql,R[45]=Jl^~Xl&Zl,R[6]=me^~ce&_e,R[7]=ee^~ke&q,R[16]=lt^~ic&Le,R[17]=pt^~er&Ge,R[26]=_r^~Er&mr,R[27]=Cf^~vr&xf,R[36]=If^~Ir&Nf,R[37]=Sr^~Tf&xr,R[46]=Yl^~Ql&Tr,R[47]=Xl^~Zl&Rr,R[8]=ce^~_e&z,R[9]=ke^~q&ne,R[18]=ic^~Le&Fr,R[19]=er^~Ge&nt,R[28]=Er^~mr&yr,R[29]=vr^~xf&br,R[38]=Ir^~Nf&Ar,R[39]=Tf^~xr&Sf,R[48]=Ql^~Tr&Rf,R[49]=Zl^~Rr&Pr,R[0]^=g[X],R[1]^=g[X+1]};if(a)t.exports=p;else for(w=0;w<y.length;++w)i[y[w]]=p[y[w]]})()})(fx)),fx.exports}var xhe=vhe();const K0=Rs(xhe);function zt(t){return"0x"+K0.keccak_256(de(t))}const Ahe="rlp/5.8.0",yc=new re(Ahe);function B6(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function j6(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function r$(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(r$(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=B6(n.length);return i.unshift(247+i.length),i.concat(n)}G1(t)||yc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(de(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=B6(e.length);return r.unshift(183+r.length),r.concat(e)}function T0(t){return ye(r$(t))}function H6(t,e,r,n){const i=[];for(;r<e+1+n;){const s=n$(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&yc.throwError("child data too short",re.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function n$(t,e){if(t.length===0&&yc.throwError("data too short",re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&yc.throwError("data short segment too short",re.errors.BUFFER_OVERRUN,{});const n=j6(t,e+1,r);return e+1+r+n>t.length&&yc.throwError("data long segment too short",re.errors.BUFFER_OVERRUN,{}),H6(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{}),H6(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const n=j6(t,e+1,r);e+1+r+n>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const i=ye(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&yc.throwError("data too short",re.errors.BUFFER_OVERRUN,{});const n=ye(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ye(t[e])}}function PS(t){const e=de(t),r=n$(e,0);return r.consumed!==e.length&&yc.throwArgumentError("invalid rlp data","data",t),r.result}const Che="address/5.8.0",Xh=new re(Che);function W6(t){ht(t,20)||Xh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=de(zt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Nhe=9007199254740991;function She(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const OS={};for(let t=0;t<10;t++)OS[String(t)]=String(t);for(let t=0;t<26;t++)OS[String.fromCharCode(65+t)]=String(10+t);const q6=Math.floor(She(Nhe));function Ihe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>OS[n]).join("");for(;e.length>=q6;){let n=e.substring(0,q6);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Yt(t){let e=null;if(typeof t!="string"&&Xh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=W6(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Xh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Ihe(t)&&Xh.throwArgumentError("bad icap checksum","address",t),e=lhe(t.substring(4));e.length<40;)e="0"+e;e=W6("0x"+e)}else Xh.throwArgumentError("invalid address","address",t);return e}function i$(t){let e=null;try{e=Yt(t.from)}catch{Xh.throwArgumentError("missing from address","transaction",t)}const r=Ol(de(ve.from(t.nonce).toHexString()));return Yt(gn(zt(T0([e,r])),12))}let The=class extends ql{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Yt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Yt(sr(e.readValue().toHexString(),20))}},Rhe=class extends ql{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const Qh=new re(Cy);function s$(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Qh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Qh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Qh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Qh.throwArgumentError("types/value length mismatch","tuple",r);let i=new fC(t.wordSize),s=new fC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function o$(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let Phe=class extends ql{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Qh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return s$(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Qh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Rhe(this.coder));return e.coerce(this.name,o$(e,n))}},Ohe=class extends ql{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},a$=class extends ql{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},Dhe=class extends a${constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}},khe=class extends ql{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}},Mhe=class extends ql{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Uhe="0x0000000000000000000000000000000000000000",c$=ve.from(-1),DS=ve.from(0),l$=ve.from(1),u$=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),$he="0x0000000000000000000000000000000000000000000000000000000000000000";let Lhe=class extends ql{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=u$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(l$).mul(c$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(DS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const Fhe="strings/5.8.0",f$=new re(Fhe);var jl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(jl||(jl={}));var Fs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Fs||(Fs={}));function Bhe(t,e,r,n,i){return f$.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function d$(t,e,r,n,i){if(t===Fs.BAD_PREFIX||t===Fs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Fs.OVERRUN?r.length-e-1:0}function jhe(t,e,r,n,i){return t===Fs.OVERLONG?(n.push(i),0):(n.push(65533),d$(t,e,r))}const Hhe=Object.freeze({error:Bhe,ignore:d$,replace:jhe});function h$(t,e){e==null&&(e=Hhe.error),t=de(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Fs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Fs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Fs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Fs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Fs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Fs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Fs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Xr(t,e=jl.current){e!=jl.current&&(f$.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return de(r)}function Whe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function V0(t,e){return Whe(h$(t,e))}function qhe(t,e=jl.current){return h$(Xr(t,e))}let zhe=class extends a${constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Xr(r))}decode(e){return V0(super.decode(e))}},bb=class extends ql{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return s$(e,this.coders,r)}decode(e){return e.coerce(this.name,o$(e,this.coders))}};const wb=new re(Cy),Ghe=new RegExp(/^bytes([0-9]*)$/),Khe=new RegExp(/^(u?int)([0-9]*)$/);let Vhe=class{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new The(e.name);case"bool":return new Ohe(e.name);case"string":return new zhe(e.name);case"bytes":return new Dhe(e.name);case"array":return new Phe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new bb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Mhe(e.name)}let r=e.type.match(Khe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&wb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Lhe(n/8,r[1]==="int",e.name)}if(r=e.type.match(Ghe),r){let n=parseInt(r[1]);return(n===0||n>32)&&wb.throwArgumentError("invalid bytes length","param",e),new khe(n,e.name)}return wb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Ehe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new fC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(kc.from(i)));return new bb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&wb.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(kc.from(o))),i=new bb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(kc.from(o)));return new bb(i,"_").decode(this._getReader(de(r),n))}};const Jhe=new Vhe;function ja(t){return zt(Xr(t))}const p$="hash/5.8.0";function g$(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return de(e)}function m$(t){t=de(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function y$(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function Yhe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Xhe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let P=1;P<n;P++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let P=0;P<f;P++)b=b<<1|u();let E=[],A=0,S=d;for(;;){let P=Math.floor(((b-A+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;P<s[M]?F=M:k=M}if(k==0)break;E.push(k);let N=A+Math.floor(S*s[k]/i),v=A+Math.floor(S*s[k+1]/i)-1;for(;((N^v)&h)==0;)b=b<<1&g|u(),N=N<<1&g,v=v<<1&g|1;for(;N&~v&m;)b=b&h|b<<1&g>>>1|u(),N=N<<1^h,v=(v^h)<<1|h|1;A=N,S=1+v-N}let T=n-4;return E.map(P=>{switch(P-T){case 3:return T+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return T+256+(t[a++]<<8|t[a++]);case 1:return T+t[a++];default:return P-1}})}function Qhe(t){let e=0;return()=>t[e++]}function Zhe(t){return Qhe(Xhe(t))}function e0e(t){return t&1?~t>>1:t>>1}function t0e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function z6(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function r0e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=e0e(e());return r}function M_(t,e){let r=z6(t(),t),n=t(),i=z6(n,t),s=t0e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function n0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(s0e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(o0e(r,t))}return Yhe(y$(e))}function i0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function b$(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)r0e(t,r).forEach((s,o)=>n[o].push(s));return n}function s0e(t,e){let r=1+e(),n=e(),i=i0e(e),s=b$(i.length,1+t,e);return y$(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function o0e(t,e){let r=1+e();return b$(r,1+t,e).map(i=>[i[0],i.slice(1)])}function a0e(t){let e=M_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=M_(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function c0e(){return Zhe(g$("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const V1=c0e(),l0e=new Set(M_(V1)),u0e=new Set(M_(V1)),f0e=n0e(V1),d0e=a0e(V1),G6=45,K6=95;function w$(t){return qhe(t)}function h0e(t){return t.filter(e=>e!=65039)}function _$(t){for(let e of t.split(".")){let r=w$(e);try{for(let n=r.lastIndexOf(K6)-1;n>=0;n--)if(r[n]!==K6)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===G6&&r[3]===G6)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function p0e(t){return _$(g0e(t,h0e))}function g0e(t,e){let r=w$(t).reverse(),n=[];for(;r.length;){let i=y0e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(l0e.has(s)){n.push(s);continue}if(u0e.has(s))continue;let o=f0e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return _$(m0e(String.fromCodePoint(...n)))}function m0e(t){return t.normalize("NFC")}function y0e(t,e){var r;let n=d0e,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const b0e=new re(p$),E$=new Uint8Array(32);E$.fill(0);function V6(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function v$(t){const e=Xr(p0e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(V6(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(V6(e.slice(n))),r}function rw(t){typeof t!="string"&&b0e.throwArgumentError("invalid ENS name; not a string","name",t);let e=E$;const r=v$(t);for(;r.length;)e=zt(Gt([e,zt(r.pop())]));return ye(e)}function w0e(t){return ye(Gt(v$(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const _0e=`Ethereum Signed Message:
`;function x$(t){return typeof t=="string"&&(t=Xr(t)),zt(Gt([Xr(_0e),Xr(String(t.length)),t]))}var E0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Wr=new re(p$),A$=new Uint8Array(32);A$.fill(0);const v0e=ve.from(-1),C$=ve.from(0),N$=ve.from(1),x0e=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function A0e(t){const e=de(t),r=e.length%32;return r?Yi([e,A$.slice(r)]):ye(e)}const C0e=sr(N$.toHexString(),32),N0e=sr(C$.toHexString(),32),J6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},dx=["name","version","chainId","verifyingContract","salt"];function Y6(t){return function(e){return typeof e!="string"&&Wr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const S0e={name:Y6("name"),version:Y6("version"),chainId:function(t){try{return ve.from(t).toString()}catch{}return Wr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Yt(t).toLowerCase()}catch{}return Wr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=de(t);if(e.length!==32)throw new Error("bad length");return ye(e)}catch{}return Wr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function hx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Wr.throwArgumentError("invalid numeric width","type",t);const i=x0e.mask(r?n-1:n),s=r?i.add(N$).mul(v0e):C$;return function(o){const a=ve.from(o);return(a.lt(s)||a.gt(i))&&Wr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),sr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Wr.throwArgumentError("invalid bytes width","type",t),function(n){return de(n).length!==r&&Wr.throwArgumentError(`invalid length for ${t}`,"value",n),A0e(n)}}}switch(t){case"address":return function(e){return sr(Yt(e),32)};case"bool":return function(e){return e?C0e:N0e};case"bytes":return function(e){return zt(e)};case"string":return function(e){return ja(e)}}return null}function X6(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let Mm=class oa{constructor(e){ue(this,"types",Object.freeze(Bl(e))),ue(this,"_encoderCache",{}),ue(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Wr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Wr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!hx(u)&&(n[u]||Wr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Wr.throwArgumentError("missing primary type","types",e):s.length>1&&Wr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ue(this,"primaryType",s[0]);function o(a,c){c[a]&&Wr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=X6(a,e[a])+c.map(l=>X6(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=hx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Wr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(zt)),zt(Yi(c))}}const n=this.types[e];if(n){const i=ja(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?zt(l):l});return o.unshift(i),Yi(o)}}return Wr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Wr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return zt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(hx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Wr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Wr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new oa(e)}static getPrimaryType(e){return oa.from(e).primaryType}static hashStruct(e,r,n){return oa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=J6[n];i||Wr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>dx.indexOf(n.name)-dx.indexOf(i.name)),oa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Yi(["0x1901",oa.hashDomain(e),oa.from(r).hash(n)])}static hash(e,r,n){return zt(oa.encode(e,r,n))}static resolveNames(e,r,n,i){return E0e(this,void 0,void 0,function*(){e=Bn(e);const s={};e.verifyingContract&&!ht(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=oa.from(r);o.visit(n,(a,c)=>(a==="address"&&!ht(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){oa.hashDomain(e);const i={},s=[];dx.forEach(c=>{const l=e[c];l!=null&&(i[c]=S0e[c](l),s.push({name:c,type:J6[c]}))});const o=oa.from(r),a=Bn(r);return a.EIP712Domain?Wr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return ye(de(l));if(c.match(/^u?int/))return ve.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Wr.throwArgumentError("invalid string","value",l),l}return Wr.throwArgumentError("unsupported type","type",c)})}}};const Br=new re(Cy);let I0e=class extends Zs{},T0e=class extends Zs{},R0e=class extends Zs{},hC=class extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}};const P0e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Q6(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let Z6=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>K1.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Ns(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Br.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Br.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",D_.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&Br.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Jhe}static getAddress(e){return Yt(e)}static getSighash(e){return gn(ja(e.format()),0,4)}static getEventTopic(e){return ja(e.format())}getFunction(e){if(ht(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Br.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching function","name",n):i.length>1&&Br.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[k_.fromString(e).format()];return r||Br.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ht(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Br.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching event","name",n):i.length>1&&Br.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[uC.fromString(e).format()];return r||Br.throwArgumentError("no matching event","signature",e),r}getError(e){if(ht(e)){const n=Ns(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Br.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching error","name",n):i.length>1&&Br.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[k_.fromString(e).format()];return r||Br.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Ns(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ns(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Br.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Br.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=P0e[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Br.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Br.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?ja(o):s.type==="bytes"?zt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),sr(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Br.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Br.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Br.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(ja(c));else if(o.type==="bytes")n.push(zt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ht(n[0],32)||n[0].toLowerCase()!==d)&&Br.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(kc.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Gt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new hC({_isIndexed:!0,hash:null});else if(o[h])l[h]=new hC({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw Q6(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw Q6(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new T0e({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new I0e({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new R0e({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const O0e="abstract-provider/5.8.0";var D0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const k0e=new re(O0e);class M0e extends Zs{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ny{constructor(){k0e.checkAbstract(new.target,Ny),ue(this,"_isProvider",!0)}getFeeData(){return D0e(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield rn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const U0e="abstract-signer/5.8.0";var ta=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const mo=new re(U0e),$0e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],L0e=[re.errors.INSUFFICIENT_FUNDS,re.errors.NONCE_EXPIRED,re.errors.REPLACEMENT_UNDERPRICED];class J0{constructor(){mo.checkAbstract(new.target,J0),ue(this,"_isSigner",!0)}getBalance(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ta(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield rn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return ta(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield rn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return ta(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)$0e.indexOf(n)===-1&&mo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Bn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&mo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return ta(this,void 0,void 0,function*(){const r=yield rn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>ta(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&mo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?mo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&mo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&mo.throwError("network does not support EIP-1559",re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):mo.throwError("failed to get consistent fee data",re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(L0e.indexOf(i.code)>=0)throw i;return mo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&mo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield rn(r)})}_checkProvider(e){this.provider||mo.throwError("missing provider",re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class kS extends J0{constructor(e,r){super(),ue(this,"address",e),ue(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{mo.throwError(e,re.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new kS(this.address,e)}}var px={},rr={},gx,eO;function Sy(){if(eO)return gx;eO=1,gx=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},gx}var _b={exports:{}},tO;function F0e(){return tO||(tO=1,typeof Object.create=="function"?_b.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_b.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),_b.exports}var rO;function jc(){if(rO)return rr;rO=1;var t=Sy(),e=F0e();rr.inherits=e;function r(O,C){return(O.charCodeAt(C)&64512)!==55296||C<0||C+1>=O.length?!1:(O.charCodeAt(C+1)&64512)===56320}function n(O,C){if(Array.isArray(O))return O.slice();if(!O)return[];var p=[];if(typeof O=="string")if(C){if(C==="hex")for(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0&&(O="0"+O),w=0;w<O.length;w+=2)p.push(parseInt(O[w]+O[w+1],16))}else for(var y=0,w=0;w<O.length;w++){var x=O.charCodeAt(w);x<128?p[y++]=x:x<2048?(p[y++]=x>>6|192,p[y++]=x&63|128):r(O,w)?(x=65536+((x&1023)<<10)+(O.charCodeAt(++w)&1023),p[y++]=x>>18|240,p[y++]=x>>12&63|128,p[y++]=x>>6&63|128,p[y++]=x&63|128):(p[y++]=x>>12|224,p[y++]=x>>6&63|128,p[y++]=x&63|128)}else for(w=0;w<O.length;w++)p[w]=O[w]|0;return p}rr.toArray=n;function i(O){for(var C="",p=0;p<O.length;p++)C+=a(O[p].toString(16));return C}rr.toHex=i;function s(O){var C=O>>>24|O>>>8&65280|O<<8&16711680|(O&255)<<24;return C>>>0}rr.htonl=s;function o(O,C){for(var p="",y=0;y<O.length;y++){var w=O[y];C==="little"&&(w=s(w)),p+=c(w.toString(16))}return p}rr.toHex32=o;function a(O){return O.length===1?"0"+O:O}rr.zero2=a;function c(O){return O.length===7?"0"+O:O.length===6?"00"+O:O.length===5?"000"+O:O.length===4?"0000"+O:O.length===3?"00000"+O:O.length===2?"000000"+O:O.length===1?"0000000"+O:O}rr.zero8=c;function l(O,C,p,y){var w=p-C;t(w%4===0);for(var x=new Array(w/4),I=0,U=C;I<x.length;I++,U+=4){var B;y==="big"?B=O[U]<<24|O[U+1]<<16|O[U+2]<<8|O[U+3]:B=O[U+3]<<24|O[U+2]<<16|O[U+1]<<8|O[U],x[I]=B>>>0}return x}rr.join32=l;function u(O,C){for(var p=new Array(O.length*4),y=0,w=0;y<O.length;y++,w+=4){var x=O[y];C==="big"?(p[w]=x>>>24,p[w+1]=x>>>16&255,p[w+2]=x>>>8&255,p[w+3]=x&255):(p[w+3]=x>>>24,p[w+2]=x>>>16&255,p[w+1]=x>>>8&255,p[w]=x&255)}return p}rr.split32=u;function f(O,C){return O>>>C|O<<32-C}rr.rotr32=f;function d(O,C){return O<<C|O>>>32-C}rr.rotl32=d;function h(O,C){return O+C>>>0}rr.sum32=h;function m(O,C,p){return O+C+p>>>0}rr.sum32_3=m;function g(O,C,p,y){return O+C+p+y>>>0}rr.sum32_4=g;function b(O,C,p,y,w){return O+C+p+y+w>>>0}rr.sum32_5=b;function E(O,C,p,y){var w=O[C],x=O[C+1],I=y+x>>>0,U=(I<y?1:0)+p+w;O[C]=U>>>0,O[C+1]=I}rr.sum64=E;function A(O,C,p,y){var w=C+y>>>0,x=(w<C?1:0)+O+p;return x>>>0}rr.sum64_hi=A;function S(O,C,p,y){var w=C+y;return w>>>0}rr.sum64_lo=S;function T(O,C,p,y,w,x,I,U){var B=0,D=C;D=D+y>>>0,B+=D<C?1:0,D=D+x>>>0,B+=D<x?1:0,D=D+U>>>0,B+=D<U?1:0;var _=O+p+w+I+B;return _>>>0}rr.sum64_4_hi=T;function P(O,C,p,y,w,x,I,U){var B=C+y+x+U;return B>>>0}rr.sum64_4_lo=P;function k(O,C,p,y,w,x,I,U,B,D){var _=0,L=C;L=L+y>>>0,_+=L<C?1:0,L=L+x>>>0,_+=L<x?1:0,L=L+U>>>0,_+=L<U?1:0,L=L+D>>>0,_+=L<D?1:0;var G=O+p+w+I+B+_;return G>>>0}rr.sum64_5_hi=k;function F(O,C,p,y,w,x,I,U,B,D){var _=C+y+x+U+D;return _>>>0}rr.sum64_5_lo=F;function N(O,C,p){var y=C<<32-p|O>>>p;return y>>>0}rr.rotr64_hi=N;function v(O,C,p){var y=O<<32-p|C>>>p;return y>>>0}rr.rotr64_lo=v;function M(O,C,p){return O>>>p}rr.shr64_hi=M;function $(O,C,p){var y=O<<32-p|C>>>p;return y>>>0}return rr.shr64_lo=$,rr}var mx={},nO;function Iy(){if(nO)return mx;nO=1;var t=jc(),e=Sy();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return mx.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},mx}var jf={},fc={},iO;function S$(){if(iO)return fc;iO=1;var t=jc(),e=t.rotr32;function r(u,f,d,h){if(u===0)return n(f,d,h);if(u===1||u===3)return s(f,d,h);if(u===2)return i(f,d,h)}fc.ft_1=r;function n(u,f,d){return u&f^~u&d}fc.ch32=n;function i(u,f,d){return u&f^u&d^f&d}fc.maj32=i;function s(u,f,d){return u^f^d}fc.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}fc.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}fc.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}fc.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return fc.g1_256=l,fc}var yx,sO;function B0e(){if(sO)return yx;sO=1;var t=jc(),e=Iy(),r=S$(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),yx=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,d){for(var h=this.W,m=0;m<16;m++)h[m]=f[d+m];for(;m<h.length;m++)h[m]=n(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);var g=this.h[0],b=this.h[1],E=this.h[2],A=this.h[3],S=this.h[4];for(m=0;m<h.length;m++){var T=~~(m/20),P=s(n(g,5),o(T,b,E,A),S,h[m],c[T]);S=A,A=E,E=n(b,30),b=g,g=P}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],E),this.h[3]=i(this.h[3],A),this.h[4]=i(this.h[4],S)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},yx}var bx,oO;function I$(){if(oO)return bx;oO=1;var t=jc(),e=Iy(),r=S$(),n=Sy(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(g,h),bx=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(E,A){for(var S=this.W,T=0;T<16;T++)S[T]=E[A+T];for(;T<S.length;T++)S[T]=s(d(S[T-2]),S[T-7],f(S[T-15]),S[T-16]);var P=this.h[0],k=this.h[1],F=this.h[2],N=this.h[3],v=this.h[4],M=this.h[5],$=this.h[6],O=this.h[7];for(n(this.k.length===S.length),T=0;T<S.length;T++){var C=o(O,u(v),a(v,M,$),this.k[T],S[T]),p=i(l(P),c(P,k,F));O=$,$=M,M=v,v=i(N,C),N=F,F=k,k=P,P=i(C,p)}this.h[0]=i(this.h[0],P),this.h[1]=i(this.h[1],k),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],v),this.h[5]=i(this.h[5],M),this.h[6]=i(this.h[6],$),this.h[7]=i(this.h[7],O)},g.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},bx}var wx,aO;function j0e(){if(aO)return wx;aO=1;var t=jc(),e=I$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),wx=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},wx}var _x,cO;function T$(){if(cO)return _x;cO=1;var t=jc(),e=Iy(),r=Sy(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,m=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(b,m),_x=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(p,y){for(var w=this.W,x=0;x<32;x++)w[x]=p[y+x];for(;x<w.length;x+=2){var I=$(w[x-4],w[x-3]),U=O(w[x-4],w[x-3]),B=w[x-14],D=w[x-13],_=v(w[x-30],w[x-29]),L=M(w[x-30],w[x-29]),G=w[x-32],R=w[x-31];w[x]=u(I,U,B,D,_,L,G,R),w[x+1]=f(I,U,B,D,_,L,G,R)}},b.prototype._update=function(p,y){this._prepareBlock(p,y);var w=this.W,x=this.h[0],I=this.h[1],U=this.h[2],B=this.h[3],D=this.h[4],_=this.h[5],L=this.h[6],G=this.h[7],R=this.h[8],V=this.h[9],K=this.h[10],X=this.h[11],Q=this.h[12],ie=this.h[13],le=this.h[14],H=this.h[15];r(this.k.length===w.length);for(var Y=0;Y<w.length;Y+=2){var W=le,Z=H,fe=F(R,V),oe=N(R,V),ge=E(R,V,K,X,Q),_e=A(R,V,K,X,Q,ie),q=this.k[Y],z=this.k[Y+1],ne=w[Y],se=w[Y+1],pe=d(W,Z,fe,oe,ge,_e,q,z,ne,se),me=h(W,Z,fe,oe,ge,_e,q,z,ne,se);W=P(x,I),Z=k(x,I),fe=S(x,I,U,B,D),oe=T(x,I,U,B,D,_);var ee=c(W,Z,fe,oe),ce=l(W,Z,fe,oe);le=Q,H=ie,Q=K,ie=X,K=R,X=V,R=c(L,G,pe,me),V=l(G,G,pe,me),L=D,G=_,D=U,_=B,U=x,B=I,x=c(pe,me,ee,ce),I=l(pe,me,ee,ce)}a(this.h,0,x,I),a(this.h,2,U,B),a(this.h,4,D,_),a(this.h,6,L,G),a(this.h,8,R,V),a(this.h,10,K,X),a(this.h,12,Q,ie),a(this.h,14,le,H)},b.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(C,p,y,w,x){var I=C&y^~C&x;return I<0&&(I+=4294967296),I}function A(C,p,y,w,x,I){var U=p&w^~p&I;return U<0&&(U+=4294967296),U}function S(C,p,y,w,x){var I=C&y^C&x^y&x;return I<0&&(I+=4294967296),I}function T(C,p,y,w,x,I){var U=p&w^p&I^w&I;return U<0&&(U+=4294967296),U}function P(C,p){var y=n(C,p,28),w=n(p,C,2),x=n(p,C,7),I=y^w^x;return I<0&&(I+=4294967296),I}function k(C,p){var y=i(C,p,28),w=i(p,C,2),x=i(p,C,7),I=y^w^x;return I<0&&(I+=4294967296),I}function F(C,p){var y=n(C,p,14),w=n(C,p,18),x=n(p,C,9),I=y^w^x;return I<0&&(I+=4294967296),I}function N(C,p){var y=i(C,p,14),w=i(C,p,18),x=i(p,C,9),I=y^w^x;return I<0&&(I+=4294967296),I}function v(C,p){var y=n(C,p,1),w=n(C,p,8),x=s(C,p,7),I=y^w^x;return I<0&&(I+=4294967296),I}function M(C,p){var y=i(C,p,1),w=i(C,p,8),x=o(C,p,7),I=y^w^x;return I<0&&(I+=4294967296),I}function $(C,p){var y=n(C,p,19),w=n(p,C,29),x=s(C,p,6),I=y^w^x;return I<0&&(I+=4294967296),I}function O(C,p){var y=i(C,p,19),w=i(p,C,29),x=o(C,p,6),I=y^w^x;return I<0&&(I+=4294967296),I}return _x}var Ex,lO;function H0e(){if(lO)return Ex;lO=1;var t=jc(),e=T$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Ex=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Ex}var uO;function W0e(){return uO||(uO=1,jf.sha1=B0e(),jf.sha224=j0e(),jf.sha256=I$(),jf.sha384=H0e(),jf.sha512=T$()),jf}var vx={},fO;function q0e(){if(fO)return vx;fO=1;var t=jc(),e=Iy(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),vx.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(b,E){for(var A=this.h[0],S=this.h[1],T=this.h[2],P=this.h[3],k=this.h[4],F=A,N=S,v=T,M=P,$=k,O=0;O<80;O++){var C=n(r(s(A,c(O,S,T,P),b[f[O]+E],l(O)),h[O]),k);A=k,k=P,P=r(T,10),T=S,S=C,C=n(r(s(F,c(79-O,N,v,M),b[d[O]+E],u(O)),m[O]),$),F=$,$=M,M=r(v,10),v=N,N=C}C=i(this.h[1],T,M),this.h[1]=i(this.h[2],P,$),this.h[2]=i(this.h[3],k,F),this.h[3]=i(this.h[4],A,N),this.h[4]=i(this.h[0],S,v),this.h[0]=C},a.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(g,b,E,A){return g<=15?b^E^A:g<=31?b&E|~b&A:g<=47?(b|~E)^A:g<=63?b&A|E&~A:b^(E|~A)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return vx}var xx,dO;function z0e(){if(dO)return xx;dO=1;var t=jc(),e=Sy();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return xx=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},xx}var hO;function G0e(){return hO||(hO=1,(function(t){var e=t;e.utils=jc(),e.common=Iy(),e.sha=W0e(),e.ripemd=q0e(),e.hmac=z0e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(px)),px}var K0e=G0e();const Ye=Rs(K0e);function Y0(t,e,r){return r={path:e,exports:{},require:function(n,i){return V0e(n,i??r.path)}},t(r,r.exports),r.exports}function V0e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var MS=R$;function R$(t,e){if(!t)throw new Error(e||"Assertion failed")}R$.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ha=Y0(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),eo=Y0(function(t,e){var r=e;r.assert=MS,r.toArray=Ha.toArray,r.zero2=Ha.zero2,r.toHex=Ha.toHex,r.encode=Ha.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var E;(g&1)===0?E=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?E=-g:E=g),u[1].push(E),2*f===b+1&&(f=1-f),2*d===E+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),U_=eo.getNAF,J0e=eo.getJSF,$_=eo.assert;function pf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Jd=pf;pf.prototype.point=function(){throw new Error("Not implemented")};pf.prototype.validate=function(){throw new Error("Not implemented")};pf.prototype._fixedNafMul=function(e,r){$_(e.precomputed);var n=e._getDoubles(),i=U_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};pf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=U_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];$_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};pf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=U_(n[m],o[m],this._bitLength),c[g]=U_(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],A=J0e(n[m],n[g]);for(l=Math.max(A[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=A[0][f]|0,T=A[1][f]|0;c[m][f]=E[(S+1)*3+(T+1)],c[g][f]=0,a[m]=b}}var P=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,P=P.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?P=P.mixedAdd(d):P=P.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?P:P.toP()};function Wo(t,e){this.curve=t,this.type=e,this.precomputed=null}pf.BasePoint=Wo;Wo.prototype.eq=function(){throw new Error("Not implemented")};Wo.prototype.validate=function(){return this.curve.validate(this)};pf.prototype.decodePoint=function(e,r){e=eo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$_(e[e.length-1]%2===0):e[0]===7&&$_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Wo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Wo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Wo.prototype.encode=function(e,r){return eo.encode(this._encode(r),e)};Wo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Wo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Wo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Wo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Wo.prototype._getBeta=function(){return null};Wo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var US=Y0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Y0e=eo.assert;function qo(t){Jd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}US(qo,Jd);var X0e=qo;qo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Y0e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};qo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};qo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,E,A;n.cmpn(0)!==0;){var S=i.div(n);E=i.sub(S.mul(n)),A=a.sub(S.mul(s));var T=c.sub(S.mul(o));if(!f&&E.cmp(r)<0)l=g.neg(),u=s,f=E.neg(),d=A;else if(f&&++b===2)break;g=E,i=n,n=E,a=s,s=A,c=o,o=T}h=E.neg(),m=A;var P=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(P)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};qo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};qo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};qo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};qo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Xn(t,e,r,n){Jd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}US(Xn,Jd.BasePoint);qo.prototype.point=function(e,r,n){return new Xn(this,e,r,n)};qo.prototype.pointFromJSON=function(e,r){return Xn.fromJSON(this,e,r)};Xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xn.prototype.isInfinity=function(){return this.inf};Xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xn.prototype.getX=function(){return this.x.fromRed()};Xn.prototype.getY=function(){return this.y.fromRed()};Xn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function gi(t,e,r,n){Jd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}US(gi,Jd.BasePoint);qo.prototype.jpoint=function(e,r,n){return new gi(this,e,r,n)};gi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};gi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};gi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};gi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};gi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),E=g.redISub(b),A=m.redMul(E);A=A.redIAdd(A).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=A}return this.curve.jpoint(o,u.redMul(s),c)};gi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};gi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),E=h.redIAdd(h);E=E.redIAdd(E),E=E.redIAdd(E),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};gi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var E=d.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=m.redMul(g.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};gi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};gi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};gi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};gi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};gi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};gi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};gi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var nw=Y0(function(t,e){var r=e;r.base=Jd,r.short=X0e,r.mont=null,r.edwards=null}),iw=Y0(function(t,e){var r=e,n=eo.assert;function i(a){a.type==="short"?this.curve=new nw.short(a):a.type==="edwards"?this.curve=new nw.edwards(a):this.curve=new nw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Qu(t){if(!(this instanceof Qu))return new Qu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ha.toArray(t.entropy,t.entropyEnc||"hex"),r=Ha.toArray(t.nonce,t.nonceEnc||"hex"),n=Ha.toArray(t.pers,t.persEnc||"hex");MS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var P$=Qu;Qu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Qu.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};Qu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Qu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ha.toArray(e,r),n=Ha.toArray(n,i),MS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Qu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ha.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ha.encode(o,r)};var pC=eo.assert;function ki(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var $S=ki;ki.fromPublic=function(e,r,n){return r instanceof ki?r:new ki(e,{pub:r,pubEnc:n})};ki.fromPrivate=function(e,r,n){return r instanceof ki?r:new ki(e,{priv:r,privEnc:n})};ki.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ki.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ki.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ki.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ki.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?pC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&pC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ki.prototype.derive=function(e){return e.validate()||pC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ki.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ki.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ki.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Q0e=eo.assert;function J1(t,e){if(t instanceof J1)return t;this._importDER(t,e)||(Q0e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Y1=J1;function Z0e(){this.place=0}function Ax(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function pO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}J1.prototype._importDER=function(e,r){e=eo.toArray(e,r);var n=new Z0e;if(e[n.place++]!==48)return!1;var i=Ax(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Ax(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Ax(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function Cx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}J1.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=pO(r),n=pO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Cx(i,r.length),i=i.concat(r),i.push(2),Cx(i,n.length);var s=i.concat(n),o=[48];return Cx(o,s.length),o=o.concat(s),eo.encode(o,e)};var epe=(function(){throw new Error("unsupported")}),ed=eo.assert;function Uo(t){if(!(this instanceof Uo))return new Uo(t);typeof t=="string"&&(ed(Object.prototype.hasOwnProperty.call(iw,t),"Unknown curve "+t),t=iw[t]),t instanceof iw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var tpe=Uo;Uo.prototype.keyPair=function(e){return new $S(this,e)};Uo.prototype.keyFromPrivate=function(e,r){return $S.fromPrivate(this,e,r)};Uo.prototype.keyFromPublic=function(e,r){return $S.fromPublic(this,e,r)};Uo.prototype.genKeyPair=function(e){e||(e={});for(var r=new P$({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||epe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Uo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Uo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){ed(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ed(e.length>>>0===e.length);for(var s=0;s<e.length;s++)ed((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),ed(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);ed(new te(c).eq(e),"Can not sign message");for(var l=new P$({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var E=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),E^=1),new Y1({r:g,s:b,recoveryParam:E})}}}}}};Uo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new Y1(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Uo.prototype.recoverPubKey=function(t,e,r,n){ed((3&r)===r,"The recovery param is more than two bits"),e=new Y1(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Uo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Y1(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rpe=Y0(function(t,e){var r=e;r.version="6.6.1",r.utils=eo,r.rand=(function(){throw new Error("unsupported")}),r.curve=nw,r.curves=iw,r.ec=tpe,r.eddsa=null}),npe=rpe.ec;const ipe="signing-key/5.8.0",gC=new re(ipe);let Nx=null;function Su(){return Nx||(Nx=new npe("secp256k1")),Nx}let l0=class{constructor(e){ue(this,"curve","secp256k1"),ue(this,"privateKey",ye(e)),kd(this.privateKey)!==32&&gC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Su().keyFromPrivate(de(this.privateKey));ue(this,"publicKey","0x"+r.getPublic(!1,"hex")),ue(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ue(this,"_isSigningKey",!0)}_addPoint(e){const r=Su().keyFromPublic(de(this.publicKey)),n=Su().keyFromPublic(de(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Su().keyFromPrivate(de(this.privateKey)),n=de(e);n.length!==32&&gC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return G0({recoveryParam:i.recoveryParam,r:sr("0x"+i.r.toString(16),32),s:sr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Su().keyFromPrivate(de(this.privateKey)),n=Su().keyFromPublic(de(O$(e)));return sr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function spe(t,e){const r=G0(e),n={r:de(r.r),s:de(r.s)};return"0x"+Su().recoverPubKey(de(t),n,r.recoveryParam).encode("hex",!1)}function O$(t,e){const r=de(t);return r.length===32?new l0(r).publicKey:r.length===33?"0x"+Su().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ye(r):gC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ope="transactions/5.8.0",Pi=new re(ope);var gO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(gO||(gO={}));function LS(t){return t==="0x"?null:Yt(t)}function Ii(t){return t==="0x"?DS:ve.from(t)}const ape=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],cpe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Dl(t){const e=O$(t);return Yt(gn(zt(gn(e,1)),12))}function X1(t,e){return Dl(spe(de(t),e))}function Bs(t,e){const r=Ol(ve.from(t).toHexString());return r.length>32&&Pi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Sx(t,e){return{address:Yt(t),storageKeys:(e||[]).map((r,n)=>(kd(r)!==32&&Pi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function X0(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Pi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Sx(r[0],r[1])):Sx(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Sx(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function D$(t){return X0(t).map(e=>[e.address,e.storageKeys])}function k$(t,e){if(t.gasPrice!=null){const n=ve.from(t.gasPrice),i=ve.from(t.maxFeePerGas||0);n.eq(i)||Pi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Bs(t.chainId||0,"chainId"),Bs(t.nonce||0,"nonce"),Bs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Bs(t.maxFeePerGas||0,"maxFeePerGas"),Bs(t.gasLimit||0,"gasLimit"),t.to!=null?Yt(t.to):"0x",Bs(t.value||0,"value"),t.data||"0x",D$(t.accessList||[])];if(e){const n=G0(e);r.push(Bs(n.recoveryParam,"recoveryParam")),r.push(Ol(n.r)),r.push(Ol(n.s))}return Yi(["0x02",T0(r)])}function M$(t,e){const r=[Bs(t.chainId||0,"chainId"),Bs(t.nonce||0,"nonce"),Bs(t.gasPrice||0,"gasPrice"),Bs(t.gasLimit||0,"gasLimit"),t.to!=null?Yt(t.to):"0x",Bs(t.value||0,"value"),t.data||"0x",D$(t.accessList||[])];if(e){const n=G0(e);r.push(Bs(n.recoveryParam,"recoveryParam")),r.push(Ol(n.r)),r.push(Ol(n.s))}return Yi(["0x01",T0(r)])}function lpe(t,e){X7(t,cpe);const r=[];ape.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=de(ye(a,c)),o.length&&a.length!==o.length&&a.length>0&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Ol(a),a.length>o.maxLength&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(ye(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Pi.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!G1(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(ye(n)),r.push("0x"),r.push("0x")),!e)return T0(r);const i=G0(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(ye(s)),r.push(Ol(de(i.r))),r.push(Ol(de(i.s))),T0(r)}function mO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Pi.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),lpe(t,e);switch(t.type){case 1:return M$(t,e);case 2:return k$(t,e)}return Pi.throwError(`unsupported transaction type: ${t.type}`,re.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function U$(t,e,r){try{const n=Ii(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Pi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=sr(e[1],32),t.s=sr(e[2],32);try{const n=zt(r(t));t.from=X1(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function upe(t){const e=PS(t.slice(1));e.length!==9&&e.length!==12&&Pi.throwArgumentError("invalid component count for transaction type: 2","payload",ye(t));const r=Ii(e[2]),n=Ii(e[3]),i={type:2,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ii(e[4]),to:LS(e[5]),value:Ii(e[6]),data:e[7],accessList:X0(e[8])};return e.length===9||(i.hash=zt(t),U$(i,e.slice(9),k$)),i}function fpe(t){const e=PS(t.slice(1));e.length!==8&&e.length!==11&&Pi.throwArgumentError("invalid component count for transaction type: 1","payload",ye(t));const r={type:1,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),gasPrice:Ii(e[2]),gasLimit:Ii(e[3]),to:LS(e[4]),value:Ii(e[5]),data:e[6],accessList:X0(e[7])};return e.length===8||(r.hash=zt(t),U$(r,e.slice(8),M$)),r}function dpe(t){const e=PS(t);e.length!==9&&e.length!==6&&Pi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ii(e[0]).toNumber(),gasPrice:Ii(e[1]),gasLimit:Ii(e[2]),to:LS(e[3]),value:Ii(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ve.from(e[6]).toNumber()}catch{return r}if(r.r=sr(e[7],32),r.s=sr(e[8],32),ve.from(r.r).isZero()&&ve.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ye(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=zt(T0(i));try{r.from=X1(s,{r:ye(r.r),s:ye(r.s),recoveryParam:n})}catch{}r.hash=zt(t)}return r.type=null,r}function hpe(t){const e=de(t);if(e[0]>127)return dpe(e);switch(e[0]){case 1:return fpe(e);case 2:return upe(e)}return Pi.throwError(`unsupported transaction type: ${e[0]}`,re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const ppe="contracts/5.7.0";var Ud=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const nn=new re(ppe);function L_(t,e){return Ud(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&nn.throwArgumentError("invalid address or ENS name","name",r);try{return Yt(r)}catch{}t||nn.throwError("a provider or signer is needed to resolve ENS names",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&nn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function sw(t,e,r){return Ud(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>sw(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield L_(t,e):r.type==="tuple"?yield sw(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>sw(t,n,r.arrayChildren))):Promise.reject(nn.makeError("invalid value for array",re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Q1(t,e,r){return Ud(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Bn(r.pop())),nn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=rn({override:L_(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Ud(this,void 0,void 0,function*(){return Yt(l.signer)!==l.override&&nn.throwError("Contract with a Signer cannot override from",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=L_(t.provider,n.from));const i=yield rn({args:sw(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:rn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ve.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ve.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ve.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ve.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ve.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=X0(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=de(s);for(let f=0;f<u.length;f++)l+=4,u[f]&&(l+=64);o.gasLimit=ve.from(e.gas).add(l)}if(a.value){const l=ve.from(a.value);!l.isZero()&&!e.payable&&nn.throwError("non-payable method cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Bn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&nn.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function gpe(t,e){return function(...r){return Q1(t,e,r)}}function mpe(t,e){const r=t.signer||t.provider;return function(...n){return Ud(this,void 0,void 0,function*(){r||nn.throwError("estimate require a provider or signer",re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Q1(t,e,n);return yield r.estimateGas(i)})}}function ype(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Bl(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function $$(t,e,r){const n=t.signer||t.provider;return function(...i){return Ud(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Bn(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Q1(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===re.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function bpe(t,e){return function(...r){return Ud(this,void 0,void 0,function*(){t.signer||nn.throwError("sending a transaction requires a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Q1(t,e,r),i=yield t.signer.sendTransaction(n);return ype(t,i),i})}}function yO(t,e,r){return e.constant?$$(t,e,r):bpe(t,e)}function L$(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Um{constructor(e,r){ue(this,"tag",e),ue(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class wpe extends Um{constructor(){super("error",null)}}class bO extends Um{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&nn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(L$(s),s),ue(this,"address",e),ue(this,"interface",r),ue(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=_he(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class wO extends Um{constructor(e,r){super("*",{address:e}),ue(this,"address",e),ue(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class _pe{constructor(e,r,n){ue(this,"interface",Ns(new.target,"getInterface")(r)),n==null?(ue(this,"provider",null),ue(this,"signer",null)):J0.isSigner(n)?(ue(this,"provider",n.provider||null),ue(this,"signer",n)):Ny.isProvider(n)?(ue(this,"provider",n),ue(this,"signer",null)):nn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ue(this,"callStatic",{}),ue(this,"estimateGas",{}),ue(this,"functions",{}),ue(this,"populateTransaction",{}),ue(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ue(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ue(this.filters,a,this.filters[c[0]]):nn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ue(this,"_runningEvents",{}),ue(this,"_wrappedEmits",{}),e==null&&nn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ue(this,"address",e),this.provider)ue(this,"resolvedAddress",L_(this.provider,e));else try{ue(this,"resolvedAddress",Promise.resolve(Yt(e)))}catch{nn.throwError("provider is required to use ENS name as contract address",re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){nn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ue(this,o,yO(this,a,!0)),this.functions[o]==null&&ue(this.functions,o,yO(this,a,!1)),this.callStatic[o]==null&&ue(this.callStatic,o,$$(this,a,!0)),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,gpe(this,a)),this.estimateGas[o]==null&&ue(this.estimateGas,o,mpe(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ue(this,o,this[c])}catch{}this.functions[o]==null&&ue(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ue(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ue(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return i$(e)}static getInterface(e){return Z6.isInterface(e)?e:new Z6(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&nn.throwError("contract not deployed",re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||nn.throwError("sending a transactions require a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Bn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&nn.throwError("cannot override "+n,re.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new kS(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ue(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return hC.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new wpe);if(e==="event")return this._normalizeRunningEvent(new Um("event",null));if(e==="*")return this._normalizeRunningEvent(new wO(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new bO(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new bO(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Um(L$(r),r))}return this._normalizeRunningEvent(new wO(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Bl(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||nn.throwError("events require a provider or a signer with a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Bn(i.filter);return typeof r=="string"&&ht(r,32)?(n!=null&&nn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Fh extends _pe{}let F$=class{constructor(e){ue(this,"alphabet",e),ue(this,"base",e.length),ue(this,"_alphabetMap",{}),ue(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=de(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return de(new Uint8Array(r.reverse()))}};new F$("abcdefghijklmnopqrstuvwxyz234567");const $m=new F$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Lm;(function(t){t.sha256="sha256",t.sha512="sha512"})(Lm||(Lm={}));const Epe="sha2/5.8.0",vpe=new re(Epe);function xpe(t){return"0x"+Ye.ripemd160().update(de(t)).digest("hex")}function Zu(t){return"0x"+Ye.sha256().update(de(t)).digest("hex")}function F_(t,e,r){return Lm[t]||vpe.throwError("unsupported algorithm "+t,re.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],de(e)).update(de(r)).digest("hex")}function Ty(t,e,r,n,i){t=de(t),e=de(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=de(F_(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=de(F_(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(de(u).slice(0,m),h)}return ye(a)}const Ape="wordlists/5.8.0",Cpe=new re(Ape);let FS=class B${constructor(e){Cpe.checkAbstract(new.target,B$),ue(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return ja(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const Npe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Eg=null;function _O(t){if(Eg==null&&(Eg=Npe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),FS.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Eg=null,new Error("BIP39 Wordlist for en (English) FAILED")}let Spe=class extends FS{constructor(){super("en")}getWord(e){return _O(this),Eg[e]}getWordIndex(e){return _O(this),Eg.indexOf(e)}};const j$=new Spe;FS.register(j$);const EO={en:j$},Ipe="hdnode/5.8.0",B_=new re(Ipe),Tpe=ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Rpe=Xr("Bitcoin seed"),Cp=2147483648;function H$(t){return(1<<t)-1<<8-t}function Ppe(t){return(1<<t)-1}function Eb(t){return sr(ye(t),32)}function vO(t){return $m.encode(Gt([t,gn(Zu(Zu(t)),0,4)]))}function BS(t){if(t==null)return EO.en;if(typeof t=="string"){const e=EO[t];return e==null&&B_.throwArgumentError("unknown locale","wordlist",t),e}return t}const Eh={},ef="m/44'/60'/0'/0/0";let R0=class wu{constructor(e,r,n,i,s,o,a,c){if(e!==Eh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new l0(r);ue(this,"privateKey",l.privateKey),ue(this,"publicKey",l.compressedPublicKey)}else ue(this,"privateKey",null),ue(this,"publicKey",ye(n));ue(this,"parentFingerprint",i),ue(this,"fingerprint",gn(xpe(Zu(this.publicKey)),0,4)),ue(this,"address",Dl(this.publicKey)),ue(this,"chainCode",s),ue(this,"index",o),ue(this,"depth",a),c==null?(ue(this,"mnemonic",null),ue(this,"path",null)):typeof c=="string"?(ue(this,"mnemonic",null),ue(this,"path",c)):(ue(this,"mnemonic",c),ue(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return vO(Gt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ye(this.depth),this.parentFingerprint,sr(ye(this.index),4),this.chainCode,this.privateKey!=null?Gt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new wu(Eh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Cp));const n=new Uint8Array(37);if(e&Cp){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(de(this.privateKey),1),r&&(r+="'")}else n.set(de(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=de(F_(Lm.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Eb(ve.from(s).add(this.privateKey).mod(Tpe)):c=new l0(ye(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new wu(Eh,a,c,this.fingerprint,Eb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Cp)throw new Error("invalid path index - "+s);n=n._derive(Cp+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Cp)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=de(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=de(F_(Lm.sha512,Rpe,n));return new wu(Eh,Eb(i.slice(0,32)),null,"0x00000000",Eb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=BS(n),e=Z1(jS(e,n),n),wu._fromSeed(Ope(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return wu._fromSeed(e,null)}static fromExtendedKey(e){const r=$m.decode(e);(r.length!==82||vO(r.slice(0,78))!==e)&&B_.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ye(r.slice(5,9)),s=parseInt(ye(r.slice(9,13)).substring(2),16),o=ye(r.slice(13,45)),a=r.slice(45,78);switch(ye(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new wu(Eh,null,ye(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new wu(Eh,ye(a.slice(1)),null,i,o,s,n,null)}return B_.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Ope(t,e){e||(e="");const r=Xr("mnemonic"+e,jl.NFKD);return Ty(Xr(t,jl.NFKD),r,2048,64,"sha512")}function jS(t,e){e=BS(e),B_.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=de(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=H$(o);if((de(Zu(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ye(n.slice(0,s/8))}function Z1(t,e){if(e=BS(e),t=de(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Ppe(8-n)),n+=3);const i=t.length/4,s=de(Zu(t))[0]&H$(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const Dpe="random/5.8.0",mC=new re(Dpe);function kpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xO=kpe();let ow=xO.crypto||xO.msCrypto;(!ow||!ow.getRandomValues)&&(mC.warn("WARNING: Missing strong random number source"),ow={getRandomValues:function(t){return mC.throwError("no secure random source avaialble",re.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Nl(t){(t<=0||t>1024||t%1||t!=t)&&mC.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return ow.getRandomValues(e),de(e)}var Ix={exports:{}},AO;function Mpe(){return AO||(AO=1,(function(t,e){(function(r){function n(D){return parseInt(D)===D}function i(D){if(!n(D.length))return!1;for(var _=0;_<D.length;_++)if(!n(D[_])||D[_]<0||D[_]>255)return!1;return!0}function s(D,_){if(D.buffer&&ArrayBuffer.isView(D)&&D.name==="Uint8Array")return _&&(D.slice?D=D.slice():D=Array.prototype.slice.call(D)),D;if(Array.isArray(D)){if(!i(D))throw new Error("Array contains invalid value: "+D);return new Uint8Array(D)}if(n(D.length)&&i(D))return new Uint8Array(D);throw new Error("unsupported array-like object")}function o(D){return new Uint8Array(D)}function a(D,_,L,G,R){(G!=null||R!=null)&&(D.slice?D=D.slice(G,R):D=Array.prototype.slice.call(D,G,R)),_.set(D,L)}var c=(function(){function D(L){var G=[],R=0;for(L=encodeURI(L);R<L.length;){var V=L.charCodeAt(R++);V===37?(G.push(parseInt(L.substr(R,2),16)),R+=2):G.push(V)}return s(G)}function _(L){for(var G=[],R=0;R<L.length;){var V=L[R];V<128?(G.push(String.fromCharCode(V)),R++):V>191&&V<224?(G.push(String.fromCharCode((V&31)<<6|L[R+1]&63)),R+=2):(G.push(String.fromCharCode((V&15)<<12|(L[R+1]&63)<<6|L[R+2]&63)),R+=3)}return G.join("")}return{toBytes:D,fromBytes:_}})(),l=(function(){function D(G){for(var R=[],V=0;V<G.length;V+=2)R.push(parseInt(G.substr(V,2),16));return R}var _="0123456789abcdef";function L(G){for(var R=[],V=0;V<G.length;V++){var K=G[V];R.push(_[(K&240)>>4]+_[K&15])}return R.join("")}return{toBytes:D,fromBytes:L}})(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],E=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],A=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],P=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],F=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],N=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],v=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M(D){for(var _=[],L=0;L<D.length;L+=4)_.push(D[L]<<24|D[L+1]<<16|D[L+2]<<8|D[L+3]);return _}var $=function(D){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(D,!0)}),this._prepare()};$.prototype._prepare=function(){var D=u[this.key.length];if(D==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var _=0;_<=D;_++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(D+1)*4,G=this.key.length/4,R=M(this.key),V,_=0;_<G;_++)V=_>>2,this._Ke[V][_%4]=R[_],this._Kd[D-V][_%4]=R[_];for(var K=0,X=G,Q;X<L;){if(Q=R[G-1],R[0]^=d[Q>>16&255]<<24^d[Q>>8&255]<<16^d[Q&255]<<8^d[Q>>24&255]^f[K]<<24,K+=1,G!=8)for(var _=1;_<G;_++)R[_]^=R[_-1];else{for(var _=1;_<G/2;_++)R[_]^=R[_-1];Q=R[G/2-1],R[G/2]^=d[Q&255]^d[Q>>8&255]<<8^d[Q>>16&255]<<16^d[Q>>24&255]<<24;for(var _=G/2+1;_<G;_++)R[_]^=R[_-1]}for(var _=0,ie,le;_<G&&X<L;)ie=X>>2,le=X%4,this._Ke[ie][le]=R[_],this._Kd[D-ie][le]=R[_++],X++}for(var ie=1;ie<D;ie++)for(var le=0;le<4;le++)Q=this._Kd[ie][le],this._Kd[ie][le]=k[Q>>24&255]^F[Q>>16&255]^N[Q>>8&255]^v[Q&255]},$.prototype.encrypt=function(D){if(D.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var _=this._Ke.length-1,L=[0,0,0,0],G=M(D),R=0;R<4;R++)G[R]^=this._Ke[0][R];for(var V=1;V<_;V++){for(var R=0;R<4;R++)L[R]=m[G[R]>>24&255]^g[G[(R+1)%4]>>16&255]^b[G[(R+2)%4]>>8&255]^E[G[(R+3)%4]&255]^this._Ke[V][R];G=L.slice()}for(var K=o(16),X,R=0;R<4;R++)X=this._Ke[_][R],K[4*R]=(d[G[R]>>24&255]^X>>24)&255,K[4*R+1]=(d[G[(R+1)%4]>>16&255]^X>>16)&255,K[4*R+2]=(d[G[(R+2)%4]>>8&255]^X>>8)&255,K[4*R+3]=(d[G[(R+3)%4]&255]^X)&255;return K},$.prototype.decrypt=function(D){if(D.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var _=this._Kd.length-1,L=[0,0,0,0],G=M(D),R=0;R<4;R++)G[R]^=this._Kd[0][R];for(var V=1;V<_;V++){for(var R=0;R<4;R++)L[R]=A[G[R]>>24&255]^S[G[(R+3)%4]>>16&255]^T[G[(R+2)%4]>>8&255]^P[G[(R+1)%4]&255]^this._Kd[V][R];G=L.slice()}for(var K=o(16),X,R=0;R<4;R++)X=this._Kd[_][R],K[4*R]=(h[G[R]>>24&255]^X>>24)&255,K[4*R+1]=(h[G[(R+3)%4]>>16&255]^X>>16)&255,K[4*R+2]=(h[G[(R+2)%4]>>8&255]^X>>8)&255,K[4*R+3]=(h[G[(R+1)%4]&255]^X)&255;return K};var O=function(D){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(D)};O.prototype.encrypt=function(D){if(D=s(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=o(D.length),L=o(16),G=0;G<D.length;G+=16)a(D,L,0,G,G+16),L=this._aes.encrypt(L),a(L,_,G);return _},O.prototype.decrypt=function(D){if(D=s(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=o(D.length),L=o(16),G=0;G<D.length;G+=16)a(D,L,0,G,G+16),L=this._aes.decrypt(L),a(L,_,G);return _};var C=function(D,_){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(_,!0),this._aes=new $(D)};C.prototype.encrypt=function(D){if(D=s(D),D.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var _=o(D.length),L=o(16),G=0;G<D.length;G+=16){a(D,L,0,G,G+16);for(var R=0;R<16;R++)L[R]^=this._lastCipherblock[R];this._lastCipherblock=this._aes.encrypt(L),a(this._lastCipherblock,_,G)}return _},C.prototype.decrypt=function(D){if(D=s(D),D.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var _=o(D.length),L=o(16),G=0;G<D.length;G+=16){a(D,L,0,G,G+16),L=this._aes.decrypt(L);for(var R=0;R<16;R++)_[G+R]=L[R]^this._lastCipherblock[R];a(D,this._lastCipherblock,0,G,G+16)}return _};var p=function(D,_,L){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=s(_,!0),this._aes=new $(D)};p.prototype.encrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var _=s(D,!0),L,G=0;G<_.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var R=0;R<this.segmentSize;R++)_[G+R]^=L[R];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(_,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _},p.prototype.decrypt=function(D){if(D.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var _=s(D,!0),L,G=0;G<_.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var R=0;R<this.segmentSize;R++)_[G+R]^=L[R];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(D,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return _};var y=function(D,_){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!_)_=o(16);else if(_.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(_,!0),this._lastPrecipherIndex=16,this._aes=new $(D)};y.prototype.encrypt=function(D){for(var _=s(D,!0),L=0;L<_.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),_[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return _},y.prototype.decrypt=y.prototype.encrypt;var w=function(D){if(!(this instanceof w))throw Error("Counter must be instanitated with `new`");D!==0&&!D&&(D=1),typeof D=="number"?(this._counter=o(16),this.setValue(D)):this.setBytes(D)};w.prototype.setValue=function(D){if(typeof D!="number"||parseInt(D)!=D)throw new Error("invalid counter value (must be an integer)");for(var _=15;_>=0;--_)this._counter[_]=D%256,D=D>>8},w.prototype.setBytes=function(D){if(D=s(D,!0),D.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=D},w.prototype.increment=function(){for(var D=15;D>=0;D--)if(this._counter[D]===255)this._counter[D]=0;else{this._counter[D]++;break}};var x=function(D,_){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",_ instanceof w||(_=new w(_)),this._counter=_,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(D)};x.prototype.encrypt=function(D){for(var _=s(D,!0),L=0;L<_.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),_[L]^=this._remainingCounter[this._remainingCounterIndex++];return _},x.prototype.decrypt=x.prototype.encrypt;function I(D){D=s(D,!0);var _=16-D.length%16,L=o(D.length+_);a(D,L);for(var G=D.length;G<L.length;G++)L[G]=_;return L}function U(D){if(D=s(D,!0),D.length<16)throw new Error("PKCS#7 invalid length");var _=D[D.length-1];if(_>16)throw new Error("PKCS#7 padding byte out of range");for(var L=D.length-_,G=0;G<_;G++)if(D[L+G]!==_)throw new Error("PKCS#7 invalid padding byte");var R=o(L);return a(D,R,0,0,L),R}var B={AES:$,Counter:w,ModeOfOperation:{ecb:O,cbc:C,cfb:p,ofb:y,ctr:x},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:I,strip:U}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=B})()})(Ix)),Ix.exports}var Upe=Mpe();const mn=Rs(Upe),W$="json-wallets/5.8.0";function bd(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Np(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function HS(t){return typeof t=="string"?Xr(t,jl.NFKC):de(t)}function sn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function $pe(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Lpe=new re(W$);let Fpe=class extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function q$(t,e){const r=JSON.parse(t);e=HS(e);const n=Yt(sn(r,"ethaddr")),i=bd(sn(r,"encseed"));(!i||i.length%16!==0)&&Lpe.throwArgumentError("invalid encseed","json",t);const s=de(Ty(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new mn.ModeOfOperation.cbc(s,o),l=mn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Xr(u),d=zt(f);return new Fpe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function z$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function G$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var Tx={exports:{}},CO;function Bpe(){return CO||(CO=1,(function(t,e){(function(r){function i(g){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let E=1779033703,A=3144134277,S=1013904242,T=2773480762,P=1359893119,k=2600822924,F=528734635,N=1541459225;const v=new Uint32Array(64);function M(x){let I=0,U=x.length;for(;U>=64;){let B=E,D=A,_=S,L=T,G=P,R=k,V=F,K=N,X,Q,ie,le,H;for(Q=0;Q<16;Q++)ie=I+Q*4,v[Q]=(x[ie]&255)<<24|(x[ie+1]&255)<<16|(x[ie+2]&255)<<8|x[ie+3]&255;for(Q=16;Q<64;Q++)X=v[Q-2],le=(X>>>17|X<<15)^(X>>>19|X<<13)^X>>>10,X=v[Q-15],H=(X>>>7|X<<25)^(X>>>18|X<<14)^X>>>3,v[Q]=(le+v[Q-7]|0)+(H+v[Q-16]|0)|0;for(Q=0;Q<64;Q++)le=(((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&R^~G&V)|0)+(K+(b[Q]+v[Q]|0)|0)|0,H=((B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10))+(B&D^B&_^D&_)|0,K=V,V=R,R=G,G=L+le|0,L=_,_=D,D=B,B=le+H|0;E=E+B|0,A=A+D|0,S=S+_|0,T=T+L|0,P=P+G|0,k=k+R|0,F=F+V|0,N=N+K|0,I+=64,U-=64}}M(g);let $,O=g.length%64,C=g.length/536870912|0,p=g.length<<3,y=O<56?56:120,w=g.slice(g.length-O,g.length);for(w.push(128),$=O+1;$<y;$++)w.push(0);return w.push(C>>>24&255),w.push(C>>>16&255),w.push(C>>>8&255),w.push(C>>>0&255),w.push(p>>>24&255),w.push(p>>>16&255),w.push(p>>>8&255),w.push(p>>>0&255),M(w),[E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255]}function s(g,b,E){g=g.length<=64?g:i(g);const A=64+b.length+4,S=new Array(A),T=new Array(64);let P,k=[];for(P=0;P<64;P++)S[P]=54;for(P=0;P<g.length;P++)S[P]^=g[P];for(P=0;P<b.length;P++)S[64+P]=b[P];for(P=A-4;P<A;P++)S[P]=0;for(P=0;P<64;P++)T[P]=92;for(P=0;P<g.length;P++)T[P]^=g[P];function F(){for(let N=A-1;N>=A-4;N--){if(S[N]++,S[N]<=255)return;S[N]=0}}for(;E>=32;)F(),k=k.concat(i(T.concat(i(S)))),E-=32;return E>0&&(F(),k=k.concat(i(T.concat(i(S))).slice(0,E))),k}function o(g,b,E,A,S){let T;for(u(g,(2*E-1)*16,S,0,16),T=0;T<2*E;T++)l(g,T*16,S,16),c(S,A),u(S,0,g,b+T*16,16);for(T=0;T<E;T++)u(g,b+T*2*16,g,T*16,16);for(T=0;T<E;T++)u(g,b+(T*2+1)*16,g,(T+E)*16,16)}function a(g,b){return g<<b|g>>>32-b}function c(g,b){u(g,0,b,0,16);for(let E=8;E>0;E-=2)b[4]^=a(b[0]+b[12],7),b[8]^=a(b[4]+b[0],9),b[12]^=a(b[8]+b[4],13),b[0]^=a(b[12]+b[8],18),b[9]^=a(b[5]+b[1],7),b[13]^=a(b[9]+b[5],9),b[1]^=a(b[13]+b[9],13),b[5]^=a(b[1]+b[13],18),b[14]^=a(b[10]+b[6],7),b[2]^=a(b[14]+b[10],9),b[6]^=a(b[2]+b[14],13),b[10]^=a(b[6]+b[2],18),b[3]^=a(b[15]+b[11],7),b[7]^=a(b[3]+b[15],9),b[11]^=a(b[7]+b[3],13),b[15]^=a(b[11]+b[7],18),b[1]^=a(b[0]+b[3],7),b[2]^=a(b[1]+b[0],9),b[3]^=a(b[2]+b[1],13),b[0]^=a(b[3]+b[2],18),b[6]^=a(b[5]+b[4],7),b[7]^=a(b[6]+b[5],9),b[4]^=a(b[7]+b[6],13),b[5]^=a(b[4]+b[7],18),b[11]^=a(b[10]+b[9],7),b[8]^=a(b[11]+b[10],9),b[9]^=a(b[8]+b[11],13),b[10]^=a(b[9]+b[8],18),b[12]^=a(b[15]+b[14],7),b[13]^=a(b[12]+b[15],9),b[14]^=a(b[13]+b[12],13),b[15]^=a(b[14]+b[13],18);for(let E=0;E<16;++E)g[E]+=b[E]}function l(g,b,E,A){for(let S=0;S<A;S++)E[S]^=g[b+S]}function u(g,b,E,A,S){for(;S--;)E[A++]=g[b++]}function f(g){if(!g||typeof g.length!="number")return!1;for(let b=0;b<g.length;b++){const E=g[b];if(typeof E!="number"||E%1||E<0||E>=256)return!1}return!0}function d(g,b){if(typeof g!="number"||g%1)throw new Error("invalid "+b);return g}function h(g,b,E,A,S,T,P){if(E=d(E,"N"),A=d(A,"r"),S=d(S,"p"),T=d(T,"dkLen"),E===0||(E&E-1)!==0)throw new Error("N must be power of 2");if(E>2147483647/128/A)throw new Error("N too large");if(A>2147483647/128/S)throw new Error("r too large");if(!f(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!f(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let k=s(g,b,S*128*A);const F=new Uint32Array(S*32*A);for(let G=0;G<F.length;G++){const R=G*4;F[G]=(k[R+3]&255)<<24|(k[R+2]&255)<<16|(k[R+1]&255)<<8|(k[R+0]&255)<<0}const N=new Uint32Array(64*A),v=new Uint32Array(32*A*E),M=32*A,$=new Uint32Array(16),O=new Uint32Array(16),C=S*E*2;let p=0,y=null,w=!1,x=0,I=0,U,B;const D=P?parseInt(1e3/A):4294967295,_=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(w)return P(new Error("cancelled"),p/C);let G;switch(x){case 0:B=I*32*A,u(F,B,N,0,M),x=1,U=0;case 1:G=E-U,G>D&&(G=D);for(let V=0;V<G;V++)u(N,0,v,(U+V)*M,M),o(N,M,A,$,O);if(U+=G,p+=G,P){const V=parseInt(1e3*p/C);if(V!==y){if(w=P(null,p/C),w)break;y=V}}if(U<E)break;U=0,x=2;case 2:G=E-U,G>D&&(G=D);for(let V=0;V<G;V++){const K=(2*A-1)*16,X=N[K]&E-1;l(v,X*M,N,M),o(N,M,A,$,O)}if(U+=G,p+=G,P){const V=parseInt(1e3*p/C);if(V!==y){if(w=P(null,p/C),w)break;y=V}}if(U<E)break;if(u(N,0,F,B,M),I++,I<S){x=0;break}k=[];for(let V=0;V<F.length;V++)k.push(F[V]>>0&255),k.push(F[V]>>8&255),k.push(F[V]>>16&255),k.push(F[V]>>24&255);const R=s(g,k,T);return P&&P(null,1,R),R}P&&_(L)};if(!P)for(;;){const G=L();if(G!=null)return G}L()}const m={scrypt:function(g,b,E,A,S,T,P){return new Promise(function(k,F){let N=0;P&&P(0),h(g,b,E,A,S,T,function(v,M,$){if(v)F(v);else if($)P&&N!==1&&P(1),k(new Uint8Array($));else if(P&&M!==N)return N=M,P(M)})})},syncScrypt:function(g,b,E,A,S,T){return new Uint8Array(h(g,b,E,A,S,T))}};t.exports=m})()})(Tx)),Tx.exports}var jpe=Bpe();const Q0=Rs(jpe);var Hpe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const yC=new re(W$);function NO(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let Wpe=class extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function qpe(t,e,r){if(sn(t,"crypto/cipher")==="aes-128-ctr"){const i=bd(sn(t,"crypto/cipherparams/iv")),s=new mn.Counter(i),o=new mn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function K$(t,e){const r=bd(sn(t,"crypto/ciphertext"));if(ye(zt(Gt([e.slice(16,32),r]))).substring(2)!==sn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=qpe(t,e.slice(0,16),r);i||yC.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Dl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Yt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(sn(t,"x-ethers/version")==="0.1"){const c=bd(sn(t,"x-ethers/mnemonicCiphertext")),l=bd(sn(t,"x-ethers/mnemonicCounter")),u=new mn.Counter(l),f=new mn.ModeOfOperation.ctr(s,u),d=sn(t,"x-ethers/path")||ef,h=sn(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=Z1(m,h),b=R0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Wpe(a)}function V$(t,e,r,n,i){return de(Ty(t,e,r,n,i))}function zpe(t,e,r,n,i){return Promise.resolve(V$(t,e,r,n,i))}function J$(t,e,r,n,i){const s=HS(e),o=sn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return yC.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=bd(sn(t,"crypto/kdfparams/salt")),l=parseInt(sn(t,"crypto/kdfparams/n")),u=parseInt(sn(t,"crypto/kdfparams/r")),f=parseInt(sn(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=bd(sn(t,"crypto/kdfparams/salt"));let l=null;const u=sn(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(sn(t,"crypto/kdfparams/c")),d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return yC.throwArgumentError("unsupported key-derivation function","kdf",o)}function Gpe(t,e){const r=JSON.parse(t),n=J$(r,e,V$,Q0.syncScrypt);return K$(r,n)}function Kpe(t,e,r){return Hpe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield J$(n,e,zpe,Q0.scrypt,r);return K$(n,i)})}function Vpe(t,e,r,n){try{if(Yt(t.address)!==Dl(t.privateKey))throw new Error("address/privateKey mismatch");if(NO(t)){const b=t.mnemonic;if(R0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||ef).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=HS(e);let o=null,a=null,c=null;if(NO(t)){const b=t.mnemonic;o=de(jS(b.phrase,b.locale||"en")),a=b.path||ef,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Nl(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Nl(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Nl(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Q0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const E=b.slice(0,16),A=b.slice(16,32),S=b.slice(32,64),T=new mn.Counter(f),P=new mn.ModeOfOperation.ctr(E,T),k=de(P.encrypt(i)),F=zt(Gt([A,k])),N={address:t.address.substring(2).toLowerCase(),id:$pe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=Nl(16),M=new mn.Counter(v),$=new mn.ModeOfOperation.ctr(S,M),O=de($.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Np(C.getUTCMonth()+1,2)+"-"+Np(C.getUTCDate(),2)+"T"+Np(C.getUTCHours(),2)+"-"+Np(C.getUTCMinutes(),2)+"-"+Np(C.getUTCSeconds(),2)+".0Z";N["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+N.address,mnemonicCounter:ye(v).substring(2),mnemonicCiphertext:ye(O).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(N)})}function Jpe(t,e,r){if(z$(t)){r&&r(0);const n=q$(t,e);return r&&r(1),Promise.resolve(n)}return G$(t)?Kpe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Ype(t,e){if(z$(t))return q$(t,e);if(G$(t))return Gpe(t,e);throw new Error("invalid JSON wallet")}const Xpe="wallet/5.7.0";var SO=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const vh=new re(Xpe);function Qpe(t){return t!=null&&ht(t.privateKey,32)&&t.address!=null}function Zpe(t){const e=t.mnemonic;return e&&e.phrase}class td extends J0{constructor(e,r){if(super(),Qpe(e)){const n=new l0(e.privateKey);if(ue(this,"_signingKey",()=>n),ue(this,"address",Dl(this.publicKey)),this.address!==Yt(e.address)&&vh.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Zpe(e)){const i=e.mnemonic;ue(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||ef,locale:i.locale||"en"}));const s=this.mnemonic,o=R0.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Dl(o.privateKey)!==this.address&&vh.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ue(this,"_mnemonic",()=>null)}else{if(l0.isSigningKey(e))e.curve!=="secp256k1"&&vh.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ue(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new l0(e);ue(this,"_signingKey",()=>n)}ue(this,"_mnemonic",()=>null),ue(this,"address",Dl(this.publicKey))}r&&!Ny.isProvider(r)&&vh.throwArgumentError("invalid provider","provider",r),ue(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new td(this,e)}signTransaction(e){return rn(e).then(r=>{r.from!=null&&(Yt(r.from)!==this.address&&vh.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(zt(mO(r)));return mO(r,n)})}signMessage(e){return SO(this,void 0,void 0,function*(){return O6(this._signingKey().signDigest(x$(e)))})}_signTypedData(e,r,n){return SO(this,void 0,void 0,function*(){const i=yield Mm.resolveNames(e,r,n,s=>(this.provider==null&&vh.throwError("cannot resolve ENS names without a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return O6(this._signingKey().signDigest(Mm.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Vpe(this,e,r,n)}static createRandom(e){let r=Nl(16);e||(e={}),e.extraEntropy&&(r=de(gn(zt(Gt([r,e.extraEntropy])),0,16)));const n=Z1(r,e.locale);return td.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Jpe(e,r,n).then(i=>new td(i))}static fromEncryptedJsonSync(e,r){return new td(Ype(e,r))}static fromMnemonic(e,r,n){return r||(r=ef),new td(R0.fromMnemonic(e,null,n).derivePath(r))}}function ege(t,e){return X1(x$(t),e)}function tge(t,e,r,n){return X1(Mm.hash(t,e,r),n)}const rge=Object.freeze(Object.defineProperty({__proto__:null,Wallet:td,verifyMessage:ege,verifyTypedData:tge},Symbol.toStringTag,{value:"Module"})),nge="networks/5.8.0",IO=new re(nge);function ige(t){return t&&typeof t.renetwork=="function"}function ma(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return ma(r)},e}function j_(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return j_(t,n)},r}const TO={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ma("homestead")},RO={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ma("ropsten")},PO={chainId:63,name:"classicMordor",_defaultProvider:j_("https://www.ethercluster.com/mordor","classicMordor")},vb={unspecified:{chainId:0,name:"unspecified"},homestead:TO,mainnet:TO,morden:{chainId:2,name:"morden"},ropsten:RO,testnet:RO,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ma("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ma("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ma("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ma("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ma("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:j_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:PO,classicTestnet:PO,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:j_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ma("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ma("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ma("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function sge(t){if(t==null)return null;if(typeof t=="number"){for(const n in vb){const i=vb[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=vb[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=vb[t.name];if(!e)return typeof t.chainId!="number"&&IO.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&IO.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(ige(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const oge="web/5.8.0";var age=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function cge(t,e){return age(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:de(new Uint8Array(i))}})}var lge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const aa=new re(oge);function OO(t){return new Promise(e=>{setTimeout(e,t)})}function du(t,e){if(t==null)return null;if(typeof t=="string")return t;if(G1(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return V0(t)}catch{}return ye(t)}return t}function uge(t){return Xr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function fge(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;aa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;aa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&aa.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const E in t.headers)a[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&aa.throwError("basic authentication requires a secure https url",re.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+m$(Xr(E))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Bn(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?g$(h[3]):uge(h[3])};let A=E.body;return r&&(A=r(E.body,E)),Promise.resolve(A)}catch(E){aa.throwError("processing response error",re.errors.SERVER_ERROR,{body:du(h[1],h[2]),error:E,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(E=>{const A=a[E];m[A.key]=A.value}),l.headers=m;const g=(function(){let E=null;return{promise:new Promise(function(T,P){f&&(E=setTimeout(()=>{E!=null&&(E=null,P(aa.makeError("timeout",re.errors.TIMEOUT,{requestBody:du(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}})(),b=(function(){return lge(this,void 0,void 0,function*(){for(let E=0;E<n;E++){let A=null;try{if(A=yield cge(c,l),E<n){if(A.statusCode===301||A.statusCode===302){const T=A.headers.location||"";if(l.method==="GET"&&T.match(/^https:/)){c=A.headers.location;continue}}else if(A.statusCode===429){let T=!0;if(i&&(T=yield i(E,c)),T){let P=0;const k=A.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?P=parseInt(k)*1e3:P=s*parseInt(String(Math.random()*Math.pow(2,E))),yield OO(P);continue}}}}catch(T){A=T.response,A==null&&(g.cancel(),aa.throwError("missing response",re.errors.SERVER_ERROR,{requestBody:du(l.body,m["content-type"]),requestMethod:l.method,serverError:T,url:c}))}let S=A.body;if(u&&A.statusCode===304?S=null:!o&&(A.statusCode<200||A.statusCode>=300)&&(g.cancel(),aa.throwError("bad response",re.errors.SERVER_ERROR,{status:A.statusCode,headers:A.headers,body:du(S,A.headers?A.headers["content-type"]:null),requestBody:du(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const T=yield r(S,A);return g.cancel(),T}catch(T){if(T.throttleRetry&&E<n){let P=!0;if(i&&(P=yield i(E,c)),P){const k=s*parseInt(String(Math.random()*Math.pow(2,E)));yield OO(k);continue}}g.cancel(),aa.throwError("processing response error",re.errors.SERVER_ERROR,{body:du(S,A.headers?A.headers["content-type"]:null),error:T,requestBody:du(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return aa.throwError("failed response",re.errors.SERVER_ERROR,{requestBody:du(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function WS(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(V0(s))}catch(c){aa.throwError("invalid JSON",re.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Xr(e);const s=typeof t=="string"?{url:t}:Bn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Bn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return fge(t,i,n)}function zp(t,e){return e||(e={}),e=Bn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}var Rx,DO;function dge(){if(DO)return Rx;DO=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(g){var b=g>>25;return(g&33554431)<<5^-(b>>0&1)&996825010^-(b>>1&1)&642813549^-(b>>2&1)&513874426^-(b>>3&1)&1027748829^-(b>>4&1)&705979059}function s(g){for(var b=1,E=0;E<g.length;++E){var A=g.charCodeAt(E);if(A<33||A>126)return"Invalid prefix ("+g+")";b=i(b)^A>>5}for(b=i(b),E=0;E<g.length;++E){var S=g.charCodeAt(E);b=i(b)^S&31}return b}function o(g,b,E){if(E=E||90,g.length+7+b.length>E)throw new TypeError("Exceeds length limit");g=g.toLowerCase();var A=s(g);if(typeof A=="string")throw new Error(A);for(var S=g+"1",T=0;T<b.length;++T){var P=b[T];if(P>>5!==0)throw new Error("Non 5-bit word");A=i(A)^P,S+=t.charAt(P)}for(T=0;T<6;++T)A=i(A);for(A^=1,T=0;T<6;++T){var k=A>>(5-T)*5&31;S+=t.charAt(k)}return S}function a(g,b){if(b=b||90,g.length<8)return g+" too short";if(g.length>b)return"Exceeds length limit";var E=g.toLowerCase(),A=g.toUpperCase();if(g!==E&&g!==A)return"Mixed-case string "+g;g=E;var S=g.lastIndexOf("1");if(S===-1)return"No separator character for "+g;if(S===0)return"Missing prefix for "+g;var T=g.slice(0,S),P=g.slice(S+1);if(P.length<6)return"Data too short";var k=s(T);if(typeof k=="string")return k;for(var F=[],N=0;N<P.length;++N){var v=P.charAt(N),M=e[v];if(M===void 0)return"Unknown character "+v;k=i(k)^M,!(N+6>=P.length)&&F.push(M)}return k!==1?"Invalid checksum for "+g:{prefix:T,words:F}}function c(){var g=a.apply(null,arguments);if(typeof g=="object")return g}function l(g){var b=a.apply(null,arguments);if(typeof b=="object")return b;throw new Error(b)}function u(g,b,E,A){for(var S=0,T=0,P=(1<<E)-1,k=[],F=0;F<g.length;++F)for(S=S<<b|g[F],T+=b;T>=E;)T-=E,k.push(S>>T&P);if(A)T>0&&k.push(S<<E-T&P);else{if(T>=b)return"Excess padding";if(S<<E-T&P)return"Non-zero padding"}return k}function f(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b}function d(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b;throw new Error(b)}function h(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b}function m(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b;throw new Error(b)}return Rx={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:f,toWords:d,fromWordsUnsafe:h,fromWords:m},Rx}var hge=dge();const kO=Rs(hge),eE="providers/5.7.2",Sp=new re(eE);class Fe{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:Fe.allowNull(this.accessList.bind(this),null),blockHash:Fe.allowNull(o,null),blockNumber:Fe.allowNull(c,null),transactionIndex:Fe.allowNull(c,null),confirmations:Fe.allowNull(c,null),from:r,gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),gasLimit:n,to:Fe.allowNull(r,null),value:n,nonce:c,data:s,r:Fe.allowNull(this.uint256),s:Fe.allowNull(this.uint256),v:Fe.allowNull(c),creates:Fe.allowNull(r,null),raw:Fe.allowNull(s)},e.transactionRequest={from:Fe.allowNull(r),nonce:Fe.allowNull(c),gasLimit:Fe.allowNull(n),gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),to:Fe.allowNull(r),value:Fe.allowNull(n),data:Fe.allowNull(u),type:Fe.allowNull(c),accessList:Fe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Fe.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Fe.allowNull(this.address,null),from:Fe.allowNull(this.address,null),contractAddress:Fe.allowNull(r,null),transactionIndex:c,root:Fe.allowNull(a),gasUsed:n,logsBloom:Fe.allowNull(s),blockHash:o,transactionHash:o,logs:Fe.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Fe.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Fe.allowNull(n),status:Fe.allowNull(c),type:l},e.block={hash:Fe.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Fe.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Fe.allowNull(r),extraData:s,transactions:Fe.allowNull(Fe.arrayOf(o)),baseFeePerGas:Fe.allowNull(n)},e.blockWithTransactions=Bn(e.block),e.blockWithTransactions.transactions=Fe.allowNull(Fe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Fe.allowNull(i,void 0),toBlock:Fe.allowNull(i,void 0),blockHash:Fe.allowNull(o,void 0),address:Fe.allowNull(r,void 0),topics:Fe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Fe.allowNull(c),blockHash:Fe.allowNull(o),transactionIndex:c,removed:Fe.allowNull(this.boolean.bind(this)),address:r,data:Fe.allowFalsish(s,"0x"),topics:Fe.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return X0(e||[])}number(e){return e==="0x"?0:ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ve.from(e).toNumber()}bigNumber(e){return ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ht(e))?e.toLowerCase():Sp.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Yt(e)}callAddress(e){if(!ht(e,32))return null;const r=Yt(gn(e,12));return r===Uhe?null:r}contractAddress(e){return i$(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ht(e))return IS(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return kd(n)!==32?Sp.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ve.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ht(e))throw new Error("invalid uint256");return sr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Fe.check(r,e);return i._difficulty=n==null?null:ve.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Fe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Fe.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ht(n)&&(n=ve.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ht(n)&&(n=ve.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return hpe(e)}receiptLog(e){return Fe.check(this.formats.receiptLog,e)}receipt(e){const r=Fe.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ve.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Sp.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Sp.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Sp.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Fe.check(this.formats.filter,e)}filterLog(e){return Fe.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var et=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ut=new re(eE),pge=10;function MO(t){return t==null?"null":(kd(t)!==32&&ut.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function UO(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[MO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return MO(e)}).join("&")}function gge(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function xh(t){if(typeof t=="string"){if(t=t.toLowerCase(),kd(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+UO(t);if(M0e.isForkEvent(t))throw ut.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+UO(t.topics||[])}throw new Error("invalid event - "+t)}function Ip(){return new Date().getTime()}function $O(t){return new Promise(e=>{setTimeout(e,t)})}const mge=["block","network","pending","poll"];let yge=class{constructor(e,r,n){ue(this,"tag",e),ue(this,"listener",r),ue(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=gge(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||mge.indexOf(this.tag)>=0}};const bge={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Px(t){return sr(ve.from(t).toHexString(),32)}function LO(t){return $m.encode(Gt([t,gn(Zu(Zu(t)),0,4)]))}const Y$=new RegExp("^(ipfs)://(.*)$","i"),FO=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Y$,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function aw(t,e){try{return V0(Fm(t,e))}catch{}return null}function Fm(t,e){if(t==="0x")return null;const r=ve.from(gn(t,e,e+32)).toNumber(),n=ve.from(gn(t,r,r+32)).toNumber();return gn(t,r+32,r+32+n)}function Ox(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ut.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function BO(t){const e=de(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function wge(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function X$(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=de(t[n]);e[n]=BO(r),e.push(BO(i.length)),e.push(wge(i)),r+=32+Math.ceil(i.length/32)*32}return Yi(e)}class jO{constructor(e,r,n,i){ue(this,"provider",e),ue(this,"name",n),ue(this,"address",e.formatter.address(r)),ue(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ve.from(e).eq(1)).catch(e=>{if(e.code===re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return et(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Yi([e,rw(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Yi(["0x9061b923",X$([w0e(this.name),n.data])]));try{let s=yield this.provider.call(n);return de(s).length%32===4&&ut.throwError("resolver threw error",re.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Fm(s,0)),s}catch(s){if(s.code===re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return et(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Fm(n,0):null})}_getAddress(e,r){const n=bge[String(e)];if(n==null&&ut.throwError(`unsupported coin type: ${e}`,re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=de(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return LO(Gt([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return LO(Gt([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=kO.toWords(i.slice(2));return a.unshift(o),kO.encode(n.prefix,a)}}return null}getAddress(e){return et(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===$he?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===re.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Px(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ut.throwError("invalid or unsupported coin data",re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return et(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<FO.length;n++){const i=r.match(FO[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Ox(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=sr(ve.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Yi(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=ve.from(yield this.provider.call({to:l,data:Yi(["0x00fdd58e",sr(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const f={to:this.provider.formatter.address(c[0]),data:Yi([o,u])};let d=aw(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),s==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Ox(d)),e.push({type:"metadata-url",content:d});const h=yield WS(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Y$)==null)return null;e.push({type:"url-ipfs",content:m}),m=Ox(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return et(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+$m.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+$m.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+m$("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return ut.throwError("invalid or unsupported content hash data",re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return et(this,void 0,void 0,function*(){let r=Xr(e);r=Gt([Px(64),Px(r.length),r]),r.length%32!==0&&(r=Gt([r,sr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ye(r));return n==null||n==="0x"?null:V0(n)})}}let Dx=null,_ge=1;class Ege extends Ny{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ue(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Ns(new.target,"getNetwork")(e);r?(ue(this,"_network",r),this.emit("network",r,null)):ut.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return et(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ut.throwError("no network detected",re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ue(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return zp(()=>this._ready().then(e=>e,e=>{if(!(e.code===re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Dx==null&&(Dx=new Fe),Dx}static getNetwork(e){return sge(e??"homestead")}ccipReadFetch(e,r,n){return et(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield WS({url:l,errorPassThrough:!0},u,(h,m)=>(h.status=m.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return ut.throwError(`response not found during CCIP fetch: ${d}`,re.errors.SERVER_ERROR,{url:c,errorMessage:d});o.push(d)}return ut.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,re.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return et(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Ip()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Ip(),n=rn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Ip();return i=ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return et(this,void 0,void 0,function*(){const e=_ge++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ut.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ut.makeError("network block skew detected",re.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return et(this,void 0,void 0,function*(){return ut.throwError("provider does not support network detection",re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return et(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield $O(0),this._network;const n=ut.makeError("underlying network changed",re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Ip();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Ip(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return et(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return et(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||u()||o(d)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const m=g=>et(this,void 0,void 0,function*(){l||(yield $O(1e3),this.getTransactionCount(i.from).then(b=>et(this,void 0,void 0,function*(){if(!l){if(b<=i.nonce)d=g;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=g;){if(l)return;const E=yield this.getBlockWithTransactions(h);for(let A=0;A<E.transactions.length;A++){const S=E.transactions[A];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(l)return;const T=yield this.waitForTransaction(S.hash,r);if(u())return;let P="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?P="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(P="cancelled"),a(ut.makeError("transaction was replaced",re.errors.TRANSACTION_REPLACED,{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:this._wrapTransaction(S),hash:e,receipt:T}));return}}h++}}l||this.once("block",m)}}),b=>{l||this.once("block",m)}))});if(l)return;this.once("block",m),c.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{u()||a(ut.makeError("timeout exceeded",re.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),c.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return et(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return et(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ve.from(e)}catch(r){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ve.from(i)}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ve.from(i).toNumber()}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ye(i)}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return et(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>IS(o))}),s=yield this.perform("getStorageAt",i);try{return ye(s)}catch(o){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&kd(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ut.throwError("Transaction hash mismatch from Provider.sendTransaction.",re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>et(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&ut.throwError("transaction failed",re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ye(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return et(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ve.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ye(s):null))}),this.formatter.transactionRequest(yield rn(n))})}_getFilter(e){return et(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield rn(r))})}_call(e,r,n){return et(this,void 0,void 0,function*(){n>=pge&&ut.throwError("CCIP read exceeded maximum redirections",re.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&kd(s)%32===4)try{const o=gn(s,4),a=gn(o,0,32);ve.from(a).eq(i)||ut.throwError("CCIP Read sender did not match",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=ve.from(gn(o,32,64)).toNumber(),u=ve.from(gn(o,l,l+32)).toNumber(),f=gn(o,l+32);for(let E=0;E<u;E++){const A=aw(f,E*32);A==null&&ut.throwError("CCIP Read contained corrupt URL string",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(A)}const d=Fm(o,64);ve.from(gn(o,100,128)).isZero()||ut.throwError("CCIP Read callback selector included junk",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=gn(o,96,100),m=Fm(o,128),g=yield this.ccipReadFetch(e,d,c);g==null&&ut.throwError("CCIP Read disabled or provided no URLs",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const b={to:i,data:Yi([h,X$([g,m])])};return this._call(b,r,n+1)}catch(o){if(o.code===re.errors.SERVER_ERROR)throw o}try{return ye(s)}catch(o){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ve.from(n)}catch(i){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return et(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ut.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ut.throwError("ENS name not configured",re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ht(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ht(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ut.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return zp(()=>et(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return zp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return zp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Fe.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return et(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return et(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ut.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return et(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new jO(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return et(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||ut.throwError("network does not support ENS",re.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+rw(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return et(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ht(e))throw n}typeof e!="string"&&ut.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return et(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=aw(yield this.call({to:n,data:"0x691f3431"+rw(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return et(this,void 0,void 0,function*(){let r=null;if(ht(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new jO(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a}try{const a=aw(yield this.call({to:o,data:"0x691f3431"+rw(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ut.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new yge(xh(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=xh(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=xh(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=xh(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=xh(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=xh(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var fl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const hn=new re(eE),vge=["call","estimateGas"];function vg(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ht(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=vg(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return vg(JSON.parse(t),e)}catch{}return null}function Q$(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=vg(e,!0);if(s)return s.data;hn.throwError("missing revert data in call exception; Transaction reverted without a reason string",re.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=vg(e.body,!1);s==null&&(s=vg(e,!1)),s&&hn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&hn.throwError("insufficient funds for intrinsic transaction cost",re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&hn.throwError("nonce has already been used",re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&hn.throwError("replacement fee too low",re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&hn.throwError("legacy pre-eip-155 transactions not supported",re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),vge.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&hn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function HO(t){return new Promise(function(e){setTimeout(e,t)})}function xge(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Tp(t){return t&&t.toLowerCase()}const bC={};class Z$ extends J0{constructor(e,r,n){if(super(),e!==bC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ue(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ue(this,"_address",this.provider.formatter.address(n)),ue(this,"_index",null)):typeof n=="number"?(ue(this,"_index",n),ue(this,"_address",null)):hn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return hn.throwError("cannot alter JSON-RPC Signer connection",re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Age(bC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&hn.throwError("unknown account #"+this._index,re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Bn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Bn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>fl(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&hn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),rn({tx:rn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&hn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&hn.throwError("user rejected transaction",re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Q$("sendTransaction",o,s)))})}signTransaction(e){return hn.throwError("signing transactions is unsupported",re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return fl(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield zp(()=>fl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return fl(this,void 0,void 0,function*(){const r=typeof e=="string"?Xr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ye(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return fl(this,void 0,void 0,function*(){const r=typeof e=="string"?Xr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ye(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return fl(this,void 0,void 0,function*(){const i=yield Mm.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Mm.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return fl(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Age extends Z${sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Cge={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class H_ extends Ege{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Ns(this.constructor,"defaultUrl")()),typeof e=="string"?ue(this,"connection",Object.freeze({url:e})):ue(this,"connection",Object.freeze(Bn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return fl(this,void 0,void 0,function*(){yield HO(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Ns(this.constructor,"getNetwork");try{return r(ve.from(e).toNumber())}catch(n){return hn.throwError("could not detect network",re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return hn.throwError("could not detect network",re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Z$(bC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Bl(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=WS(this.connection,JSON.stringify(n),xge).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Tp(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Tp(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Tp(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Tp(r.address),sr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Ns(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Ns(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Tp(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return fl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Bn(r),r.transaction=Bn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&hn.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Q$(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return HO(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Bn(Cge);if(r)for(const s in r)r[s]&&(n[s]=!0);X7(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=IS(ve.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ye(e[s]))}),e.accessList&&(i.accessList=X0(e.accessList)),i}}const WO=new re(eE);let Nge=1;function qO(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:Nge++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Bl(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function Sge(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Bl(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class xg extends H_{constructor(e,r){e==null&&WO.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=Sge(e)):e.sendAsync?i=qO(e,e.sendAsync.bind(e)):e.send?i=qO(e,e.send.bind(e)):WO.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ue(this,"jsonRpcFetchFunc",i),ue(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const Ry="abi/5.7.0",Nt=new re(Ry),$d={};let zO={calldata:!0,memory:!0,storage:!0},Ige={calldata:!0,memory:!0};function xb(t,e){if(t==="bytes"||t==="string"){if(zO[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Ige[e])return!0;return(zO[e]||e==="payable")&&Nt.throwArgumentError("invalid modifier","name",e),!1}function Tge(t,e){let r=t;function n(a){Nt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Bh(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),xb(o.type,o.name)&&(o.name=""),o.type=Bh(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),xb(o.type,o.name)&&(o.name=""),o.type=Bh(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Bh(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):xb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Nt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):xb(o.type,o.name)&&(o.name=""),s.type=Bh(s.type),s}function cw(t,e){for(let r in e)ue(t,r,e[r])}const kt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Rge=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ln{constructor(e,r){e!==$d&&Nt.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),cw(this,r);let n=this.type.match(Rge);n?cw(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Ln.fromObject({type:n[1],components:this.components}),baseType:"array"}):cw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==kt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===kt.full?", ":",")+")"):r+=this.type,e!==kt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===kt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Ln.fromString(e,r):Ln.fromObject(e)}static fromObject(e){return Ln.isParamType(e)?e:new Ln($d,{name:e.name||null,type:Bh(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ln.fromObject):null})}static fromString(e,r){function n(i){return Ln.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Tge(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Bm(t,e){return Oge(t).map(r=>Ln.fromString(r,e))}class Ic{constructor(e,r){e!==$d&&Nt.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),cw(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Ic.isFragment(e)?e:typeof e=="string"?Ic.fromString(e):Ic.fromObject(e)}static fromObject(e){if(Ic.isFragment(e))return e;switch(e.type){case"function":return $a.fromObject(e);case"event":return Ac.fromObject(e);case"constructor":return Ua.fromObject(e);case"error":return vl.fromObject(e);case"fallback":case"receive":return null}return Nt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ac.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?$a.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ua.fromString(e.trim()):e.split(" ")[0]==="error"?vl.fromString(e.substring(5).trim()):Nt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ac extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Ac.fromString(e):Ac.fromObject(e)}static fromObject(e){if(Ac.isEventFragment(e))return e;e.type!=="event"&&Nt.throwArgumentError("invalid event object","value",e);const r={name:jm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],type:"event"};return new Ac($d,r)}static fromString(e){let r=e.match(Hm);r||Nt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Nt.warn("unknown modifier: "+i)}}),Ac.fromObject({name:r[1].trim(),anonymous:n,inputs:Bm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function eL(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Nt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Nt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function tL(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function rL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Nt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Nt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Nt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e}class Ua extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===kt.sighash&&Nt.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Ua.fromString(e):Ua.fromObject(e)}static fromObject(e){if(Ua.isConstructorFragment(e))return e;e.type!=="constructor"&&Nt.throwArgumentError("invalid constructor object","value",e);let r=rL(e);r.constant&&Nt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Ua($d,n)}static fromString(e){let r={type:"constructor"};e=eL(e,r);let n=e.match(Hm);return(!n||n[1].trim()!=="constructor")&&Nt.throwArgumentError("invalid constructor string","value",e),r.inputs=Bm(n[2].trim(),!1),tL(n[3].trim(),r),Ua.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class $a extends Ua{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?$a.fromString(e):$a.fromObject(e)}static fromObject(e){if($a.isFunctionFragment(e))return e;e.type!=="function"&&Nt.throwArgumentError("invalid function object","value",e);let r=rL(e);const n={type:e.type,name:jm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],outputs:e.outputs?e.outputs.map(Ln.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new $a($d,n)}static fromString(e){let r={type:"function"};e=eL(e,r);let n=e.split(" returns ");n.length>2&&Nt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Hm);if(i||Nt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&jm(r.name),r.inputs=Bm(i[2],!1),tL(i[3].trim(),r),n.length>1){let s=n[1].match(Hm);(s[1].trim()!=""||s[3].trim()!="")&&Nt.throwArgumentError("unexpected tokens","value",e),r.outputs=Bm(s[2],!1)}else r.outputs=[];return $a.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function GO(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Nt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class vl extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?vl.fromString(e):vl.fromObject(e)}static fromObject(e){if(vl.isErrorFragment(e))return e;e.type!=="error"&&Nt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:jm(e.name),inputs:e.inputs?e.inputs.map(Ln.fromObject):[]};return GO(new vl($d,r))}static fromString(e){let r={type:"error"},n=e.match(Hm);return n||Nt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&jm(r.name),r.inputs=Bm(n[2],!1),GO(vl.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Bh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Pge=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function jm(t){return(!t||!t.match(Pge))&&Nt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Hm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Oge(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Nt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const qS=new re(Ry);function Dge(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class zl{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){qS.throwArgumentError(e,this.localName,r)}}class wC{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Yi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Gt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=Gt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&qS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Gt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class W_{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):W_.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:qS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new W_(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}}class kge extends zl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Yt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Yt(sr(e.readValue().toHexString(),20))}}class Mge extends zl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Zh=new re(Ry);function nL(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Zh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Zh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Zh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Zh.throwArgumentError("types/value length mismatch","tuple",r);let i=new wC(t.wordSize),s=new wC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function iL(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Uge extends zl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Zh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return nL(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Zh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Mge(this.coder));return e.coerce(this.name,iL(e,n))}}class $ge extends zl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class sL extends zl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Lge extends sL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}}class Fge extends zl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}}class Bge extends zl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class jge extends zl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=u$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(l$).mul(c$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(DS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Hge extends sL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Xr(r))}decode(e){return V0(super.decode(e))}}class Ab extends zl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return nL(e,this.coders,r)}decode(e){return e.coerce(this.name,iL(e,this.coders))}}const Cb=new re(Ry),Wge=new RegExp(/^bytes([0-9]*)$/),qge=new RegExp(/^(u?int)([0-9]*)$/);class oL{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new kge(e.name);case"bool":return new $ge(e.name);case"string":return new Hge(e.name);case"bytes":return new Lge(e.name);case"array":return new Uge(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Ab((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Bge(e.name)}let r=e.type.match(qge);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Cb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new jge(n/8,r[1]==="int",e.name)}if(r=e.type.match(Wge),r){let n=parseInt(r[1]);return(n===0||n>32)&&Cb.throwArgumentError("invalid bytes length","param",e),new Fge(n,e.name)}return Cb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new W_(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new wC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Ln.from(i)));return new Ab(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Cb.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Ln.from(o))),i=new Ab(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Ln.from(o)));return new Ab(i,"_").decode(this._getReader(de(r),n))}}const aL=new oL,jr=new re(Ry);class cL extends Zs{}class lL extends Zs{}class zge extends Zs{}class _C extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}}const Gge={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function KO(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Kge{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>Ic.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Ns(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){jr.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){jr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",Ua.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=kt.full),e===kt.sighash&&jr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===kt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return aL}static getAddress(e){return Yt(e)}static getSighash(e){return gn(ja(e.format()),0,4)}static getEventTopic(e){return ja(e.format())}getFunction(e){if(ht(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];jr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching function","name",n):i.length>1&&jr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[$a.fromString(e).format()];return r||jr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ht(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];jr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching event","name",n):i.length>1&&jr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Ac.fromString(e).format()];return r||jr.throwArgumentError("no matching event","signature",e),r}getError(e){if(ht(e)){const n=Ns(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}jr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching error","name",n):i.length>1&&jr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[$a.fromString(e).format()];return r||jr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Ns(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ns(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=Gge[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return jr.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&jr.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?ja(o):s.type==="bytes"?zt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),sr(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&jr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?jr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&jr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(ja(c));else if(o.type==="bytes")n.push(zt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ht(n[0],32)||n[0].toLowerCase()!==d)&&jr.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Ln.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Gt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new _C({_isIndexed:!0,hash:null});else if(o[h])l[h]=new _C({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw KO(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw KO(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new lL({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new cL({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new zge({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Vge=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:oL,ConstructorFragment:Ua,ErrorFragment:vl,EventFragment:Ac,FormatTypes:kt,Fragment:Ic,FunctionFragment:$a,Indexed:_C,Interface:Kge,LogDescription:cL,ParamType:Ln,TransactionDescription:lL,checkResultErrors:Dge,defaultAbiCoder:aL},Symbol.toStringTag,{value:"Module"})),Jge="logger/5.8.0";let VO=!1,JO=!1;const lw={debug:1,default:2,info:2,warning:3,error:4,off:5};let YO=lw.default,kx=null;function Yge(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const XO=Yge();var EC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(EC||(EC={}));var ya;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ya||(ya={}));const QO="0123456789abcdef";let Wa=class _n{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();lw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(YO>lw[n])&&console.log.apply(console,r)}debug(...e){this._log(_n.levels.DEBUG,e)}info(...e){this._log(_n.levels.INFO,e)}warn(...e){this._log(_n.levels.WARNING,e)}makeError(e,r,n){if(JO)return this.makeError("censored error",r,{});r||(r=_n.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=QO[l[f]>>4],u+=QO[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ya.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ya.CALL_EXCEPTION:case ya.INSUFFICIENT_FUNDS:case ya.MISSING_NEW:case ya.NONCE_EXPIRED:case ya.REPLACEMENT_UNDERPRICED:case ya.TRANSACTION_REPLACED:case ya.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,_n.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){XO&&this.throwError("platform missing String.prototype.normalize",_n.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:XO})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,_n.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,_n.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",_n.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return kx||(kx=new _n(Jge)),kx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),VO){if(!e)return;this.globalLogger().throwError("error censorship permanent",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}JO=!!e,VO=!!r}static setLogLevel(e){const r=lw[e.toLowerCase()];if(r==null){_n.globalLogger().warn("invalid log level - "+e);return}YO=r}static from(e){return new _n(e)}};Wa.errors=ya;Wa.levels=EC;const Xge="bytes/5.8.0",wd=new Wa(Xge);function uL(t){return!!t.toHexString}function Ag(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ag(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Qge(t){return tf(t)&&!(t.length%2)||tE(t)}function ZO(t){return typeof t=="number"&&t==t&&t%1===0}function tE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!ZO(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!ZO(r)||r<0||r>=256)return!1}return!0}function Z0(t,e){if(e||(e={}),typeof t=="number"){wd.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ag(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uL(t)&&(t=t.toHexString()),tf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":wd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ag(new Uint8Array(n))}return tE(t)?Ag(new Uint8Array(t)):wd.throwArgumentError("invalid arrayify value","value",t)}function Zge(t){const e=t.map(i=>Z0(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ag(n)}function eme(t){let e=Z0(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function tf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Mx="0123456789abcdef";function rE(t,e){if(e||(e={}),typeof t=="number"){wd.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Mx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uL(t))return t.toHexString();if(tf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":wd.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(tE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Mx[(i&240)>>4]+Mx[i&15]}return r}return wd.throwArgumentError("invalid hexlify value","value",t)}function e5(t){if(typeof t!="string")t=rE(t);else if(!tf(t)||t.length%2)return null;return(t.length-2)/2}function fL(t,e,r){return typeof t!="string"?t=rE(t):(!tf(t)||t.length%2)&&wd.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}const tme="bignumber/5.8.0";var Wm=te.BN;const dl=new Wa(tme),Ux={},t5=9007199254740991;let r5=!1,zS=class ca{constructor(e,r){e!==Ux&&dl.throwError("cannot call constructor directly; use BigNumber.from",Wa.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return us(mt(this).fromTwos(e))}toTwos(e){return us(mt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ca.from(this._hex.substring(1)):this}add(e){return us(mt(this).add(mt(e)))}sub(e){return us(mt(this).sub(mt(e)))}div(e){return ca.from(e).isZero()&&uo("division-by-zero","div"),us(mt(this).div(mt(e)))}mul(e){return us(mt(this).mul(mt(e)))}mod(e){const r=mt(e);return r.isNeg()&&uo("division-by-zero","mod"),us(mt(this).umod(r))}pow(e){const r=mt(e);return r.isNeg()&&uo("negative-power","pow"),us(mt(this).pow(r))}and(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","and"),us(mt(this).and(r))}or(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","or"),us(mt(this).or(r))}xor(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","xor"),us(mt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&uo("negative-width","mask"),us(mt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&uo("negative-width","shl"),us(mt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&uo("negative-width","shr"),us(mt(this).shrn(e))}eq(e){return mt(this).eq(mt(e))}lt(e){return mt(this).lt(mt(e))}lte(e){return mt(this).lte(mt(e))}gt(e){return mt(this).gt(mt(e))}gte(e){return mt(this).gte(mt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return mt(this).isZero()}toNumber(){try{return mt(this).toNumber()}catch{uo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return dl.throwError("this platform does not support BigInt",Wa.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?r5||(r5=!0,dl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?dl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Wa.errors.UNEXPECTED_ARGUMENT,{}):dl.throwError("BigNumber.toString does not accept parameters",Wa.errors.UNEXPECTED_ARGUMENT,{})),mt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ca)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ca(Ux,qm(e)):e.match(/^-?[0-9]+$/)?new ca(Ux,qm(new Wm(e))):dl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&uo("underflow","BigNumber.from",e),(e>=t5||e<=-t5)&&uo("overflow","BigNumber.from",e),ca.from(String(e));const r=e;if(typeof r=="bigint")return ca.from(r.toString());if(tE(r))return ca.from(rE(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ca.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(tf(n)||n[0]==="-"&&tf(n.substring(1))))return ca.from(n)}return dl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function qm(t){if(typeof t!="string")return qm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&dl.throwArgumentError("invalid hex","value",t),t=qm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function us(t){return zS.from(qm(t))}function mt(t){const e=zS.from(t).toHexString();return e[0]==="-"?new Wm("-"+e.substring(3),16):new Wm(e.substring(2),16)}function uo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),dl.throwError(t,Wa.errors.NUMERIC_FAULT,n)}function rme(t){return new Wm(t,36).toString(16)}function nme(t){return new Wm(t,16).toString(36)}function GS(t){return"0x"+K0.keccak_256(Z0(t))}const ime="rlp/5.8.0",sme=new Wa(ime);function n5(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function dL(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(dL(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=n5(n.length);return i.unshift(247+i.length),i.concat(n)}Qge(t)||sme.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Z0(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=n5(e.length);return r.unshift(183+r.length),r.concat(e)}function ome(t){return rE(dL(t))}const ame="address/5.7.0",Uu=new Wa(ame);function i5(t){tf(t,20)||Uu.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Z0(GS(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const cme=9007199254740991;function lme(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const KS={};for(let t=0;t<10;t++)KS[String(t)]=String(t);for(let t=0;t<26;t++)KS[String.fromCharCode(65+t)]=String(10+t);const s5=Math.floor(lme(cme));function hL(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>KS[n]).join("");for(;e.length>=s5;){let n=e.substring(0,s5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function rf(t){let e=null;if(typeof t!="string"&&Uu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=i5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Uu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==hL(t)&&Uu.throwArgumentError("bad icap checksum","address",t),e=rme(t.substring(4));e.length<40;)e="0"+e;e=i5("0x"+e)}else Uu.throwArgumentError("invalid address","address",t);return e}function ume(t){try{return rf(t),!0}catch{}return!1}function fme(t){let e=nme(rf(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+hL("XE00"+e)+e}function dme(t){let e=null;try{e=rf(t.from)}catch{Uu.throwArgumentError("missing from address","transaction",t)}const r=eme(Z0(zS.from(t.nonce).toHexString()));return rf(fL(GS(ome([e,r])),12))}function hme(t,e,r){return e5(e)!==32&&Uu.throwArgumentError("salt must be 32 bytes","salt",e),e5(r)!==32&&Uu.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),rf(fL(GS(Zge(["0xff",rf(t),e,r])),12))}const pme=Object.freeze(Object.defineProperty({__proto__:null,getAddress:rf,getContractAddress:dme,getCreate2Address:hme,getIcapAddress:fme,isAddress:ume},Symbol.toStringTag,{value:"Module"})),gme="logger/5.8.0";let o5=!1,a5=!1;const uw={debug:1,default:2,info:2,warning:3,error:4,off:5};let c5=uw.default,$x=null;function mme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const l5=mme();var vC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(vC||(vC={}));var ba;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ba||(ba={}));const u5="0123456789abcdef";let VS=class En{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();uw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(c5>uw[n])&&console.log.apply(console,r)}debug(...e){this._log(En.levels.DEBUG,e)}info(...e){this._log(En.levels.INFO,e)}warn(...e){this._log(En.levels.WARNING,e)}makeError(e,r,n){if(a5)return this.makeError("censored error",r,{});r||(r=En.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=u5[l[f]>>4],u+=u5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ba.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ba.CALL_EXCEPTION:case ba.INSUFFICIENT_FUNDS:case ba.MISSING_NEW:case ba.NONCE_EXPIRED:case ba.REPLACEMENT_UNDERPRICED:case ba.TRANSACTION_REPLACED:case ba.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,En.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){l5&&this.throwError("platform missing String.prototype.normalize",En.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,En.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,En.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",En.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return $x||($x=new En(gme)),$x}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o5){if(!e)return;this.globalLogger().throwError("error censorship permanent",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}a5=!!e,o5=!!r}static setLogLevel(e){const r=uw[e.toLowerCase()];if(r==null){En.globalLogger().warn("invalid log level - "+e);return}c5=r}static from(e){return new En(e)}};VS.errors=ba;VS.levels=vC;const yme="bytes/5.8.0",Lx=new VS(yme);function bme(t){return!!t.toHexString}function fw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return fw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function f5(t){return typeof t=="number"&&t==t&&t%1===0}function wme(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!f5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!f5(r)||r<0||r>=256)return!1}return!0}function pL(t,e){if(e||(e={}),typeof t=="number"){Lx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),fw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),bme(t)&&(t=t.toHexString()),_me(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Lx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return fw(new Uint8Array(n))}return wme(t)?fw(new Uint8Array(t)):Lx.throwArgumentError("invalid arrayify value","value",t)}function _me(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Eme(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return pL(e)}function vme(t){t=pL(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const xme=Object.freeze(Object.defineProperty({__proto__:null,decode:Eme,encode:vme},Symbol.toStringTag,{value:"Module"})),Ame="logger/5.8.0";let d5=!1,h5=!1;const dw={debug:1,default:2,info:2,warning:3,error:4,off:5};let p5=dw.default,Fx=null;function Cme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const g5=Cme();var xC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xC||(xC={}));var wa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(wa||(wa={}));const m5="0123456789abcdef";let JS=class vn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();dw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(p5>dw[n])&&console.log.apply(console,r)}debug(...e){this._log(vn.levels.DEBUG,e)}info(...e){this._log(vn.levels.INFO,e)}warn(...e){this._log(vn.levels.WARNING,e)}makeError(e,r,n){if(h5)return this.makeError("censored error",r,{});r||(r=vn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=m5[l[f]>>4],u+=m5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case wa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case wa.CALL_EXCEPTION:case wa.INSUFFICIENT_FUNDS:case wa.MISSING_NEW:case wa.NONCE_EXPIRED:case wa.REPLACEMENT_UNDERPRICED:case wa.TRANSACTION_REPLACED:case wa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,vn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){g5&&this.throwError("platform missing String.prototype.normalize",vn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:g5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,vn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,vn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",vn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Fx||(Fx=new vn(Ame)),Fx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),d5){if(!e)return;this.globalLogger().throwError("error censorship permanent",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}h5=!!e,d5=!!r}static setLogLevel(e){const r=dw[e.toLowerCase()];if(r==null){vn.globalLogger().warn("invalid log level - "+e);return}p5=r}static from(e){return new vn(e)}};JS.errors=wa;JS.levels=xC;const Nme="bytes/5.8.0",Bx=new JS(Nme);function Sme(t){return!!t.toHexString}function hw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return hw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function y5(t){return typeof t=="number"&&t==t&&t%1===0}function Ime(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!y5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!y5(r)||r<0||r>=256)return!1}return!0}function b5(t,e){if(e||(e={}),typeof t=="number"){Bx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),hw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Sme(t)&&(t=t.toHexString()),Tme(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Bx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return hw(new Uint8Array(n))}return Ime(t)?hw(new Uint8Array(t)):Bx.throwArgumentError("invalid arrayify value","value",t)}function Tme(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Nb(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let YS=class{constructor(e){Nb(this,"alphabet",e),Nb(this,"base",e.length),Nb(this,"_alphabetMap",{}),Nb(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=b5(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return b5(new Uint8Array(r.reverse()))}};const Rme=new YS("abcdefghijklmnopqrstuvwxyz234567"),Pme=new YS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ome=Object.freeze(Object.defineProperty({__proto__:null,Base32:Rme,Base58:Pme,BaseX:YS},Symbol.toStringTag,{value:"Module"})),Dme="logger/5.8.0";let w5=!1,_5=!1;const pw={debug:1,default:2,info:2,warning:3,error:4,off:5};let E5=pw.default,jx=null;function kme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const v5=kme();var AC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(AC||(AC={}));var _a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(_a||(_a={}));const x5="0123456789abcdef";let XS=class xn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();pw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E5>pw[n])&&console.log.apply(console,r)}debug(...e){this._log(xn.levels.DEBUG,e)}info(...e){this._log(xn.levels.INFO,e)}warn(...e){this._log(xn.levels.WARNING,e)}makeError(e,r,n){if(_5)return this.makeError("censored error",r,{});r||(r=xn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=x5[l[f]>>4],u+=x5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case _a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case _a.CALL_EXCEPTION:case _a.INSUFFICIENT_FUNDS:case _a.MISSING_NEW:case _a.NONCE_EXPIRED:case _a.REPLACEMENT_UNDERPRICED:case _a.TRANSACTION_REPLACED:case _a.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,xn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){v5&&this.throwError("platform missing String.prototype.normalize",xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:v5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,xn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,xn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return jx||(jx=new xn(Dme)),jx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w5){if(!e)return;this.globalLogger().throwError("error censorship permanent",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_5=!!e,w5=!!r}static setLogLevel(e){const r=pw[e.toLowerCase()];if(r==null){xn.globalLogger().warn("invalid log level - "+e);return}E5=r}static from(e){return new xn(e)}};XS.errors=_a;XS.levels=AC;const Mme="bytes/5.7.0",Yr=new XS(Mme);function gL(t){return!!t.toHexString}function u0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return u0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function mL(t){return To(t)&&!(t.length%2)||nE(t)}function A5(t){return typeof t=="number"&&t==t&&t%1===0}function nE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!A5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!A5(r)||r<0||r>=256)return!1}return!0}function _d(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),u0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t)&&(t=t.toHexString()),To(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Yr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return u0(new Uint8Array(n))}return nE(t)?u0(new Uint8Array(t)):Yr.throwArgumentError("invalid arrayify value","value",t)}function yL(t){const e=t.map(i=>_d(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),u0(n)}function Ume(t){let e=_d(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function bL(t,e){t=_d(t),t.length>e&&Yr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),u0(r)}function To(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Hx="0123456789abcdef";function ci(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Hx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t))return t.toHexString();if(To(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(nE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Hx[(i&240)>>4]+Hx[i&15]}return r}return Yr.throwArgumentError("invalid hexlify value","value",t)}function $me(t){if(typeof t!="string")t=ci(t);else if(!To(t)||t.length%2)return null;return(t.length-2)/2}function Lme(t,e,r){return typeof t!="string"?t=ci(t):(!To(t)||t.length%2)&&Yr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Fme(t){let e="0x";return t.forEach(r=>{e+=ci(r).substring(2)}),e}function Bme(t){const e=wL(ci(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function wL(t){typeof t!="string"&&(t=ci(t)),To(t)||Yr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function gw(t,e){for(typeof t!="string"?t=ci(t):To(t)||Yr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Yr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function _L(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(mL(t)){let r=_d(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64))):r.length===65?(e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64)),e.v=r[64]):Yr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Yr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ci(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=bL(_d(e._vs),32);e._vs=ci(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Yr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ci(i);e.s==null?e.s=o:e.s!==o&&Yr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Yr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Yr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!To(e.r)?Yr.throwArgumentError("signature missing or invalid r","signature",t):e.r=gw(e.r,32),e.s==null||!To(e.s)?Yr.throwArgumentError("signature missing or invalid s","signature",t):e.s=gw(e.s,32);const r=_d(e.s);r[0]>=128&&Yr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ci(r);e._vs&&(To(e._vs)||Yr.throwArgumentError("signature invalid _vs","signature",t),e._vs=gw(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Yr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function jme(t){return t=_L(t),ci(yL([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Hme=Object.freeze(Object.defineProperty({__proto__:null,arrayify:_d,concat:yL,hexConcat:Fme,hexDataLength:$me,hexDataSlice:Lme,hexStripZeros:wL,hexValue:Bme,hexZeroPad:gw,hexlify:ci,isBytes:nE,isBytesLike:mL,isHexString:To,joinSignature:jme,splitSignature:_L,stripZeros:Ume,zeroPad:bL},Symbol.toStringTag,{value:"Module"})),Wme="logger/5.8.0";let C5=!1,N5=!1;const mw={debug:1,default:2,info:2,warning:3,error:4,off:5};let S5=mw.default,Wx=null;function qme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const I5=qme();var CC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(CC||(CC={}));var Ea;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ea||(Ea={}));const T5="0123456789abcdef";let Ss=class An{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();mw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(S5>mw[n])&&console.log.apply(console,r)}debug(...e){this._log(An.levels.DEBUG,e)}info(...e){this._log(An.levels.INFO,e)}warn(...e){this._log(An.levels.WARNING,e)}makeError(e,r,n){if(N5)return this.makeError("censored error",r,{});r||(r=An.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=T5[l[f]>>4],u+=T5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ea.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ea.CALL_EXCEPTION:case Ea.INSUFFICIENT_FUNDS:case Ea.MISSING_NEW:case Ea.NONCE_EXPIRED:case Ea.REPLACEMENT_UNDERPRICED:case Ea.TRANSACTION_REPLACED:case Ea.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,An.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){I5&&this.throwError("platform missing String.prototype.normalize",An.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:I5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,An.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,An.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",An.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Wx||(Wx=new An(Wme)),Wx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),C5){if(!e)return;this.globalLogger().throwError("error censorship permanent",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}N5=!!e,C5=!!r}static setLogLevel(e){const r=mw[e.toLowerCase()];if(r==null){An.globalLogger().warn("invalid log level - "+e);return}S5=r}static from(e){return new An(e)}};Ss.errors=Ea;Ss.levels=CC;const zme="bytes/5.8.0",Bu=new Ss(zme);function EL(t){return!!t.toHexString}function Cg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Cg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function R5(t){return typeof t=="number"&&t==t&&t%1===0}function QS(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!R5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!R5(r)||r<0||r>=256)return!1}return!0}function Hc(t,e){if(e||(e={}),typeof t=="number"){Bu.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Cg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),EL(t)&&(t=t.toHexString()),nf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Bu.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Cg(new Uint8Array(n))}return QS(t)?Cg(new Uint8Array(t)):Bu.throwArgumentError("invalid arrayify value","value",t)}function ZS(t){const e=t.map(i=>Hc(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Cg(n)}function nf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const qx="0123456789abcdef";function gf(t,e){if(e||(e={}),typeof t=="number"){Bu.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=qx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),EL(t))return t.toHexString();if(nf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Bu.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(QS(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=qx[(i&240)>>4]+qx[i&15]}return r}return Bu.throwArgumentError("invalid hexlify value","value",t)}function yw(t){let e="0x";return t.forEach(r=>{e+=gf(r).substring(2)}),e}function q_(t,e){for(typeof t!="string"?t=gf(t):nf(t)||Bu.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Bu.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function La(t){return"0x"+K0.keccak_256(Hc(t))}const Gme="bignumber/5.8.0";var z_=te.BN;const hl=new Ss(Gme),zx={},P5=9007199254740991;let O5=!1,Gl=class la{constructor(e,r){e!==zx&&hl.throwError("cannot call constructor directly; use BigNumber.from",Ss.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return fs(yt(this).fromTwos(e))}toTwos(e){return fs(yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?la.from(this._hex.substring(1)):this}add(e){return fs(yt(this).add(yt(e)))}sub(e){return fs(yt(this).sub(yt(e)))}div(e){return la.from(e).isZero()&&fo("division-by-zero","div"),fs(yt(this).div(yt(e)))}mul(e){return fs(yt(this).mul(yt(e)))}mod(e){const r=yt(e);return r.isNeg()&&fo("division-by-zero","mod"),fs(yt(this).umod(r))}pow(e){const r=yt(e);return r.isNeg()&&fo("negative-power","pow"),fs(yt(this).pow(r))}and(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","and"),fs(yt(this).and(r))}or(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","or"),fs(yt(this).or(r))}xor(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","xor"),fs(yt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&fo("negative-width","mask"),fs(yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fo("negative-width","shl"),fs(yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fo("negative-width","shr"),fs(yt(this).shrn(e))}eq(e){return yt(this).eq(yt(e))}lt(e){return yt(this).lt(yt(e))}lte(e){return yt(this).lte(yt(e))}gt(e){return yt(this).gt(yt(e))}gte(e){return yt(this).gte(yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return yt(this).isZero()}toNumber(){try{return yt(this).toNumber()}catch{fo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hl.throwError("this platform does not support BigInt",Ss.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?O5||(O5=!0,hl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ss.errors.UNEXPECTED_ARGUMENT,{}):hl.throwError("BigNumber.toString does not accept parameters",Ss.errors.UNEXPECTED_ARGUMENT,{})),yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof la)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new la(zx,zm(e)):e.match(/^-?[0-9]+$/)?new la(zx,zm(new z_(e))):hl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&fo("underflow","BigNumber.from",e),(e>=P5||e<=-P5)&&fo("overflow","BigNumber.from",e),la.from(String(e));const r=e;if(typeof r=="bigint")return la.from(r.toString());if(QS(r))return la.from(gf(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return la.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(nf(n)||n[0]==="-"&&nf(n.substring(1))))return la.from(n)}return hl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function zm(t){if(typeof t!="string")return zm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&hl.throwArgumentError("invalid hex","value",t),t=zm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function fs(t){return Gl.from(zm(t))}function yt(t){const e=Gl.from(t).toHexString();return e[0]==="-"?new z_("-"+e.substring(3),16):new z_(e.substring(2),16)}function fo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),hl.throwError(t,Ss.errors.NUMERIC_FAULT,n)}function Kme(t){return new z_(t,36).toString(16)}const Vme="strings/5.8.0",vL=new Ss(Vme);var Gm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Gm||(Gm={}));var js;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(js||(js={}));function Jme(t,e,r,n,i){return vL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function xL(t,e,r,n,i){if(t===js.BAD_PREFIX||t===js.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===js.OVERRUN?r.length-e-1:0}function Yme(t,e,r,n,i){return t===js.OVERLONG?(n.push(i),0):(n.push(65533),xL(t,e,r))}const Xme=Object.freeze({error:Jme,ignore:xL,replace:Yme});function AL(t,e){e==null&&(e=Xme.error),t=Hc(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(js.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(js.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(js.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(js.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(js.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(js.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(js.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function f0(t,e=Gm.current){e!=Gm.current&&(vL.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Hc(r)}function Qme(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Zme(t,e){return Qme(AL(t,e))}function eye(t,e=Gm.current){return AL(f0(t,e))}function eI(t){return La(f0(t))}const CL="hash/5.7.0";function tye(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Hc(e)}function NL(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function rye(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function nye(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let P=1;P<n;P++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let P=0;P<f;P++)b=b<<1|u();let E=[],A=0,S=d;for(;;){let P=Math.floor(((b-A+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;P<s[M]?F=M:k=M}if(k==0)break;E.push(k);let N=A+Math.floor(S*s[k]/i),v=A+Math.floor(S*s[k+1]/i)-1;for(;((N^v)&h)==0;)b=b<<1&g|u(),N=N<<1&g,v=v<<1&g|1;for(;N&~v&m;)b=b&h|b<<1&g>>>1|u(),N=N<<1^h,v=(v^h)<<1|h|1;A=N,S=1+v-N}let T=n-4;return E.map(P=>{switch(P-T){case 3:return T+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return T+256+(t[a++]<<8|t[a++]);case 1:return T+t[a++];default:return P-1}})}function iye(t){let e=0;return()=>t[e++]}function sye(t){return iye(nye(t))}function oye(t){return t&1?~t>>1:t>>1}function aye(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function D5(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function cye(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=oye(e());return r}function G_(t,e){let r=D5(t(),t),n=t(),i=D5(n,t),s=aye(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function lye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(fye(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(dye(r,t))}return rye(NL(e))}function uye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function SL(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)cye(t,r).forEach((s,o)=>n[o].push(s));return n}function fye(t,e){let r=1+e(),n=e(),i=uye(e),s=SL(i.length,1+t,e);return NL(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function dye(t,e){let r=1+e();return SL(r,1+t,e).map(i=>[i[0],i.slice(1)])}function hye(t){let e=G_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=G_(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function pye(){return sye(tye("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const iE=pye(),gye=new Set(G_(iE)),mye=new Set(G_(iE)),yye=lye(iE),bye=hye(iE),k5=45,M5=95;function IL(t){return eye(t)}function wye(t){return t.filter(e=>e!=65039)}function TL(t){for(let e of t.split(".")){let r=IL(e);try{for(let n=r.lastIndexOf(M5)-1;n>=0;n--)if(r[n]!==M5)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===k5&&r[3]===k5)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function _ye(t){return TL(Eye(t,wye))}function Eye(t,e){let r=IL(t).reverse(),n=[];for(;r.length;){let i=xye(r);if(i){n.push(...e(i));continue}let s=r.pop();if(gye.has(s)){n.push(s);continue}if(mye.has(s))continue;let o=yye[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return TL(vye(String.fromCodePoint(...n)))}function vye(t){return t.normalize("NFC")}function xye(t,e){var r;let n=bye,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const Aye=new Ss(CL),RL=new Uint8Array(32);RL.fill(0);function U5(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function sE(t){const e=f0(_ye(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(U5(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(U5(e.slice(n))),r}function Cye(t){return sE(t).map(e=>Zme(e)).join(".")}function Nye(t){try{return sE(t).length!==0}catch{}return!1}function Sye(t){typeof t!="string"&&Aye.throwArgumentError("invalid ENS name; not a string","name",t);let e=RL;const r=sE(t);for(;r.length;)e=La(ZS([e,La(r.pop())]));return gf(e)}function Iye(t){return gf(ZS(sE(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const PL=`Ethereum Signed Message:
`;function Tye(t){return typeof t=="string"&&(t=f0(t)),La(ZS([f0(PL),f0(String(t.length)),t]))}const Rye="address/5.8.0",Gp=new Ss(Rye);function $5(t){nf(t,20)||Gp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Hc(La(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Pye=9007199254740991;function Oye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const tI={};for(let t=0;t<10;t++)tI[String(t)]=String(t);for(let t=0;t<26;t++)tI[String.fromCharCode(65+t)]=String(10+t);const L5=Math.floor(Oye(Pye));function Dye(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>tI[n]).join("");for(;e.length>=L5;){let n=e.substring(0,L5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function OL(t){let e=null;if(typeof t!="string"&&Gp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=$5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Gp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Dye(t)&&Gp.throwArgumentError("bad icap checksum","address",t),e=Kme(t.substring(4));e.length<40;)e="0"+e;e=$5("0x"+e)}else Gp.throwArgumentError("invalid address","address",t);return e}const kye="properties/5.8.0",DL=new Ss(kye);function Kp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function F5(t){const e={};for(const r in t)e[r]=t[r];return e}const Mye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function kL(t){if(t==null||Mye[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!kL(n))return!1}return!0}return DL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Uye(t){if(kL(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>NC(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Kp(e,r,NC(n))}return e}return DL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function NC(t){return Uye(t)}var $ye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qr=new Ss(CL),ML=new Uint8Array(32);ML.fill(0);const Lye=Gl.from(-1),UL=Gl.from(0),$L=Gl.from(1),Fye=Gl.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bye(t){const e=Hc(t),r=e.length%32;return r?yw([e,ML.slice(r)]):gf(e)}const jye=q_($L.toHexString(),32),Hye=q_(UL.toHexString(),32),B5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Gx=["name","version","chainId","verifyingContract","salt"];function j5(t){return function(e){return typeof e!="string"&&qr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Wye={name:j5("name"),version:j5("version"),chainId:function(t){try{return Gl.from(t).toString()}catch{}return qr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return OL(t).toLowerCase()}catch{}return qr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Hc(t);if(e.length!==32)throw new Error("bad length");return gf(e)}catch{}return qr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Kx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qr.throwArgumentError("invalid numeric width","type",t);const i=Fye.mask(r?n-1:n),s=r?i.add($L).mul(Lye):UL;return function(o){const a=Gl.from(o);return(a.lt(s)||a.gt(i))&&qr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),q_(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&qr.throwArgumentError("invalid bytes width","type",t),function(n){return Hc(n).length!==r&&qr.throwArgumentError(`invalid length for ${t}`,"value",n),Bye(n)}}}switch(t){case"address":return function(e){return q_(OL(e),32)};case"bool":return function(e){return e?jye:Hye};case"bytes":return function(e){return La(e)};case"string":return function(e){return eI(e)}}return null}function H5(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class _o{constructor(e){Kp(this,"types",Object.freeze(NC(e))),Kp(this,"_encoderCache",{}),Kp(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&qr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Kx(u)&&(n[u]||qr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?qr.throwArgumentError("missing primary type","types",e):s.length>1&&qr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Kp(this,"primaryType",s[0]);function o(a,c){c[a]&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=H5(a,e[a])+c.map(l=>H5(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Kx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(La)),La(yw(c))}}const n=this.types[e];if(n){const i=eI(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?La(l):l});return o.unshift(i),yw(o)}}return qr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||qr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return La(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Kx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):qr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new _o(e)}static getPrimaryType(e){return _o.from(e).primaryType}static hashStruct(e,r,n){return _o.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=B5[n];i||qr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Gx.indexOf(n.name)-Gx.indexOf(i.name)),_o.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return yw(["0x1901",_o.hashDomain(e),_o.from(r).hash(n)])}static hash(e,r,n){return La(_o.encode(e,r,n))}static resolveNames(e,r,n,i){return $ye(this,void 0,void 0,function*(){e=F5(e);const s={};e.verifyingContract&&!nf(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=_o.from(r);o.visit(n,(a,c)=>(a==="address"&&!nf(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){_o.hashDomain(e);const i={},s=[];Gx.forEach(c=>{const l=e[c];l!=null&&(i[c]=Wye[c](l),s.push({name:c,type:B5[c]}))});const o=_o.from(r),a=F5(r);return a.EIP712Domain?qr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return gf(Hc(l));if(c.match(/^u?int/))return Gl.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&qr.throwArgumentError("invalid string","value",l),l}return qr.throwArgumentError("unsupported type","type",c)})}}}const qye=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:_o,dnsEncode:Iye,ensNormalize:Cye,hashMessage:Tye,id:eI,isValidName:Nye,messagePrefix:PL,namehash:Sye},Symbol.toStringTag,{value:"Module"})),zye="logger/5.8.0";let W5=!1,q5=!1;const bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let z5=bw.default,Vx=null;function Gye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const G5=Gye();var SC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(SC||(SC={}));var va;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(va||(va={}));const K5="0123456789abcdef";let Di=class Cn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();bw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(z5>bw[n])&&console.log.apply(console,r)}debug(...e){this._log(Cn.levels.DEBUG,e)}info(...e){this._log(Cn.levels.INFO,e)}warn(...e){this._log(Cn.levels.WARNING,e)}makeError(e,r,n){if(q5)return this.makeError("censored error",r,{});r||(r=Cn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=K5[l[f]>>4],u+=K5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case va.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case va.CALL_EXCEPTION:case va.INSUFFICIENT_FUNDS:case va.MISSING_NEW:case va.NONCE_EXPIRED:case va.REPLACEMENT_UNDERPRICED:case va.TRANSACTION_REPLACED:case va.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Cn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){G5&&this.throwError("platform missing String.prototype.normalize",Cn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:G5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Cn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Cn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Cn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Vx||(Vx=new Cn(zye)),Vx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),W5){if(!e)return;this.globalLogger().throwError("error censorship permanent",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}q5=!!e,W5=!!r}static setLogLevel(e){const r=bw[e.toLowerCase()];if(r==null){Cn.globalLogger().warn("invalid log level - "+e);return}z5=r}static from(e){return new Cn(e)}};Di.errors=va;Di.levels=SC;const Kye="bytes/5.8.0",en=new Di(Kye);function LL(t){return!!t.toHexString}function d0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return d0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vye(t){return Ro(t)&&!(t.length%2)||oE(t)}function V5(t){return typeof t=="number"&&t==t&&t%1===0}function oE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!V5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!V5(r)||r<0||r>=256)return!1}return!0}function Et(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),d0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),LL(t)&&(t=t.toHexString()),Ro(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":en.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return d0(new Uint8Array(n))}return oE(t)?d0(new Uint8Array(t)):en.throwArgumentError("invalid arrayify value","value",t)}function IC(t){const e=t.map(i=>Et(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),d0(n)}function Jye(t,e){t=Et(t),t.length>e&&en.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),d0(r)}function Ro(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Jx="0123456789abcdef";function cr(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Jx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),LL(t))return t.toHexString();if(Ro(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":en.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(oE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Jx[(i&240)>>4]+Jx[i&15]}return r}return en.throwArgumentError("invalid hexlify value","value",t)}function Yye(t){if(typeof t!="string")t=cr(t);else if(!Ro(t)||t.length%2)return null;return(t.length-2)/2}function K_(t,e,r){return typeof t!="string"?t=cr(t):(!Ro(t)||t.length%2)&&en.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ju(t,e){for(typeof t!="string"?t=cr(t):Ro(t)||en.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&en.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Xye(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vye(t)){let r=Et(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=cr(r.slice(0,32)),e.s=cr(r.slice(32,64))):r.length===65?(e.r=cr(r.slice(0,32)),e.s=cr(r.slice(32,64)),e.v=r[64]):en.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:en.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=cr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Jye(Et(e._vs),32);e._vs=cr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&en.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cr(i);e.s==null?e.s=o:e.s!==o&&en.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?en.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&en.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ro(e.r)?en.throwArgumentError("signature missing or invalid r","signature",t):e.r=ju(e.r,32),e.s==null||!Ro(e.s)?en.throwArgumentError("signature missing or invalid s","signature",t):e.s=ju(e.s,32);const r=Et(e.s);r[0]>=128&&en.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=cr(r);e._vs&&(Ro(e._vs)||en.throwArgumentError("signature invalid _vs","signature",t),e._vs=ju(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&en.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function fr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class FL{constructor(e){fr(this,"alphabet",e),fr(this,"base",e.length),fr(this,"_alphabetMap",{}),fr(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Et(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Et(new Uint8Array(r.reverse()))}}new FL("abcdefghijklmnopqrstuvwxyz234567");const BL=new FL("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Qye="bignumber/5.8.0";var V_=te.BN;const pl=new Di(Qye),Yx={},J5=9007199254740991;let Y5=!1,aE=class ua{constructor(e,r){e!==Yx&&pl.throwError("cannot call constructor directly; use BigNumber.from",Di.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ds(bt(this).fromTwos(e))}toTwos(e){return ds(bt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ua.from(this._hex.substring(1)):this}add(e){return ds(bt(this).add(bt(e)))}sub(e){return ds(bt(this).sub(bt(e)))}div(e){return ua.from(e).isZero()&&ho("division-by-zero","div"),ds(bt(this).div(bt(e)))}mul(e){return ds(bt(this).mul(bt(e)))}mod(e){const r=bt(e);return r.isNeg()&&ho("division-by-zero","mod"),ds(bt(this).umod(r))}pow(e){const r=bt(e);return r.isNeg()&&ho("negative-power","pow"),ds(bt(this).pow(r))}and(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","and"),ds(bt(this).and(r))}or(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","or"),ds(bt(this).or(r))}xor(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","xor"),ds(bt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ho("negative-width","mask"),ds(bt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ho("negative-width","shl"),ds(bt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ho("negative-width","shr"),ds(bt(this).shrn(e))}eq(e){return bt(this).eq(bt(e))}lt(e){return bt(this).lt(bt(e))}lte(e){return bt(this).lte(bt(e))}gt(e){return bt(this).gt(bt(e))}gte(e){return bt(this).gte(bt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return bt(this).isZero()}toNumber(){try{return bt(this).toNumber()}catch{ho("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return pl.throwError("this platform does not support BigInt",Di.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Y5||(Y5=!0,pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Di.errors.UNEXPECTED_ARGUMENT,{}):pl.throwError("BigNumber.toString does not accept parameters",Di.errors.UNEXPECTED_ARGUMENT,{})),bt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ua)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ua(Yx,Km(e)):e.match(/^-?[0-9]+$/)?new ua(Yx,Km(new V_(e))):pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ho("underflow","BigNumber.from",e),(e>=J5||e<=-J5)&&ho("overflow","BigNumber.from",e),ua.from(String(e));const r=e;if(typeof r=="bigint")return ua.from(r.toString());if(oE(r))return ua.from(cr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ua.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ro(n)||n[0]==="-"&&Ro(n.substring(1))))return ua.from(n)}return pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Km(t){if(typeof t!="string")return Km(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&pl.throwArgumentError("invalid hex","value",t),t=Km(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ds(t){return aE.from(Km(t))}function bt(t){const e=aE.from(t).toHexString();return e[0]==="-"?new V_("-"+e.substring(3),16):new V_(e.substring(2),16)}function ho(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),pl.throwError(t,Di.errors.NUMERIC_FAULT,n)}function Zye(t){return new V_(t,36).toString(16)}const ebe="strings/5.8.0",tbe=new Di(ebe);var P0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(P0||(P0={}));var X5;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(X5||(X5={}));function J_(t,e=P0.current){e!=P0.current&&(tbe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Et(r)}var Vm;(function(t){t.sha256="sha256",t.sha512="sha512"})(Vm||(Vm={}));const rbe="sha2/5.8.0",nbe=new Di(rbe);function ibe(t){return"0x"+Ye.ripemd160().update(Et(t)).digest("hex")}function Jm(t){return"0x"+Ye.sha256().update(Et(t)).digest("hex")}function Y_(t,e,r){return Vm[t]||nbe.throwError("unsupported algorithm "+t,Di.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],Et(e)).update(Et(r)).digest("hex")}function sbe(t,e,r,n,i){t=Et(t),e=Et(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=Et(Y_(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=Et(Y_(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(Et(u).slice(0,m),h)}return cr(a)}function ep(t,e,r){return r={path:e,exports:{},require:function(n,i){return obe(n,i??r.path)}},t(r,r.exports),r.exports}function obe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var rI=jL;function jL(t,e){if(!t)throw new Error(e||"Assertion failed")}jL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var qa=ep(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),to=ep(function(t,e){var r=e;r.assert=rI,r.toArray=qa.toArray,r.zero2=qa.zero2,r.toHex=qa.toHex,r.encode=qa.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var E;(g&1)===0?E=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?E=-g:E=g),u[1].push(E),2*f===b+1&&(f=1-f),2*d===E+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),X_=to.getNAF,abe=to.getJSF,Q_=to.assert;function mf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Yd=mf;mf.prototype.point=function(){throw new Error("Not implemented")};mf.prototype.validate=function(){throw new Error("Not implemented")};mf.prototype._fixedNafMul=function(e,r){Q_(e.precomputed);var n=e._getDoubles(),i=X_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};mf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=X_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Q_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};mf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=X_(n[m],o[m],this._bitLength),c[g]=X_(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],A=abe(n[m],n[g]);for(l=Math.max(A[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=A[0][f]|0,T=A[1][f]|0;c[m][f]=E[(S+1)*3+(T+1)],c[g][f]=0,a[m]=b}}var P=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,P=P.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?P=P.mixedAdd(d):P=P.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?P:P.toP()};function zo(t,e){this.curve=t,this.type=e,this.precomputed=null}mf.BasePoint=zo;zo.prototype.eq=function(){throw new Error("Not implemented")};zo.prototype.validate=function(){return this.curve.validate(this)};mf.prototype.decodePoint=function(e,r){e=to.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Q_(e[e.length-1]%2===0):e[0]===7&&Q_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};zo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};zo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};zo.prototype.encode=function(e,r){return to.encode(this._encode(r),e)};zo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};zo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};zo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};zo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};zo.prototype._getBeta=function(){return null};zo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var nI=ep(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),cbe=to.assert;function Go(t){Yd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}nI(Go,Yd);var lbe=Go;Go.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],cbe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Go.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Go.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,E,A;n.cmpn(0)!==0;){var S=i.div(n);E=i.sub(S.mul(n)),A=a.sub(S.mul(s));var T=c.sub(S.mul(o));if(!f&&E.cmp(r)<0)l=g.neg(),u=s,f=E.neg(),d=A;else if(f&&++b===2)break;g=E,i=n,n=E,a=s,s=A,c=o,o=T}h=E.neg(),m=A;var P=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(P)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Go.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Go.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Go.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Go.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Qn(t,e,r,n){Yd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}nI(Qn,Yd.BasePoint);Go.prototype.point=function(e,r,n){return new Qn(this,e,r,n)};Go.prototype.pointFromJSON=function(e,r){return Qn.fromJSON(this,e,r)};Qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qn.prototype.isInfinity=function(){return this.inf};Qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qn.prototype.getX=function(){return this.x.fromRed()};Qn.prototype.getY=function(){return this.y.fromRed()};Qn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mi(t,e,r,n){Yd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}nI(mi,Yd.BasePoint);Go.prototype.jpoint=function(e,r,n){return new mi(this,e,r,n)};mi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};mi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};mi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};mi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),E=g.redISub(b),A=m.redMul(E);A=A.redIAdd(A).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=A}return this.curve.jpoint(o,u.redMul(s),c)};mi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),E=h.redIAdd(h);E=E.redIAdd(E),E=E.redIAdd(E),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};mi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var E=d.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=m.redMul(g.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};mi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};mi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};mi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};mi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};mi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};mi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var ww=ep(function(t,e){var r=e;r.base=Yd,r.short=lbe,r.mont=null,r.edwards=null}),_w=ep(function(t,e){var r=e,n=to.assert;function i(a){a.type==="short"?this.curve=new ww.short(a):a.type==="edwards"?this.curve=new ww.edwards(a):this.curve=new ww.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function sf(t){if(!(this instanceof sf))return new sf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=qa.toArray(t.entropy,t.entropyEnc||"hex"),r=qa.toArray(t.nonce,t.nonceEnc||"hex"),n=qa.toArray(t.pers,t.persEnc||"hex");rI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var HL=sf;sf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};sf.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};sf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=qa.toArray(e,r),n=qa.toArray(n,i),rI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};sf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=qa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,qa.encode(o,r)};var TC=to.assert;function Mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var iI=Mi;Mi.fromPublic=function(e,r,n){return r instanceof Mi?r:new Mi(e,{pub:r,pubEnc:n})};Mi.fromPrivate=function(e,r,n){return r instanceof Mi?r:new Mi(e,{priv:r,privEnc:n})};Mi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Mi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mi.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?TC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&TC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Mi.prototype.derive=function(e){return e.validate()||TC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Mi.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ube=to.assert;function cE(t,e){if(t instanceof cE)return t;this._importDER(t,e)||(ube(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var lE=cE;function fbe(){this.place=0}function Xx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Q5(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}cE.prototype._importDER=function(e,r){e=to.toArray(e,r);var n=new fbe;if(e[n.place++]!==48)return!1;var i=Xx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Xx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Xx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function Qx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}cE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Q5(r),n=Q5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Qx(i,r.length),i=i.concat(r),i.push(2),Qx(i,n.length);var s=i.concat(n),o=[48];return Qx(o,s.length),o=o.concat(s),to.encode(o,e)};var dbe=(function(){throw new Error("unsupported")}),rd=to.assert;function $o(t){if(!(this instanceof $o))return new $o(t);typeof t=="string"&&(rd(Object.prototype.hasOwnProperty.call(_w,t),"Unknown curve "+t),t=_w[t]),t instanceof _w.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hbe=$o;$o.prototype.keyPair=function(e){return new iI(this,e)};$o.prototype.keyFromPrivate=function(e,r){return iI.fromPrivate(this,e,r)};$o.prototype.keyFromPublic=function(e,r){return iI.fromPublic(this,e,r)};$o.prototype.genKeyPair=function(e){e||(e={});for(var r=new HL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||dbe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};$o.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};$o.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){rd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),rd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)rd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),rd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);rd(new te(c).eq(e),"Can not sign message");for(var l=new HL({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var E=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),E^=1),new lE({r:g,s:b,recoveryParam:E})}}}}}};$o.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new lE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};$o.prototype.recoverPubKey=function(t,e,r,n){rd((3&r)===r,"The recovery param is more than two bits"),e=new lE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};$o.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new lE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var pbe=ep(function(t,e){var r=e;r.version="6.6.1",r.utils=to,r.rand=(function(){throw new Error("unsupported")}),r.curve=ww,r.curves=_w,r.ec=hbe,r.eddsa=null}),gbe=pbe.ec;const mbe="signing-key/5.8.0",RC=new Di(mbe);let Zx=null;function Vf(){return Zx||(Zx=new gbe("secp256k1")),Zx}let PC=class{constructor(e){fr(this,"curve","secp256k1"),fr(this,"privateKey",cr(e)),Yye(this.privateKey)!==32&&RC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Vf().keyFromPrivate(Et(this.privateKey));fr(this,"publicKey","0x"+r.getPublic(!1,"hex")),fr(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),fr(this,"_isSigningKey",!0)}_addPoint(e){const r=Vf().keyFromPublic(Et(this.publicKey)),n=Vf().keyFromPublic(Et(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Vf().keyFromPrivate(Et(this.privateKey)),n=Et(e);n.length!==32&&RC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Xye({recoveryParam:i.recoveryParam,r:ju("0x"+i.r.toString(16),32),s:ju("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Vf().keyFromPrivate(Et(this.privateKey)),n=Vf().keyFromPublic(Et(WL(e)));return ju("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function WL(t,e){const r=Et(t);return r.length===32?new PC(r).publicKey:r.length===33?"0x"+Vf().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?cr(r):RC.throwArgumentError("invalid public or private key","key","[REDACTED]")}function sI(t){return"0x"+K0.keccak_256(Et(t))}const ybe="address/5.8.0",Vp=new Di(ybe);function Z5(t){Ro(t,20)||Vp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Et(sI(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const bbe=9007199254740991;function wbe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const oI={};for(let t=0;t<10;t++)oI[String(t)]=String(t);for(let t=0;t<26;t++)oI[String.fromCharCode(65+t)]=String(10+t);const e8=Math.floor(wbe(bbe));function _be(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>oI[n]).join("");for(;e.length>=e8;){let n=e.substring(0,e8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Ebe(t){let e=null;if(typeof t!="string"&&Vp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Z5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Vp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==_be(t)&&Vp.throwArgumentError("bad icap checksum","address",t),e=Zye(t.substring(4));e.length<40;)e="0"+e;e=Z5("0x"+e)}else Vp.throwArgumentError("invalid address","address",t);return e}var t8;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(t8||(t8={}));function vbe(t){const e=WL(t);return Ebe(K_(sI(K_(e,1)),12))}function xbe(t){return sI(J_(t))}const Abe="wordlists/5.8.0",Cbe=new Di(Abe);class Py{constructor(e){Cbe.checkAbstract(new.target,Py),fr(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return xbe(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const Nbe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ng=null;function r8(t){if(Ng==null&&(Ng=Nbe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Py.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ng=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Sbe extends Py{constructor(){super("en")}getWord(e){return r8(this),Ng[e]}getWordIndex(e){return r8(this),Ng.indexOf(e)}}const qL=new Sbe;Py.register(qL);const n8={en:qL},Ibe="hdnode/5.7.0",Ym=new Di(Ibe),Tbe=aE.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Rbe=J_("Bitcoin seed"),jh=2147483648;function zL(t){return(1<<t)-1<<8-t}function Pbe(t){return(1<<t)-1}function Sb(t){return ju(cr(t),32)}function i8(t){return BL.encode(IC([t,K_(Jm(Jm(t)),0,4)]))}function aI(t){if(t==null)return n8.en;if(typeof t=="string"){const e=n8[t];return e==null&&Ym.throwArgumentError("unknown locale","wordlist",t),e}return t}const Ah={},Obe="m/44'/60'/0'/0/0";class gl{constructor(e,r,n,i,s,o,a,c){if(e!==Ah)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new PC(r);fr(this,"privateKey",l.privateKey),fr(this,"publicKey",l.compressedPublicKey)}else fr(this,"privateKey",null),fr(this,"publicKey",cr(n));fr(this,"parentFingerprint",i),fr(this,"fingerprint",K_(ibe(Jm(this.publicKey)),0,4)),fr(this,"address",vbe(this.publicKey)),fr(this,"chainCode",s),fr(this,"index",o),fr(this,"depth",a),c==null?(fr(this,"mnemonic",null),fr(this,"path",null)):typeof c=="string"?(fr(this,"mnemonic",null),fr(this,"path",c)):(fr(this,"mnemonic",c),fr(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return i8(IC([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",cr(this.depth),this.parentFingerprint,ju(cr(this.index),4),this.chainCode,this.privateKey!=null?IC(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new gl(Ah,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~jh));const n=new Uint8Array(37);if(e&jh){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Et(this.privateKey),1),r&&(r+="'")}else n.set(Et(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=Et(Y_(Vm.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Sb(aE.from(s).add(this.privateKey).mod(Tbe)):c=new PC(cr(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new gl(Ah,a,c,this.fingerprint,Sb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=jh)throw new Error("invalid path index - "+s);n=n._derive(jh+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=jh)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Et(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Et(Y_(Vm.sha512,Rbe,n));return new gl(Ah,Sb(i.slice(0,32)),null,"0x00000000",Sb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=aI(n),e=KL(cI(e,n),n),gl._fromSeed(GL(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return gl._fromSeed(e,null)}static fromExtendedKey(e){const r=BL.decode(e);(r.length!==82||i8(r.slice(0,78))!==e)&&Ym.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=cr(r.slice(5,9)),s=parseInt(cr(r.slice(9,13)).substring(2),16),o=cr(r.slice(13,45)),a=r.slice(45,78);switch(cr(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new gl(Ah,null,cr(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new gl(Ah,cr(a.slice(1)),null,i,o,s,n,null)}return Ym.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function GL(t,e){e||(e="");const r=J_("mnemonic"+e,P0.NFKD);return sbe(J_(t,P0.NFKD),r,2048,64,"sha512")}function cI(t,e){e=aI(e),Ym.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Et(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=zL(o);if((Et(Jm(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return cr(n.slice(0,s/8))}function KL(t,e){if(e=aI(e),t=Et(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Pbe(8-n)),n+=3);const i=t.length/4,s=Et(Jm(t))[0]&zL(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function Dbe(t,e){try{return cI(t,e),!0}catch{}return!1}function kbe(t){return(typeof t!="number"||t<0||t>=jh||t%1)&&Ym.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const Mbe=Object.freeze(Object.defineProperty({__proto__:null,HDNode:gl,defaultPath:Obe,entropyToMnemonic:KL,getAccountPath:kbe,isValidMnemonic:Dbe,mnemonicToEntropy:cI,mnemonicToSeed:GL},Symbol.toStringTag,{value:"Module"})),VL="json-wallets/5.7.0";function Ed(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Rp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function lI(t){return typeof t=="string"?Xr(t,jl.NFKC):de(t)}function on(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function Ube(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const $be=new re(VL);class Lbe extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function uI(t,e){const r=JSON.parse(t);e=lI(e);const n=Yt(on(r,"ethaddr")),i=Ed(on(r,"encseed"));(!i||i.length%16!==0)&&$be.throwArgumentError("invalid encseed","json",t);const s=de(Ty(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new mn.ModeOfOperation.cbc(s,o),l=mn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Xr(u),d=zt(f);return new Lbe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function uE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function fE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Fbe(t){if(uE(t))try{return Yt(JSON.parse(t).ethaddr)}catch{return null}if(fE(t))try{return Yt(JSON.parse(t).address)}catch{return null}return null}var Bbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const OC=new re(VL);function s8(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class jbe extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Hbe(t,e,r){if(on(t,"crypto/cipher")==="aes-128-ctr"){const i=Ed(on(t,"crypto/cipherparams/iv")),s=new mn.Counter(i),o=new mn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function JL(t,e){const r=Ed(on(t,"crypto/ciphertext"));if(ye(zt(Gt([e.slice(16,32),r]))).substring(2)!==on(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Hbe(t,e.slice(0,16),r);i||OC.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Dl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Yt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(on(t,"x-ethers/version")==="0.1"){const c=Ed(on(t,"x-ethers/mnemonicCiphertext")),l=Ed(on(t,"x-ethers/mnemonicCounter")),u=new mn.Counter(l),f=new mn.ModeOfOperation.ctr(s,u),d=on(t,"x-ethers/path")||ef,h=on(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=Z1(m,h),b=R0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new jbe(a)}function YL(t,e,r,n,i){return de(Ty(t,e,r,n,i))}function Wbe(t,e,r,n,i){return Promise.resolve(YL(t,e,r,n,i))}function XL(t,e,r,n,i){const s=lI(e),o=on(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return OC.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=Ed(on(t,"crypto/kdfparams/salt")),l=parseInt(on(t,"crypto/kdfparams/n")),u=parseInt(on(t,"crypto/kdfparams/r")),f=parseInt(on(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=Ed(on(t,"crypto/kdfparams/salt"));let l=null;const u=on(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(on(t,"crypto/kdfparams/c")),d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return OC.throwArgumentError("unsupported key-derivation function","kdf",o)}function QL(t,e){const r=JSON.parse(t),n=XL(r,e,YL,Q0.syncScrypt);return JL(r,n)}function ZL(t,e,r){return Bbe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield XL(n,e,Wbe,Q0.scrypt,r);return JL(n,i)})}function qbe(t,e,r,n){try{if(Yt(t.address)!==Dl(t.privateKey))throw new Error("address/privateKey mismatch");if(s8(t)){const b=t.mnemonic;if(R0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||ef).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=lI(e);let o=null,a=null,c=null;if(s8(t)){const b=t.mnemonic;o=de(jS(b.phrase,b.locale||"en")),a=b.path||ef,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Nl(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Nl(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Nl(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Q0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const E=b.slice(0,16),A=b.slice(16,32),S=b.slice(32,64),T=new mn.Counter(f),P=new mn.ModeOfOperation.ctr(E,T),k=de(P.encrypt(i)),F=zt(Gt([A,k])),N={address:t.address.substring(2).toLowerCase(),id:Ube(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=Nl(16),M=new mn.Counter(v),$=new mn.ModeOfOperation.ctr(S,M),O=de($.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Rp(C.getUTCMonth()+1,2)+"-"+Rp(C.getUTCDate(),2)+"T"+Rp(C.getUTCHours(),2)+"-"+Rp(C.getUTCMinutes(),2)+"-"+Rp(C.getUTCSeconds(),2)+".0Z";N["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+N.address,mnemonicCounter:ye(v).substring(2),mnemonicCiphertext:ye(O).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(N)})}function zbe(t,e,r){if(uE(t)){r&&r(0);const n=uI(t,e);return r&&r(1),Promise.resolve(n)}return fE(t)?ZL(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Gbe(t,e){if(uE(t))return uI(t,e);if(fE(t))return QL(t,e);throw new Error("invalid JSON wallet")}const Kbe=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:uI,decryptJsonWallet:zbe,decryptJsonWalletSync:Gbe,decryptKeystore:ZL,decryptKeystoreSync:QL,encryptKeystore:qbe,getJsonWalletAddress:Fbe,isCrowdsaleWallet:uE,isKeystoreWallet:fE},Symbol.toStringTag,{value:"Module"})),Vbe="logger/5.8.0";let o8=!1,a8=!1;const Ew={debug:1,default:2,info:2,warning:3,error:4,off:5};let c8=Ew.default,eA=null;function Jbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const l8=Jbe();var DC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(DC||(DC={}));var xa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xa||(xa={}));const u8="0123456789abcdef";let fI=class Nn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Ew[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(c8>Ew[n])&&console.log.apply(console,r)}debug(...e){this._log(Nn.levels.DEBUG,e)}info(...e){this._log(Nn.levels.INFO,e)}warn(...e){this._log(Nn.levels.WARNING,e)}makeError(e,r,n){if(a8)return this.makeError("censored error",r,{});r||(r=Nn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=u8[l[f]>>4],u+=u8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xa.CALL_EXCEPTION:case xa.INSUFFICIENT_FUNDS:case xa.MISSING_NEW:case xa.NONCE_EXPIRED:case xa.REPLACEMENT_UNDERPRICED:case xa.TRANSACTION_REPLACED:case xa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Nn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){l8&&this.throwError("platform missing String.prototype.normalize",Nn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Nn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Nn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Nn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return eA||(eA=new Nn(Vbe)),eA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),o8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}a8=!!e,o8=!!r}static setLogLevel(e){const r=Ew[e.toLowerCase()];if(r==null){Nn.globalLogger().warn("invalid log level - "+e);return}c8=r}static from(e){return new Nn(e)}};fI.errors=xa;fI.levels=DC;const Ybe="bytes/5.8.0",tA=new fI(Ybe);function Xbe(t){return!!t.toHexString}function vw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return vw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function f8(t){return typeof t=="number"&&t==t&&t%1===0}function Qbe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!f8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!f8(r)||r<0||r>=256)return!1}return!0}function Zbe(t,e){if(e||(e={}),typeof t=="number"){tA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),vw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Xbe(t)&&(t=t.toHexString()),ewe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":tA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return vw(new Uint8Array(n))}return Qbe(t)?vw(new Uint8Array(t)):tA.throwArgumentError("invalid arrayify value","value",t)}function ewe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function twe(t){return"0x"+K0.keccak_256(Zbe(t))}const rwe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:twe},Symbol.toStringTag,{value:"Module"})),nwe="logger/5.7.0";let d8=!1,h8=!1;const xw={debug:1,default:2,info:2,warning:3,error:4,off:5};let p8=xw.default,rA=null;function iwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const g8=iwe();var Z_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(Z_||(Z_={}));var xo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xo||(xo={}));const m8="0123456789abcdef";let dI=class Sn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(p8>xw[n])&&console.log.apply(console,r)}debug(...e){this._log(Sn.levels.DEBUG,e)}info(...e){this._log(Sn.levels.INFO,e)}warn(...e){this._log(Sn.levels.WARNING,e)}makeError(e,r,n){if(h8)return this.makeError("censored error",r,{});r||(r=Sn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=m8[l[f]>>4],u+=m8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xo.CALL_EXCEPTION:case xo.INSUFFICIENT_FUNDS:case xo.MISSING_NEW:case xo.NONCE_EXPIRED:case xo.REPLACEMENT_UNDERPRICED:case xo.TRANSACTION_REPLACED:case xo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Sn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){g8&&this.throwError("platform missing String.prototype.normalize",Sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:g8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Sn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Sn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Sn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return rA||(rA=new Sn(nwe)),rA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),d8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}h8=!!e,d8=!!r}static setLogLevel(e){const r=xw[e.toLowerCase()];if(r==null){Sn.globalLogger().warn("invalid log level - "+e);return}p8=r}static from(e){return new Sn(e)}};dI.errors=xo;dI.levels=Z_;const swe=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return xo},get LogLevel(){return Z_},Logger:dI},Symbol.toStringTag,{value:"Module"})),owe="logger/5.8.0";let y8=!1,b8=!1;const Aw={debug:1,default:2,info:2,warning:3,error:4,off:5};let w8=Aw.default,nA=null;function awe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const _8=awe();var kC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(kC||(kC={}));var Aa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Aa||(Aa={}));const E8="0123456789abcdef";let Oy=class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Aw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(w8>Aw[n])&&console.log.apply(console,r)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,r,n){if(b8)return this.makeError("censored error",r,{});r||(r=In.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=E8[l[f]>>4],u+=E8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Aa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Aa.CALL_EXCEPTION:case Aa.INSUFFICIENT_FUNDS:case Aa.MISSING_NEW:case Aa.NONCE_EXPIRED:case Aa.REPLACEMENT_UNDERPRICED:case Aa.TRANSACTION_REPLACED:case Aa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){_8&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return nA||(nA=new In(owe)),nA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),y8){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}b8=!!e,y8=!!r}static setLogLevel(e){const r=Aw[e.toLowerCase()];if(r==null){In.globalLogger().warn("invalid log level - "+e);return}w8=r}static from(e){return new In(e)}};Oy.errors=Aa;Oy.levels=kC;const cwe="bytes/5.8.0",iA=new Oy(cwe);function lwe(t){return!!t.toHexString}function Cw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Cw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function v8(t){return typeof t=="number"&&t==t&&t%1===0}function uwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!v8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!v8(r)||r<0||r>=256)return!1}return!0}function Xm(t,e){if(e||(e={}),typeof t=="number"){iA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Cw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),lwe(t)&&(t=t.toHexString()),fwe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":iA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Cw(new Uint8Array(n))}return uwe(t)?Cw(new Uint8Array(t)):iA.throwArgumentError("invalid arrayify value","value",t)}function fwe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var e1;(function(t){t.sha256="sha256",t.sha512="sha512"})(e1||(e1={}));const dwe="sha2/5.7.0",hwe=new Oy(dwe);function pwe(t){return"0x"+Ye.ripemd160().update(Xm(t)).digest("hex")}function gwe(t){return"0x"+Ye.sha256().update(Xm(t)).digest("hex")}function mwe(t){return"0x"+Ye.sha512().update(Xm(t)).digest("hex")}function ywe(t,e,r){return e1[t]||hwe.throwError("unsupported algorithm "+t,Oy.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],Xm(e)).update(Xm(r)).digest("hex")}const bwe=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return e1},computeHmac:ywe,ripemd160:pwe,sha256:gwe,sha512:mwe},Symbol.toStringTag,{value:"Module"})),wwe="solidity/5.7.0",_we=new RegExp("^bytes([0-9]+)$"),Ewe=new RegExp("^(u?int)([0-9]*)$"),vwe=new RegExp("^(.*)\\[([0-9]*)\\]$"),xwe="0000000000000000000000000000000000000000000000000000000000000000",Hh=new re(wwe);function eF(t,e,r){switch(t){case"address":return r?Zb(e,32):de(e);case"string":return Xr(e);case"bytes":return de(e);case"bool":return e=e?"0x01":"0x00",r?Zb(e,32):de(e)}let n=t.match(Ewe);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Hh.throwArgumentError("invalid number type","type",t),r&&(i=256),e=ve.from(e).toTwos(i),Zb(e,i/8)}if(n=t.match(_we),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Hh.throwArgumentError("invalid bytes type","type",t),de(e).byteLength!==i&&Hh.throwArgumentError(`invalid value for ${t}`,"value",e),r?de((e+xwe).substring(0,66)):e}if(n=t.match(vwe),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Hh.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(eF(i,a,!0))}),Gt(o)}return Hh.throwArgumentError("invalid type","type",t)}function hI(t,e){t.length!=e.length&&Hh.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(eF(n,e[i]))}),ye(Gt(r))}function Awe(t,e){return zt(hI(t,e))}function Cwe(t,e){return Zu(hI(t,e))}const Nwe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Awe,pack:hI,sha256:Cwe},Symbol.toStringTag,{value:"Module"})),Swe="logger/5.8.0";let x8=!1,A8=!1;const Nw={debug:1,default:2,info:2,warning:3,error:4,off:5};let C8=Nw.default,sA=null;function Iwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const N8=Iwe();var MC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(MC||(MC={}));var Ca;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ca||(Ca={}));const S8="0123456789abcdef";let Dy=class Tn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Nw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(C8>Nw[n])&&console.log.apply(console,r)}debug(...e){this._log(Tn.levels.DEBUG,e)}info(...e){this._log(Tn.levels.INFO,e)}warn(...e){this._log(Tn.levels.WARNING,e)}makeError(e,r,n){if(A8)return this.makeError("censored error",r,{});r||(r=Tn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=S8[l[f]>>4],u+=S8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ca.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ca.CALL_EXCEPTION:case Ca.INSUFFICIENT_FUNDS:case Ca.MISSING_NEW:case Ca.NONCE_EXPIRED:case Ca.REPLACEMENT_UNDERPRICED:case Ca.TRANSACTION_REPLACED:case Ca.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){N8&&this.throwError("platform missing String.prototype.normalize",Tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:N8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return sA||(sA=new Tn(Swe)),sA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),x8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}A8=!!e,x8=!!r}static setLogLevel(e){const r=Nw[e.toLowerCase()];if(r==null){Tn.globalLogger().warn("invalid log level - "+e);return}C8=r}static from(e){return new Tn(e)}};Dy.errors=Ca;Dy.levels=MC;const Twe="bytes/5.8.0",oA=new Dy(Twe);function Rwe(t){return!!t.toHexString}function Sw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function I8(t){return typeof t=="number"&&t==t&&t%1===0}function Pwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!I8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!I8(r)||r<0||r>=256)return!1}return!0}function Owe(t,e){if(e||(e={}),typeof t=="number"){oA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Rwe(t)&&(t=t.toHexString()),Dwe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":oA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sw(new Uint8Array(n))}return Pwe(t)?Sw(new Uint8Array(t)):oA.throwArgumentError("invalid arrayify value","value",t)}function Dwe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const kwe="random/5.7.0",UC=new Dy(kwe);function Mwe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const T8=Mwe();let Iw=T8.crypto||T8.msCrypto;(!Iw||!Iw.getRandomValues)&&(UC.warn("WARNING: Missing strong random number source"),Iw={getRandomValues:function(t){return UC.throwError("no secure random source avaialble",Dy.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Uwe(t){(t<=0||t>1024||t%1||t!=t)&&UC.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Iw.getRandomValues(e),Owe(e)}function $we(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const Lwe=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Uwe,shuffled:$we},Symbol.toStringTag,{value:"Module"})),Fwe="logger/5.8.0";let R8=!1,P8=!1;const Tw={debug:1,default:2,info:2,warning:3,error:4,off:5};let O8=Tw.default,aA=null;function Bwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const D8=Bwe();var $C;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})($C||($C={}));var Na;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Na||(Na={}));const k8="0123456789abcdef";let pI=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Tw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(O8>Tw[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if(P8)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=k8[l[f]>>4],u+=k8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Na.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Na.CALL_EXCEPTION:case Na.INSUFFICIENT_FUNDS:case Na.MISSING_NEW:case Na.NONCE_EXPIRED:case Na.REPLACEMENT_UNDERPRICED:case Na.TRANSACTION_REPLACED:case Na.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){D8&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:D8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return aA||(aA=new Rn(Fwe)),aA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P8=!!e,R8=!!r}static setLogLevel(e){const r=Tw[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}O8=r}static from(e){return new Rn(e)}};pI.errors=Na;pI.levels=$C;const jwe="properties/5.7.0";var Hwe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const t1=new pI(jwe);function tF(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Wwe(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function qwe(t){return Hwe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function zwe(t,e){(!t||typeof t!="object")&&t1.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||t1.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Gwe(t){const e={};for(const r in t)e[r]=t[r];return e}const Kwe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function rF(t){if(t==null||Kwe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!rF(n))return!1}return!0}return t1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Vwe(t){if(rF(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>r1(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&tF(e,r,r1(n))}return e}return t1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function r1(t){return Vwe(t)}class Jwe{constructor(e){for(const r in e)this[r]=r1(e[r])}}const Ywe=Object.freeze(Object.defineProperty({__proto__:null,Description:Jwe,checkProperties:zwe,deepCopy:r1,defineReadOnly:tF,getStatic:Wwe,resolveProperties:qwe,shallowCopy:Gwe},Symbol.toStringTag,{value:"Module"})),Xwe="logger/5.8.0";let M8=!1,U8=!1;const Rw={debug:1,default:2,info:2,warning:3,error:4,off:5};let $8=Rw.default,cA=null;function Qwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const L8=Qwe();var LC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(LC||(LC={}));var Sa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sa||(Sa={}));const F8="0123456789abcdef";let Co=class Pn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Rw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!($8>Rw[n])&&console.log.apply(console,r)}debug(...e){this._log(Pn.levels.DEBUG,e)}info(...e){this._log(Pn.levels.INFO,e)}warn(...e){this._log(Pn.levels.WARNING,e)}makeError(e,r,n){if(U8)return this.makeError("censored error",r,{});r||(r=Pn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=F8[l[f]>>4],u+=F8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sa.CALL_EXCEPTION:case Sa.INSUFFICIENT_FUNDS:case Sa.MISSING_NEW:case Sa.NONCE_EXPIRED:case Sa.REPLACEMENT_UNDERPRICED:case Sa.TRANSACTION_REPLACED:case Sa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Pn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){L8&&this.throwError("platform missing String.prototype.normalize",Pn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:L8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Pn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Pn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Pn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cA||(cA=new Pn(Xwe)),cA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),M8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}U8=!!e,M8=!!r}static setLogLevel(e){const r=Rw[e.toLowerCase()];if(r==null){Pn.globalLogger().warn("invalid log level - "+e);return}$8=r}static from(e){return new Pn(e)}};Co.errors=Sa;Co.levels=LC;const Zwe="bytes/5.8.0",h0=new Co(Zwe);function nF(t){return!!t.toHexString}function Pw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Pw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function e_e(t){return mI(t)&&!(t.length%2)||gI(t)}function B8(t){return typeof t=="number"&&t==t&&t%1===0}function gI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!B8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!B8(r)||r<0||r>=256)return!1}return!0}function iF(t,e){if(e||(e={}),typeof t=="number"){h0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Pw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),nF(t)&&(t=t.toHexString()),mI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":h0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Pw(new Uint8Array(n))}return gI(t)?Pw(new Uint8Array(t)):h0.throwArgumentError("invalid arrayify value","value",t)}function mI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const lA="0123456789abcdef";function Ow(t,e){if(e||(e={}),typeof t=="number"){h0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=lA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),nF(t))return t.toHexString();if(mI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":h0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(gI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=lA[(i&240)>>4]+lA[i&15]}return r}return h0.throwArgumentError("invalid hexlify value","value",t)}const t_e="rlp/5.7.0",bc=new Co(t_e);function j8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function H8(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function sF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(sF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=j8(n.length);return i.unshift(247+i.length),i.concat(n)}e_e(t)||bc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(iF(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=j8(e.length);return r.unshift(183+r.length),r.concat(e)}function r_e(t){return Ow(sF(t))}function W8(t,e,r,n){const i=[];for(;r<e+1+n;){const s=oF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&bc.throwError("child data too short",Co.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function oF(t,e){if(t.length===0&&bc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&bc.throwError("data short segment too short",Co.errors.BUFFER_OVERRUN,{});const n=H8(t,e+1,r);return e+1+r+n>t.length&&bc.throwError("data long segment too short",Co.errors.BUFFER_OVERRUN,{}),W8(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{}),W8(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const n=H8(t,e+1,r);e+1+r+n>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const i=Ow(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&bc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{});const n=Ow(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Ow(t[e])}}function n_e(t){const e=iF(t),r=oF(e,0);return r.consumed!==e.length&&bc.throwArgumentError("invalid rlp data","data",t),r.result}const i_e=Object.freeze(Object.defineProperty({__proto__:null,decode:n_e,encode:r_e},Symbol.toStringTag,{value:"Module"}));function tp(t,e,r){return r={path:e,exports:{},require:function(n,i){return s_e(n,i??r.path)}},t(r,r.exports),r.exports}function s_e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var yI=aF;function aF(t,e){if(!t)throw new Error(e||"Assertion failed")}aF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var za=tp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),ro=tp(function(t,e){var r=e;r.assert=yI,r.toArray=za.toArray,r.zero2=za.zero2,r.toHex=za.toHex,r.encode=za.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var d=1<<l+1,h=c.clone(),m=0;m<f.length;m++){var g,b=h.andln(d-1);h.isOdd()?(b>(d>>1)-1?g=(d>>1)-b:g=b,h.isubn(g)):g=0,f[m]=g,h.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var E;(g&1)===0?E=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?E=-g:E=g),u[1].push(E),2*f===b+1&&(f=1-f),2*d===E+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),n1=ro.getNAF,o_e=ro.getJSF,i1=ro.assert;function yf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xd=yf;yf.prototype.point=function(){throw new Error("Not implemented")};yf.prototype.validate=function(){throw new Error("Not implemented")};yf.prototype._fixedNafMul=function(e,r){i1(e.precomputed);var n=e._getDoubles(),i=n1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};yf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=n1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];i1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};yf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=n1(n[m],o[m],this._bitLength),c[g]=n1(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],A=o_e(n[m],n[g]);for(l=Math.max(A[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=A[0][f]|0,T=A[1][f]|0;c[m][f]=E[(S+1)*3+(T+1)],c[g][f]=0,a[m]=b}}var P=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,P=P.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?P=P.mixedAdd(d):P=P.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?P:P.toP()};function Ko(t,e){this.curve=t,this.type=e,this.precomputed=null}yf.BasePoint=Ko;Ko.prototype.eq=function(){throw new Error("Not implemented")};Ko.prototype.validate=function(){return this.curve.validate(this)};yf.prototype.decodePoint=function(e,r){e=ro.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?i1(e[e.length-1]%2===0):e[0]===7&&i1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ko.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ko.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ko.prototype.encode=function(e,r){return ro.encode(this._encode(r),e)};Ko.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ko.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ko.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ko.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ko.prototype._getBeta=function(){return null};Ko.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var bI=tp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),a_e=ro.assert;function Vo(t){Xd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}bI(Vo,Xd);var c_e=Vo;Vo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],a_e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Vo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Vo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,E,A;n.cmpn(0)!==0;){var S=i.div(n);E=i.sub(S.mul(n)),A=a.sub(S.mul(s));var T=c.sub(S.mul(o));if(!f&&E.cmp(r)<0)l=g.neg(),u=s,f=E.neg(),d=A;else if(f&&++b===2)break;g=E,i=n,n=E,a=s,s=A,c=o,o=T}h=E.neg(),m=A;var P=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(P)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Vo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Vo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Vo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Vo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Zn(t,e,r,n){Xd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}bI(Zn,Xd.BasePoint);Vo.prototype.point=function(e,r,n){return new Zn(this,e,r,n)};Vo.prototype.pointFromJSON=function(e,r){return Zn.fromJSON(this,e,r)};Zn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Zn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Zn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Zn.prototype.isInfinity=function(){return this.inf};Zn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Zn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Zn.prototype.getX=function(){return this.x.fromRed()};Zn.prototype.getY=function(){return this.y.fromRed()};Zn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Zn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Zn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Zn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Zn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Zn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yi(t,e,r,n){Xd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}bI(yi,Xd.BasePoint);Vo.prototype.jpoint=function(e,r,n){return new yi(this,e,r,n)};yi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};yi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};yi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),E=g.redISub(b),A=m.redMul(E);A=A.redIAdd(A).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=A}return this.curve.jpoint(o,u.redMul(s),c)};yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),E=h.redIAdd(h);E=E.redIAdd(E),E=E.redIAdd(E),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var E=d.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=m.redMul(g.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};yi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};yi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};yi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};yi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};yi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};yi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Dw=tp(function(t,e){var r=e;r.base=Xd,r.short=c_e,r.mont=null,r.edwards=null}),kw=tp(function(t,e){var r=e,n=ro.assert;function i(a){a.type==="short"?this.curve=new Dw.short(a):a.type==="edwards"?this.curve=new Dw.edwards(a):this.curve=new Dw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function of(t){if(!(this instanceof of))return new of(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=za.toArray(t.entropy,t.entropyEnc||"hex"),r=za.toArray(t.nonce,t.nonceEnc||"hex"),n=za.toArray(t.pers,t.persEnc||"hex");yI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var cF=of;of.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};of.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};of.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};of.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=za.toArray(e,r),n=za.toArray(n,i),yI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};of.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=za.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,za.encode(o,r)};var FC=ro.assert;function Ui(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var wI=Ui;Ui.fromPublic=function(e,r,n){return r instanceof Ui?r:new Ui(e,{pub:r,pubEnc:n})};Ui.fromPrivate=function(e,r,n){return r instanceof Ui?r:new Ui(e,{priv:r,privEnc:n})};Ui.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ui.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ui.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ui.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ui.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?FC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&FC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ui.prototype.derive=function(e){return e.validate()||FC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ui.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ui.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ui.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var l_e=ro.assert;function dE(t,e){if(t instanceof dE)return t;this._importDER(t,e)||(l_e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var hE=dE;function u_e(){this.place=0}function uA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function q8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}dE.prototype._importDER=function(e,r){e=ro.toArray(e,r);var n=new u_e;if(e[n.place++]!==48)return!1;var i=uA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=uA(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=uA(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function fA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}dE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=q8(r),n=q8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];fA(i,r.length),i=i.concat(r),i.push(2),fA(i,n.length);var s=i.concat(n),o=[48];return fA(o,s.length),o=o.concat(s),ro.encode(o,e)};var f_e=(function(){throw new Error("unsupported")}),lF=ro.assert;function Lo(t){if(!(this instanceof Lo))return new Lo(t);typeof t=="string"&&(lF(Object.prototype.hasOwnProperty.call(kw,t),"Unknown curve "+t),t=kw[t]),t instanceof kw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var d_e=Lo;Lo.prototype.keyPair=function(e){return new wI(this,e)};Lo.prototype.keyFromPrivate=function(e,r){return wI.fromPrivate(this,e,r)};Lo.prototype.keyFromPublic=function(e,r){return wI.fromPublic(this,e,r)};Lo.prototype.genKeyPair=function(e){e||(e={});for(var r=new cF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||f_e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Lo.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Lo.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new te(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new cF({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var f=i.k?i.k(u):new te(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),m=h.umod(this.n);if(m.cmpn(0)!==0){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var b=(d.getY().isOdd()?1:0)|(h.cmp(m)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new hE({r:m,s:g,recoveryParam:b})}}}}}};Lo.prototype.verify=function(e,r,n,i){e=this._truncateToN(new te(e,16)),n=this.keyFromPublic(n,i),r=new hE(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Lo.prototype.recoverPubKey=function(t,e,r,n){lF((3&r)===r,"The recovery param is more than two bits"),e=new hE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Lo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new hE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var h_e=tp(function(t,e){var r=e;r.version="6.5.4",r.utils=ro,r.rand=(function(){throw new Error("unsupported")}),r.curve=Dw,r.curves=kw,r.ec=d_e,r.eddsa=null}),p_e=h_e.ec;const g_e="logger/5.8.0";let z8=!1,G8=!1;const Mw={debug:1,default:2,info:2,warning:3,error:4,off:5};let K8=Mw.default,dA=null;function m_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const V8=m_e();var BC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(BC||(BC={}));var Ia;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ia||(Ia={}));const J8="0123456789abcdef";let pE=class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Mw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(K8>Mw[n])&&console.log.apply(console,r)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,r,n){if(G8)return this.makeError("censored error",r,{});r||(r=On.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=J8[l[f]>>4],u+=J8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ia.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ia.CALL_EXCEPTION:case Ia.INSUFFICIENT_FUNDS:case Ia.MISSING_NEW:case Ia.NONCE_EXPIRED:case Ia.REPLACEMENT_UNDERPRICED:case Ia.TRANSACTION_REPLACED:case Ia.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){V8&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:V8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return dA||(dA=new On(g_e)),dA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),z8){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}G8=!!e,z8=!!r}static setLogLevel(e){const r=Mw[e.toLowerCase()];if(r==null){On.globalLogger().warn("invalid log level - "+e);return}K8=r}static from(e){return new On(e)}};pE.errors=Ia;pE.levels=BC;const y_e="bytes/5.8.0",dn=new pE(y_e);function uF(t){return!!t.toHexString}function Sg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function b_e(t){return Hu(t)&&!(t.length%2)||_I(t)}function Y8(t){return typeof t=="number"&&t==t&&t%1===0}function _I(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Y8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Y8(r)||r<0||r>=256)return!1}return!0}function Gi(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uF(t)&&(t=t.toHexString()),Hu(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sg(new Uint8Array(n))}return _I(t)?Sg(new Uint8Array(t)):dn.throwArgumentError("invalid arrayify value","value",t)}function w_e(t,e){t=Gi(t),t.length>e&&dn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Sg(r)}function Hu(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const hA="0123456789abcdef";function Ls(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=hA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uF(t))return t.toHexString();if(Hu(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":dn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_I(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=hA[(i&240)>>4]+hA[i&15]}return r}return dn.throwArgumentError("invalid hexlify value","value",t)}function __e(t){if(typeof t!="string")t=Ls(t);else if(!Hu(t)||t.length%2)return null;return(t.length-2)/2}function p0(t,e){for(typeof t!="string"?t=Ls(t):Hu(t)||dn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&dn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function fF(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(b_e(t)){let r=Gi(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Ls(r.slice(0,32)),e.s=Ls(r.slice(32,64))):r.length===65?(e.r=Ls(r.slice(0,32)),e.s=Ls(r.slice(32,64)),e.v=r[64]):dn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:dn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Ls(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=w_e(Gi(e._vs),32);e._vs=Ls(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&dn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Ls(i);e.s==null?e.s=o:e.s!==o&&dn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?dn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&dn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Hu(e.r)?dn.throwArgumentError("signature missing or invalid r","signature",t):e.r=p0(e.r,32),e.s==null||!Hu(e.s)?dn.throwArgumentError("signature missing or invalid s","signature",t):e.s=p0(e.s,32);const r=Gi(e.s);r[0]>=128&&dn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Ls(r);e._vs&&(Hu(e._vs)||dn.throwArgumentError("signature invalid _vs","signature",t),e._vs=p0(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&dn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Pp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const E_e="signing-key/5.7.0",jC=new pE(E_e);let pA=null;function vc(){return pA||(pA=new p_e("secp256k1")),pA}let dF=class{constructor(e){Pp(this,"curve","secp256k1"),Pp(this,"privateKey",Ls(e)),__e(this.privateKey)!==32&&jC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=vc().keyFromPrivate(Gi(this.privateKey));Pp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Pp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Pp(this,"_isSigningKey",!0)}_addPoint(e){const r=vc().keyFromPublic(Gi(this.publicKey)),n=vc().keyFromPublic(Gi(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=vc().keyFromPrivate(Gi(this.privateKey)),n=Gi(e);n.length!==32&&jC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return fF({recoveryParam:i.recoveryParam,r:p0("0x"+i.r.toString(16),32),s:p0("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=vc().keyFromPrivate(Gi(this.privateKey)),n=vc().keyFromPublic(Gi(hF(e)));return p0("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function v_e(t,e){const r=fF(e),n={r:Gi(r.r),s:Gi(r.s)};return"0x"+vc().recoverPubKey(Gi(t),n,r.recoveryParam).encode("hex",!1)}function hF(t,e){const r=Gi(t);if(r.length===32){const n=new dF(r);return e?"0x"+vc().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Ls(r):"0x"+vc().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+vc().keyFromPublic(r).getPublic(!0,"hex"):Ls(r)}return jC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const x_e=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:dF,computePublicKey:hF,recoverPublicKey:v_e},Symbol.toStringTag,{value:"Module"})),A_e="logger/5.8.0";let X8=!1,Q8=!1;const Uw={debug:1,default:2,info:2,warning:3,error:4,off:5};let Z8=Uw.default,gA=null;function C_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const e4=C_e();var HC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HC||(HC={}));var Ta;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ta||(Ta={}));const t4="0123456789abcdef";let gE=class Dn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Uw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Z8>Uw[n])&&console.log.apply(console,r)}debug(...e){this._log(Dn.levels.DEBUG,e)}info(...e){this._log(Dn.levels.INFO,e)}warn(...e){this._log(Dn.levels.WARNING,e)}makeError(e,r,n){if(Q8)return this.makeError("censored error",r,{});r||(r=Dn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=t4[l[f]>>4],u+=t4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ta.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ta.CALL_EXCEPTION:case Ta.INSUFFICIENT_FUNDS:case Ta.MISSING_NEW:case Ta.NONCE_EXPIRED:case Ta.REPLACEMENT_UNDERPRICED:case Ta.TRANSACTION_REPLACED:case Ta.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Dn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){e4&&this.throwError("platform missing String.prototype.normalize",Dn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:e4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Dn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Dn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Dn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return gA||(gA=new Dn(A_e)),gA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),X8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Q8=!!e,X8=!!r}static setLogLevel(e){const r=Uw[e.toLowerCase()];if(r==null){Dn.globalLogger().warn("invalid log level - "+e);return}Z8=r}static from(e){return new Dn(e)}};gE.errors=Ta;gE.levels=HC;const N_e="bytes/5.8.0",g0=new gE(N_e);function pF(t){return!!t.toHexString}function Ig(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ig(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function r4(t){return typeof t=="number"&&t==t&&t%1===0}function gF(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!r4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!r4(r)||r<0||r>=256)return!1}return!0}function mE(t,e){if(e||(e={}),typeof t=="number"){g0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ig(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pF(t)&&(t=t.toHexString()),mF(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":g0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ig(new Uint8Array(n))}return gF(t)?Ig(new Uint8Array(t)):g0.throwArgumentError("invalid arrayify value","value",t)}function S_e(t){const e=t.map(i=>mE(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ig(n)}function mF(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const mA="0123456789abcdef";function I_e(t,e){if(e||(e={}),typeof t=="number"){g0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=mA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pF(t))return t.toHexString();if(mF(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":g0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(gF(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=mA[(i&240)>>4]+mA[i&15]}return r}return g0.throwArgumentError("invalid hexlify value","value",t)}const T_e="0x0000000000000000000000000000000000000000000000000000000000000000",R_e="strings/5.7.0",yF=new gE(R_e);var Ld;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ld||(Ld={}));var xs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(xs||(xs={}));function P_e(t,e,r,n,i){return yF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function bF(t,e,r,n,i){if(t===xs.BAD_PREFIX||t===xs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===xs.OVERRUN?r.length-e-1:0}function O_e(t,e,r,n,i){return t===xs.OVERLONG?(n.push(i),0):(n.push(65533),bF(t,e,r))}const wF=Object.freeze({error:P_e,ignore:bF,replace:O_e});function EI(t,e){e==null&&(e=wF.error),t=mE(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(xs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(xs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(xs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(xs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(xs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(xs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(xs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function yE(t,e=Ld.current){e!=Ld.current&&(yF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return mE(r)}function yA(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function D_e(t,e){return'"'+EI(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?yA(r):(r-=65536,yA((r>>10&1023)+55296)+yA((r&1023)+56320))}).join("")+'"'}function WC(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function _F(t,e){return WC(EI(t,e))}function qC(t,e=Ld.current){return EI(yE(t,e))}function k_e(t){const e=yE(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return I_e(S_e([e,T_e]).slice(0,32))}function M_e(t){const e=mE(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return _F(e.slice(0,r))}function U_e(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function vI(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function EF(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function xI(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const $_e=EF("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),L_e="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),F_e=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],B_e=vI("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),j_e=vI("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),H_e=vI("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",U_e),W_e=EF("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function q_e(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function z_e(t){return!!xI(t,$_e)}function G_e(t){let e=xI(t,F_e);if(e)return[t+e.s];let r=B_e[t];if(r)return r;let n=j_e[t];if(n)return[t+n[0]];let i=H_e[t];return i||null}function K_e(t){return!!xI(t,W_e)}function V_e(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=qC(t);e=q_e(e.map(n=>{if(L_e.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=G_e(n);return i||[n]})),e=qC(WC(e),Ld.NFKC),e.forEach(n=>{if(K_e(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(z_e(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=WC(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const J_e=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Ld},Utf8ErrorFuncs:wF,get Utf8ErrorReason(){return xs},_toEscapedUtf8String:D_e,formatBytes32String:k_e,nameprep:V_e,parseBytes32String:M_e,toUtf8Bytes:yE,toUtf8CodePoints:qC,toUtf8String:_F},Symbol.toStringTag,{value:"Module"})),Y_e="logger/5.8.0";let n4=!1,i4=!1;const $w={debug:1,default:2,info:2,warning:3,error:4,off:5};let s4=$w.default,bA=null;function X_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const o4=X_e();var zC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(zC||(zC={}));var Ra;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ra||(Ra={}));const a4="0123456789abcdef";let Lr=class kn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();$w[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(s4>$w[n])&&console.log.apply(console,r)}debug(...e){this._log(kn.levels.DEBUG,e)}info(...e){this._log(kn.levels.INFO,e)}warn(...e){this._log(kn.levels.WARNING,e)}makeError(e,r,n){if(i4)return this.makeError("censored error",r,{});r||(r=kn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=a4[l[f]>>4],u+=a4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ra.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ra.CALL_EXCEPTION:case Ra.INSUFFICIENT_FUNDS:case Ra.MISSING_NEW:case Ra.NONCE_EXPIRED:case Ra.REPLACEMENT_UNDERPRICED:case Ra.TRANSACTION_REPLACED:case Ra.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,kn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){o4&&this.throwError("platform missing String.prototype.normalize",kn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:o4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,kn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,kn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",kn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return bA||(bA=new kn(Y_e)),bA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n4){if(!e)return;this.globalLogger().throwError("error censorship permanent",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i4=!!e,n4=!!r}static setLogLevel(e){const r=$w[e.toLowerCase()];if(r==null){kn.globalLogger().warn("invalid log level - "+e);return}s4=r}static from(e){return new kn(e)}};Lr.errors=Ra;Lr.levels=zC;const Q_e="bytes/5.8.0",tn=new Lr(Q_e);function vF(t){return!!t.toHexString}function Tg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function AI(t){return Po(t)&&!(t.length%2)||bE(t)}function c4(t){return typeof t=="number"&&t==t&&t%1===0}function bE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!c4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!c4(r)||r<0||r>=256)return!1}return!0}function kr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Tg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vF(t)&&(t=t.toHexString()),Po(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":tn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Tg(new Uint8Array(n))}return bE(t)?Tg(new Uint8Array(t)):tn.throwArgumentError("invalid arrayify value","value",t)}function Wu(t){let e=kr(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Z_e(t,e){t=kr(t),t.length>e&&tn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Tg(r)}function Po(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const wA="0123456789abcdef";function nr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vF(t))return t.toHexString();if(Po(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":tn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(bE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wA[(i&240)>>4]+wA[i&15]}return r}return tn.throwArgumentError("invalid hexlify value","value",t)}function xF(t){if(typeof t!="string")t=nr(t);else if(!Po(t)||t.length%2)return null;return(t.length-2)/2}function l4(t,e,r){return typeof t!="string"?t=nr(t):(!Po(t)||t.length%2)&&tn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function AF(t){let e="0x";return t.forEach(r=>{e+=nr(r).substring(2)}),e}function Mc(t,e){for(typeof t!="string"?t=nr(t):Po(t)||tn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&tn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ky(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(AI(t)){let r=kr(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64))):r.length===65?(e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64)),e.v=r[64]):tn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:tn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=nr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Z_e(kr(e._vs),32);e._vs=nr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&tn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=nr(i);e.s==null?e.s=o:e.s!==o&&tn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?tn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&tn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Po(e.r)?tn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Mc(e.r,32),e.s==null||!Po(e.s)?tn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Mc(e.s,32);const r=kr(e.s);r[0]>=128&&tn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=nr(r);e._vs&&(Po(e._vs)||tn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Mc(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&tn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const e1e="bignumber/5.8.0";var s1=te.BN;const ml=new Lr(e1e),_A={},u4=9007199254740991;let f4=!1,Uc=class fa{constructor(e,r){e!==_A&&ml.throwError("cannot call constructor directly; use BigNumber.from",Lr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return hs(wt(this).fromTwos(e))}toTwos(e){return hs(wt(this).toTwos(e))}abs(){return this._hex[0]==="-"?fa.from(this._hex.substring(1)):this}add(e){return hs(wt(this).add(wt(e)))}sub(e){return hs(wt(this).sub(wt(e)))}div(e){return fa.from(e).isZero()&&po("division-by-zero","div"),hs(wt(this).div(wt(e)))}mul(e){return hs(wt(this).mul(wt(e)))}mod(e){const r=wt(e);return r.isNeg()&&po("division-by-zero","mod"),hs(wt(this).umod(r))}pow(e){const r=wt(e);return r.isNeg()&&po("negative-power","pow"),hs(wt(this).pow(r))}and(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","and"),hs(wt(this).and(r))}or(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","or"),hs(wt(this).or(r))}xor(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","xor"),hs(wt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&po("negative-width","mask"),hs(wt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&po("negative-width","shl"),hs(wt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&po("negative-width","shr"),hs(wt(this).shrn(e))}eq(e){return wt(this).eq(wt(e))}lt(e){return wt(this).lt(wt(e))}lte(e){return wt(this).lte(wt(e))}gt(e){return wt(this).gt(wt(e))}gte(e){return wt(this).gte(wt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return wt(this).isZero()}toNumber(){try{return wt(this).toNumber()}catch{po("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ml.throwError("this platform does not support BigInt",Lr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?f4||(f4=!0,ml.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ml.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Lr.errors.UNEXPECTED_ARGUMENT,{}):ml.throwError("BigNumber.toString does not accept parameters",Lr.errors.UNEXPECTED_ARGUMENT,{})),wt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new fa(_A,Qm(e)):e.match(/^-?[0-9]+$/)?new fa(_A,Qm(new s1(e))):ml.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&po("underflow","BigNumber.from",e),(e>=u4||e<=-u4)&&po("overflow","BigNumber.from",e),fa.from(String(e));const r=e;if(typeof r=="bigint")return fa.from(r.toString());if(bE(r))return fa.from(nr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return fa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Po(n)||n[0]==="-"&&Po(n.substring(1))))return fa.from(n)}return ml.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Qm(t){if(typeof t!="string")return Qm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ml.throwArgumentError("invalid hex","value",t),t=Qm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function hs(t){return Uc.from(Qm(t))}function wt(t){const e=Uc.from(t).toHexString();return e[0]==="-"?new s1("-"+e.substring(3),16):new s1(e.substring(2),16)}function po(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ml.throwError(t,Lr.errors.NUMERIC_FAULT,n)}function t1e(t){return new s1(t,36).toString(16)}function Fd(t){return"0x"+K0.keccak_256(kr(t))}const r1e="rlp/5.8.0",wc=new Lr(r1e);function d4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function h4(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function CF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(CF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=d4(n.length);return i.unshift(247+i.length),i.concat(n)}AI(t)||wc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(kr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=d4(e.length);return r.unshift(183+r.length),r.concat(e)}function Zm(t){return nr(CF(t))}function p4(t,e,r,n){const i=[];for(;r<e+1+n;){const s=NF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&wc.throwError("child data too short",Lr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function NF(t,e){if(t.length===0&&wc.throwError("data too short",Lr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&wc.throwError("data short segment too short",Lr.errors.BUFFER_OVERRUN,{});const n=h4(t,e+1,r);return e+1+r+n>t.length&&wc.throwError("data long segment too short",Lr.errors.BUFFER_OVERRUN,{}),p4(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&wc.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{}),p4(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&wc.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{});const n=h4(t,e+1,r);e+1+r+n>t.length&&wc.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{});const i=nr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&wc.throwError("data too short",Lr.errors.BUFFER_OVERRUN,{});const n=nr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:nr(t[e])}}function CI(t){const e=kr(t),r=NF(e,0);return r.consumed!==e.length&&wc.throwArgumentError("invalid rlp data","data",t),r.result}const n1e="address/5.8.0",Jp=new Lr(n1e);function g4(t){Po(t,20)||Jp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=kr(Fd(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const i1e=9007199254740991;function s1e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const NI={};for(let t=0;t<10;t++)NI[String(t)]=String(t);for(let t=0;t<26;t++)NI[String.fromCharCode(65+t)]=String(10+t);const m4=Math.floor(s1e(i1e));function o1e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>NI[n]).join("");for(;e.length>=m4;){let n=e.substring(0,m4);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function My(t){let e=null;if(typeof t!="string"&&Jp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=g4(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Jp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==o1e(t)&&Jp.throwArgumentError("bad icap checksum","address",t),e=t1e(t.substring(4));e.length<40;)e="0"+e;e=g4("0x"+e)}else Jp.throwArgumentError("invalid address","address",t);return e}const a1e=Uc.from(0),c1e="properties/5.8.0",y4=new Lr(c1e);function Op(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function l1e(t,e){(!t||typeof t!="object")&&y4.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||y4.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function rp(t,e,r){return r={path:e,exports:{},require:function(n,i){return u1e(n,i??r.path)}},t(r,r.exports),r.exports}function u1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var SI=SF;function SF(t,e){if(!t)throw new Error(e||"Assertion failed")}SF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ga=rp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),no=rp(function(t,e){var r=e;r.assert=SI,r.toArray=Ga.toArray,r.zero2=Ga.zero2,r.toHex=Ga.toHex,r.encode=Ga.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var E;(g&1)===0?E=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?E=-g:E=g),u[1].push(E),2*f===b+1&&(f=1-f),2*d===E+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),o1=no.getNAF,f1e=no.getJSF,a1=no.assert;function bf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qd=bf;bf.prototype.point=function(){throw new Error("Not implemented")};bf.prototype.validate=function(){throw new Error("Not implemented")};bf.prototype._fixedNafMul=function(e,r){a1(e.precomputed);var n=e._getDoubles(),i=o1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};bf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=o1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];a1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};bf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=o1(n[m],o[m],this._bitLength),c[g]=o1(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],A=f1e(n[m],n[g]);for(l=Math.max(A[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=A[0][f]|0,T=A[1][f]|0;c[m][f]=E[(S+1)*3+(T+1)],c[g][f]=0,a[m]=b}}var P=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,P=P.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?P=P.mixedAdd(d):P=P.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?P:P.toP()};function Jo(t,e){this.curve=t,this.type=e,this.precomputed=null}bf.BasePoint=Jo;Jo.prototype.eq=function(){throw new Error("Not implemented")};Jo.prototype.validate=function(){return this.curve.validate(this)};bf.prototype.decodePoint=function(e,r){e=no.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?a1(e[e.length-1]%2===0):e[0]===7&&a1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Jo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Jo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Jo.prototype.encode=function(e,r){return no.encode(this._encode(r),e)};Jo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Jo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Jo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Jo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Jo.prototype._getBeta=function(){return null};Jo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var II=rp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),d1e=no.assert;function Yo(t){Qd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}II(Yo,Qd);var h1e=Yo;Yo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],d1e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Yo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Yo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,E,A;n.cmpn(0)!==0;){var S=i.div(n);E=i.sub(S.mul(n)),A=a.sub(S.mul(s));var T=c.sub(S.mul(o));if(!f&&E.cmp(r)<0)l=g.neg(),u=s,f=E.neg(),d=A;else if(f&&++b===2)break;g=E,i=n,n=E,a=s,s=A,c=o,o=T}h=E.neg(),m=A;var P=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(P)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Yo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Yo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Yo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Yo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ei(t,e,r,n){Qd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}II(ei,Qd.BasePoint);Yo.prototype.point=function(e,r,n){return new ei(this,e,r,n)};Yo.prototype.pointFromJSON=function(e,r){return ei.fromJSON(this,e,r)};ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ei.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ei.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function bi(t,e,r,n){Qd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}II(bi,Qd.BasePoint);Yo.prototype.jpoint=function(e,r,n){return new bi(this,e,r,n)};bi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};bi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};bi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};bi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};bi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),E=g.redISub(b),A=m.redMul(E);A=A.redIAdd(A).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=A}return this.curve.jpoint(o,u.redMul(s),c)};bi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};bi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),E=h.redIAdd(h);E=E.redIAdd(E),E=E.redIAdd(E),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};bi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var E=d.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=m.redMul(g.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};bi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};bi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};bi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};bi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};bi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};bi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Lw=rp(function(t,e){var r=e;r.base=Qd,r.short=h1e,r.mont=null,r.edwards=null}),Fw=rp(function(t,e){var r=e,n=no.assert;function i(a){a.type==="short"?this.curve=new Lw.short(a):a.type==="edwards"?this.curve=new Lw.edwards(a):this.curve=new Lw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function af(t){if(!(this instanceof af))return new af(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ga.toArray(t.entropy,t.entropyEnc||"hex"),r=Ga.toArray(t.nonce,t.nonceEnc||"hex"),n=Ga.toArray(t.pers,t.persEnc||"hex");SI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var IF=af;af.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};af.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};af.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};af.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ga.toArray(e,r),n=Ga.toArray(n,i),SI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};af.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ga.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ga.encode(o,r)};var GC=no.assert;function $i(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var TI=$i;$i.fromPublic=function(e,r,n){return r instanceof $i?r:new $i(e,{pub:r,pubEnc:n})};$i.fromPrivate=function(e,r,n){return r instanceof $i?r:new $i(e,{priv:r,privEnc:n})};$i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};$i.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};$i.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};$i.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};$i.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?GC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&GC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};$i.prototype.derive=function(e){return e.validate()||GC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};$i.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};$i.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};$i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var p1e=no.assert;function wE(t,e){if(t instanceof wE)return t;this._importDER(t,e)||(p1e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var _E=wE;function g1e(){this.place=0}function EA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function b4(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}wE.prototype._importDER=function(e,r){e=no.toArray(e,r);var n=new g1e;if(e[n.place++]!==48)return!1;var i=EA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=EA(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=EA(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function vA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}wE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=b4(r),n=b4(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];vA(i,r.length),i=i.concat(r),i.push(2),vA(i,n.length);var s=i.concat(n),o=[48];return vA(o,s.length),o=o.concat(s),no.encode(o,e)};var m1e=(function(){throw new Error("unsupported")}),nd=no.assert;function Fo(t){if(!(this instanceof Fo))return new Fo(t);typeof t=="string"&&(nd(Object.prototype.hasOwnProperty.call(Fw,t),"Unknown curve "+t),t=Fw[t]),t instanceof Fw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var y1e=Fo;Fo.prototype.keyPair=function(e){return new TI(this,e)};Fo.prototype.keyFromPrivate=function(e,r){return TI.fromPrivate(this,e,r)};Fo.prototype.keyFromPublic=function(e,r){return TI.fromPublic(this,e,r)};Fo.prototype.genKeyPair=function(e){e||(e={});for(var r=new IF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||m1e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Fo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Fo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){nd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),nd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)nd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),nd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);nd(new te(c).eq(e),"Can not sign message");for(var l=new IF({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var E=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),E^=1),new _E({r:g,s:b,recoveryParam:E})}}}}}};Fo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new _E(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Fo.prototype.recoverPubKey=function(t,e,r,n){nd((3&r)===r,"The recovery param is more than two bits"),e=new _E(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Fo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new _E(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var b1e=rp(function(t,e){var r=e;r.version="6.6.1",r.utils=no,r.rand=(function(){throw new Error("unsupported")}),r.curve=Lw,r.curves=Fw,r.ec=y1e,r.eddsa=null}),w1e=b1e.ec;const _1e="signing-key/5.8.0",KC=new Lr(_1e);let xA=null;function Iu(){return xA||(xA=new w1e("secp256k1")),xA}class E1e{constructor(e){Op(this,"curve","secp256k1"),Op(this,"privateKey",nr(e)),xF(this.privateKey)!==32&&KC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Iu().keyFromPrivate(kr(this.privateKey));Op(this,"publicKey","0x"+r.getPublic(!1,"hex")),Op(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Op(this,"_isSigningKey",!0)}_addPoint(e){const r=Iu().keyFromPublic(kr(this.publicKey)),n=Iu().keyFromPublic(kr(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Iu().keyFromPrivate(kr(this.privateKey)),n=kr(e);n.length!==32&&KC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return ky({recoveryParam:i.recoveryParam,r:Mc("0x"+i.r.toString(16),32),s:Mc("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Iu().keyFromPrivate(kr(this.privateKey)),n=Iu().keyFromPublic(kr(TF(e)));return Mc("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function v1e(t,e){const r=ky(e),n={r:kr(r.r),s:kr(r.s)};return"0x"+Iu().recoverPubKey(kr(t),n,r.recoveryParam).encode("hex",!1)}function TF(t,e){const r=kr(t);return r.length===32?new E1e(r).publicKey:r.length===33?"0x"+Iu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?nr(r):KC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const x1e="transactions/5.7.0",Oi=new Lr(x1e);var VC;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(VC||(VC={}));function RI(t){return t==="0x"?null:My(t)}function Ti(t){return t==="0x"?a1e:Uc.from(t)}const A1e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],C1e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function RF(t){const e=TF(t);return My(l4(Fd(l4(e,1)),12))}function PI(t,e){return RF(v1e(kr(t),e))}function Hs(t,e){const r=Wu(Uc.from(t).toHexString());return r.length>32&&Oi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function AA(t,e){return{address:My(t),storageKeys:(e||[]).map((r,n)=>(xF(r)!==32&&Oi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function EE(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Oi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),AA(r[0],r[1])):AA(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return AA(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function PF(t){return EE(t).map(e=>[e.address,e.storageKeys])}function OF(t,e){if(t.gasPrice!=null){const n=Uc.from(t.gasPrice),i=Uc.from(t.maxFeePerGas||0);n.eq(i)||Oi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Hs(t.chainId||0,"chainId"),Hs(t.nonce||0,"nonce"),Hs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Hs(t.maxFeePerGas||0,"maxFeePerGas"),Hs(t.gasLimit||0,"gasLimit"),t.to!=null?My(t.to):"0x",Hs(t.value||0,"value"),t.data||"0x",PF(t.accessList||[])];if(e){const n=ky(e);r.push(Hs(n.recoveryParam,"recoveryParam")),r.push(Wu(n.r)),r.push(Wu(n.s))}return AF(["0x02",Zm(r)])}function DF(t,e){const r=[Hs(t.chainId||0,"chainId"),Hs(t.nonce||0,"nonce"),Hs(t.gasPrice||0,"gasPrice"),Hs(t.gasLimit||0,"gasLimit"),t.to!=null?My(t.to):"0x",Hs(t.value||0,"value"),t.data||"0x",PF(t.accessList||[])];if(e){const n=ky(e);r.push(Hs(n.recoveryParam,"recoveryParam")),r.push(Wu(n.r)),r.push(Wu(n.s))}return AF(["0x01",Zm(r)])}function N1e(t,e){l1e(t,C1e);const r=[];A1e.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=kr(nr(a,c)),o.length&&a.length!==o.length&&a.length>0&&Oi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Wu(a),a.length>o.maxLength&&Oi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(nr(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Oi.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!AI(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(nr(n)),r.push("0x"),r.push("0x")),!e)return Zm(r);const i=ky(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Oi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Oi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(nr(s)),r.push(Wu(kr(i.r))),r.push(Wu(kr(i.s))),Zm(r)}function S1e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Oi.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),N1e(t,e);switch(t.type){case 1:return DF(t,e);case 2:return OF(t,e)}return Oi.throwError(`unsupported transaction type: ${t.type}`,Lr.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function kF(t,e,r){try{const n=Ti(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Oi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Mc(e[1],32),t.s=Mc(e[2],32);try{const n=Fd(r(t));t.from=PI(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function I1e(t){const e=CI(t.slice(1));e.length!==9&&e.length!==12&&Oi.throwArgumentError("invalid component count for transaction type: 2","payload",nr(t));const r=Ti(e[2]),n=Ti(e[3]),i={type:2,chainId:Ti(e[0]).toNumber(),nonce:Ti(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ti(e[4]),to:RI(e[5]),value:Ti(e[6]),data:e[7],accessList:EE(e[8])};return e.length===9||(i.hash=Fd(t),kF(i,e.slice(9),OF)),i}function T1e(t){const e=CI(t.slice(1));e.length!==8&&e.length!==11&&Oi.throwArgumentError("invalid component count for transaction type: 1","payload",nr(t));const r={type:1,chainId:Ti(e[0]).toNumber(),nonce:Ti(e[1]).toNumber(),gasPrice:Ti(e[2]),gasLimit:Ti(e[3]),to:RI(e[4]),value:Ti(e[5]),data:e[6],accessList:EE(e[7])};return e.length===8||(r.hash=Fd(t),kF(r,e.slice(8),DF)),r}function R1e(t){const e=CI(t);e.length!==9&&e.length!==6&&Oi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ti(e[0]).toNumber(),gasPrice:Ti(e[1]),gasLimit:Ti(e[2]),to:RI(e[3]),value:Ti(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Uc.from(e[6]).toNumber()}catch{return r}if(r.r=Mc(e[7],32),r.s=Mc(e[8],32),Uc.from(r.r).isZero()&&Uc.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(nr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Fd(Zm(i));try{r.from=PI(s,{r:nr(r.r),s:nr(r.s),recoveryParam:n})}catch{}r.hash=Fd(t)}return r.type=null,r}function P1e(t){const e=kr(t);if(e[0]>127)return R1e(e);switch(e[0]){case 1:return T1e(e);case 2:return I1e(e)}return Oi.throwError(`unsupported transaction type: ${e[0]}`,Lr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const O1e=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return VC},accessListify:EE,computeAddress:RF,parse:P1e,recoverAddress:PI,serialize:S1e},Symbol.toStringTag,{value:"Module"})),D1e="units/5.7.0",MF=new re(D1e),UF=["wei","kwei","mwei","gwei","szabo","finney","ether"];function k1e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&MF.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function OI(t,e){if(typeof e=="string"){const r=UF.indexOf(e);r!==-1&&(e=3*r)}return ew(t,e??18)}function DI(t,e){if(typeof t!="string"&&MF.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=UF.indexOf(e);r!==-1&&(e=3*r)}return hc(t,e??18)}function M1e(t){return OI(t,18)}function U1e(t){return DI(t,18)}const $1e=Object.freeze(Object.defineProperty({__proto__:null,commify:k1e,formatEther:M1e,formatUnits:OI,parseEther:U1e,parseUnits:DI},Symbol.toStringTag,{value:"Module"})),L1e="logger/5.8.0";let w4=!1,_4=!1;const Bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let E4=Bw.default,CA=null;function F1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const v4=F1e();var JC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(JC||(JC={}));var Pa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Pa||(Pa={}));const x4="0123456789abcdef";class Ft{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Bw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E4>Bw[n])&&console.log.apply(console,r)}debug(...e){this._log(Ft.levels.DEBUG,e)}info(...e){this._log(Ft.levels.INFO,e)}warn(...e){this._log(Ft.levels.WARNING,e)}makeError(e,r,n){if(_4)return this.makeError("censored error",r,{});r||(r=Ft.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=x4[l[f]>>4],u+=x4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Pa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pa.CALL_EXCEPTION:case Pa.INSUFFICIENT_FUNDS:case Pa.MISSING_NEW:case Pa.NONCE_EXPIRED:case Pa.REPLACEMENT_UNDERPRICED:case Pa.TRANSACTION_REPLACED:case Pa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ft.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){v4&&this.throwError("platform missing String.prototype.normalize",Ft.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:v4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ft.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ft.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ft.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return CA||(CA=new Ft(L1e)),CA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_4=!!e,w4=!!r}static setLogLevel(e){const r=Bw[e.toLowerCase()];if(r==null){Ft.globalLogger().warn("invalid log level - "+e);return}E4=r}static from(e){return new Ft(e)}}Ft.errors=Pa;Ft.levels=JC;const B1e="bytes/5.8.0",m0=new Ft(B1e);function $F(t){return!!t.toHexString}function jw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return jw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function j1e(t){return MI(t)&&!(t.length%2)||kI(t)}function A4(t){return typeof t=="number"&&t==t&&t%1===0}function kI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!A4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!A4(r)||r<0||r>=256)return!1}return!0}function Uy(t,e){if(e||(e={}),typeof t=="number"){m0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),jw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$F(t)&&(t=t.toHexString()),MI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":m0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return jw(new Uint8Array(n))}return kI(t)?jw(new Uint8Array(t)):m0.throwArgumentError("invalid arrayify value","value",t)}function MI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const NA="0123456789abcdef";function H1e(t,e){if(e||(e={}),typeof t=="number"){m0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=NA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$F(t))return t.toHexString();if(MI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":m0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(kI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=NA[(i&240)>>4]+NA[i&15]}return r}return m0.throwArgumentError("invalid hexlify value","value",t)}function W1e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Uy(e)}function q1e(t){t=Uy(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function c1(t){const e={};for(const r in t)e[r]=t[r];return e}const z1e="strings/5.8.0",LF=new Ft(z1e);var l1;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(l1||(l1={}));var Ws;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ws||(Ws={}));function G1e(t,e,r,n,i){return LF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function FF(t,e,r,n,i){if(t===Ws.BAD_PREFIX||t===Ws.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Ws.OVERRUN?r.length-e-1:0}function K1e(t,e,r,n,i){return t===Ws.OVERLONG?(n.push(i),0):(n.push(65533),FF(t,e,r))}const V1e=Object.freeze({error:G1e,ignore:FF,replace:K1e});function J1e(t,e){e==null&&(e=V1e.error),t=Uy(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Ws.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ws.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ws.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Ws.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Ws.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ws.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ws.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function UI(t,e=l1.current){e!=l1.current&&(LF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Uy(r)}function Y1e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function BF(t,e){return Y1e(J1e(t,e))}const X1e="web/5.7.1";var Q1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function Z1e(t,e){return Q1e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Uy(new Uint8Array(i))}})}var eEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const da=new Ft(X1e);function C4(t){return new Promise(e=>{setTimeout(e,t)})}function hu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(j1e(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return BF(t)}catch{}return H1e(t)}return t}function tEe(t){return UI(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function jF(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;da.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;da.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&da.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const E in t.headers)a[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&da.throwError("basic authentication requires a secure https url",Ft.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+q1e(UI(E))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=c1(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?W1e(h[3]):tEe(h[3])};let A=E.body;return r&&(A=r(E.body,E)),Promise.resolve(A)}catch(E){da.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:hu(h[1],h[2]),error:E,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(E=>{const A=a[E];m[A.key]=A.value}),l.headers=m;const g=(function(){let E=null;return{promise:new Promise(function(T,P){f&&(E=setTimeout(()=>{E!=null&&(E=null,P(da.makeError("timeout",Ft.errors.TIMEOUT,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}})(),b=(function(){return eEe(this,void 0,void 0,function*(){for(let E=0;E<n;E++){let A=null;try{if(A=yield Z1e(c,l),E<n){if(A.statusCode===301||A.statusCode===302){const T=A.headers.location||"";if(l.method==="GET"&&T.match(/^https:/)){c=A.headers.location;continue}}else if(A.statusCode===429){let T=!0;if(i&&(T=yield i(E,c)),T){let P=0;const k=A.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?P=parseInt(k)*1e3:P=s*parseInt(String(Math.random()*Math.pow(2,E))),yield C4(P);continue}}}}catch(T){A=T.response,A==null&&(g.cancel(),da.throwError("missing response",Ft.errors.SERVER_ERROR,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,serverError:T,url:c}))}let S=A.body;if(u&&A.statusCode===304?S=null:!o&&(A.statusCode<200||A.statusCode>=300)&&(g.cancel(),da.throwError("bad response",Ft.errors.SERVER_ERROR,{status:A.statusCode,headers:A.headers,body:hu(S,A.headers?A.headers["content-type"]:null),requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const T=yield r(S,A);return g.cancel(),T}catch(T){if(T.throttleRetry&&E<n){let P=!0;if(i&&(P=yield i(E,c)),P){const k=s*parseInt(String(Math.random()*Math.pow(2,E)));yield C4(k);continue}}g.cancel(),da.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:hu(S,A.headers?A.headers["content-type"]:null),error:T,requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return da.throwError("failed response",Ft.errors.SERVER_ERROR,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function rEe(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(BF(s))}catch(c){da.throwError("invalid JSON",Ft.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=UI(e);const s=typeof t=="string"?{url:t}:c1(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=c1(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return jF(t,i,n)}function nEe(t,e){return e||(e={}),e=c1(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}const iEe=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:jF,fetchJson:rEe,poll:nEe},Symbol.toStringTag,{value:"Module"}));var Zc={};const sEe=Kr(Vge),oEe=Kr(pme),aEe=Kr(xme),cEe=Kr(Ome),lEe=Kr(Hme),uEe=Kr(qye),fEe=Kr(Mbe),dEe=Kr(Kbe),hEe=Kr(rwe),pEe=Kr(swe),N4=Kr(bwe),gEe=Kr(Nwe),mEe=Kr(Lwe),yEe=Kr(Ywe),bEe=Kr(i_e),wEe=Kr(x_e),S4=Kr(J_e),_Ee=Kr(O1e),EEe=Kr($1e),vEe=Kr(rge),xEe=Kr(iEe);var I4;function AEe(){return I4||(I4=1,(function(t){var e=Zc&&Zc.__createBinding||(Object.create?(function($,O,C,p){p===void 0&&(p=C),Object.defineProperty($,p,{enumerable:!0,get:function(){return O[C]}})}):(function($,O,C,p){p===void 0&&(p=C),$[p]=O[C]})),r=Zc&&Zc.__setModuleDefault||(Object.create?(function($,O){Object.defineProperty($,"default",{enumerable:!0,value:O})}):function($,O){$.default=O}),n=Zc&&Zc.__importStar||function($){if($&&$.__esModule)return $;var O={};if($!=null)for(var C in $)C!=="default"&&Object.prototype.hasOwnProperty.call($,C)&&e(O,$,C);return r(O,$),O};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=sEe;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=oEe;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(aEe);t.base64=o;var a=cEe;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=lEe;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=uEe;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=fEe;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var f=dEe;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var d=hEe;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var h=pEe;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=N4;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=gEe;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var b=mEe;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var E=yEe;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return E.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return E.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return E.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return E.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return E.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return E.shallowCopy}});var A=n(bEe);t.RLP=A;var S=wEe;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return S.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return S.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return S.SigningKey}});var T=S4;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return T.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return T.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return T.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return T._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return T.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return T.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return T.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return T.Utf8ErrorFuncs}});var P=_Ee;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return P.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return P.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return P.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return P.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return P.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return P.TransactionTypes}});var k=EEe;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return k.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return k.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return k.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return k.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return k.parseUnits}});var F=vEe;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return F.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return F.verifyTypedData}});var N=xEe;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return N._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return N.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return N.poll}});var v=N4;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return v.SupportedAlgorithm}});var M=S4;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return M.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return M.Utf8ErrorReason}})})(Zc)),Zc}var CEe=AEe();const Ch={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=To(t)?t:ci(yE(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new xg(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0};return(await(await new xg(e,n).getSigner(r).sendTransaction(i)).wait())?.blockHash||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new xg(e,n).getSigner(r),o=new Fh(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>DI(t,e).toBigInt(),formatUnits:OI};class NEe extends W7{constructor(){super({adapterType:ae.ADAPTER_TYPES.ETHERS5,namespace:ae.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){const{SafeProvider:a}=await Gn(async()=>{const{SafeProvider:d}=await import("./SafeProvider-ByO6uc4X.js");return{SafeProvider:d}},__vite__mapDeps([50,51,52]),import.meta.url),{default:c}=await Gn(async()=>{const{default:d}=await import("./index-BcwZJ17s.js");return{default:d}},__vite__mapDeps([53,51]),import.meta.url),l=new c,u=await l.safe.getInfo(),f=new a(u,l);return await f.connect().catch(d=>{console.info("Failed to auto-connect to Safe:",d)}),f}async function s(){try{const{createCoinbaseWalletSDK:a}=await Gn(async()=>{const{createCoinbaseWalletSDK:l}=await import("./index-C8W0QWUc.js");return{createCoinbaseWalletSDK:l}},__vite__mapDeps([54,52,1]),import.meta.url);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(l=>l.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=n()),e.enableCoinbase!==!1){const a=await s();a&&(o.coinbase=a)}if(Pe.isSafeApp()){const a=await i();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await Ch.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await Ch.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Me.state.address},e.provider,Me.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:r}=Vi.parseCaipAddress(e.caipAddress);return{hash:await Ch.writeContract(e,e.provider,r,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await Ch.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Ch.parseUnits(e.value,e.decimals)}formatUnits(e){return Ch.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(r,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(n=>n!=="metadata"&&n!=="EIP6963").forEach(n=>{const i=n==="coinbase"?"coinbaseWalletSDK":n,s=n===ae.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:xc.ConnectorExplorerIds[i],imageUrl:e?.connectorImages?.[i],name:xc.ConnectorNamesMap[i]||"Unknown",imageId:xc.ConnectorImageIds[i],type:xc.ConnectorTypesMap[i]??"EXTERNAL",info:s?void 0:{rdns:i},chain:this.namespace,chains:[],provider:this.ethersConfig?.[n]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(i=>Fn.isLowerCaseMatch(i.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:r}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(n){return r(n)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=ae.CONNECTOR_ID.WALLET_CONNECT;return Pl.listenWcProvider({universalProvider:e,namespace:ae.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new SS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:ae.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:r,provider:n}=e.detail;if(!this.connectors?.find(s=>s.name===r?.name)){const s=xc.ConnectorTypesMap[ae.CONNECTOR_ID.EIP6963],o=r?.rdns||r?.name||r?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:r?.icon,name:r?.name||"Unknown",provider:n,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(Tt.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(Tt.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:i,socialUri:s}){const o=this.connectors.find(f=>Fn.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}const c=o?.provider;if(!c)throw new Error("Provider not found");let l=[],u;if(n==="AUTH"){const{address:f,accounts:d}=await qs.authConnectorAuthenticate({authConnector:c,chainNamespace:ae.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:Ts("eip155")}),h=this.getCaipNetworks().find(m=>m.id.toString()===i?.toString());l=[f],this.addConnection({connectorId:e,accounts:d?d.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:h,auth:{name:be.getConnectedSocialProvider(),username:be.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),u=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(d=>d.id.toString()===i?.toString());if(u!==i){if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:c,providerType:n})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:l.map(d=>({address:d})),caipNetwork:f}),o.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(i),provider:c,type:n,id:e}}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r?.provider;if(!n||!r)throw new Error("Provider not found");const i=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))};if(e.id===ae.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>Pe.createAccount(ae.CHAIN.EVM,l.address,l.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await qs.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:ae.CHAIN.EVM,chainId:n,preferredAccountType:Ts("eip155")})}async disconnect(e){if(e.id){const r=this.connectors.find(i=>Fn.isLowerCaseMatch(i.id,e.id));if(!r)throw new Error("Connector not found");const n=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(r.type){case Tt.CONNECTOR_TYPE_WALLET_CONNECT:r.provider.session&&r.provider.disconnect();break;case Tt.CONNECTOR_TYPE_AUTH:await r.provider?.disconnect();break;case Tt.CONNECTOR_TYPE_ANNOUNCED:case Tt.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(r.provider);break;default:throw new Error("Unsupported provider type")}return r.id&&(this.removeProviderListeners(r.id),this.deleteConnection(r.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:n?[n]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const i=`${n.caipNetworkId}:${r}`,s=this.balancePromises[i];if(s)return s;const o=be.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new H_(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(r),u=CEe.formatEther(l);be.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:o0.numberToHexString(r.id)}]})}catch(s){if(s.code===Cl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Cl.ERROR_INVALID_CHAIN_ID||s.code===Cl.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Cl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await o0.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return rf(e.toLowerCase())}catch{return e}}}const SEe=Fi({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"DST",description:"DST",url:"",icons:[""]},n=Xu({id:9e3,caipNetworkId:"eip155:9000",chainNamespace:"eip155",name:"DST test",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://192.168.10.136:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0}),i=Xu({id:7777,caipNetworkId:"eip155:7777",chainNamespace:"eip155",name:"DST",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://bebewallet.com:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0});return Xde({adapters:[new NEe],networks:[i,$de,n,Lde],defaultNetwork:i,metadata:r,projectId:e,features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"dark"}),(s,o)=>{const a=iH("router-view");return Al(),Gh(a)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Wh=typeof document<"u";function HF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function IEe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&HF(t.default)}const Vt=Object.assign;function SA(t,e){const r={};for(const n in e){const i=e[n];r[n]=tc(i)?i.map(t):t(i)}return r}const Rg=()=>{},tc=Array.isArray,WF=/#/g,TEe=/&/g,REe=/\//g,PEe=/=/g,OEe=/\?/g,qF=/\+/g,DEe=/%5B/g,kEe=/%5D/g,zF=/%5E/g,MEe=/%60/g,GF=/%7B/g,UEe=/%7C/g,KF=/%7D/g,$Ee=/%20/g;function $I(t){return encodeURI(""+t).replace(UEe,"|").replace(DEe,"[").replace(kEe,"]")}function LEe(t){return $I(t).replace(GF,"{").replace(KF,"}").replace(zF,"^")}function YC(t){return $I(t).replace(qF,"%2B").replace($Ee,"+").replace(WF,"%23").replace(TEe,"%26").replace(MEe,"`").replace(GF,"{").replace(KF,"}").replace(zF,"^")}function FEe(t){return YC(t).replace(PEe,"%3D")}function BEe(t){return $I(t).replace(WF,"%23").replace(OEe,"%3F")}function jEe(t){return t==null?"":BEe(t).replace(REe,"%2F")}function ey(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const HEe=/\/$/,WEe=t=>t.replace(HEe,"");function IA(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=KEe(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:ey(o)}}function qEe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function T4(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zEe(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&O0(e.matched[n],r.matched[i])&&VF(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function O0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function VF(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!GEe(t[r],e[r]))return!1;return!0}function GEe(t,e){return tc(t)?R4(t,e):tc(e)?R4(e,t):t===e}function R4(t,e){return tc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function KEe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const pu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ty;(function(t){t.pop="pop",t.push="push"})(ty||(ty={}));var Pg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Pg||(Pg={}));function VEe(t){if(!t)if(Wh){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),WEe(t)}const JEe=/^[^#]+#/;function YEe(t,e){return t.replace(JEe,"#")+e}function XEe(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const vE=()=>({left:window.scrollX,top:window.scrollY});function QEe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=XEe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function P4(t,e){return(history.state?history.state.position-e:-1)+t}const XC=new Map;function ZEe(t,e){XC.set(t,e)}function eve(t){const e=XC.get(t);return XC.delete(t),e}let tve=()=>location.protocol+"//"+location.host;function JF(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),T4(c,"")}return T4(r,t)+n+i}function rve(t,e,r,n){let i=[],s=[],o=null;const a=({state:d})=>{const h=JF(t,location),m=r.value,g=e.value;let b=0;if(d){if(r.value=h,e.value=d,o&&o===m){o=null;return}b=g?d.position-g.position:0}else n(h);i.forEach(E=>{E(r.value,m,{delta:b,type:ty.pop,direction:b?b>0?Pg.forward:Pg.back:Pg.unknown})})};function c(){o=r.value}function l(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Vt({},d.state,{scroll:vE()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function O4(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?vE():null}}function nve(t){const{history:e,location:r}=window,n={value:JF(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:tve()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(h){console.error(h),r[u?"replace":"assign"](d)}}function o(c,l){const u=Vt({},e.state,O4(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),n.value=c}function a(c,l){const u=Vt({},i.value,e.state,{forward:c,scroll:vE()});s(u.current,u,!0);const f=Vt({},O4(n.value,c,null),{position:u.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function ive(t){t=VEe(t);const e=nve(t),r=rve(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Vt({location:"",base:t,go:n,createHref:YEe.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function sve(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),ive(t)}function ove(t){return typeof t=="string"||t&&typeof t=="object"}function YF(t){return typeof t=="string"||typeof t=="symbol"}const XF=Symbol("");var D4;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(D4||(D4={}));function D0(t,e){return Vt(new Error,{type:t,[XF]:!0},e)}function el(t,e){return t instanceof Error&&XF in t&&(e==null||!!(t.type&e))}const k4="[^/]+?",ave={sensitive:!1,strict:!1,start:!0,end:!0},cve=/[.+*?^${}()[\]/\\]/g;function lve(t,e){const r=Vt({},ave,e),n=[];let i=r.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(cve,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:g,optional:b,regexp:E}=d;s.push({name:m,repeatable:g,optional:b});const A=E||k4;if(A!==k4){h+=10;try{new RegExp(`(${A})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${A}): `+T.message)}}let S=g?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(S=b&&l.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),i+=S,h+=20,b&&(h+=-8),g&&(h+=-20),A===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=s[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function c(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:g,optional:b}=h,E=m in l?l[m]:"";if(tc(E)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const A=tc(E)?E.join("/"):E;if(!A)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=A}}return u||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function uve(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function QF(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=uve(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(M4(n))return 1;if(M4(i))return-1}return i.length-n.length}function M4(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fve={type:0,value:""},dve=/[a-zA-Z0-9_]/;function hve(t){if(!t)return[[]];if(t==="/")return[[fve]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:dve.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),i}function pve(t,e,r){const n=lve(hve(t.path),r),i=Vt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function gve(t,e){const r=[],n=new Map;e=F4({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,d,h){const m=!h,g=$4(f);g.aliasOf=h&&h.record;const b=F4(e,f),E=[g];if("alias"in f){const T=typeof f.alias=="string"?[f.alias]:f.alias;for(const P of T)E.push($4(Vt({},g,{components:h?h.record.components:g.components,path:P,aliasOf:h?h.record:g})))}let A,S;for(const T of E){const{path:P}=T;if(d&&P[0]!=="/"){const k=d.record.path,F=k[k.length-1]==="/"?"":"/";T.path=d.record.path+(P&&F+P)}if(A=pve(T,d,b),h?h.alias.push(A):(S=S||A,S!==A&&S.alias.push(A),m&&f.name&&!L4(A)&&o(f.name)),ZF(A)&&c(A),g.children){const k=g.children;for(let F=0;F<k.length;F++)s(k[F],A,h&&h.children[F])}h=h||A}return S?()=>{o(S)}:Rg}function o(f){if(YF(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const d=bve(f,r);r.splice(d,0,f),f.record.name&&!L4(f)&&n.set(f.record.name,f)}function l(f,d){let h,m={},g,b;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw D0(1,{location:f});b=h.record.name,m=Vt(U4(d.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&U4(f.params,h.keys.map(S=>S.name))),g=h.stringify(m)}else if(f.path!=null)g=f.path,h=r.find(S=>S.re.test(g)),h&&(m=h.parse(g),b=h.record.name);else{if(h=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!h)throw D0(1,{location:f,currentLocation:d});b=h.record.name,m=Vt({},d.params,f.params),g=h.stringify(m)}const E=[];let A=h;for(;A;)E.unshift(A.record),A=A.parent;return{name:b,path:g,params:m,matched:E,meta:yve(E)}}t.forEach(f=>s(f));function u(){r.length=0,n.clear()}return{addRoute:s,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function U4(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function $4(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:mve(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function mve(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function L4(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yve(t){return t.reduce((e,r)=>Vt(e,r.meta),{})}function F4(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function bve(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;QF(t,e[s])<0?n=s:r=s+1}const i=wve(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function wve(t){let e=t;for(;e=e.parent;)if(ZF(e)&&QF(t,e)===0)return e}function ZF({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function _ve(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(qF," "),o=s.indexOf("="),a=ey(o<0?s:s.slice(0,o)),c=o<0?null:ey(s.slice(o+1));if(a in e){let l=e[a];tc(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function B4(t){let e="";for(let r in t){const n=t[r];if(r=FEe(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(tc(n)?n.map(s=>s&&YC(s)):[n&&YC(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Eve(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=tc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const vve=Symbol(""),j4=Symbol(""),LI=Symbol(""),eB=Symbol(""),QC=Symbol("");function Dp(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Tu(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(D0(4,{from:r,to:e})):d instanceof Error?c(d):ove(d)?c(D0(2,{from:e,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(n&&n.instances[i],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function TA(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(HF(c)){const u=(c.__vccOpts||c)[e];u&&s.push(Tu(u,r,n,o,a,i))}else{let l=c();s.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=IEe(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Tu(h,r,n,o,a,i)()}))}}return s}function H4(t){const e=Js(LI),r=Js(eB),n=qt(()=>{const c=Ni(t.to);return e.resolve(c)}),i=qt(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(O0.bind(null,u));if(d>-1)return d;const h=W4(c[l-2]);return l>1&&W4(u)===h&&f[f.length-1].path!==h?f.findIndex(O0.bind(null,c[l-2])):d}),s=qt(()=>i.value>-1&&Sve(r.params,n.value.params)),o=qt(()=>i.value>-1&&i.value===r.matched.length-1&&VF(r.params,n.value.params));function a(c={}){if(Nve(c)){const l=e[Ni(t.replace)?"replace":"push"](Ni(t.to)).catch(Rg);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:qt(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function xve(t){return t.length===1?t[0]:t}const Ave=Fi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:H4,setup(t,{slots:e}){const r=Hl(H4(t)),{options:n}=Js(LI),i=qt(()=>({[q4(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[q4(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&xve(e.default(r));return t.custom?s:cy("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),Cve=Ave;function Nve(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Sve(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!tc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function W4(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const q4=(t,e,r)=>t??e??r,Ive=Fi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Js(QC),i=qt(()=>t.route||n.value),s=Js(j4,0),o=qt(()=>{let l=Ni(s);const{matched:u}=i.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=qt(()=>i.value.matched[o.value]);ng(j4,qt(()=>o.value+1)),ng(vve,a),ng(QC,i);const c=_t();return un(()=>[c.value,a.value,t.name],([l,u,f],[d,h,m])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!O0(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return z4(r.default,{Component:d,route:l});const h=f.props[u],m=h?h===!0?l.params:typeof h=="function"?h(l):h:null,b=cy(d,Vt({},m,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return z4(r.default,{Component:b,route:l})||b}}});function z4(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Tve=Ive;function Rve(t){const e=gve(t.routes,t),r=t.parseQuery||_ve,n=t.stringifyQuery||B4,i=t.history,s=Dp(),o=Dp(),a=Dp(),c=RN(pu);let l=pu;Wh&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=SA.bind(null,K=>""+K),f=SA.bind(null,jEe),d=SA.bind(null,ey);function h(K,X){let Q,ie;return YF(K)?(Q=e.getRecordMatcher(K),ie=X):ie=K,e.addRoute(ie,Q)}function m(K){const X=e.getRecordMatcher(K);X&&e.removeRoute(X)}function g(){return e.getRoutes().map(K=>K.record)}function b(K){return!!e.getRecordMatcher(K)}function E(K,X){if(X=Vt({},X||c.value),typeof K=="string"){const W=IA(r,K,X.path),Z=e.resolve({path:W.path},X),fe=i.createHref(W.fullPath);return Vt(W,Z,{params:d(Z.params),hash:ey(W.hash),redirectedFrom:void 0,href:fe})}let Q;if(K.path!=null)Q=Vt({},K,{path:IA(r,K.path,X.path).path});else{const W=Vt({},K.params);for(const Z in W)W[Z]==null&&delete W[Z];Q=Vt({},K,{params:f(W)}),X.params=f(X.params)}const ie=e.resolve(Q,X),le=K.hash||"";ie.params=u(d(ie.params));const H=qEe(n,Vt({},K,{hash:LEe(le),path:ie.path})),Y=i.createHref(H);return Vt({fullPath:H,hash:le,query:n===B4?Eve(K.query):K.query||{}},ie,{redirectedFrom:void 0,href:Y})}function A(K){return typeof K=="string"?IA(r,K,c.value.path):Vt({},K)}function S(K,X){if(l!==K)return D0(8,{from:X,to:K})}function T(K){return F(K)}function P(K){return T(Vt(A(K),{replace:!0}))}function k(K){const X=K.matched[K.matched.length-1];if(X&&X.redirect){const{redirect:Q}=X;let ie=typeof Q=="function"?Q(K):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=A(ie):{path:ie},ie.params={}),Vt({query:K.query,hash:K.hash,params:ie.path!=null?{}:K.params},ie)}}function F(K,X){const Q=l=E(K),ie=c.value,le=K.state,H=K.force,Y=K.replace===!0,W=k(Q);if(W)return F(Vt(A(W),{state:typeof W=="object"?Vt({},le,W.state):le,force:H,replace:Y}),X||Q);const Z=Q;Z.redirectedFrom=X;let fe;return!H&&zEe(n,ie,Q)&&(fe=D0(16,{to:Z,from:ie}),D(ie,ie,!0,!1)),(fe?Promise.resolve(fe):M(Z,ie)).catch(oe=>el(oe)?el(oe,2)?oe:B(oe):I(oe,Z,ie)).then(oe=>{if(oe){if(el(oe,2))return F(Vt({replace:Y},A(oe.to),{state:typeof oe.to=="object"?Vt({},le,oe.to.state):le,force:H}),X||Z)}else oe=O(Z,ie,!0,Y,le);return $(Z,ie,oe),oe})}function N(K,X){const Q=S(K,X);return Q?Promise.reject(Q):Promise.resolve()}function v(K){const X=G.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(K):K()}function M(K,X){let Q;const[ie,le,H]=Pve(K,X);Q=TA(ie.reverse(),"beforeRouteLeave",K,X);for(const W of ie)W.leaveGuards.forEach(Z=>{Q.push(Tu(Z,K,X))});const Y=N.bind(null,K,X);return Q.push(Y),V(Q).then(()=>{Q=[];for(const W of s.list())Q.push(Tu(W,K,X));return Q.push(Y),V(Q)}).then(()=>{Q=TA(le,"beforeRouteUpdate",K,X);for(const W of le)W.updateGuards.forEach(Z=>{Q.push(Tu(Z,K,X))});return Q.push(Y),V(Q)}).then(()=>{Q=[];for(const W of H)if(W.beforeEnter)if(tc(W.beforeEnter))for(const Z of W.beforeEnter)Q.push(Tu(Z,K,X));else Q.push(Tu(W.beforeEnter,K,X));return Q.push(Y),V(Q)}).then(()=>(K.matched.forEach(W=>W.enterCallbacks={}),Q=TA(H,"beforeRouteEnter",K,X,v),Q.push(Y),V(Q))).then(()=>{Q=[];for(const W of o.list())Q.push(Tu(W,K,X));return Q.push(Y),V(Q)}).catch(W=>el(W,8)?W:Promise.reject(W))}function $(K,X,Q){a.list().forEach(ie=>v(()=>ie(K,X,Q)))}function O(K,X,Q,ie,le){const H=S(K,X);if(H)return H;const Y=X===pu,W=Wh?history.state:{};Q&&(ie||Y?i.replace(K.fullPath,Vt({scroll:Y&&W&&W.scroll},le)):i.push(K.fullPath,le)),c.value=K,D(K,X,Q,Y),B()}let C;function p(){C||(C=i.listen((K,X,Q)=>{if(!R.listening)return;const ie=E(K),le=k(ie);if(le){F(Vt(le,{replace:!0,force:!0}),ie).catch(Rg);return}l=ie;const H=c.value;Wh&&ZEe(P4(H.fullPath,Q.delta),vE()),M(ie,H).catch(Y=>el(Y,12)?Y:el(Y,2)?(F(Vt(A(Y.to),{force:!0}),ie).then(W=>{el(W,20)&&!Q.delta&&Q.type===ty.pop&&i.go(-1,!1)}).catch(Rg),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),I(Y,ie,H))).then(Y=>{Y=Y||O(ie,H,!1),Y&&(Q.delta&&!el(Y,8)?i.go(-Q.delta,!1):Q.type===ty.pop&&el(Y,20)&&i.go(-1,!1)),$(ie,H,Y)}).catch(Rg)}))}let y=Dp(),w=Dp(),x;function I(K,X,Q){B(K);const ie=w.list();return ie.length?ie.forEach(le=>le(K,X,Q)):console.error(K),Promise.reject(K)}function U(){return x&&c.value!==pu?Promise.resolve():new Promise((K,X)=>{y.add([K,X])})}function B(K){return x||(x=!K,p(),y.list().forEach(([X,Q])=>K?Q(K):X()),y.reset()),K}function D(K,X,Q,ie){const{scrollBehavior:le}=t;if(!Wh||!le)return Promise.resolve();const H=!Q&&eve(P4(K.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return vd().then(()=>le(K,X,H)).then(Y=>Y&&QEe(Y)).catch(Y=>I(Y,K,X))}const _=K=>i.go(K);let L;const G=new Set,R={currentRoute:c,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:g,resolve:E,options:t,push:T,replace:P,go:_,back:()=>_(-1),forward:()=>_(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:w.add,isReady:U,install(K){const X=this;K.component("RouterLink",Cve),K.component("RouterView",Tve),K.config.globalProperties.$router=X,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Ni(c)}),Wh&&!L&&c.value===pu&&(L=!0,T(i.location).catch(le=>{}));const Q={};for(const le in pu)Object.defineProperty(Q,le,{get:()=>c.value[le],enumerable:!0});K.provide(LI,X),K.provide(eB,Ak(Q)),K.provide(QC,c);const ie=K.unmount;G.add(K),K.unmount=function(){G.delete(K),G.size<1&&(l=pu,C&&C(),C=null,c.value=pu,L=!1,x=!1),ie()}}};function V(K){return K.reduce((X,Q)=>X.then(()=>v(Q)),Promise.resolve())}return R}function Pve(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>O0(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>O0(l,c))||i.push(c))}return[r,n,i]}function Ove(){}const Kl=Object.assign,tB=typeof window<"u",xE=t=>t!==null&&typeof t=="object",cf=t=>t!=null,ZC=t=>typeof t=="function",Dve=t=>xE(t)&&ZC(t.then)&&ZC(t.catch),rB=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),kve=()=>tB?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function G4(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=xE(n)&&(s=n[i])!=null?s:""}),n}function Mve(t,e,r){return e.reduce((n,i)=>(n[i]=t[i],n),{})}const u1=null,ts=[Number,String],Sl={type:Boolean,default:!0},Uve=t=>({type:Number,default:t}),Qi=t=>({type:String,default:t});var FI=typeof window<"u",$ve=t=>t===window,K4=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),Lve=t=>{const e=Ni(t);if($ve(e)){const r=e.innerWidth,n=e.innerHeight;return K4(r,n)}return e?.getBoundingClientRect?e.getBoundingClientRect():K4(0,0)};function nB(t){let e;ff(()=>{t(),vd(()=>{e=!0})}),ON(()=>{e&&t()})}function iB(t,e,r={}){if(!FI)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=f=>{if(o)return;const d=Ni(f);d&&!a&&(d.addEventListener(t,e,{capture:s,passive:i}),a=!0)},l=f=>{if(o)return;const d=Ni(f);d&&a&&(d.removeEventListener(t,e,s),a=!1)};df(()=>l(n)),E1(()=>l(n)),nB(()=>c(n));let u;return Gr(n)&&(u=un(n,(f,d)=>{l(d),c(f)})),()=>{u?.(),l(n),o=!0}}var Ib,RA;function Fve(){if(!Ib&&(Ib=_t(0),RA=_t(0),FI)){const t=()=>{Ib.value=window.innerWidth,RA.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Ib,height:RA}}var Bve=/scroll|auto|overlay/i,jve=FI?window:void 0;function Hve(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Wve(t,e=jve){let r=t;for(;r&&r!==e&&Hve(r);){const{overflowY:n}=window.getComputedStyle(r);if(Bve.test(n))return r;r=r.parentNode}return e}kve();const qve=t=>t.stopPropagation();function BI(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&qve(t)}const{width:zve,height:Gve}=Fve();function ka(t){if(cf(t))return rB(t)?`${t}px`:String(t)}function Kve(t){if(cf(t)){if(Array.isArray(t))return{width:ka(t[0]),height:ka(t[1])};const e=ka(t);return{width:e,height:e}}}function sB(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const Vve=/-(\w)/g,oB=t=>t.replace(Vve,(e,r)=>r.toUpperCase()),{hasOwnProperty:Jve}=Object.prototype;function Yve(t,e,r){const n=e[r];cf(n)&&(!Jve.call(t,r)||!xE(n)?t[r]=n:t[r]=aB(Object(t[r]),n))}function aB(t,e){return Object.keys(e).forEach(r=>{Yve(t,e,r)}),t}var Xve={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const V4=_t("zh-CN"),J4=Hl({"zh-CN":Xve}),qh={messages(){return J4[V4.value]},use(t,e){V4.value=t,this.add({[t]:e})},add(t={}){aB(J4,t)}};var Qve=qh;function Zve(t){const e=oB(t)+".";return(r,...n)=>{const i=Qve.messages(),s=G4(i,e+r)||G4(i,r);return ZC(s)?s(...n):s}}function eN(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+eN(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?eN(t,n):""),""):""}function exe(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${eN(e,r)}`)}function Vl(t){const e=`van-${t}`;return[e,exe(e),Zve(e)]}const cB="van-hairline",txe=`${cB}--bottom`,rxe=`${cB}--surround`,tN="van-haptics-feedback",Y4=5;function nxe(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);Dve(s)?s.then(o=>{o?r():n&&n()}).catch(i||Ove):s?r():n&&n()}else r()}function wf(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(oB(`-${r}`),t))},t}const lB=Symbol();function ixe(t){const e=Js(lB,null);e&&un(e,r=>{r&&t()})}const sxe=(t,e)=>{const r=_t(),n=()=>{r.value=Lve(t).height};return ff(()=>{vd(n);for(let i=1;i<=3;i++)setTimeout(n,100*i)}),ixe(()=>vd(n)),un([zve,Gve],n),r};function oxe(t,e){const r=sxe(t);return n=>je("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function uB(t){const e=Do();e&&Kl(e.proxy,t)}const axe={to:[String,Object],url:String,replace:Boolean};function cxe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function lxe(){const t=Do().proxy;return()=>cxe(t)}const[uxe,X4]=Vl("badge"),fxe={dot:Boolean,max:ts,tag:Qi("div"),color:String,offset:Array,content:ts,showZero:Sl,position:Qi("top-right")};var dxe=Fi({name:uxe,props:fxe,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return cf(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:l}=t;if(!a&&r())return e.content?e.content():cf(c)&&rB(l)&&+l>+c?`${c}+`:l},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=qt(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof l=="number"?a[f]=ka(f==="top"?l:-l):a[f]=f==="top"?ka(l):i(l),typeof c=="number"?a[d]=ka(d==="left"?c:-c):a[d]=d==="left"?ka(c):i(c)):(a.marginTop=ka(l),a.marginLeft=ka(c))}return a}),o=()=>{if(r()||t.dot)return je("div",{class:X4([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return je(a,{class:X4("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const hxe=wf(dxe);let pxe=2e3;const gxe=()=>++pxe,[mxe]=Vl("config-provider"),yxe=Symbol(mxe),[bxe,Q4]=Vl("icon"),wxe=t=>t?.includes("/"),_xe={dot:Boolean,tag:Qi("i"),name:String,size:ts,badge:ts,color:String,badgeProps:Object,classPrefix:String};var Exe=Fi({name:bxe,props:_xe,setup(t,{slots:e}){const r=Js(yxe,null),n=qt(()=>t.classPrefix||r?.iconPrefix||Q4());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:l}=t,u=wxe(o);return je(hxe,xd({dot:s,tag:i,class:[n.value,u?"":`${n.value}-${o}`],style:{color:l,fontSize:ka(a)},content:c},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&je("img",{class:Q4("image"),src:o},null)]}})}}});const $y=wf(Exe),[vxe,Og]=Vl("loading"),xxe=Array(12).fill(null).map((t,e)=>je("i",{class:Og("line",String(e+1))},null)),Axe=je("svg",{class:Og("circular"),viewBox:"25 25 50 50"},[je("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Cxe={size:ts,type:Qi("circular"),color:String,vertical:Boolean,textSize:ts,textColor:String};var Nxe=Fi({name:vxe,props:Cxe,setup(t,{slots:e}){const r=qt(()=>Kl({color:t.color},Kve(t.size))),n=()=>{const s=t.type==="spinner"?xxe:Axe;return je("span",{class:Og("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return je("span",{class:Og("text"),style:{fontSize:ka(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return je("div",{class:Og([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const fB=wf(Nxe),[Sxe,Nh]=Vl("button"),Ixe=Kl({},axe,{tag:Qi("button"),text:String,icon:String,type:Qi("default"),size:Qi("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Qi("button"),loadingSize:ts,loadingText:String,loadingType:String,iconPosition:Qi("left")});var Txe=Fi({name:Sxe,props:Ixe,emits:["click"],setup(t,{emit:e,slots:r}){const n=lxe(),i=()=>r.loading?r.loading():je(fB,{size:t.loadingSize,type:t.loadingType,class:Nh("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return je("div",{class:Nh("icon")},[r.icon()]);if(t.icon)return je($y,{name:t.icon,class:Nh("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let l;if(t.loading?l=t.loadingText:l=r.default?r.default():t.text,l)return je("span",{class:Nh("text")},[l])},a=()=>{const{color:l,plain:u}=t;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{t.loading?BI(l):t.disabled||(e("click",l),n())};return()=>{const{tag:l,type:u,size:f,block:d,round:h,plain:m,square:g,loading:b,disabled:E,hairline:A,nativeType:S,iconPosition:T}=t,P=[Nh([u,f,{plain:m,block:d,round:h,square:g,loading:b,disabled:E,hairline:A}]),{[rxe]:A}];return je(l,{type:S,class:P,style:a(),disabled:E,onClick:c},{default:()=>[je("div",{class:Nh("content")},[T==="left"&&s(),o(),T==="right"&&s()])]})}}});const dB=wf(Txe),Rxe={show:Boolean,zIndex:ts,overlay:Sl,duration:ts,teleport:[String,Object],lockScroll:Sl,lazyRender:Sl,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:u1,transitionAppear:Boolean,closeOnClickOverlay:Sl};function Pxe(t,e){return t>e?"horizontal":e>t?"vertical":""}function Oxe(){const t=_t(0),e=_t(0),r=_t(0),n=_t(0),i=_t(0),s=_t(0),o=_t(""),a=_t(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:h=>{const m=h.touches[0];r.value=(m.clientX<0?0:m.clientX)-t.value,n.value=m.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const g=10;(!o.value||i.value<g&&s.value<g)&&(o.value=Pxe(i.value,s.value)),a.value&&(i.value>Y4||s.value>Y4)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let kp=0;const Z4="van-overflow-hidden";function Dxe(t,e){const r=Oxe(),n="01",i="10",s=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=Wve(u.target,t.value),{scrollHeight:h,offsetHeight:m,scrollTop:g}=d;let b="11";g===0?b=m>=h?"00":"01":g+m>=h&&(b="10"),b!=="11"&&r.isVertical()&&!(parseInt(b,2)&parseInt(f,2))&&BI(u,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),kp||document.body.classList.add(Z4),kp++},a=()=>{kp&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),kp--,kp||document.body.classList.remove(Z4))},c=()=>e()&&o(),l=()=>e()&&a();nB(c),E1(l),DN(l),un(e,u=>{u?o():a()})}function hB(t){const e=_t(!1);return un(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const eD=()=>{var t;const{scopeId:e}=((t=Do())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[kxe,Mxe]=Vl("overlay"),Uxe={show:Boolean,zIndex:ts,duration:ts,className:u1,lockScroll:Sl,lazyRender:Sl,customStyle:Object,teleport:[String,Object]};var $xe=Fi({name:kxe,inheritAttrs:!1,props:Uxe,setup(t,{attrs:e,slots:r}){const n=_t(),i=hB(()=>t.show||!t.lazyRender),s=a=>{t.lockScroll&&BI(a,!0)},o=i(()=>{var a;const c=Kl(sB(t.zIndex),t.customStyle);return cf(t.duration)&&(c.animationDuration=`${t.duration}s`),Ok(je("div",xd({ref:n,style:c,class:[Mxe(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[mM,t.show]])});return iB("touchmove",s,{target:n}),()=>{const a=je(pM,{name:"van-fade",appear:!0},{default:o});return t.teleport?je(Uk,{to:t.teleport},{default:()=>[a]}):a}}});const Lxe=wf($xe),Fxe=Kl({},Rxe,{round:Boolean,position:Qi("center"),closeIcon:Qi("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Qi("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Bxe,tD]=Vl("popup");var jxe=Fi({name:Bxe,inheritAttrs:!1,props:Fxe,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=_t(),a=_t(),c=hB(()=>t.show||!t.lazyRender),l=qt(()=>{const k={zIndex:o.value};if(cf(t.duration)){const F=t.position==="center"?"animationDuration":"transitionDuration";k[F]=`${t.duration}s`}return k}),u=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:gxe(),e("open"))},f=()=>{i&&nxe(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=k=>{e("clickOverlay",k),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const k=Kl({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return je(Lxe,xd(k,eD(),{onClick:d}),{default:n["overlay-content"]})}},m=k=>{e("clickCloseIcon",k),f()},g=()=>{if(t.closeable)return je($y,{role:"button",tabindex:0,name:t.closeIcon,class:[tD("close-icon",t.closeIconPosition),tN],classPrefix:t.iconPrefix,onClick:m},null)};let b;const E=()=>{b&&clearTimeout(b),b=setTimeout(()=>{e("opened")})},A=()=>e("closed"),S=k=>e("keydown",k),T=c(()=>{var k;const{destroyOnClose:F,round:N,position:v,safeAreaInsetTop:M,safeAreaInsetBottom:$,show:O}=t;if(!(!O&&F))return Ok(je("div",xd({ref:a,style:l.value,role:"dialog",tabindex:0,class:[tD({round:N,[v]:v}),{"van-safe-area-top":M,"van-safe-area-bottom":$}],onKeydown:S},r,eD()),[(k=n.default)==null?void 0:k.call(n),g()]),[[mM,O]])}),P=()=>{const{position:k,transition:F,transitionAppear:N}=t,v=k==="center"?"van-fade":`van-popup-slide-${k}`;return je(pM,{name:F||v,appear:N,onAfterEnter:E,onAfterLeave:A},{default:T})};return un(()=>t.show,k=>{k&&!i&&(u(),r.tabindex===0&&vd(()=>{var F;(F=a.value)==null||F.focus()})),!k&&i&&(i=!1,e("close"))}),uB({popupRef:a}),Dxe(a,()=>t.show&&t.lockScroll),iB("popstate",()=>{t.closeOnPopstate&&(f(),s=!1)}),ff(()=>{t.show&&u()}),ON(()=>{s&&(e("update:show",!0),s=!1)}),E1(()=>{t.show&&t.teleport&&(f(),s=!0)}),ng(lB,()=>t.show),()=>t.teleport?je(Uk,{to:t.teleport},{default:()=>[h(),P()]}):je(As,null,[h(),P()])}});const Hxe=wf(jxe);let Mp=0;function Wxe(t){t?(Mp||document.body.classList.add("van-toast--unclickable"),Mp++):Mp&&(Mp--,Mp||document.body.classList.remove("van-toast--unclickable"))}const[qxe,Sh]=Vl("toast"),zxe=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Gxe={icon:String,show:Boolean,type:Qi("text"),overlay:Boolean,message:ts,iconSize:ts,duration:Uve(2e3),position:Qi("middle"),teleport:[String,Object],wordBreak:String,className:u1,iconPrefix:String,transition:Qi("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:u1,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:ts};var pB=Fi({name:qxe,props:Gxe,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,Wxe(i))},o=f=>e("update:show",f),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),l=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:m,loadingType:g}=t;if(f||d==="success"||d==="fail")return je($y,{name:f||d,size:h,class:Sh("icon"),classPrefix:m},null);if(d==="loading")return je(fB,{class:Sh("loading"),size:h,type:g},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return je("div",{class:Sh("text")},[r.message()]);if(cf(d)&&d!=="")return f==="html"?je("div",{key:0,class:Sh("text"),innerHTML:String(d)},null):je("div",{class:Sh("text")},[d])};return un(()=>[t.show,t.forbidClick],s),un(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),ff(s),df(s),()=>je(Hxe,xd({class:[Sh([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},Mve(t,zxe)),{default:()=>[l(),u()]})}});function Kxe(){const t=Hl({show:!1}),e=i=>{t.show=i},r=i=>{Kl(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return uB({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function Vxe(t){const e=yM(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const Jxe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Tb=[],Yxe=!1,rD=Kl({},Jxe);const Xxe=new Map;function Qxe(t){return xE(t)?t:{message:t}}function Zxe(){const{instance:t}=Vxe({setup(){const e=_t(""),{open:r,state:n,close:i,toggle:s}=Kxe(),o=()=>{},a=()=>je(pB,xd(n,{onClosed:o,"onUpdate:show":s}),null);return un(e,c=>{n.message=c}),Do().render=a,{open:r,close:i,message:e}}});return t}function eAe(){if(!Tb.length||Yxe){const t=Zxe();Tb.push(t)}return Tb[Tb.length-1]}function gu(t={}){if(!tB)return{};const e=eAe(),r=Qxe(t);return e.open(Kl({},rD,Xxe.get(r.type||rD.type),r)),e}wf(pB);const[tAe,tl]=Vl("nav-bar"),rAe={title:String,fixed:Boolean,zIndex:ts,border:Sl,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Sl};var nAe=Fi({name:tAe,props:rAe,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=_t(),i=oxe(n,tl),s=u=>{t.leftDisabled||e("clickLeft",u)},o=u=>{t.rightDisabled||e("clickRight",u)},a=()=>r.left?r.left():[t.leftArrow&&je($y,{class:tl("arrow"),name:"arrow-left"},null),t.leftText&&je("span",{class:tl("text")},[t.leftText])],c=()=>r.right?r.right():je("span",{class:tl("text")},[t.rightText]),l=()=>{const{title:u,fixed:f,border:d,zIndex:h}=t,m=sB(h),g=t.leftArrow||t.leftText||r.left,b=t.rightText||r.right;return je("div",{ref:n,style:m,class:[tl({fixed:f}),{[txe]:d,"van-safe-area-top":t.safeAreaInsetTop}]},[je("div",{class:tl("content")},[g&&je("div",{class:[tl("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?tN:""],onClick:s},[a()]),je("div",{class:[tl("title"),"van-ellipsis"]},[r.title?r.title():u]),b&&je("div",{class:[tl("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?tN:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(l):l()}});const iAe=wf(nAe);/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function sAe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const f1=typeof window<"u",_f=(t,e=!1)=>e?Symbol.for(t):Symbol(t),oAe=(t,e,r)=>aAe({l:t,k:e,s:r}),aAe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ln=t=>typeof t=="number"&&isFinite(t),cAe=t=>mB(t)==="[object Date]",lf=t=>mB(t)==="[object RegExp]",AE=t=>Ze(t)&&Object.keys(t).length===0,ui=Object.assign,lAe=Object.create,ir=(t=null)=>lAe(t);let nD;const xl=()=>nD||(nD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:ir());function iD(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function sD(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uAe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,s)=>`${i}="${sD(s)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,s)=>`${i}='${sD(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const fAe=Object.prototype.hasOwnProperty;function Ka(t,e){return fAe.call(t,e)}const Mr=Array.isArray,hr=t=>typeof t=="function",Se=t=>typeof t=="string",ft=t=>typeof t=="boolean",Ht=t=>t!==null&&typeof t=="object",dAe=t=>Ht(t)&&hr(t.then)&&hr(t.catch),gB=Object.prototype.toString,mB=t=>gB.call(t),Ze=t=>{if(!Ht(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},hAe=t=>t==null?"":Mr(t)||Ze(t)&&t.toString===gB?JSON.stringify(t,null,2):String(t);function pAe(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function CE(t){let e=t;return()=>++e}const Rb=t=>!Ht(t)||Mr(t);function Hw(t,e){if(Rb(t)||Rb(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(Ht(n[s])&&!Ht(i[s])&&(i[s]=Array.isArray(n[s])?[]:ir()),Rb(i[s])||Rb(n[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function gAe(t,e,r){return{line:t,column:e,offset:r}}function d1(t,e,r){return{start:t,end:e}}const mAe=/\{([0-9a-zA-Z]+)\}/g;function yB(t,...e){return e.length===1&&yAe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(mAe,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const bB=Object.assign,oD=t=>typeof t=="string",yAe=t=>t!==null&&typeof t=="object";function wB(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const jI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},bAe={[jI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function wAe(t,e,...r){const n=yB(bAe[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const Je={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},_Ae={[Je.EXPECTED_TOKEN]:"Expected token: '{0}'",[Je.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Je.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Je.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Je.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Je.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Je.EMPTY_PLACEHOLDER]:"Empty placeholder",[Je.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Je.INVALID_LINKED_FORMAT]:"Invalid linked format",[Je.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Je.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Je.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Je.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Je.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Je.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function np(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=yB((i||_Ae)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function EAe(t){throw t}const rl=" ",vAe="\r",Wi=`
`,xAe="\u2028",AAe="\u2029";function CAe(t){const e=t;let r=0,n=1,i=1,s=0;const o=F=>e[F]===vAe&&e[F+1]===Wi,a=F=>e[F]===Wi,c=F=>e[F]===AAe,l=F=>e[F]===xAe,u=F=>o(F)||a(F)||c(F)||l(F),f=()=>r,d=()=>n,h=()=>i,m=()=>s,g=F=>o(F)||c(F)||l(F)?Wi:e[F],b=()=>g(r),E=()=>g(r+s);function A(){return s=0,u(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function S(){return o(r+s)&&s++,s++,e[r+s]}function T(){r=0,n=1,i=1,s=0}function P(F=0){s=F}function k(){const F=r+s;for(;F!==r;)A();s=0}return{index:f,line:d,column:h,peekOffset:m,charAt:g,currentChar:b,currentPeek:E,next:A,peek:S,reset:T,resetPeek:P,skipToPeek:k}}const mu=void 0,NAe=".",aD="'",SAe="tokenizer";function IAe(t,e={}){const r=e.location!==!1,n=CAe(t),i=()=>n.index(),s=()=>gAe(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function f(q,z,ne,...se){const pe=l();if(z.column+=ne,z.offset+=ne,u){const me=r?d1(pe.startLoc,z):null,ee=np(q,me,{domain:SAe,args:se});u(ee)}}function d(q,z,ne){q.endLoc=s(),q.currentType=z;const se={type:z};return r&&(se.loc=d1(q.startLoc,q.endLoc)),ne!=null&&(se.value=ne),se}const h=q=>d(q,14);function m(q,z){return q.currentChar()===z?(q.next(),z):(f(Je.EXPECTED_TOKEN,s(),0,z),"")}function g(q){let z="";for(;q.currentPeek()===rl||q.currentPeek()===Wi;)z+=q.currentPeek(),q.peek();return z}function b(q){const z=g(q);return q.skipToPeek(),z}function E(q){if(q===mu)return!1;const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z===95}function A(q){if(q===mu)return!1;const z=q.charCodeAt(0);return z>=48&&z<=57}function S(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=E(q.currentPeek());return q.resetPeek(),se}function T(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()==="-"?q.peek():q.currentPeek(),pe=A(se);return q.resetPeek(),pe}function P(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()===aD;return q.resetPeek(),se}function k(q,z){const{currentType:ne}=z;if(ne!==8)return!1;g(q);const se=q.currentPeek()===".";return q.resetPeek(),se}function F(q,z){const{currentType:ne}=z;if(ne!==9)return!1;g(q);const se=E(q.currentPeek());return q.resetPeek(),se}function N(q,z){const{currentType:ne}=z;if(!(ne===8||ne===12))return!1;g(q);const se=q.currentPeek()===":";return q.resetPeek(),se}function v(q,z){const{currentType:ne}=z;if(ne!==10)return!1;const se=()=>{const me=q.currentPeek();return me==="{"?E(q.peek()):me==="@"||me==="%"||me==="|"||me===":"||me==="."||me===rl||!me?!1:me===Wi?(q.peek(),se()):O(q,!1)},pe=se();return q.resetPeek(),pe}function M(q){g(q);const z=q.currentPeek()==="|";return q.resetPeek(),z}function $(q){const z=g(q),ne=q.currentPeek()==="%"&&q.peek()==="{";return q.resetPeek(),{isModulo:ne,hasSpace:z.length>0}}function O(q,z=!0){const ne=(pe=!1,me="",ee=!1)=>{const ce=q.currentPeek();return ce==="{"?me==="%"?!1:pe:ce==="@"||!ce?me==="%"?!0:pe:ce==="%"?(q.peek(),ne(pe,"%",!0)):ce==="|"?me==="%"||ee?!0:!(me===rl||me===Wi):ce===rl?(q.peek(),ne(!0,rl,ee)):ce===Wi?(q.peek(),ne(!0,Wi,ee)):!0},se=ne();return z&&q.resetPeek(),se}function C(q,z){const ne=q.currentChar();return ne===mu?mu:z(ne)?(q.next(),ne):null}function p(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36}function y(q){return C(q,p)}function w(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36||z===45}function x(q){return C(q,w)}function I(q){const z=q.charCodeAt(0);return z>=48&&z<=57}function U(q){return C(q,I)}function B(q){const z=q.charCodeAt(0);return z>=48&&z<=57||z>=65&&z<=70||z>=97&&z<=102}function D(q){return C(q,B)}function _(q){let z="",ne="";for(;z=U(q);)ne+=z;return ne}function L(q){b(q);const z=q.currentChar();return z!=="%"&&f(Je.EXPECTED_TOKEN,s(),0,z),q.next(),"%"}function G(q){let z="";for(;;){const ne=q.currentChar();if(ne==="{"||ne==="}"||ne==="@"||ne==="|"||!ne)break;if(ne==="%")if(O(q))z+=ne,q.next();else break;else if(ne===rl||ne===Wi)if(O(q))z+=ne,q.next();else{if(M(q))break;z+=ne,q.next()}else z+=ne,q.next()}return z}function R(q){b(q);let z="",ne="";for(;z=x(q);)ne+=z;return q.currentChar()===mu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne}function V(q){b(q);let z="";return q.currentChar()==="-"?(q.next(),z+=`-${_(q)}`):z+=_(q),q.currentChar()===mu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z}function K(q){return q!==aD&&q!==Wi}function X(q){b(q),m(q,"'");let z="",ne="";for(;z=C(q,K);)z==="\\"?ne+=Q(q):ne+=z;const se=q.currentChar();return se===Wi||se===mu?(f(Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),se===Wi&&(q.next(),m(q,"'")),ne):(m(q,"'"),ne)}function Q(q){const z=q.currentChar();switch(z){case"\\":case"'":return q.next(),`\\${z}`;case"u":return ie(q,z,4);case"U":return ie(q,z,6);default:return f(Je.UNKNOWN_ESCAPE_SEQUENCE,s(),0,z),""}}function ie(q,z,ne){m(q,z);let se="";for(let pe=0;pe<ne;pe++){const me=D(q);if(!me){f(Je.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${z}${se}${q.currentChar()}`);break}se+=me}return`\\${z}${se}`}function le(q){return q!=="{"&&q!=="}"&&q!==rl&&q!==Wi}function H(q){b(q);let z="",ne="";for(;z=C(q,le);)ne+=z;return ne}function Y(q){let z="",ne="";for(;z=y(q);)ne+=z;return ne}function W(q){const z=ne=>{const se=q.currentChar();return se==="{"||se==="%"||se==="@"||se==="|"||se==="("||se===")"||!se||se===rl?ne:(ne+=se,q.next(),z(ne))};return z("")}function Z(q){b(q);const z=m(q,"|");return b(q),z}function fe(q,z){let ne=null;switch(q.currentChar()){case"{":return z.braceNest>=1&&f(Je.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),q.next(),ne=d(z,2,"{"),b(q),z.braceNest++,ne;case"}":return z.braceNest>0&&z.currentType===2&&f(Je.EMPTY_PLACEHOLDER,s(),0),q.next(),ne=d(z,3,"}"),z.braceNest--,z.braceNest>0&&b(q),z.inLinked&&z.braceNest===0&&(z.inLinked=!1),ne;case"@":return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=oe(q,z)||h(z),z.braceNest=0,ne;default:{let pe=!0,me=!0,ee=!0;if(M(q))return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;if(z.braceNest>0&&(z.currentType===5||z.currentType===6||z.currentType===7))return f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z.braceNest=0,ge(q,z);if(pe=S(q,z))return ne=d(z,5,R(q)),b(q),ne;if(me=T(q,z))return ne=d(z,6,V(q)),b(q),ne;if(ee=P(q,z))return ne=d(z,7,X(q)),b(q),ne;if(!pe&&!me&&!ee)return ne=d(z,13,H(q)),f(Je.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ne.value),b(q),ne;break}}return ne}function oe(q,z){const{currentType:ne}=z;let se=null;const pe=q.currentChar();switch((ne===8||ne===9||ne===12||ne===10)&&(pe===Wi||pe===rl)&&f(Je.INVALID_LINKED_FORMAT,s(),0),pe){case"@":return q.next(),se=d(z,8,"@"),z.inLinked=!0,se;case".":return b(q),q.next(),d(z,9,".");case":":return b(q),q.next(),d(z,10,":");default:return M(q)?(se=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,se):k(q,z)||N(q,z)?(b(q),oe(q,z)):F(q,z)?(b(q),d(z,12,Y(q))):v(q,z)?(b(q),pe==="{"?fe(q,z)||se:d(z,11,W(q))):(ne===8&&f(Je.INVALID_LINKED_FORMAT,s(),0),z.braceNest=0,z.inLinked=!1,ge(q,z))}}function ge(q,z){let ne={type:14};if(z.braceNest>0)return fe(q,z)||h(z);if(z.inLinked)return oe(q,z)||h(z);switch(q.currentChar()){case"{":return fe(q,z)||h(z);case"}":return f(Je.UNBALANCED_CLOSING_BRACE,s(),0),q.next(),d(z,3,"}");case"@":return oe(q,z)||h(z);default:{if(M(q))return ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;const{isModulo:pe,hasSpace:me}=$(q);if(pe)return me?d(z,0,G(q)):d(z,4,L(q));if(O(q))return d(z,0,G(q));break}}return ne}function _e(){const{currentType:q,offset:z,startLoc:ne,endLoc:se}=c;return c.lastType=q,c.lastOffset=z,c.lastStartLoc=ne,c.lastEndLoc=se,c.offset=i(),c.startLoc=s(),n.currentChar()===mu?d(c,14):ge(n,c)}return{nextToken:_e,currentOffset:i,currentPosition:s,context:l}}const TAe="parser",RAe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function PAe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function OAe(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(S,T,P,k,...F){const N=S.currentPosition();if(N.offset+=k,N.column+=k,r){const v=e?d1(P,N):null,M=np(T,v,{domain:TAe,args:F});r(M)}}function s(S,T,P,k,...F){const N=S.currentPosition();if(N.offset+=k,N.column+=k,n){const v=e?d1(P,N):null;n(wAe(T,v,F))}}function o(S,T,P){const k={type:S};return e&&(k.start=T,k.end=T,k.loc={start:P,end:P}),k}function a(S,T,P,k){e&&(S.end=T,S.loc&&(S.loc.end=P))}function c(S,T){const P=S.context(),k=o(3,P.offset,P.startLoc);return k.value=T,a(k,S.currentOffset(),S.currentPosition()),k}function l(S,T){const P=S.context(),{lastOffset:k,lastStartLoc:F}=P,N=o(5,k,F);return N.index=parseInt(T,10),S.nextToken(),a(N,S.currentOffset(),S.currentPosition()),N}function u(S,T,P){const k=S.context(),{lastOffset:F,lastStartLoc:N}=k,v=o(4,F,N);return v.key=T,P===!0&&(v.modulo=!0),S.nextToken(),a(v,S.currentOffset(),S.currentPosition()),v}function f(S,T){const P=S.context(),{lastOffset:k,lastStartLoc:F}=P,N=o(9,k,F);return N.value=T.replace(RAe,PAe),S.nextToken(),a(N,S.currentOffset(),S.currentPosition()),N}function d(S){const T=S.nextToken(),P=S.context(),{lastOffset:k,lastStartLoc:F}=P,N=o(8,k,F);return T.type!==12?(i(S,Je.UNEXPECTED_EMPTY_LINKED_MODIFIER,P.lastStartLoc,0),N.value="",a(N,k,F),{nextConsumeToken:T,node:N}):(T.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,P.lastStartLoc,0,ra(T)),N.value=T.value||"",a(N,S.currentOffset(),S.currentPosition()),{node:N})}function h(S,T){const P=S.context(),k=o(7,P.offset,P.startLoc);return k.value=T,a(k,S.currentOffset(),S.currentPosition()),k}function m(S){const T=S.context(),P=o(6,T.offset,T.startLoc);let k=S.nextToken();if(k.type===9){const F=d(S);P.modifier=F.node,k=F.nextConsumeToken||S.nextToken()}switch(k.type!==10&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(k)),k=S.nextToken(),k.type===2&&(k=S.nextToken()),k.type){case 11:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(k)),P.key=h(S,k.value||"");break;case 5:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(k)),P.key=u(S,k.value||"");break;case 6:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(k)),P.key=l(S,k.value||"");break;case 7:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(k)),P.key=f(S,k.value||"");break;default:{i(S,Je.UNEXPECTED_EMPTY_LINKED_KEY,T.lastStartLoc,0);const F=S.context(),N=o(7,F.offset,F.startLoc);return N.value="",a(N,F.offset,F.startLoc),P.key=N,a(P,F.offset,F.startLoc),{nextConsumeToken:k,node:P}}}return a(P,S.currentOffset(),S.currentPosition()),{node:P}}function g(S){const T=S.context(),P=T.currentType===1?S.currentOffset():T.offset,k=T.currentType===1?T.endLoc:T.startLoc,F=o(2,P,k);F.items=[];let N=null,v=null;do{const O=N||S.nextToken();switch(N=null,O.type){case 0:O.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(O)),F.items.push(c(S,O.value||""));break;case 6:O.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(O)),F.items.push(l(S,O.value||""));break;case 4:v=!0;break;case 5:O.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(O)),F.items.push(u(S,O.value||"",!!v)),v&&(s(S,jI.USE_MODULO_SYNTAX,T.lastStartLoc,0,ra(O)),v=null);break;case 7:O.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,T.lastStartLoc,0,ra(O)),F.items.push(f(S,O.value||""));break;case 8:{const C=m(S);F.items.push(C.node),N=C.nextConsumeToken||null;break}}}while(T.currentType!==14&&T.currentType!==1);const M=T.currentType===1?T.lastOffset:S.currentOffset(),$=T.currentType===1?T.lastEndLoc:S.currentPosition();return a(F,M,$),F}function b(S,T,P,k){const F=S.context();let N=k.items.length===0;const v=o(1,T,P);v.cases=[],v.cases.push(k);do{const M=g(S);N||(N=M.items.length===0),v.cases.push(M)}while(F.currentType!==14);return N&&i(S,Je.MUST_HAVE_MESSAGES_IN_PLURAL,P,0),a(v,S.currentOffset(),S.currentPosition()),v}function E(S){const T=S.context(),{offset:P,startLoc:k}=T,F=g(S);return T.currentType===14?F:b(S,P,k,F)}function A(S){const T=IAe(S,bB({},t)),P=T.context(),k=o(0,P.offset,P.startLoc);return e&&k.loc&&(k.loc.source=S),k.body=E(T),t.onCacheKey&&(k.cacheKey=t.onCacheKey(S)),P.currentType!==14&&i(T,Je.UNEXPECTED_LEXICAL_ANALYSIS,P.lastStartLoc,0,S[P.offset]||""),a(k,T.currentOffset(),T.currentPosition()),k}return{parse:A}}function ra(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function DAe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function cD(t,e){for(let r=0;r<t.length;r++)HI(t[r],e)}function HI(t,e){switch(t.type){case 1:cD(t.cases,e),e.helper("plural");break;case 2:cD(t.items,e);break;case 6:{HI(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function kAe(t,e={}){const r=DAe(t);r.helper("normalize"),t.body&&HI(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function MAe(t){const e=t.body;return e.type===2?lD(e):e.cases.forEach(r=>lD(r)),t}function lD(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=wB(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const UAe="minifier";function zh(t){switch(t.t=t.type,t.type){case 0:{const e=t;zh(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)zh(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)zh(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;zh(e.key),e.k=e.key,delete e.key,e.modifier&&(zh(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw np(Je.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:UAe,args:[t.type]})}delete t.type}const $Ae="parser";function LAe(t,e){const{filename:r,breakLineCode:n,needIndent:i}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,b){o.code+=g}function l(g,b=!0){const E=b?n:"";c(i?E+"  ".repeat(g):E)}function u(g=!0){const b=++o.indentLevel;g&&l(b)}function f(g=!0){const b=--o.indentLevel;g&&l(b)}function d(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:f,newline:d,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function FAe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),k0(t,e.key),e.modifier?(t.push(", "),k0(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function BAe(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(k0(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function jAe(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(k0(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function HAe(t,e){e.body?k0(t,e.body):t.push("null")}function k0(t,e){const{helper:r}=t;switch(e.type){case 0:HAe(t,e);break;case 1:jAe(t,e);break;case 2:BAe(t,e);break;case 6:FAe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw np(Je.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:$Ae,args:[e.type]})}}const WAe=(t,e={})=>{const r=oD(e.mode)?e.mode:"normal",n=oD(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=LAe(t,{filename:n,breakLineCode:i,needIndent:s});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${wB(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),k0(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function qAe(t,e={}){const r=bB({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=OAe(r).parse(t);return n?(s&&MAe(a),i&&zh(a),{ast:a,code:""}):(kAe(a,r),WAe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function zAe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(xl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(xl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(xl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function $c(t){return Ht(t)&&WI(t)===0&&(Ka(t,"b")||Ka(t,"body"))}const _B=["b","body"];function GAe(t){return Ef(t,_B)}const EB=["c","cases"];function KAe(t){return Ef(t,EB,[])}const vB=["s","static"];function VAe(t){return Ef(t,vB)}const xB=["i","items"];function JAe(t){return Ef(t,xB,[])}const AB=["t","type"];function WI(t){return Ef(t,AB)}const CB=["v","value"];function Pb(t,e){const r=Ef(t,CB);if(r!=null)return r;throw ry(e)}const NB=["m","modifier"];function YAe(t){return Ef(t,NB)}const SB=["k","key"];function XAe(t){const e=Ef(t,SB);if(e)return e;throw ry(6)}function Ef(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(Ka(t,i)&&t[i]!=null)return t[i]}return r}const IB=[..._B,...EB,...vB,...xB,...SB,...NB,...CB,...AB];function ry(t){return new Error(`unhandled node type: ${t}`)}const vf=[];vf[0]={w:[0],i:[3,0],"[":[4],o:[7]};vf[1]={w:[1],".":[2],"[":[4],o:[7]};vf[2]={w:[2],i:[3,0],0:[3,0]};vf[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};vf[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};vf[5]={"'":[4,0],o:8,l:[5,0]};vf[6]={'"':[4,0],o:8,l:[6,0]};const QAe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ZAe(t){return QAe.test(t)}function e2e(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function t2e(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function r2e(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:ZAe(e)?e2e(e):"*"+e}function n2e(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,o===void 0||(o=r2e(o),o===!1))return!1;d[1]()}};function h(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,d[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&h())){if(c=t2e(s),f=vf[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=s,u()===!1))))return;if(n===7)return e}}const uD=new Map;function i2e(t,e){return Ht(t)?t[e]:null}function s2e(t,e){if(!Ht(t))return null;let r=uD.get(e);if(r||(r=n2e(e),r&&uD.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=r[s];if(IB.includes(o)&&$c(i))return null;const a=i[o];if(a===void 0||hr(i))return null;i=a,s++}return i}const o2e=t=>t,a2e=t=>"",c2e="text",l2e=t=>t.length===0?"":pAe(t),u2e=hAe;function fD(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function f2e(t){const e=ln(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ln(t.named.count)||ln(t.named.n))?ln(t.named.count)?t.named.count:ln(t.named.n)?t.named.n:e:e}function d2e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function h2e(t={}){const e=t.locale,r=f2e(t),n=Ht(t.pluralRules)&&Se(e)&&hr(t.pluralRules[e])?t.pluralRules[e]:fD,i=Ht(t.pluralRules)&&Se(e)&&hr(t.pluralRules[e])?fD:void 0,s=E=>E[n(r,E.length,i)],o=t.list||[],a=E=>o[E],c=t.named||ir();ln(t.pluralIndex)&&d2e(r,c);const l=E=>c[E];function u(E){const A=hr(t.messages)?t.messages(E):Ht(t.messages)?t.messages[E]:!1;return A||(t.parent?t.parent.message(E):a2e)}const f=E=>t.modifiers?t.modifiers[E]:o2e,d=Ze(t.processor)&&hr(t.processor.normalize)?t.processor.normalize:l2e,h=Ze(t.processor)&&hr(t.processor.interpolate)?t.processor.interpolate:u2e,m=Ze(t.processor)&&Se(t.processor.type)?t.processor.type:c2e,b={list:a,named:l,plural:s,linked:(E,...A)=>{const[S,T]=A;let P="text",k="";A.length===1?Ht(S)?(k=S.modifier||k,P=S.type||P):Se(S)&&(k=S||k):A.length===2&&(Se(S)&&(k=S||k),Se(T)&&(P=T||P));const F=u(E)(b),N=P==="vnode"&&Mr(F)&&k?F[0]:F;return k?f(k)(N,P):N},message:u,type:m,interpolate:h,normalize:d,values:ui(ir(),o,c)};return b}let ny=null;function p2e(t){ny=t}function g2e(t,e,r){ny&&ny.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const m2e=y2e("function:translate");function y2e(t){return e=>ny&&ny.emit(t,e)}const b2e=jI.__EXTEND_POINT__,Hf=CE(b2e),w2e={FALLBACK_TO_TRANSLATE:Hf(),CANNOT_FORMAT_NUMBER:Hf(),FALLBACK_TO_NUMBER_FORMAT:Hf(),CANNOT_FORMAT_DATE:Hf(),FALLBACK_TO_DATE_FORMAT:Hf(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Hf(),__EXTEND_POINT__:Hf()},TB=Je.__EXTEND_POINT__,Wf=CE(TB),Va={INVALID_ARGUMENT:TB,INVALID_DATE_ARGUMENT:Wf(),INVALID_ISO_DATE_ARGUMENT:Wf(),NOT_SUPPORT_NON_STRING_MESSAGE:Wf(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Wf(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Wf(),NOT_SUPPORT_LOCALE_TYPE:Wf(),__EXTEND_POINT__:Wf()};function Tc(t){return np(t,null,void 0)}function qI(t,e){return e.locale!=null?dD(e.locale):dD(t.locale)}let PA;function dD(t){if(Se(t))return t;if(hr(t)){if(t.resolvedOnce&&PA!=null)return PA;if(t.constructor.name==="Function"){const e=t();if(dAe(e))throw Tc(Va.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return PA=e}else throw Tc(Va.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Tc(Va.NOT_SUPPORT_LOCALE_TYPE)}function _2e(t,e,r){return[...new Set([r,...Mr(e)?e:Ht(e)?Object.keys(e):Se(e)?[e]:[r]])]}function RB(t,e,r){const n=Se(r)?r:M0,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;Mr(o);)o=hD(s,o,e);const a=Mr(e)||!Ze(e)?e:e.default?e.default:null;o=Se(a)?[a]:a,Mr(o)&&hD(s,o,!1),i.__localeChainCache.set(n,s)}return s}function hD(t,e,r){let n=!0;for(let i=0;i<e.length&&ft(n);i++){const s=e[i];Se(s)&&(n=E2e(t,e[i],r))}return n}function E2e(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=v2e(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function v2e(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Mr(r)||Ze(r))&&r[i]&&(n=r[i])}return n}const x2e="9.14.5",NE=-1,M0="en-US",pD="",gD=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function A2e(){return{upper:(t,e)=>e==="text"&&Se(t)?t.toUpperCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Se(t)?t.toLowerCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Se(t)?gD(t):e==="vnode"&&Ht(t)&&"__v_isVNode"in t?gD(t.children):t}}let PB;function mD(t){PB=t}let OB;function C2e(t){OB=t}let DB;function N2e(t){DB=t}let kB=null;const S2e=t=>{kB=t},I2e=()=>kB;let MB=null;const yD=t=>{MB=t},T2e=()=>MB;let bD=0;function R2e(t={}){const e=hr(t.onWarn)?t.onWarn:sAe,r=Se(t.version)?t.version:x2e,n=Se(t.locale)||hr(t.locale)?t.locale:M0,i=hr(n)?M0:n,s=Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||Se(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=Ze(t.messages)?t.messages:OA(i),a=Ze(t.datetimeFormats)?t.datetimeFormats:OA(i),c=Ze(t.numberFormats)?t.numberFormats:OA(i),l=ui(ir(),t.modifiers,A2e()),u=t.pluralRules||ir(),f=hr(t.missing)?t.missing:null,d=ft(t.missingWarn)||lf(t.missingWarn)?t.missingWarn:!0,h=ft(t.fallbackWarn)||lf(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,g=!!t.unresolving,b=hr(t.postTranslation)?t.postTranslation:null,E=Ze(t.processor)?t.processor:null,A=ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter,T=hr(t.messageCompiler)?t.messageCompiler:PB,P=hr(t.messageResolver)?t.messageResolver:OB||i2e,k=hr(t.localeFallbacker)?t.localeFallbacker:DB||_2e,F=Ht(t.fallbackContext)?t.fallbackContext:void 0,N=t,v=Ht(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,M=Ht(N.__numberFormatters)?N.__numberFormatters:new Map,$=Ht(N.__meta)?N.__meta:{};bD++;const O={version:r,cid:bD,locale:n,fallbackLocale:s,messages:o,modifiers:l,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:g,postTranslation:b,processor:E,warnHtmlMessage:A,escapeParameter:S,messageCompiler:T,messageResolver:P,localeFallbacker:k,fallbackContext:F,onWarn:e,__meta:$};return O.datetimeFormats=a,O.numberFormats=c,O.__datetimeFormatters=v,O.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&g2e(O,r,$),O}const OA=t=>({[t]:ir()});function zI(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Se(a)?a:e}else return e}function Up(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function P2e(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function O2e(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(P2e(t,e[n]))return!0;return!1}function DA(t){return r=>D2e(r,t)}function D2e(t,e){const r=GAe(e);if(r==null)throw ry(0);if(WI(r)===1){const s=KAe(r);return t.plural(s.reduce((o,a)=>[...o,wD(t,a)],[]))}else return wD(t,r)}function wD(t,e){const r=VAe(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=JAe(e).reduce((i,s)=>[...i,rN(t,s)],[]);return t.normalize(n)}}function rN(t,e){const r=WI(e);switch(r){case 3:return Pb(e,r);case 9:return Pb(e,r);case 4:{const n=e;if(Ka(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(Ka(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw ry(r)}case 5:{const n=e;if(Ka(n,"i")&&ln(n.i))return t.interpolate(t.list(n.i));if(Ka(n,"index")&&ln(n.index))return t.interpolate(t.list(n.index));throw ry(r)}case 6:{const n=e,i=YAe(n),s=XAe(n);return t.linked(rN(t,s),i?rN(t,i):void 0,t.type)}case 7:return Pb(e,r);case 8:return Pb(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const UB=t=>t;let e0=ir();function $B(t,e={}){let r=!1;const n=e.onError||EAe;return e.onError=i=>{r=!0,n(i)},{...qAe(t,e),detectError:r}}const k2e=(t,e)=>{if(!Se(t))throw Tc(Va.NOT_SUPPORT_NON_STRING_MESSAGE);{ft(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UB)(t),i=e0[n];if(i)return i;const{code:s,detectError:o}=$B(t,e),a=new Function(`return ${s}`)();return o?a:e0[n]=a}};function M2e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Se(t)){ft(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UB)(t),i=e0[n];if(i)return i;const{ast:s,detectError:o}=$B(t,{...e,location:!1,jit:!0}),a=DA(s);return o?a:e0[n]=a}else{const r=t.cacheKey;if(r){const n=e0[r];return n||(e0[r]=DA(t))}else return DA(t)}}const _D=()=>"",No=t=>hr(t);function ED(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,l]=nN(...e),u=ft(l.missingWarn)?l.missingWarn:t.missingWarn,f=ft(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=ft(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,m=Se(l.default)||ft(l.default)?ft(l.default)?s?c:()=>c:l.default:r?s?c:()=>c:"",g=r||m!=="",b=qI(t,l);d&&U2e(l);let[E,A,S]=h?[c,b,a[b]||ir()]:LB(t,c,b,o,f,u),T=E,P=c;if(!h&&!(Se(T)||$c(T)||No(T))&&g&&(T=m,P=T),!h&&(!(Se(T)||$c(T)||No(T))||!Se(A)))return i?NE:c;let k=!1;const F=()=>{k=!0},N=No(T)?T:FB(t,c,A,T,P,F);if(k)return T;const v=F2e(t,A,S,l),M=h2e(v),$=$2e(t,N,M);let O=n?n($,c):$;if(d&&Se(O)&&(O=uAe(O)),__INTLIFY_PROD_DEVTOOLS__){const C={timestamp:Date.now(),key:Se(c)?c:No(T)?T.key:"",locale:A||(No(T)?T.locale:""),format:Se(T)?T:No(T)?T.source:"",message:O};C.meta=ui({},t.__meta,I2e()||{}),m2e(C)}return O}function U2e(t){Mr(t.list)?t.list=t.list.map(e=>Se(e)?iD(e):e):Ht(t.named)&&Object.keys(t.named).forEach(e=>{Se(t.named[e])&&(t.named[e]=iD(t.named[e]))})}function LB(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,n,r);let f=ir(),d,h=null;const m="translate";for(let g=0;g<u.length&&(d=u[g],f=o[d]||ir(),(h=c(f,e))===null&&(h=f[e]),!(Se(h)||$c(h)||No(h)));g++)if(!O2e(d,u)){const b=zI(t,e,d,s,m);b!==e&&(h=b)}return[h,d,f]}function FB(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(No(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||e,l}if(o==null){const l=(()=>n);return l.locale=r,l.key=e,l}const c=o(n,L2e(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function $2e(t,e,r){return e(r)}function nN(...t){const[e,r,n]=t,i=ir();if(!Se(e)&&!ln(e)&&!No(e)&&!$c(e))throw Tc(Va.INVALID_ARGUMENT);const s=ln(e)?String(e):(No(e),e);return ln(r)?i.plural=r:Se(r)?i.default=r:Ze(r)&&!AE(r)?i.named=r:Mr(r)&&(i.list=r),ln(n)?i.plural=n:Se(n)?i.default=n:Ze(n)&&ui(i,n),[s,i]}function L2e(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>oAe(e,r,o)}}function F2e(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,d={locale:e,modifiers:i,pluralRules:s,messages:h=>{let m=o(r,h);if(m==null&&u){const[,,g]=LB(u,h,e,a,c,l);m=o(g,h)}if(Se(m)||$c(m)){let g=!1;const E=FB(t,h,e,m,h,()=>{g=!0});return g?_D:E}else return No(m)?m:_D}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),ln(n.plural)&&(d.pluralIndex=n.plural),d}function vD(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,f]=iN(...e),d=ft(u.missingWarn)?u.missingWarn:t.missingWarn;ft(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=qI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.DateTimeFormat(m,f).format(l);let b={},E,A=null;const S="datetime format";for(let k=0;k<g.length&&(E=g[k],b=r[E]||{},A=b[c],!Ze(A));k++)zI(t,c,E,d,S);if(!Ze(A)||!Se(E))return n?NE:c;let T=`${E}__${c}`;AE(f)||(T=`${T}__${JSON.stringify(f)}`);let P=a.get(T);return P||(P=new Intl.DateTimeFormat(E,ui({},A,f)),a.set(T,P)),h?P.formatToParts(l):P.format(l)}const BB=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function iN(...t){const[e,r,n,i]=t,s=ir();let o=ir(),a;if(Se(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Tc(Va.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Tc(Va.INVALID_ISO_DATE_ARGUMENT)}}else if(cAe(e)){if(isNaN(e.getTime()))throw Tc(Va.INVALID_DATE_ARGUMENT);a=e}else if(ln(e))a=e;else throw Tc(Va.INVALID_ARGUMENT);return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{BB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function xD(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function AD(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,f]=sN(...e),d=ft(u.missingWarn)?u.missingWarn:t.missingWarn;ft(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=qI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.NumberFormat(m,f).format(l);let b={},E,A=null;const S="number format";for(let k=0;k<g.length&&(E=g[k],b=r[E]||{},A=b[c],!Ze(A));k++)zI(t,c,E,d,S);if(!Ze(A)||!Se(E))return n?NE:c;let T=`${E}__${c}`;AE(f)||(T=`${T}__${JSON.stringify(f)}`);let P=a.get(T);return P||(P=new Intl.NumberFormat(E,ui({},A,f)),a.set(T,P)),h?P.formatToParts(l):P.format(l)}const jB=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function sN(...t){const[e,r,n,i]=t,s=ir();let o=ir();if(!ln(e))throw Tc(Va.INVALID_ARGUMENT);const a=e;return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{jB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function CD(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}zAe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const B2e="9.14.5";function j2e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(xl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(xl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(xl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(xl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(xl().__INTLIFY_PROD_DEVTOOLS__=!1)}const H2e=w2e.__EXTEND_POINT__,nl=CE(H2e);nl(),nl(),nl(),nl(),nl(),nl(),nl(),nl(),nl();const HB=Va.__EXTEND_POINT__,ps=CE(HB),Hn={UNEXPECTED_RETURN_TYPE:HB,INVALID_ARGUMENT:ps(),MUST_BE_CALL_SETUP_TOP:ps(),NOT_INSTALLED:ps(),NOT_AVAILABLE_IN_LEGACY_MODE:ps(),REQUIRED_VALUE:ps(),INVALID_VALUE:ps(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ps(),NOT_INSTALLED_WITH_PROVIDE:ps(),UNEXPECTED_ERROR:ps(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ps(),BRIDGE_SUPPORT_VUE_2_ONLY:ps(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ps(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ps(),__EXTEND_POINT__:ps()};function Jn(t,...e){return np(t,null,void 0)}const oN=_f("__translateVNode"),aN=_f("__datetimeParts"),cN=_f("__numberParts"),WB=_f("__setPluralRules"),qB=_f("__injectWithOption"),lN=_f("__dispose");function iy(t){if(!Ht(t)||$c(t))return t;for(const e in t)if(Ka(t,e))if(!e.includes("."))Ht(t[e])&&iy(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in i||(i[r[o]]=ir()),!Ht(i[r[o]])){s=!0;break}i=i[r[o]]}if(s||($c(i)?IB.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!$c(i)){const o=i[r[n]];Ht(o)&&iy(o)}}return t}function SE(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=Ze(r)?r:Mr(n)?ir():{[t]:ir()};if(Mr(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||ir(),Hw(l,o[c])):Hw(l,o)}else Se(a)&&Hw(JSON.parse(a),o)}),i==null&&s)for(const a in o)Ka(o,a)&&iy(o[a]);return o}function zB(t){return t.type}function GB(t,e,r){let n=Ht(e.messages)?e.messages:ir();"__i18nGlobal"in r&&(n=SE(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(Ht(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ht(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function ND(t){return je(oy,null,t,0)}const SD="__INTLIFY_META__",ID=()=>[],W2e=()=>!1;let TD=0;function RD(t){return((e,r,n,i)=>t(r,n,Do()||void 0,i))}const q2e=()=>{const t=Do();let e=null;return t&&(e=zB(t)[SD])?{[SD]:e}:null};function GI(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=f1?_t:RN,a=!!t.translateExistCompatible;let c=ft(t.inheritLocale)?t.inheritLocale:!0;const l=o(r&&c?r.locale.value:Se(t.locale)?t.locale:M0),u=o(r&&c?r.fallbackLocale.value:Se(t.fallbackLocale)||Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),f=o(SE(l.value,t)),d=o(Ze(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),h=o(Ze(t.numberFormats)?t.numberFormats:{[l.value]:{}});let m=r?r.missingWarn:ft(t.missingWarn)||lf(t.missingWarn)?t.missingWarn:!0,g=r?r.fallbackWarn:ft(t.fallbackWarn)||lf(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:ft(t.fallbackRoot)?t.fallbackRoot:!0,E=!!t.fallbackFormat,A=hr(t.missing)?t.missing:null,S=hr(t.missing)?RD(t.missing):null,T=hr(t.postTranslation)?t.postTranslation:null,P=r?r.warnHtmlMessage:ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const F=r?r.modifiers:Ze(t.modifiers)?t.modifiers:{};let N=t.pluralRules||r&&r.pluralRules,v;v=(()=>{i&&yD(null);const ee={version:B2e,locale:l.value,fallbackLocale:u.value,messages:f.value,modifiers:F,pluralRules:N,missing:S===null?void 0:S,missingWarn:m,fallbackWarn:g,fallbackFormat:E,unresolving:!0,postTranslation:T===null?void 0:T,warnHtmlMessage:P,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ee.datetimeFormats=d.value,ee.numberFormats=h.value,ee.__datetimeFormatters=Ze(v)?v.__datetimeFormatters:void 0,ee.__numberFormatters=Ze(v)?v.__numberFormatters:void 0;const ce=R2e(ee);return i&&yD(ce),ce})(),Up(v,l.value,u.value);function $(){return[l.value,u.value,f.value,d.value,h.value]}const O=qt({get:()=>l.value,set:ee=>{l.value=ee,v.locale=l.value}}),C=qt({get:()=>u.value,set:ee=>{u.value=ee,v.fallbackLocale=u.value,Up(v,l.value,ee)}}),p=qt(()=>f.value),y=qt(()=>d.value),w=qt(()=>h.value);function x(){return hr(T)?T:null}function I(ee){T=ee,v.postTranslation=ee}function U(){return A}function B(ee){ee!==null&&(S=RD(ee)),A=ee,v.missing=S}const D=(ee,ce,ke,Le,Ge,Fr)=>{$();let nt;try{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=r?T2e():void 0),nt=ee(v)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=void 0)}if(ke!=="translate exists"&&ln(nt)&&nt===NE||ke==="translate exists"&&!nt){const[Rt,Xo]=ce();return r&&b?Le(r):Ge(Rt)}else{if(Fr(nt))return nt;throw Jn(Hn.UNEXPECTED_RETURN_TYPE)}};function _(...ee){return D(ce=>Reflect.apply(ED,null,[ce,...ee]),()=>nN(...ee),"translate",ce=>Reflect.apply(ce.t,ce,[...ee]),ce=>ce,ce=>Se(ce))}function L(...ee){const[ce,ke,Le]=ee;if(Le&&!Ht(Le))throw Jn(Hn.INVALID_ARGUMENT);return _(ce,ke,ui({resolvedMessage:!0},Le||{}))}function G(...ee){return D(ce=>Reflect.apply(vD,null,[ce,...ee]),()=>iN(...ee),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ee]),()=>pD,ce=>Se(ce))}function R(...ee){return D(ce=>Reflect.apply(AD,null,[ce,...ee]),()=>sN(...ee),"number format",ce=>Reflect.apply(ce.n,ce,[...ee]),()=>pD,ce=>Se(ce))}function V(ee){return ee.map(ce=>Se(ce)||ln(ce)||ft(ce)?ND(String(ce)):ce)}const X={normalize:V,interpolate:ee=>ee,type:"vnode"};function Q(...ee){return D(ce=>{let ke;const Le=ce;try{Le.processor=X,ke=Reflect.apply(ED,null,[Le,...ee])}finally{Le.processor=null}return ke},()=>nN(...ee),"translate",ce=>ce[oN](...ee),ce=>[ND(ce)],ce=>Mr(ce))}function ie(...ee){return D(ce=>Reflect.apply(AD,null,[ce,...ee]),()=>sN(...ee),"number format",ce=>ce[cN](...ee),ID,ce=>Se(ce)||Mr(ce))}function le(...ee){return D(ce=>Reflect.apply(vD,null,[ce,...ee]),()=>iN(...ee),"datetime format",ce=>ce[aN](...ee),ID,ce=>Se(ce)||Mr(ce))}function H(ee){N=ee,v.pluralRules=N}function Y(ee,ce){return D(()=>{if(!ee)return!1;const ke=Se(ce)?ce:l.value,Le=fe(ke),Ge=v.messageResolver(Le,ee);return a?Ge!=null:$c(Ge)||No(Ge)||Se(Ge)},()=>[ee],"translate exists",ke=>Reflect.apply(ke.te,ke,[ee,ce]),W2e,ke=>ft(ke))}function W(ee){let ce=null;const ke=RB(v,u.value,l.value);for(let Le=0;Le<ke.length;Le++){const Ge=f.value[ke[Le]]||{},Fr=v.messageResolver(Ge,ee);if(Fr!=null){ce=Fr;break}}return ce}function Z(ee){const ce=W(ee);return ce??(r?r.tm(ee)||{}:{})}function fe(ee){return f.value[ee]||{}}function oe(ee,ce){if(s){const ke={[ee]:ce};for(const Le in ke)Ka(ke,Le)&&iy(ke[Le]);ce=ke[ee]}f.value[ee]=ce,v.messages=f.value}function ge(ee,ce){f.value[ee]=f.value[ee]||{};const ke={[ee]:ce};if(s)for(const Le in ke)Ka(ke,Le)&&iy(ke[Le]);ce=ke[ee],Hw(ce,f.value[ee]),v.messages=f.value}function _e(ee){return d.value[ee]||{}}function q(ee,ce){d.value[ee]=ce,v.datetimeFormats=d.value,xD(v,ee,ce)}function z(ee,ce){d.value[ee]=ui(d.value[ee]||{},ce),v.datetimeFormats=d.value,xD(v,ee,ce)}function ne(ee){return h.value[ee]||{}}function se(ee,ce){h.value[ee]=ce,v.numberFormats=h.value,CD(v,ee,ce)}function pe(ee,ce){h.value[ee]=ui(h.value[ee]||{},ce),v.numberFormats=h.value,CD(v,ee,ce)}TD++,r&&f1&&(un(r.locale,ee=>{c&&(l.value=ee,v.locale=ee,Up(v,l.value,u.value))}),un(r.fallbackLocale,ee=>{c&&(u.value=ee,v.fallbackLocale=ee,Up(v,l.value,u.value))}));const me={id:TD,locale:O,fallbackLocale:C,get inheritLocale(){return c},set inheritLocale(ee){c=ee,ee&&r&&(l.value=r.locale.value,u.value=r.fallbackLocale.value,Up(v,l.value,u.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:p,get modifiers(){return F},get pluralRules(){return N||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ee){m=ee,v.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(ee){g=ee,v.fallbackWarn=g},get fallbackRoot(){return b},set fallbackRoot(ee){b=ee},get fallbackFormat(){return E},set fallbackFormat(ee){E=ee,v.fallbackFormat=E},get warnHtmlMessage(){return P},set warnHtmlMessage(ee){P=ee,v.warnHtmlMessage=ee},get escapeParameter(){return k},set escapeParameter(ee){k=ee,v.escapeParameter=ee},t:_,getLocaleMessage:fe,setLocaleMessage:oe,mergeLocaleMessage:ge,getPostTranslationHandler:x,setPostTranslationHandler:I,getMissingHandler:U,setMissingHandler:B,[WB]:H};return me.datetimeFormats=y,me.numberFormats=w,me.rt=L,me.te=Y,me.tm=Z,me.d=G,me.n=R,me.getDateTimeFormat=_e,me.setDateTimeFormat=q,me.mergeDateTimeFormat=z,me.getNumberFormat=ne,me.setNumberFormat=se,me.mergeNumberFormat=pe,me[qB]=n,me[oN]=Q,me[aN]=le,me[cN]=ie,me}function z2e(t){const e=Se(t.locale)?t.locale:M0,r=Se(t.fallbackLocale)||Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=hr(t.missing)?t.missing:void 0,i=ft(t.silentTranslationWarn)||lf(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=ft(t.silentFallbackWarn)||lf(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=ft(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=Ze(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=hr(t.postTranslation)?t.postTranslation:void 0,f=Se(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=ft(t.sync)?t.sync:!0;let m=t.messages;if(Ze(t.sharedMessages)){const k=t.sharedMessages;m=Object.keys(k).reduce((N,v)=>{const M=N[v]||(N[v]={});return ui(M,k[v]),N},m||{})}const{__i18n:g,__root:b,__injectWithOption:E}=t,A=t.datetimeFormats,S=t.numberFormats,T=t.flatJson,P=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:T,datetimeFormats:A,numberFormats:S,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,translateExistCompatible:P,__i18n:g,__root:b,__injectWithOption:E}}function uN(t={},e){{const r=GI(z2e(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return ft(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=ft(s)?!s:s},get silentFallbackWarn(){return ft(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=ft(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,l={};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:Mr(a)?u=a:Ze(a)&&(f=a),Mr(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,l={plural:1};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:ln(a)?l.plural=a:Mr(a)?u=a:Ze(a)&&(f=a),Se(c)?l.locale=c:Mr(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const KI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function G2e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===As?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},ir())}function KB(t){return As}const K2e=Fi({name:"i18n-t",props:ui({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ln(t)||!isNaN(t)}},KI),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||Ly({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(f=>f!=="_"),o=ir();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Se(t.plural)?+t.plural:t.plural);const a=G2e(e,s),c=i[oN](t.keypath,a,o),l=ui(ir(),n),u=Se(t.tag)||Ht(t.tag)?t.tag:KB();return cy(u,l,c)}}}),PD=K2e;function V2e(t){return Mr(t)&&!Se(t[0])}function VB(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=ir();t.locale&&(o.locale=t.locale),Se(t.format)?o.key=t.format:Ht(t.format)&&(Se(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>r.includes(h)?ui(ir(),d,{[h]:t.format[h]}):d,ir()));const c=n(t.value,o,a);let l=[o.key];Mr(c)?l=c.map((d,h)=>{const m=i[d.type],g=m?m({[d.type]:d.value,index:h,parts:c}):[d.value];return V2e(g)&&(g[0].key=`${d.type}-${h}`),g}):Se(c)&&(l=[c]);const u=ui(ir(),s),f=Se(t.tag)||Ht(t.tag)?t.tag:KB();return cy(f,u,l)}}const J2e=Fi({name:"i18n-n",props:ui({value:{type:Number,required:!0},format:{type:[String,Object]}},KI),setup(t,e){const r=t.i18n||Ly({useScope:t.scope,__useComponent:!0});return VB(t,e,jB,(...n)=>r[cN](...n))}}),OD=J2e,Y2e=Fi({name:"i18n-d",props:ui({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},KI),setup(t,e){const r=t.i18n||Ly({useScope:t.scope,__useComponent:!0});return VB(t,e,BB,(...n)=>r[aN](...n))}}),DD=Y2e;function X2e(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function Q2e(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Jn(Hn.UNEXPECTED_ERROR);const u=X2e(t,a.$),f=kD(l);return[Reflect.apply(u.t,u,[...MD(f)]),u]};return{created:(o,a)=>{const[c,l]=e(a);f1&&t.global===l&&(o.__i18nWatcher=un(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{f1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=kD(a);o.textContent=Reflect.apply(c.t,c,[...MD(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function kD(t){if(Se(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Jn(Hn.REQUIRED_VALUE,"path");return t}else throw Jn(Hn.INVALID_VALUE)}function MD(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Se(r)&&(o.locale=r),ln(i)&&(o.plural=i),ln(s)&&(o.plural=s),[e,a,o]}function Z2e(t,e,...r){const n=Ze(r[0])?r[0]:{},i=!!n.useI18nComponentName;(ft(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":PD.name,"I18nT"].forEach(o=>t.component(o,PD)),[OD.name,"I18nN"].forEach(o=>t.component(o,OD)),[DD.name,"I18nD"].forEach(o=>t.component(o,DD))),t.directive("t",Q2e(e))}function eCe(t,e,r){return{beforeCreate(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=UD(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=uN(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=UD(t,i);else{this.$i18n=uN({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&GB(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function UD(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[WB](e.pluralizationRules||t.pluralizationRules);const r=SE(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const tCe=_f("global-vue-i18n");function rCe(t={},e){const r=__VUE_I18N_LEGACY_API__&&ft(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=ft(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=nCe(t,r),c=_f("");function l(d){return s.get(d)||null}function u(d,h){s.set(d,h)}function f(d){s.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(h,...m){if(h.__VUE_I18N_SYMBOL__=c,h.provide(h.__VUE_I18N_SYMBOL__,d),Ze(m[0])){const E=m[0];d.__composerExtend=E.__composerExtend,d.__vueI18nExtend=E.__vueI18nExtend}let g=null;!r&&n&&(g=dCe(h,d.global)),__VUE_I18N_FULL_INSTALL__&&Z2e(h,d,...m),__VUE_I18N_LEGACY_API__&&r&&h.mixin(eCe(a,a.__composer,d));const b=h.unmount;h.unmount=()=>{g&&g(),d.dispose(),b()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:l,__setInstance:u,__deleteInstance:f};return d}}function Ly(t={}){const e=Do();if(e==null)throw Jn(Hn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Jn(Hn.NOT_INSTALLED);const r=iCe(e),n=oCe(r),i=zB(e),s=sCe(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Jn(Hn.NOT_AVAILABLE_IN_LEGACY_MODE);return uCe(e,s,n,t)}if(s==="global")return GB(n,t,i),n;if(s==="parent"){let c=aCe(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=ui({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=GI(c),o.__composerExtend&&(a[lN]=o.__composerExtend(a)),lCe(o,e,a),o.__setInstance(e,a)}return a}function nCe(t,e,r){const n=EN();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>uN(t)):n.run(()=>GI(t));if(i==null)throw Jn(Hn.UNEXPECTED_ERROR);return[n,i]}}function iCe(t){{const e=Js(t.isCE?tCe:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Jn(t.isCE?Hn.NOT_INSTALLED_WITH_PROVIDE:Hn.UNEXPECTED_ERROR);return e}}function sCe(t,e){return AE(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function oCe(t){return t.mode==="composition"?t.global:t.global.__composer}function aCe(t,e,r=!1){let n=null;const i=e.root;let s=cCe(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[qB]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function cCe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function lCe(t,e,r){ff(()=>{},e),df(()=>{const n=r;t.__deleteInstance(e);const i=n[lN];i&&(i(),delete n[lN])},e)}function uCe(t,e,r,n={}){const i=e==="local",s=RN(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Jn(Hn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=ft(n.inheritLocale)?n.inheritLocale:!Se(n.locale),a=_t(!i||o?r.locale.value:Se(n.locale)?n.locale:M0),c=_t(!i||o?r.fallbackLocale.value:Se(n.fallbackLocale)||Mr(n.fallbackLocale)||Ze(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),l=_t(SE(a.value,n)),u=_t(Ze(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),f=_t(Ze(n.numberFormats)?n.numberFormats:{[a.value]:{}}),d=i?r.missingWarn:ft(n.missingWarn)||lf(n.missingWarn)?n.missingWarn:!0,h=i?r.fallbackWarn:ft(n.fallbackWarn)||lf(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:ft(n.fallbackRoot)?n.fallbackRoot:!0,g=!!n.fallbackFormat,b=hr(n.missing)?n.missing:null,E=hr(n.postTranslation)?n.postTranslation:null,A=i?r.warnHtmlMessage:ft(n.warnHtmlMessage)?n.warnHtmlMessage:!0,S=!!n.escapeParameter,T=i?r.modifiers:Ze(n.modifiers)?n.modifiers:{},P=n.pluralRules||i&&r.pluralRules;function k(){return[a.value,c.value,l.value,u.value,f.value]}const F=qt({get:()=>s.value?s.value.locale.value:a.value,set:W=>{s.value&&(s.value.locale.value=W),a.value=W}}),N=qt({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:W=>{s.value&&(s.value.fallbackLocale.value=W),c.value=W}}),v=qt(()=>s.value?s.value.messages.value:l.value),M=qt(()=>u.value),$=qt(()=>f.value);function O(){return s.value?s.value.getPostTranslationHandler():E}function C(W){s.value&&s.value.setPostTranslationHandler(W)}function p(){return s.value?s.value.getMissingHandler():b}function y(W){s.value&&s.value.setMissingHandler(W)}function w(W){return k(),W()}function x(...W){return s.value?w(()=>Reflect.apply(s.value.t,null,[...W])):w(()=>"")}function I(...W){return s.value?Reflect.apply(s.value.rt,null,[...W]):""}function U(...W){return s.value?w(()=>Reflect.apply(s.value.d,null,[...W])):w(()=>"")}function B(...W){return s.value?w(()=>Reflect.apply(s.value.n,null,[...W])):w(()=>"")}function D(W){return s.value?s.value.tm(W):{}}function _(W,Z){return s.value?s.value.te(W,Z):!1}function L(W){return s.value?s.value.getLocaleMessage(W):{}}function G(W,Z){s.value&&(s.value.setLocaleMessage(W,Z),l.value[W]=Z)}function R(W,Z){s.value&&s.value.mergeLocaleMessage(W,Z)}function V(W){return s.value?s.value.getDateTimeFormat(W):{}}function K(W,Z){s.value&&(s.value.setDateTimeFormat(W,Z),u.value[W]=Z)}function X(W,Z){s.value&&s.value.mergeDateTimeFormat(W,Z)}function Q(W){return s.value?s.value.getNumberFormat(W):{}}function ie(W,Z){s.value&&(s.value.setNumberFormat(W,Z),f.value[W]=Z)}function le(W,Z){s.value&&s.value.mergeNumberFormat(W,Z)}const H={get id(){return s.value?s.value.id:-1},locale:F,fallbackLocale:N,messages:v,datetimeFormats:M,numberFormats:$,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(W){s.value&&(s.value.inheritLocale=W)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(l.value)},get modifiers(){return s.value?s.value.modifiers:T},get pluralRules(){return s.value?s.value.pluralRules:P},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:d},set missingWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackWarn(){return s.value?s.value.fallbackWarn:h},set fallbackWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(W){s.value&&(s.value.fallbackRoot=W)},get fallbackFormat(){return s.value?s.value.fallbackFormat:g},set fallbackFormat(W){s.value&&(s.value.fallbackFormat=W)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:A},set warnHtmlMessage(W){s.value&&(s.value.warnHtmlMessage=W)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(W){s.value&&(s.value.escapeParameter=W)},t:x,getPostTranslationHandler:O,setPostTranslationHandler:C,getMissingHandler:p,setMissingHandler:y,rt:I,d:U,n:B,tm:D,te:_,getLocaleMessage:L,setLocaleMessage:G,mergeLocaleMessage:R,getDateTimeFormat:V,setDateTimeFormat:K,mergeDateTimeFormat:X,getNumberFormat:Q,setNumberFormat:ie,mergeNumberFormat:le};function Y(W){W.locale.value=a.value,W.fallbackLocale.value=c.value,Object.keys(l.value).forEach(Z=>{W.mergeLocaleMessage(Z,l.value[Z])}),Object.keys(u.value).forEach(Z=>{W.mergeDateTimeFormat(Z,u.value[Z])}),Object.keys(f.value).forEach(Z=>{W.mergeNumberFormat(Z,f.value[Z])}),W.escapeParameter=S,W.fallbackFormat=g,W.fallbackRoot=m,W.fallbackWarn=h,W.missingWarn=d,W.warnHtmlMessage=A}return zk(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Jn(Hn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const W=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=W.locale.value,c.value=W.fallbackLocale.value,l.value=W.messages.value,u.value=W.datetimeFormats.value,f.value=W.numberFormats.value):i&&Y(W)}),H}const fCe=["locale","fallbackLocale","availableLocales"],$D=["t","rt","d","n","tm","te"];function dCe(t,e){const r=Object.create(null);return fCe.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Jn(Hn.UNEXPECTED_ERROR);const o=Gr(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,$D.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Jn(Hn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,$D.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}j2e();__INTLIFY_JIT_COMPILATION__?mD(M2e):mD(k2e);C2e(s2e);N2e(RB);if(__INTLIFY_PROD_DEVTOOLS__){const t=xl();t.__INTLIFY__=!0,p2e(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let JB;const IE=t=>JB=t,YB=Symbol();function fN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Dg;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Dg||(Dg={}));function hCe(){const t=EN(!0),e=t.run(()=>_t({}));let r=[],n=[];const i=TN({install(s){IE(i),i._a=s,s.provide(YB,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return this._a?r.push(s):n.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const XB=()=>{};function LD(t,e,r,n=XB){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&lk()&&pj(i),i}function Ih(t,...e){t.slice().forEach(r=>{r(...e)})}const pCe=t=>t(),FD=Symbol(),kA=Symbol();function dN(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];fN(i)&&fN(n)&&t.hasOwnProperty(r)&&!Gr(n)&&!Lu(n)?t[r]=dN(i,n):t[r]=n}return t}const gCe=Symbol();function mCe(t){return!fN(t)||!t.hasOwnProperty(gCe)}const{assign:_u}=Object;function yCe(t){return!!(Gr(t)&&t.effect)}function bCe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=i?i():{});const u=Uj(r.state.value[t]);return _u(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=TN(qt(()=>{IE(r);const h=r._s.get(t);return o[d].call(h,h)})),f),{}))}return c=QB(t,l,e,r,n,!0),c}function QB(t,e,r={},n,i,s){let o;const a=_u({actions:{}},r),c={deep:!0};let l,u,f=[],d=[],h;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),_t({});let g;function b(N){let v;l=u=!1,typeof N=="function"?(N(n.state.value[t]),v={type:Dg.patchFunction,storeId:t,events:h}):(dN(n.state.value[t],N),v={type:Dg.patchObject,payload:N,storeId:t,events:h});const M=g=Symbol();vd().then(()=>{g===M&&(l=!0)}),u=!0,Ih(f,v,n.state.value[t])}const E=s?function(){const{state:v}=r,M=v?v():{};this.$patch($=>{_u($,M)})}:XB;function A(){o.stop(),f=[],d=[],n._s.delete(t)}const S=(N,v="")=>{if(FD in N)return N[kA]=v,N;const M=function(){IE(n);const $=Array.from(arguments),O=[],C=[];function p(x){O.push(x)}function y(x){C.push(x)}Ih(d,{args:$,name:M[kA],store:P,after:p,onError:y});let w;try{w=N.apply(this&&this.$id===t?this:P,$)}catch(x){throw Ih(C,x),x}return w instanceof Promise?w.then(x=>(Ih(O,x),x)).catch(x=>(Ih(C,x),Promise.reject(x))):(Ih(O,w),w)};return M[FD]=!0,M[kA]=v,M},T={_p:n,$id:t,$onAction:LD.bind(null,d),$patch:b,$reset:E,$subscribe(N,v={}){const M=LD(f,N,v.detached,()=>$()),$=o.run(()=>un(()=>n.state.value[t],O=>{(v.flush==="sync"?u:l)&&N({storeId:t,type:Dg.direct,events:h},O)},_u({},c,v)));return M},$dispose:A},P=Hl(T);n._s.set(t,P);const F=(n._a&&n._a.runWithContext||pCe)(()=>n._e.run(()=>(o=EN()).run(()=>e({action:S}))));for(const N in F){const v=F[N];if(Gr(v)&&!yCe(v)||Lu(v))s||(m&&mCe(v)&&(Gr(v)?v.value=m[N]:dN(v,m[N])),n.state.value[t][N]=v);else if(typeof v=="function"){const M=S(v,N);F[N]=M,a.actions[N]=v}}return _u(P,F),_u(Ot(P),F),Object.defineProperty(P,"$state",{get:()=>n.state.value[t],set:N=>{b(v=>{_u(v,N)})}}),n._p.forEach(N=>{_u(P,o.run(()=>N({store:P,app:n._a,pinia:n,options:a})))}),m&&s&&r.hydrate&&r.hydrate(P.$state,m),l=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function wCe(t,e,r){let n,i;const s=typeof e=="function";n=t,i=s?r:e;function o(a,c){const l=mH();return a=a||(l?Js(YB,null):null),a&&IE(a),a=JB,a._s.has(n)||(s?QB(n,e,i,a):bCe(n,i,a)),a._s.get(n)}return o.$id=n,o}const _Ce=wCe("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),ECe="",vCe="",xCe="",ACe="",CCe="",NCe="",SCe="",ICe="",TCe="",RCe="",PCe="",OCe="",DCe="",kCe="",MCe="FOMO",UCe="",$Ce="",LCe="NFT ",FCe="NFT ",BCe="NFT ",jCe="NFT ",HCe=" 1: ",WCe=" AI  30% ",qCe=" 2: HR ",zCe=` 15,000,000  HR 
 2,000  HR
 0.5% `,GCe=" 3: ",KCe=` 100  HR
`,VCe="",JCe="",YCe="NFT ",XCe="",QCe="",ZCe="",eNe="",tNe="",rNe="BCL",nNe="",iNe="",sNe="",oNe="Beacon Launchpad ",aNe=" BCL",cNe="",lNe="",uNe=" ",fNe="",dNe="APP",hNe="",pNe="100%,",gNe="",mNe=",",yNe="",bNe=",",wNe="",_Ne="",ENe="",vNe="",xNe=" ",ANe="",CNe=" / ",NNe=" / ",SNe=" / ",INe=" / ",TNe=" / ",RNe="BCL ",PNe=": 2100 ",ONe="LP: 1800  ()",DNe=": 100  ()",kNe=": 200  ()",MNe="NFT",UNe="",$Ne="",LNe="",FNe="",BNe="",jNe="",HNe="",WNe="",qNe="",zNe="",GNe="",KNe="",VNe="",JNe="",YNe="BCL DEFI",XNe="",QNe="",ZNe="",eSe="",tSe="",rSe="",nSe="",iSe="",sSe="",oSe="",aSe="",cSe="",lSe="NFT",uSe="",fSe="NFT",dSe="",hSe={_Connect_wallet:ECe,_Please_enter_a_referee:vCe,_Success:xCe,_Fail:ACe,_Invite_link:CCe,_Copy_link:NCe,_Join_record:SCe,_Join_amount:ICe,_Time:TCe,_Enter_friend_address_to_bind:RCe,_Enter_invite_address:PCe,_Bind:OCe,_Home:DCe,_Node:kCe,_FOMO_Pool:MCe,_Not_yet_open:UCe,_Recharge_address:$Ce,_NFT_Presale:LCe,_NFT_Staking:FCe,_NFT_Rights:BCe,_NFT_Records:jCe,_Right_1_Node_as_Shareholder:HCe,_Right_1_Desc:WCe,_Right_2_HR_Token_Airdrop:qCe,_Right_2_Desc:zCe,_Right_3_Referral_Reward:GCe,_Right_3_Desc:KCe,_No_records:VCe,_In_progress:JCe,_NFT_Quantity:YCe,_Buy_Now:XCe,_Copy_successful:QCe,_Copy_failed:ZCe,_Invite:eNe,_My_wallet_address:tNe,_BCL_Lighthouse_Protocol:rNe,_Fair_Transparent_Sustainable_DeFi_Paradigm:nNe,_Node_Subscription:iNe,_Welcome_To:sNe,_Welcome_Desc_1:oNe,_Welcome_Desc_2:aNe,_Core:cNe,_Philosophy:lNe,_Five_Core_Values:uNe,_Fairness:fNe,_Fairness_Desc:dNe,_Transparency:hNe,_Transparency_Desc:pNe,_Fair_Distribution:gNe,_Fair_Distribution_Desc:mNe,_Self_Balancing:yNe,_Self_Balancing_Desc:bNe,_Sustainability:wNe,_Sustainability_Desc:_Ne,_Decentralized:ENe,_Architecture:vNe,_Sustainable_Self_Driven_Model:xNe,_Core_Architecture_Features:ANe,_No_Centralized_Server:CNe,_All_Operations_Public:NNe,_All_Data_On_Chain:SNe,_Automatic_Profit_Distribution:INe,_Sustainable_Revenue_Cycle:TNe,_BCL_Token_Distribution:RNe,_Total_Token_Supply:PNe,_LP_Pool_Locked:ONe,_Interaction_Contract:DNe,_Airdrop_Contract:kNe,_NFT_Rewards:MNe,_Why_Choose:UNe,_Stable_Revenue:$Ne,_Stable_Revenue_Desc:LNe,_Principal_Protection:FNe,_Principal_Protection_Desc:BNe,_Ecosystem_Internal_Circulation:jNe,_Ecosystem_Internal_Circulation_Desc:HNe,_Anti_Dilution_Mechanism:WNe,_Anti_Dilution_Mechanism_Desc:qNe,_Unlimited_Development:zNe,_Unlimited_Development_Desc:GNe,_Join:KNe,_Us:VNe,_Reshaping_Industry_Trust:JNe,_BCL_Breaks_Dilemma:YNe,_Rules_Programmable:XNe,_Trust_Quantifiable:QNe,_Join_Us_Desc:ZNe,_Join_Now:eSe,_Purchase_Node:tSe,_Node_Rights:rSe,_Please_enter_inviter:nSe,_Inviter_invalid:iSe,_Bind_success:sSe,_Bind_failed:oSe,_Approve:aSe,_Total_Network_Nodes:cSe,_Total_Network_NFTs:lSe,_My_Nodes:uSe,_My_NFTs:fSe,_Direct_Referral_Nodes:dSe},pSe="Connect Wallet",gSe="Please enter a referee",mSe="Success",ySe="Fail",bSe="Invite Link",wSe="Copy Link",_Se="Join Record",ESe="Join Amount",vSe="Time",xSe="Please enter friend's address to bind",ASe="Please enter invite address",CSe="Bind",NSe="Home",SSe="Node",ISe="FOMO Pool",TSe="Not yet open",RSe="Recharge Address",PSe="NFT Presale",OSe="NFT Staking",DSe="NFT Rights",kSe="NFT Records",MSe="Right 1: Node as Shareholder",USe="Node holders are recognized as ecosystem shareholders, receiving 30% weighted dividends from the decentralized AI prediction platform.",$Se="Right 2: HR Token Airdrop",LSe=`Global nodes will receive a total of 15,000,000 HR tokens airdrop.
Each node receives an average of 2,000 HR.
Tokens are released daily at a rate of 0.5%.`,FSe="Right 3: Referral Reward",BSe=`Receive 100 HR for every node referred.
No cap and no lock-up requirement.`,jSe="No records",HSe="In Progress",WSe="NFT Quantity",qSe="Buy Now",zSe="Copy Successful",GSe="Copy Failed",KSe="Invite",VSe="My Wallet Address",JSe="BCL Lighthouse Protocol",YSe="Fair, Transparent, Sustainable New Paradigm of Decentralized Finance",XSe="Node Subscription",QSe="Welcome to",ZSe="Beacon Launchpad is a fully decentralized, on-chain automatically executed multi-chain launch platform. Relying on an independently developed financial protocol system, it achieves full automation of project issuance, liquidity management, and incentive distribution, ensuring openness, fairness, security, and sustainable growth.",eIe="At BCL, everyone can participate fairly, govern transparently, and share continuously.",tIe="Core",rIe="Philosophy",nIe=" Five Core Values",iIe="Fairness",sIe="No Project Team, No APP, No Reservation, No Permission, No Termination",oIe="Transparency",aIe="100% On-Chain Permanent Autonomous Operation, Pure Smart Contract Control",cIe="Fair Distribution",lIe="Fair Distribution: Stable Returns for Leaders, Unlimited Potential for Doers",uIe="Self-Balancing",fIe="Scale Self-Balancing Engine, Ecosystem Stable Perpetual Circulation Model",dIe="Sustainability",hIe="Achieving Fair Circulation Mechanism of Stability Above and Growth Below, Mutual Prosperity",pIe="Decentralized",gIe="Architecture",mIe=" Sustainable Self-Driven Model",yIe="Core Architecture Features",bIe="No Centralized Server / Sustainable Self-Driven Model",wIe="All Operations Public / Underlying Contract Permanently Traceable",_Ie="All Data On-Chain / User Asset Security",EIe="Automatic Profit Distribution / Autonomous Unlock Zero Delay",vIe="Sustainable Revenue Cycle / Internal Circulation Constant Asset Mechanism",xIe="BCL Token Distribution",AIe="Total Token Supply: 21 Million",CIe="LP Pool: 18 Million (Black Hole Permanently Locked)",NIe="Interaction Contract: 1 Million (Permission Discarded)",SIe="Airdrop Contract: 2 Million (Permission Discarded)",IIe="NFT Dual Thick Rewards Transaction Slippage Automatic Distribution",TIe="Why Choose",RIe="Stable Revenue",PIe="Provide 'Stable' Market Maker Returns, Attracting Large Funds",OIe="Principal Protection",DIe="End Principal Shrinkage Caused by 'Currency Price Fluctuations'",kIe="Ecosystem Internal Circulation",MIe="Construct 'Self-Driven' Market Growth and Reinvestment Internal Circulation",UIe="Anti-Dilution Mechanism",$Ie="Break Dilution of Returns Caused by 'Increase in Number' of Market Makers",LIe="Unlimited Development",FIe="Remove Bottlenecks in 'Market Development' Caused by High Currency Prices",BIe="Join",jIe="Us",HIe="Reshaping Industry Trust, Algorithms Replace Humanity",WIe="BCL Breaks the Dilemma of 'Traditional DeFi', Letting",qIe="Rules Be Programmable",zIe=", Trust Be Quantifiable.",GIe="Relying on an independently developed financial protocol system, it achieves full automation, setting off a new paradigm of on-chain finance.",KIe="Join Now",VIe="Purchase Node",JIe="Node Rights",YIe="Please enter inviter",XIe="Inviter invalid",QIe="Bind success",ZIe="Bind failed",e3e="Approve",t3e="Total Network Nodes",r3e="Total Network NFTs",n3e="My Nodes",i3e="My NFTs",s3e="Direct Referral Nodes",o3e={_Connect_wallet:pSe,_Please_enter_a_referee:gSe,_Success:mSe,_Fail:ySe,_Invite_link:bSe,_Copy_link:wSe,_Join_record:_Se,_Join_amount:ESe,_Time:vSe,_Enter_friend_address_to_bind:xSe,_Enter_invite_address:ASe,_Bind:CSe,_Home:NSe,_Node:SSe,_FOMO_Pool:ISe,_Not_yet_open:TSe,_Recharge_address:RSe,_NFT_Presale:PSe,_NFT_Staking:OSe,_NFT_Rights:DSe,_NFT_Records:kSe,_Right_1_Node_as_Shareholder:MSe,_Right_1_Desc:USe,_Right_2_HR_Token_Airdrop:$Se,_Right_2_Desc:LSe,_Right_3_Referral_Reward:FSe,_Right_3_Desc:BSe,_No_records:jSe,_In_progress:HSe,_NFT_Quantity:WSe,_Buy_Now:qSe,_Copy_successful:zSe,_Copy_failed:GSe,_Invite:KSe,_My_wallet_address:VSe,_BCL_Lighthouse_Protocol:JSe,_Fair_Transparent_Sustainable_DeFi_Paradigm:YSe,_Node_Subscription:XSe,_Welcome_To:QSe,_Welcome_Desc_1:ZSe,_Welcome_Desc_2:eIe,_Core:tIe,_Philosophy:rIe,_Five_Core_Values:nIe,_Fairness:iIe,_Fairness_Desc:sIe,_Transparency:oIe,_Transparency_Desc:aIe,_Fair_Distribution:cIe,_Fair_Distribution_Desc:lIe,_Self_Balancing:uIe,_Self_Balancing_Desc:fIe,_Sustainability:dIe,_Sustainability_Desc:hIe,_Decentralized:pIe,_Architecture:gIe,_Sustainable_Self_Driven_Model:mIe,_Core_Architecture_Features:yIe,_No_Centralized_Server:bIe,_All_Operations_Public:wIe,_All_Data_On_Chain:_Ie,_Automatic_Profit_Distribution:EIe,_Sustainable_Revenue_Cycle:vIe,_BCL_Token_Distribution:xIe,_Total_Token_Supply:AIe,_LP_Pool_Locked:CIe,_Interaction_Contract:NIe,_Airdrop_Contract:SIe,_NFT_Rewards:IIe,_Why_Choose:TIe,_Stable_Revenue:RIe,_Stable_Revenue_Desc:PIe,_Principal_Protection:OIe,_Principal_Protection_Desc:DIe,_Ecosystem_Internal_Circulation:kIe,_Ecosystem_Internal_Circulation_Desc:MIe,_Anti_Dilution_Mechanism:UIe,_Anti_Dilution_Mechanism_Desc:$Ie,_Unlimited_Development:LIe,_Unlimited_Development_Desc:FIe,_Join:BIe,_Us:jIe,_Reshaping_Industry_Trust:HIe,_BCL_Breaks_Dilemma:WIe,_Rules_Programmable:qIe,_Trust_Quantifiable:zIe,_Join_Us_Desc:GIe,_Join_Now:KIe,_Purchase_Node:VIe,_Node_Rights:JIe,_Please_enter_inviter:YIe,_Inviter_invalid:XIe,_Bind_success:QIe,_Bind_failed:ZIe,_Approve:e3e,_Total_Network_Nodes:t3e,_Total_Network_NFTs:r3e,_My_Nodes:n3e,_My_NFTs:i3e,_Direct_Referral_Nodes:s3e},a3e=" ",c3e=" ",l3e="",u3e="",f3e=" ",d3e=" ",h3e=" ",p3e=" ",g3e="",m3e="   ",y3e="  ",b3e="",w3e="",_3e="",E3e="FOMO ",v3e="",x3e=" ",A3e="NFT  ",C3e="NFT ",N3e="NFT ",S3e="NFT ",I3e=" 1:  ",T3e="    ,  AI   30%   .",R3e=" 2: HR  ",P3e=`   15,000,000 HR   .
   2,000 HR .
  0.5%  .`,O3e=" 3:  ",D3e=`   100 HR .
     .`,k3e=" ",M3e=" ",U3e="NFT ",$3e=" ",L3e=" ",F3e=" ",B3e="",j3e="  ",H3e="BCL  ",W3e="       ",q3e=" ",z3e="",G3e="Beacon Launchpad        .        ,         , ,      .",K3e="BCL         .",V3e="",J3e="",Y3e=" 5  ",X3e="",Q3e="  ,  ,  ,  ,  ",Z3e="",eTe="100%    ,    ",tTe=" ",rTe=" :   ,   ",nTe=" ",iTe="   ,     ",sTe=" ",oTe="        ,  ",aTe="",cTe="",lTe="     ",uTe="  ",fTe="    /     ",dTe="   /     ",hTe="   /   ",pTe="   /     ",gTe="    /     ",mTe="BCL  ",yTe="  : 2,100 ",bTe="LP : 1,800 (  )",wTe="  : 100 ( )",_Te=" : 200 ( )",ETe="NFT      ",vTe=" ",xTe=" ",ATe="''       ",CTe=" ",NTe="'  '      ",STe="  ",ITe="' '       ",TTe="  ",RTe="  ' '    ",PTe=" ",OTe="    ' '   ",DTe="",kTe="",MTe="  ,   ",UTe="BCL ' DeFi'  ,",$Te="   ",LTe=",     .",FTe="             .",BTe=" ",jTe="Purchase Node",HTe="Node Rights",WTe="Please enter inviter",qTe="Inviter invalid",zTe="Bind success",GTe="Bind failed",KTe="Approve",VTe="Total Network Nodes",JTe="Total Network NFTs",YTe="My Nodes",XTe="My NFTs",QTe="Direct Referral Nodes",ZTe={_Connect_wallet:a3e,_Please_enter_a_referee:c3e,_Success:l3e,_Fail:u3e,_Invite_link:f3e,_Copy_link:d3e,_Join_record:h3e,_Join_amount:p3e,_Time:g3e,_Enter_friend_address_to_bind:m3e,_Enter_invite_address:y3e,_Bind:b3e,_Home:w3e,_Node:_3e,_FOMO_Pool:E3e,_Not_yet_open:v3e,_Recharge_address:x3e,_NFT_Presale:A3e,_NFT_Staking:C3e,_NFT_Rights:N3e,_NFT_Records:S3e,_Right_1_Node_as_Shareholder:I3e,_Right_1_Desc:T3e,_Right_2_HR_Token_Airdrop:R3e,_Right_2_Desc:P3e,_Right_3_Referral_Reward:O3e,_Right_3_Desc:D3e,_No_records:k3e,_In_progress:M3e,_NFT_Quantity:U3e,_Buy_Now:$3e,_Copy_successful:L3e,_Copy_failed:F3e,_Invite:B3e,_My_wallet_address:j3e,_BCL_Lighthouse_Protocol:H3e,_Fair_Transparent_Sustainable_DeFi_Paradigm:W3e,_Node_Subscription:q3e,_Welcome_To:z3e,_Welcome_Desc_1:G3e,_Welcome_Desc_2:K3e,_Core:V3e,_Philosophy:J3e,_Five_Core_Values:Y3e,_Fairness:X3e,_Fairness_Desc:Q3e,_Transparency:Z3e,_Transparency_Desc:eTe,_Fair_Distribution:tTe,_Fair_Distribution_Desc:rTe,_Self_Balancing:nTe,_Self_Balancing_Desc:iTe,_Sustainability:sTe,_Sustainability_Desc:oTe,_Decentralized:aTe,_Architecture:cTe,_Sustainable_Self_Driven_Model:lTe,_Core_Architecture_Features:uTe,_No_Centralized_Server:fTe,_All_Operations_Public:dTe,_All_Data_On_Chain:hTe,_Automatic_Profit_Distribution:pTe,_Sustainable_Revenue_Cycle:gTe,_BCL_Token_Distribution:mTe,_Total_Token_Supply:yTe,_LP_Pool_Locked:bTe,_Interaction_Contract:wTe,_Airdrop_Contract:_Te,_NFT_Rewards:ETe,_Why_Choose:vTe,_Stable_Revenue:xTe,_Stable_Revenue_Desc:ATe,_Principal_Protection:CTe,_Principal_Protection_Desc:NTe,_Ecosystem_Internal_Circulation:STe,_Ecosystem_Internal_Circulation_Desc:ITe,_Anti_Dilution_Mechanism:TTe,_Anti_Dilution_Mechanism_Desc:RTe,_Unlimited_Development:PTe,_Unlimited_Development_Desc:OTe,_Join:DTe,_Us:kTe,_Reshaping_Industry_Trust:MTe,_BCL_Breaks_Dilemma:UTe,_Rules_Programmable:$Te,_Trust_Quantifiable:LTe,_Join_Us_Desc:FTe,_Join_Now:BTe,_Purchase_Node:jTe,_Node_Rights:HTe,_Please_enter_inviter:WTe,_Inviter_invalid:qTe,_Bind_success:zTe,_Bind_failed:GTe,_Approve:KTe,_Total_Network_Nodes:VTe,_Total_Network_NFTs:JTe,_My_Nodes:YTe,_My_NFTs:XTe,_Direct_Referral_Nodes:QTe},eRe="",tRe="",rRe="",nRe="",iRe="",sRe="",oRe="",aRe="",cRe="",lRe="",uRe="",fRe="",dRe="",hRe="",pRe="FOMO",gRe="",mRe="",yRe="NFT",bRe="NFT",wRe="NFT",_Re="NFT",ERe="1",vRe="AI30",xRe="2HR",ARe=`15,000,000 HR
2,000 HR
0.5`,CRe="3",NRe=`100 HR
`,SRe="",IRe="",TRe="NFT",RRe="",PRe="",ORe="",DRe="",kRe="",MRe="BCL",URe="",$Re="",LRe="",FRe="Beacon Launchpad",BRe="BCL",jRe="",HRe="",WRe=" 5",qRe="",zRe="",GRe="",KRe="100",VRe="",JRe="",YRe="",XRe="",QRe="",ZRe="",ePe="",tPe="",rPe=" ",nPe="",iPe=" / ",sPe=" / ",oPe=" / ",aPe=" / ",cPe=" / ",lPe="BCL",uPe="2100",fPe="LP1800",dPe="100",hPe="200",pPe="NFT",gPe="",mPe="",yPe="",bPe="",wPe="",_Pe="",EPe="",vPe="",xPe="",APe="",CPe="",NPe="",SPe="",IPe="",TPe="BCLDeFi",RPe="",PPe="",OPe="",DPe="",kPe="Purchase Node",MPe="Node Rights",UPe="Please enter inviter",$Pe="Inviter invalid",LPe="Bind success",FPe="Bind failed",BPe="Approve",jPe="Total Network Nodes",HPe="Total Network NFTs",WPe="My Nodes",qPe="My NFTs",zPe="Direct Referral Nodes",GPe={_Connect_wallet:eRe,_Please_enter_a_referee:tRe,_Success:rRe,_Fail:nRe,_Invite_link:iRe,_Copy_link:sRe,_Join_record:oRe,_Join_amount:aRe,_Time:cRe,_Enter_friend_address_to_bind:lRe,_Enter_invite_address:uRe,_Bind:fRe,_Home:dRe,_Node:hRe,_FOMO_Pool:pRe,_Not_yet_open:gRe,_Recharge_address:mRe,_NFT_Presale:yRe,_NFT_Staking:bRe,_NFT_Rights:wRe,_NFT_Records:_Re,_Right_1_Node_as_Shareholder:ERe,_Right_1_Desc:vRe,_Right_2_HR_Token_Airdrop:xRe,_Right_2_Desc:ARe,_Right_3_Referral_Reward:CRe,_Right_3_Desc:NRe,_No_records:SRe,_In_progress:IRe,_NFT_Quantity:TRe,_Buy_Now:RRe,_Copy_successful:PRe,_Copy_failed:ORe,_Invite:DRe,_My_wallet_address:kRe,_BCL_Lighthouse_Protocol:MRe,_Fair_Transparent_Sustainable_DeFi_Paradigm:URe,_Node_Subscription:$Re,_Welcome_To:LRe,_Welcome_Desc_1:FRe,_Welcome_Desc_2:BRe,_Core:jRe,_Philosophy:HRe,_Five_Core_Values:WRe,_Fairness:qRe,_Fairness_Desc:zRe,_Transparency:GRe,_Transparency_Desc:KRe,_Fair_Distribution:VRe,_Fair_Distribution_Desc:JRe,_Self_Balancing:YRe,_Self_Balancing_Desc:XRe,_Sustainability:QRe,_Sustainability_Desc:ZRe,_Decentralized:ePe,_Architecture:tPe,_Sustainable_Self_Driven_Model:rPe,_Core_Architecture_Features:nPe,_No_Centralized_Server:iPe,_All_Operations_Public:sPe,_All_Data_On_Chain:oPe,_Automatic_Profit_Distribution:aPe,_Sustainable_Revenue_Cycle:cPe,_BCL_Token_Distribution:lPe,_Total_Token_Supply:uPe,_LP_Pool_Locked:fPe,_Interaction_Contract:dPe,_Airdrop_Contract:hPe,_NFT_Rewards:pPe,_Why_Choose:gPe,_Stable_Revenue:mPe,_Stable_Revenue_Desc:yPe,_Principal_Protection:bPe,_Principal_Protection_Desc:wPe,_Ecosystem_Internal_Circulation:_Pe,_Ecosystem_Internal_Circulation_Desc:EPe,_Anti_Dilution_Mechanism:vPe,_Anti_Dilution_Mechanism_Desc:xPe,_Unlimited_Development:APe,_Unlimited_Development_Desc:CPe,_Join:NPe,_Us:SPe,_Reshaping_Industry_Trust:IPe,_BCL_Breaks_Dilemma:TPe,_Rules_Programmable:RPe,_Trust_Quantifiable:PPe,_Join_Us_Desc:OPe,_Join_Now:DPe,_Purchase_Node:kPe,_Node_Rights:MPe,_Please_enter_inviter:UPe,_Inviter_invalid:$Pe,_Bind_success:LPe,_Bind_failed:FPe,_Approve:BPe,_Total_Network_Nodes:jPe,_Total_Network_NFTs:HPe,_My_Nodes:WPe,_My_NFTs:qPe,_Direct_Referral_Nodes:zPe},KPe="",VPe="",JPe="",YPe="",XPe="",QPe="",ZPe="",e6e="",t6e="",r6e="",n6e="",i6e="",s6e="",o6e="",a6e="FOMO Pool",c6e="",l6e="",u6e="NFT ",f6e="NFT Staking",d6e=" NFT",h6e=" NFT",p6e=" 1: ",g6e="  30%  AI ",m6e=" 2: Airdrop  HR",y6e=` Airdrop  HR  15,000,000 HR
 2,000 HR
 0.5%`,b6e=" 3: ",w6e=` 100 HR  
`,_6e="",E6e="",v6e=" NFT",x6e="",A6e="",C6e="",N6e="",S6e="",I6e=" BCL",T6e="  ",R6e="",P6e="",O6e="Beacon Launchpad         ",D6e=" BCL   ",k6e="",M6e="",U6e=" 5 ",$6e="",L6e=", , , , ",F6e="",B6e=" 100%, ",j6e="",H6e=": , ",W6e="",q6e=", ",z6e="",G6e=", ",K6e="",V6e="",J6e=" ",Y6e="",X6e=" / ",Q6e=" / ",Z6e=" / ",eOe=" / ",tOe=" / ",rOe=" BCL",nOe=": 21 ",iOe="LP Pool: 18  ()",sOe=": 1  ()",oOe=" Airdrop: 2  ()",aOe=" NFT  Slippage ",cOe="",lOe="",uOe=" Market Maker  '' ",fOe="",dOe=" ''",hOe="",pOe=" '' ",gOe="",mOe=" ''  Market Makers",yOe="",bOe=" '' ",wOe="",_Oe="",EOe=", ",vOe="BCL  'DeFi ' ",xOe="",AOe=", ",COe="  ",NOe="",SOe="Purchase Node",IOe="Node Rights",TOe="Please enter inviter",ROe="Inviter invalid",POe="Bind success",OOe="Bind failed",DOe="Approve",kOe="Total Network Nodes",MOe="Total Network NFTs",UOe="My Nodes",$Oe="My NFTs",LOe="Direct Referral Nodes",FOe={_Connect_wallet:KPe,_Please_enter_a_referee:VPe,_Success:JPe,_Fail:YPe,_Invite_link:XPe,_Copy_link:QPe,_Join_record:ZPe,_Join_amount:e6e,_Time:t6e,_Enter_friend_address_to_bind:r6e,_Enter_invite_address:n6e,_Bind:i6e,_Home:s6e,_Node:o6e,_FOMO_Pool:a6e,_Not_yet_open:c6e,_Recharge_address:l6e,_NFT_Presale:u6e,_NFT_Staking:f6e,_NFT_Rights:d6e,_NFT_Records:h6e,_Right_1_Node_as_Shareholder:p6e,_Right_1_Desc:g6e,_Right_2_HR_Token_Airdrop:m6e,_Right_2_Desc:y6e,_Right_3_Referral_Reward:b6e,_Right_3_Desc:w6e,_No_records:_6e,_In_progress:E6e,_NFT_Quantity:v6e,_Buy_Now:x6e,_Copy_successful:A6e,_Copy_failed:C6e,_Invite:N6e,_My_wallet_address:S6e,_BCL_Lighthouse_Protocol:I6e,_Fair_Transparent_Sustainable_DeFi_Paradigm:T6e,_Node_Subscription:R6e,_Welcome_To:P6e,_Welcome_Desc_1:O6e,_Welcome_Desc_2:D6e,_Core:k6e,_Philosophy:M6e,_Five_Core_Values:U6e,_Fairness:$6e,_Fairness_Desc:L6e,_Transparency:F6e,_Transparency_Desc:B6e,_Fair_Distribution:j6e,_Fair_Distribution_Desc:H6e,_Self_Balancing:W6e,_Self_Balancing_Desc:q6e,_Sustainability:z6e,_Sustainability_Desc:G6e,_Decentralized:K6e,_Architecture:V6e,_Sustainable_Self_Driven_Model:J6e,_Core_Architecture_Features:Y6e,_No_Centralized_Server:X6e,_All_Operations_Public:Q6e,_All_Data_On_Chain:Z6e,_Automatic_Profit_Distribution:eOe,_Sustainable_Revenue_Cycle:tOe,_BCL_Token_Distribution:rOe,_Total_Token_Supply:nOe,_LP_Pool_Locked:iOe,_Interaction_Contract:sOe,_Airdrop_Contract:oOe,_NFT_Rewards:aOe,_Why_Choose:cOe,_Stable_Revenue:lOe,_Stable_Revenue_Desc:uOe,_Principal_Protection:fOe,_Principal_Protection_Desc:dOe,_Ecosystem_Internal_Circulation:hOe,_Ecosystem_Internal_Circulation_Desc:pOe,_Anti_Dilution_Mechanism:gOe,_Anti_Dilution_Mechanism_Desc:mOe,_Unlimited_Development:yOe,_Unlimited_Development_Desc:bOe,_Join:wOe,_Us:_Oe,_Reshaping_Industry_Trust:EOe,_BCL_Breaks_Dilemma:vOe,_Rules_Programmable:xOe,_Trust_Quantifiable:AOe,_Join_Us_Desc:COe,_Join_Now:NOe,_Purchase_Node:SOe,_Node_Rights:IOe,_Please_enter_inviter:TOe,_Inviter_invalid:ROe,_Bind_success:POe,_Bind_failed:OOe,_Approve:DOe,_Total_Network_Nodes:kOe,_Total_Network_NFTs:MOe,_My_Nodes:UOe,_My_NFTs:$Oe,_Direct_Referral_Nodes:LOe},BOe="Kt ni V",jOe="Vui lng nhp ngi gii thiu",HOe="Thnh cng",WOe="Tht bi",qOe="Lin kt mi",zOe="Sao chp lin kt",GOe="H s tham gia",KOe="S tin tham gia",VOe="Thi gian",JOe="Vui lng nhp a ch bn b  lin kt",YOe="Vui lng nhp a ch mi",XOe="Lin kt",QOe="Trang ch",ZOe="Nt",e5e="H FOMO",t5e="Cha m",r5e="a ch np tin",n5e="Bn trc NFT",i5e="t cc NFT",s5e="Quyn li NFT",o5e="H s NFT",a5e="Quyn li 1: Nt l C ng",c5e="Ch s hu nt c cng nhn l c ng h sinh thi, nhn 30% c tc c trng s t nn tng d on AI phi tp trung.",l5e="Quyn li 2: Airdrop Token HR",u5e=`Cc nt ton cu s nhn tng cng 15,000,000 token HR airdrop.
Mi nt nhn trung bnh 2,000 HR.
Token c pht hnh hng ngy vi t l 0.5%.`,f5e="Quyn li 3: Phn thng gii thiu",d5e=`Nhn 100 HR cho mi nt c gii thiu.
Khng gii hn v khng yu cu kha.`,h5e="Khng c h s",p5e="ang tin hnh",g5e="S lng NFT",m5e="Mua ngay",y5e="Sao chp thnh cng",b5e="Sao chp tht bi",w5e="Mi",_5e="a ch v ca ti",E5e="Giao thc Ngn hi ng BCL",v5e="M hnh mi ca Ti chnh phi tp trung Cng bng, Minh bch, Bn vng",x5e="ng k Nt",A5e="Cho mng n vi",C5e="Beacon Launchpad l mt nn tng khi chy a chui hon ton phi tp trung v t ng thc thi trn chui. Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton trong vic pht hnh d n, qun l thanh khon v phn phi u i, m bo tnh cng khai, cng bng, bo mt v tng trng bn vng.",N5e="Ti BCL, mi ngi u c th tham gia cng bng, qun tr minh bch v chia s lin tc.",S5e="Ct li",I5e="Trit l",T5e=" 5 Gi tr Ct li",R5e="Cng bng",P5e="Khng i ng d n, Khng ng dng, Khng t trc, Khng cp quyn, Khng chm dt",O5e="Minh bch",D5e="Hot ng t ch vnh vin 100% trn chui, Kim sot hon ton bng hp ng thng minh",k5e="Phn phi cng bng",M5e="Phn phi cng bng: Li nhun n nh cho ngi dn u, Tim nng v hn cho ngi thc hin",U5e="T cn bng",$5e="Cng c t cn bng quy m, M hnh tun hon vnh vin n nh h sinh thi",L5e="Bn vng",F5e="t c c ch tun hon cng bng n nh  trn v Tng trng  di, Cng thnh vng",B5e="Phi tp trung",j5e="Kin trc",H5e=" M hnh T vn hnh Bn vng",W5e="Tnh nng Kin trc Ct li",q5e="Khng my ch trung tm / M hnh t vn hnh bn vng",z5e="Mi hot ng cng khai / Hp ng c bn c th truy xut vnh vin",G5e="Mi d liu trn chui / Bo mt ti sn ngi dng",K5e="Phn phi li nhun t ng / M kha t ch khng tr",V5e="Chu k doanh thu bn vng / C ch ti sn khng i tun hon ni b",J5e="Phn phi Token BCL",Y5e="Tng cung Token: 21 triu",X5e="H LP: 18 triu (Kha vnh vin trong h en)",Q5e="Hp ng tng tc: 1 triu (Hy b quyn)",Z5e="Hp ng Airdrop: 2 triu (Hy b quyn)",e8e="Phn thng kp NFT Phn phi t ng trt gi giao dch",t8e="Ti sao chn",r8e="Doanh thu n nh",n8e="Cung cp li nhun Nh to lp th trng 'n nh', Thu ht qu ln",i8e="Bo v vn gc",s8e="Chm dt vic thu hp vn gc do 'Bin ng gi tin t'",o8e="Tun hon ni b h sinh thi",a8e="Xy dng Tng trng th trng 'T vn hnh' v Tun hon ni b ti u t",c8e="C ch chng pha long",l8e="Ph v s pha long li nhun do 'Tng s lng' Nh to lp th trng",u8e="Pht trin khng gii hn",f8e="Loi b nt tht trong 'Pht trin th trng' do Gi tin t cao",d8e="Tham gia",h8e="Chng ti",p8e="Ti nh hnh nim tin ngnh, Thut ton thay th con ngi",g8e="BCL Ph v th tin thoi lng nan ca 'DeFi truyn thng', ",m8e="Quy tc c th lp trnh",y8e=", Nim tin c th nh lng.",b8e="Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton, m ra mt m hnh mi ca ti chnh trn chui.",w8e="Tham gia ngay",_8e="Purchase Node",E8e="Node Rights",v8e="Please enter inviter",x8e="Inviter invalid",A8e="Bind success",C8e="Bind failed",N8e="Approve",S8e="Total Network Nodes",I8e="Total Network NFTs",T8e="My Nodes",R8e="My NFTs",P8e="Direct Referral Nodes",O8e={_Connect_wallet:BOe,_Please_enter_a_referee:jOe,_Success:HOe,_Fail:WOe,_Invite_link:qOe,_Copy_link:zOe,_Join_record:GOe,_Join_amount:KOe,_Time:VOe,_Enter_friend_address_to_bind:JOe,_Enter_invite_address:YOe,_Bind:XOe,_Home:QOe,_Node:ZOe,_FOMO_Pool:e5e,_Not_yet_open:t5e,_Recharge_address:r5e,_NFT_Presale:n5e,_NFT_Staking:i5e,_NFT_Rights:s5e,_NFT_Records:o5e,_Right_1_Node_as_Shareholder:a5e,_Right_1_Desc:c5e,_Right_2_HR_Token_Airdrop:l5e,_Right_2_Desc:u5e,_Right_3_Referral_Reward:f5e,_Right_3_Desc:d5e,_No_records:h5e,_In_progress:p5e,_NFT_Quantity:g5e,_Buy_Now:m5e,_Copy_successful:y5e,_Copy_failed:b5e,_Invite:w5e,_My_wallet_address:_5e,_BCL_Lighthouse_Protocol:E5e,_Fair_Transparent_Sustainable_DeFi_Paradigm:v5e,_Node_Subscription:x5e,_Welcome_To:A5e,_Welcome_Desc_1:C5e,_Welcome_Desc_2:N5e,_Core:S5e,_Philosophy:I5e,_Five_Core_Values:T5e,_Fairness:R5e,_Fairness_Desc:P5e,_Transparency:O5e,_Transparency_Desc:D5e,_Fair_Distribution:k5e,_Fair_Distribution_Desc:M5e,_Self_Balancing:U5e,_Self_Balancing_Desc:$5e,_Sustainability:L5e,_Sustainability_Desc:F5e,_Decentralized:B5e,_Architecture:j5e,_Sustainable_Self_Driven_Model:H5e,_Core_Architecture_Features:W5e,_No_Centralized_Server:q5e,_All_Operations_Public:z5e,_All_Data_On_Chain:G5e,_Automatic_Profit_Distribution:K5e,_Sustainable_Revenue_Cycle:V5e,_BCL_Token_Distribution:J5e,_Total_Token_Supply:Y5e,_LP_Pool_Locked:X5e,_Interaction_Contract:Q5e,_Airdrop_Contract:Z5e,_NFT_Rewards:e8e,_Why_Choose:t8e,_Stable_Revenue:r8e,_Stable_Revenue_Desc:n8e,_Principal_Protection:i8e,_Principal_Protection_Desc:s8e,_Ecosystem_Internal_Circulation:o8e,_Ecosystem_Internal_Circulation_Desc:a8e,_Anti_Dilution_Mechanism:c8e,_Anti_Dilution_Mechanism_Desc:l8e,_Unlimited_Development:u8e,_Unlimited_Development_Desc:f8e,_Join:d8e,_Us:h8e,_Reshaping_Industry_Trust:p8e,_BCL_Breaks_Dilemma:g8e,_Rules_Programmable:m8e,_Trust_Quantifiable:y8e,_Join_Us_Desc:b8e,_Join_Now:w8e,_Purchase_Node:_8e,_Node_Rights:E8e,_Please_enter_inviter:v8e,_Inviter_invalid:x8e,_Bind_success:A8e,_Bind_failed:C8e,_Approve:N8e,_Total_Network_Nodes:S8e,_Total_Network_NFTs:I8e,_My_Nodes:T8e,_My_NFTs:R8e,_Direct_Referral_Nodes:P8e},D8e="Sambung Dompet",k8e="Sila masukkan rujukan",M8e="Berjaya",U8e="Gagal",$8e="Pautan Jemputan",L8e="Salin Pautan",F8e="Rekod Sertai",B8e="Jumlah Sertai",j8e="Masa",H8e="Sila masukkan alamat rakan untuk mengikat",W8e="Sila masukkan alamat jemputan",q8e="Ikat",z8e="Laman Utama",G8e="Nod",K8e="Kolam FOMO",V8e="Belum dibuka",J8e="Alamat Caj Semula",Y8e="Pra-jualan NFT",X8e="Staking NFT",Q8e="Hak NFT",Z8e="Rekod NFT",e4e="Hak 1: Nod sebagai Pemegang Saham",t4e="Pemegang nod diiktiraf sebagai pemegang saham ekosistem, menerima 30% dividen wajaran daripada platform ramalan AI terdesentralisasi.",r4e="Hak 2: Airdrop Token HR",n4e=`Nod global akan menerima sejumlah 15,000,000 airdrop token HR.
Setiap nod menerima purata 2,000 HR.
Token dikeluarkan setiap hari pada kadar 0.5%.`,i4e="Hak 3: Ganjaran Rujukan",s4e=`Terima 100 HR untuk setiap nod yang dirujuk.
Tiada had dan tiada syarat kunci.`,o4e="Tiada rekod",a4e="Sedang Berjalan",c4e="Kuantiti NFT",l4e="Beli Sekarang",u4e="Salinan Berjaya",f4e="Salinan Gagal",d4e="Jemput",h4e="Alamat Dompet Saya",p4e="Protokol Rumah Api BCL",g4e="Paradigma Baru Kewangan Terdesentralisasi yang Adil, Telus, dan Mampan",m4e="Langganan Nod",y4e="Selamat Datang ke",b4e="Beacon Launchpad adalah platform pelancaran pelbagai rantaian yang sepenuhnya terdesentralisasi dan dilaksanakan secara automatik di rantaian. Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh pengeluaran projek, pengurusan kecairan, dan pengagihan insentif, memastikan keterbukaan, keadilan, keselamatan, dan pertumbuhan yang mampan.",w4e="Di BCL, semua orang boleh mengambil bahagian secara adil, mentadbir secara telus, dan berkongsi secara berterusan.",_4e="Teras",E4e="Falsafah",v4e=" 5 Nilai Teras",x4e="Keadilan",A4e="Tiada Pasukan Projek, Tiada APP, Tiada Tempahan, Tiada Kebenaran, Tiada Penamatan",C4e="Ketelusan",N4e="Operasi Autonomi Kekal 100% Di Rantaian, Kawalan Kontrak Pintar Sepenuhnya",S4e="Pengagihan Adil",I4e="Pengagihan Adil: Pulangan Stabil untuk Pemimpin, Potensi Tanpa Had untuk Pelaksana",T4e="Pengimbangan Kendiri",R4e="Enjin Pengimbangan Kendiri Skala, Model Edaran Kekal Stabil Ekosistem",P4e="Kemampanan",O4e="Mencapai Mekanisme Edaran Adil Kestabilan di Atas dan Pertumbuhan di Bawah, Kemakmuran Bersama",D4e="Terdesentralisasi",k4e="Senibina",M4e=" Model Kendiri Mampan",U4e="Ciri-ciri Senibina Teras",$4e="Tiada Pelayan Berpusat / Model Kendiri Mampan",L4e="Semua Operasi Awam / Kontrak Asas Boleh Dikesan Kekal",F4e="Semua Data Di Rantaian / Keselamatan Aset Pengguna",B4e="Pengagihan Keuntungan Automatik / Kunci Buka Autonomi Sifar Kelewatan",j4e="Kitaran Hasil Mampan / Mekanisme Aset Tetap Edaran Dalaman",H4e="Pengagihan Token BCL",W4e="Jumlah Bekalan Token: 21 Juta",q4e="Kolam LP: 18 Juta (Lubang Hitam Dikunci Kekal)",z4e="Kontrak Interaksi: 1 Juta (Kebenaran Dibuang)",G4e="Kontrak Airdrop: 2 Juta (Kebenaran Dibuang)",K4e="Ganjaran Berganda NFT Pengagihan Automatik Slippage Transaksi",V4e="Kenapa Pilih",J4e="Hasil Stabil",Y4e="Menyediakan Pulangan Pembuat Pasaran 'Stabil', Menarik Dana Besar",X4e="Perlindungan Prinsipal",Q4e="Menamatkan Pengecutan Prinsipal Disebabkan oleh 'Turun Naik Harga Mata Wang'",Z4e="Edaran Dalaman Ekosistem",eDe="Membina Pertumbuhan Pasaran 'Kendiri' dan Edaran Dalaman Pelaburan Semula",tDe="Mekanisme Anti-Pencairan",rDe="Memecahkan Pencairan Pulangan Disebabkan oleh 'Peningkatan Bilangan' Pembuat Pasaran",nDe="Pembangunan Tanpa Had",iDe="Menghapuskan Kesesakan dalam 'Pembangunan Pasaran' Disebabkan oleh Harga Mata Wang Tinggi",sDe="Sertai",oDe="Kami",aDe="Membentuk Semula Kepercayaan Industri, Algoritma Menggantikan Manusia",cDe="BCL Memecahkan Dilema 'DeFi Tradisional', Membiarkan",lDe="Peraturan Boleh Diprogramkan",uDe=", Kepercayaan Boleh Diukur.",fDe="Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh, memulakan paradigma baru kewangan di rantaian.",dDe="Sertai Sekarang",hDe="Purchase Node",pDe="Node Rights",gDe="Please enter inviter",mDe="Inviter invalid",yDe="Bind success",bDe="Bind failed",wDe="Approve",_De="Total Network Nodes",EDe="Total Network NFTs",vDe="My Nodes",xDe="My NFTs",ADe="Direct Referral Nodes",CDe={_Connect_wallet:D8e,_Please_enter_a_referee:k8e,_Success:M8e,_Fail:U8e,_Invite_link:$8e,_Copy_link:L8e,_Join_record:F8e,_Join_amount:B8e,_Time:j8e,_Enter_friend_address_to_bind:H8e,_Enter_invite_address:W8e,_Bind:q8e,_Home:z8e,_Node:G8e,_FOMO_Pool:K8e,_Not_yet_open:V8e,_Recharge_address:J8e,_NFT_Presale:Y8e,_NFT_Staking:X8e,_NFT_Rights:Q8e,_NFT_Records:Z8e,_Right_1_Node_as_Shareholder:e4e,_Right_1_Desc:t4e,_Right_2_HR_Token_Airdrop:r4e,_Right_2_Desc:n4e,_Right_3_Referral_Reward:i4e,_Right_3_Desc:s4e,_No_records:o4e,_In_progress:a4e,_NFT_Quantity:c4e,_Buy_Now:l4e,_Copy_successful:u4e,_Copy_failed:f4e,_Invite:d4e,_My_wallet_address:h4e,_BCL_Lighthouse_Protocol:p4e,_Fair_Transparent_Sustainable_DeFi_Paradigm:g4e,_Node_Subscription:m4e,_Welcome_To:y4e,_Welcome_Desc_1:b4e,_Welcome_Desc_2:w4e,_Core:_4e,_Philosophy:E4e,_Five_Core_Values:v4e,_Fairness:x4e,_Fairness_Desc:A4e,_Transparency:C4e,_Transparency_Desc:N4e,_Fair_Distribution:S4e,_Fair_Distribution_Desc:I4e,_Self_Balancing:T4e,_Self_Balancing_Desc:R4e,_Sustainability:P4e,_Sustainability_Desc:O4e,_Decentralized:D4e,_Architecture:k4e,_Sustainable_Self_Driven_Model:M4e,_Core_Architecture_Features:U4e,_No_Centralized_Server:$4e,_All_Operations_Public:L4e,_All_Data_On_Chain:F4e,_Automatic_Profit_Distribution:B4e,_Sustainable_Revenue_Cycle:j4e,_BCL_Token_Distribution:H4e,_Total_Token_Supply:W4e,_LP_Pool_Locked:q4e,_Interaction_Contract:z4e,_Airdrop_Contract:G4e,_NFT_Rewards:K4e,_Why_Choose:V4e,_Stable_Revenue:J4e,_Stable_Revenue_Desc:Y4e,_Principal_Protection:X4e,_Principal_Protection_Desc:Q4e,_Ecosystem_Internal_Circulation:Z4e,_Ecosystem_Internal_Circulation_Desc:eDe,_Anti_Dilution_Mechanism:tDe,_Anti_Dilution_Mechanism_Desc:rDe,_Unlimited_Development:nDe,_Unlimited_Development_Desc:iDe,_Join:sDe,_Us:oDe,_Reshaping_Industry_Trust:aDe,_BCL_Breaks_Dilemma:cDe,_Rules_Programmable:lDe,_Trust_Quantifiable:uDe,_Join_Us_Desc:fDe,_Join_Now:dDe,_Purchase_Node:hDe,_Node_Rights:pDe,_Please_enter_inviter:gDe,_Inviter_invalid:mDe,_Bind_success:yDe,_Bind_failed:bDe,_Approve:wDe,_Total_Network_Nodes:_De,_Total_Network_NFTs:EDe,_My_Nodes:vDe,_My_NFTs:xDe,_Direct_Referral_Nodes:ADe};var MA,BD;function NDe(){if(BD)return MA;BD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),MA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>` ${l} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return MA}var SDe=NDe();const IDe=Rs(SDe);var UA,jD;function TDe(){if(jD)return UA;jD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),UA=o(a);var c={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choose no more than ${l} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:l=>`${l*10}% off`,condition:l=>`At least ${l}`},vanCouponCell:{title:"Coupon",count:l=>`You have ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};return UA}var RDe=TDe();const PDe=Rs(RDe);var $A,HD;function ODe(){if(HD)return $A;HD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),$A=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:" ",nameEmpty:" ",addContact:"  ",telInvalid:" ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`${l}   `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:l=>`${l*10}% `,condition:l=>` ${l}`},vanCouponCell:{title:"",count:l=>`${l}   `},vanCouponList:{exchange:"",close:"",enable:" ",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:" ",addressEmpty:"   ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};return $A}var DDe=ODe();const kDe=Rs(DDe);var LA,WD;function MDe(){if(WD)return LA;WD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),LA=o(a);var c={name:"Nom",tel:"Telephone",save:"Sauvegarder",clear:"Clair",cancel:"Annuler",confirm:"Confirmer",delete:"Suprimer",loading:"Chargement...",noCoupon:"Pas de coupons",nameEmpty:"Veuillez remplir le nom",addContact:"Ajouter contact",telInvalid:"Numro de tlphone incorrect",vanCalendar:{end:"Fin",start:"Dbut",title:"Calendrier",weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choisir pas plus de ${l} jours`},vanCascader:{select:"Slectionner"},vanPagination:{prev:"Prcdent",next:"Suivant"},vanPullRefresh:{pulling:"Tirer pour actualiser ...",loosing:"Relchez pour actualiser..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Illimit",discount:l=>`${l*10}% de rduction`,condition:l=>`Au moins ${l}`},vanCouponCell:{title:"Coupon",count:l=>`Vous avez ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Fermer",enable:"Disponible",disabled:"Indisponible",placeholder:"Code coupon"},vanAddressEdit:{area:"Zone",areaEmpty:"Veuillez slectionner une zone de rception",addressEmpty:"L'adresse ne peut pas tre vide",addressDetail:"Adresse",defaultAddress:"Dfinir comme adresse par dfaut"},vanAddressList:{add:"Ajouter une nouvelle adresse"}};return LA}var UDe=MDe();const $De=Rs(UDe);var FA,qD;function LDe(){if(qD)return FA;qD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),FA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>`${l}`},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${10-l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return FA}var FDe=LDe();const BDe=Rs(FDe);function jDe(t){switch(t){case"cn":qh.use("zh-CN",IDe);break;case"en":qh.use("en-US",PDe);break;case"ko":qh.use("ko-KR",kDe);break;case"fr":qh.use("Fr-FR",$De);break;case"ja":qh.use("Ja-JP",BDe);break}}function HDe(t){jDe(t)}const hN=rCe({legacy:!1,locale:"en",fallbackLocale:"en",globalInjection:!0,messages:{cn:{...hSe},en:{...o3e},ko:{...ZTe},ja:{...GPe},th:{...FOe},vi:{...O8e},ms:{...CDe}}}),WDe=t=>{console.log(hN,"i18n"),HDe(t),hN.global.locale.value=t},qDe={class:"flex-middle"},zDe=Fi({__name:"Header",props:{title:{default:""},isShowBack:{type:Boolean,default:!0}},setup(t){const{t:e}=Ly(),r=_Ce();console.log(r.locale,"languageStore");const n=q7({namespace:"eip155"}),i=z7(),{open:s,close:o}=Jde(),a=()=>{s()},c=()=>{s({view:"Networks"})};return n.value.address&&console.log(n.value,"account.value"),un(()=>n.value.address,(u,f)=>{console.log(u,"newVal")},{deep:!0}),un(()=>i.value?.caipNetwork?.id,()=>{o()}),(()=>{let u=r.locale||"en";WDe(u),r.$patch({locale:u})})(),(u,f)=>{const d=dB,h=iAe;return Al(),Gh(h,{title:"",fixed:!0,"z-index":2005,"left-text":""},{left:Ru(()=>[...f[0]||(f[0]=[])]),right:Ru(()=>[Zr("div",qDe,[Ni(n).isConnected?(Al(),Gh(d,{key:0,round:"",plain:"",type:"success",onClick:c,size:"small",style:{"margin-right":"10px"}},{default:Ru(()=>[hd(wl(Ni(i).caipNetwork?.name),1)]),_:1})):jH("",!0),Ni(n).isConnected?(Al(),Gh(d,{key:2,round:"",plain:"",type:"success",onClick:a,size:"small"},{default:Ru(()=>[hd(wl(Ni(n).address?.substring(0,4)+"..."+Ni(n).address?.substring(Ni(n).address.length-4,Ni(n).address.length)),1)]),_:1})):(Al(),Gh(d,{key:1,round:"",plain:"",type:"success",onClick:a,size:"small"},{default:Ru(()=>[hd(wl(u.$t("_Connect_wallet")),1)]),_:1}))])]),_:1})}}}),ZB=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},GDe=ZB(zDe,[["__scopeId","data-v-07f5b0e3"]]);var KDe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,BA=Math.ceil,yo=Math.floor,ys="[BigNumber Error] ",zD=ys+"Number primitive has more than 15 significant digits: ",na=1e14,it=14,jA=9007199254740991,HA=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],yu=1e7,qn=1e9;function ej(t){var e,r,n,i=A.prototype={constructor:A,toString:null,valueOf:null},s=new A(1),o=20,a=4,c=-7,l=21,u=-1e7,f=1e7,d=!1,h=1,m=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function A(N,v){var M,$,O,C,p,y,w,x,I=this;if(!(I instanceof A))return new A(N,v);if(v==null){if(N&&N._isBigNumber===!0){I.s=N.s,!N.c||N.e>f?I.c=I.e=null:N.e<u?I.c=[I.e=0]:(I.e=N.e,I.c=N.c.slice());return}if((y=typeof N=="number")&&N*0==0){if(I.s=1/N<0?(N=-N,-1):1,N===~~N){for(C=0,p=N;p>=10;p/=10,C++);C>f?I.c=I.e=null:(I.e=C,I.c=[N]);return}x=String(N)}else{if(!KDe.test(x=String(N)))return n(I,x,y);I.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(C=x.indexOf("."))>-1&&(x=x.replace(".","")),(p=x.search(/e/i))>0?(C<0&&(C=p),C+=+x.slice(p+1),x=x.substring(0,p)):C<0&&(C=x.length)}else{if(Hr(v,2,b.length,"Base"),v==10&&E)return I=new A(N),k(I,o+I.e+1,a);if(x=String(N),y=typeof N=="number"){if(N*0!=0)return n(I,x,y,v);if(I.s=1/N<0?(x=x.slice(1),-1):1,A.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(zD+N)}else I.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(M=b.slice(0,v),C=p=0,w=x.length;p<w;p++)if(M.indexOf($=x.charAt(p))<0){if($=="."){if(p>C){C=w;continue}}else if(!O&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){O=!0,p=-1,C=0;continue}return n(I,String(N),y,v)}y=!1,x=r(x,v,10,I.s),(C=x.indexOf("."))>-1?x=x.replace(".",""):C=x.length}for(p=0;x.charCodeAt(p)===48;p++);for(w=x.length;x.charCodeAt(--w)===48;);if(x=x.slice(p,++w)){if(w-=p,y&&A.DEBUG&&w>15&&(N>jA||N!==yo(N)))throw Error(zD+I.s*N);if((C=C-p-1)>f)I.c=I.e=null;else if(C<u)I.c=[I.e=0];else{if(I.e=C,I.c=[],p=(C+1)%it,C<0&&(p+=it),p<w){for(p&&I.c.push(+x.slice(0,p)),w-=it;p<w;)I.c.push(+x.slice(p,p+=it));p=it-(x=x.slice(p)).length}else p-=w;for(;p--;x+="0");I.c.push(+x)}}else I.c=[I.e=0]}A.clone=ej,A.ROUND_UP=0,A.ROUND_DOWN=1,A.ROUND_CEIL=2,A.ROUND_FLOOR=3,A.ROUND_HALF_UP=4,A.ROUND_HALF_DOWN=5,A.ROUND_HALF_EVEN=6,A.ROUND_HALF_CEIL=7,A.ROUND_HALF_FLOOR=8,A.EUCLID=9,A.config=A.set=function(N){var v,M;if(N!=null)if(typeof N=="object"){if(N.hasOwnProperty(v="DECIMAL_PLACES")&&(M=N[v],Hr(M,0,qn,v),o=M),N.hasOwnProperty(v="ROUNDING_MODE")&&(M=N[v],Hr(M,0,8,v),a=M),N.hasOwnProperty(v="EXPONENTIAL_AT")&&(M=N[v],M&&M.pop?(Hr(M[0],-qn,0,v),Hr(M[1],0,qn,v),c=M[0],l=M[1]):(Hr(M,-qn,qn,v),c=-(l=M<0?-M:M))),N.hasOwnProperty(v="RANGE"))if(M=N[v],M&&M.pop)Hr(M[0],-qn,-1,v),Hr(M[1],1,qn,v),u=M[0],f=M[1];else if(Hr(M,-qn,qn,v),M)u=-(f=M<0?-M:M);else throw Error(ys+v+" cannot be zero: "+M);if(N.hasOwnProperty(v="CRYPTO"))if(M=N[v],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=M;else throw d=!M,Error(ys+"crypto unavailable");else d=M;else throw Error(ys+v+" not true or false: "+M);if(N.hasOwnProperty(v="MODULO_MODE")&&(M=N[v],Hr(M,0,9,v),h=M),N.hasOwnProperty(v="POW_PRECISION")&&(M=N[v],Hr(M,0,qn,v),m=M),N.hasOwnProperty(v="FORMAT"))if(M=N[v],typeof M=="object")g=M;else throw Error(ys+v+" not an object: "+M);if(N.hasOwnProperty(v="ALPHABET"))if(M=N[v],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))E=M.slice(0,10)=="0123456789",b=M;else throw Error(ys+v+" invalid: "+M)}else throw Error(ys+"Object expected: "+N);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:d,MODULO_MODE:h,POW_PRECISION:m,FORMAT:g,ALPHABET:b}},A.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!A.DEBUG)return!0;var v,M,$=N.c,O=N.e,C=N.s;e:if({}.toString.call($)=="[object Array]"){if((C===1||C===-1)&&O>=-qn&&O<=qn&&O===yo(O)){if($[0]===0){if(O===0&&$.length===1)return!0;break e}if(v=(O+1)%it,v<1&&(v+=it),String($[0]).length==v){for(v=0;v<$.length;v++)if(M=$[v],M<0||M>=na||M!==yo(M))break e;if(M!==0)return!0}}}else if($===null&&O===null&&(C===null||C===1||C===-1))return!0;throw Error(ys+"Invalid BigNumber: "+N)},A.maximum=A.max=function(){return T(arguments,-1)},A.minimum=A.min=function(){return T(arguments,1)},A.random=(function(){var N=9007199254740992,v=Math.random()*N&2097151?function(){return yo(Math.random()*N)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var $,O,C,p,y,w=0,x=[],I=new A(s);if(M==null?M=o:Hr(M,0,qn),p=BA(M/it),d)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(p*=2));w<p;)y=$[w]*131072+($[w+1]>>>11),y>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),$[w]=O[0],$[w+1]=O[1]):(x.push(y%1e14),w+=2);w=p/2}else if(crypto.randomBytes){for($=crypto.randomBytes(p*=7);w<p;)y=($[w]&31)*281474976710656+$[w+1]*1099511627776+$[w+2]*4294967296+$[w+3]*16777216+($[w+4]<<16)+($[w+5]<<8)+$[w+6],y>=9e15?crypto.randomBytes(7).copy($,w):(x.push(y%1e14),w+=7);w=p/7}else throw d=!1,Error(ys+"crypto unavailable");if(!d)for(;w<p;)y=v(),y<9e15&&(x[w++]=y%1e14);for(p=x[--w],M%=it,p&&M&&(y=HA[it-M],x[w]=yo(p/y)*y);x[w]===0;x.pop(),w--);if(w<0)x=[C=0];else{for(C=-1;x[0]===0;x.splice(0,1),C-=it);for(w=1,y=x[0];y>=10;y/=10,w++);w<it&&(C-=it-w)}return I.e=C,I.c=x,I}})(),A.sum=function(){for(var N=1,v=arguments,M=new A(v[0]);N<v.length;)M=M.plus(v[N++]);return M},r=(function(){var N="0123456789";function v(M,$,O,C){for(var p,y=[0],w,x=0,I=M.length;x<I;){for(w=y.length;w--;y[w]*=$);for(y[0]+=C.indexOf(M.charAt(x++)),p=0;p<y.length;p++)y[p]>O-1&&(y[p+1]==null&&(y[p+1]=0),y[p+1]+=y[p]/O|0,y[p]%=O)}return y.reverse()}return function(M,$,O,C,p){var y,w,x,I,U,B,D,_,L=M.indexOf("."),G=o,R=a;for(L>=0&&(I=m,m=0,M=M.replace(".",""),_=new A($),B=_.pow(M.length-L),m=I,_.c=v(il(go(B.c),B.e,"0"),10,O,N),_.e=_.c.length),D=v(M,$,O,p?(y=b,N):(y=N,b)),x=I=D.length;D[--I]==0;D.pop());if(!D[0])return y.charAt(0);if(L<0?--x:(B.c=D,B.e=x,B.s=C,B=e(B,_,G,R,O),D=B.c,U=B.r,x=B.e),w=x+G+1,L=D[w],I=O/2,U=U||w<0||D[w+1]!=null,U=R<4?(L!=null||U)&&(R==0||R==(B.s<0?3:2)):L>I||L==I&&(R==4||U||R==6&&D[w-1]&1||R==(B.s<0?8:7)),w<1||!D[0])M=U?il(y.charAt(1),-G,y.charAt(0)):y.charAt(0);else{if(D.length=w,U)for(--O;++D[--w]>O;)D[w]=0,w||(++x,D=[1].concat(D));for(I=D.length;!D[--I];);for(L=0,M="";L<=I;M+=y.charAt(D[L++]));M=il(M,x,y.charAt(0))}return M}})(),e=(function(){function N($,O,C){var p,y,w,x,I=0,U=$.length,B=O%yu,D=O/yu|0;for($=$.slice();U--;)w=$[U]%yu,x=$[U]/yu|0,p=D*w+x*B,y=B*w+p%yu*yu+I,I=(y/C|0)+(p/yu|0)+D*x,$[U]=y%C;return I&&($=[I].concat($)),$}function v($,O,C,p){var y,w;if(C!=p)w=C>p?1:-1;else for(y=w=0;y<C;y++)if($[y]!=O[y]){w=$[y]>O[y]?1:-1;break}return w}function M($,O,C,p){for(var y=0;C--;)$[C]-=y,y=$[C]<O[C]?1:0,$[C]=y*p+$[C]-O[C];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,O,C,p,y){var w,x,I,U,B,D,_,L,G,R,V,K,X,Q,ie,le,H,Y=$.s==O.s?1:-1,W=$.c,Z=O.c;if(!W||!W[0]||!Z||!Z[0])return new A(!$.s||!O.s||(W?Z&&W[0]==Z[0]:!Z)?NaN:W&&W[0]==0||!Z?Y*0:Y/0);for(L=new A(Y),G=L.c=[],x=$.e-O.e,Y=C+x+1,y||(y=na,x=bo($.e/it)-bo(O.e/it),Y=Y/it|0),I=0;Z[I]==(W[I]||0);I++);if(Z[I]>(W[I]||0)&&x--,Y<0)G.push(1),U=!0;else{for(Q=W.length,le=Z.length,I=0,Y+=2,B=yo(y/(Z[0]+1)),B>1&&(Z=N(Z,B,y),W=N(W,B,y),le=Z.length,Q=W.length),X=le,R=W.slice(0,le),V=R.length;V<le;R[V++]=0);H=Z.slice(),H=[0].concat(H),ie=Z[0],Z[1]>=y/2&&ie++;do{if(B=0,w=v(Z,R,le,V),w<0){if(K=R[0],le!=V&&(K=K*y+(R[1]||0)),B=yo(K/ie),B>1)for(B>=y&&(B=y-1),D=N(Z,B,y),_=D.length,V=R.length;v(D,R,_,V)==1;)B--,M(D,le<_?H:Z,_,y),_=D.length,w=1;else B==0&&(w=B=1),D=Z.slice(),_=D.length;if(_<V&&(D=[0].concat(D)),M(R,D,V,y),V=R.length,w==-1)for(;v(Z,R,le,V)<1;)B++,M(R,le<V?H:Z,V,y),V=R.length}else w===0&&(B++,R=[0]);G[I++]=B,R[0]?R[V++]=W[X]||0:(R=[W[X]],V=1)}while((X++<Q||R[0]!=null)&&Y--);U=R[0]!=null,G[0]||G.splice(0,1)}if(y==na){for(I=1,Y=G[0];Y>=10;Y/=10,I++);k(L,C+(L.e=I+x*it-1)+1,p,U)}else L.e=x,L.r=+U;return L}})();function S(N,v,M,$){var O,C,p,y,w;if(M==null?M=a:Hr(M,0,8),!N.c)return N.toString();if(O=N.c[0],p=N.e,v==null)w=go(N.c),w=$==1||$==2&&(p<=c||p>=l)?Db(w,p):il(w,p,"0");else if(N=k(new A(N),v,M),C=N.e,w=go(N.c),y=w.length,$==1||$==2&&(v<=C||C<=c)){for(;y<v;w+="0",y++);w=Db(w,C)}else if(v-=p+($===2&&C>p),w=il(w,C,"0"),C+1>y){if(--v>0)for(w+=".";v--;w+="0");}else if(v+=C-y,v>0)for(C+1==y&&(w+=".");v--;w+="0");return N.s<0&&O?"-"+w:w}function T(N,v){for(var M,$,O=1,C=new A(N[0]);O<N.length;O++)$=new A(N[O]),(!$.s||(M=qf(C,$))===v||M===0&&C.s===v)&&(C=$);return C}function P(N,v,M){for(var $=1,O=v.length;!v[--O];v.pop());for(O=v[0];O>=10;O/=10,$++);return(M=$+M*it-1)>f?N.c=N.e=null:M<u?N.c=[N.e=0]:(N.e=M,N.c=v),N}n=(function(){var N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,M=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(C,p,y,w){var x,I=y?p:p.replace(O,"");if($.test(I))C.s=isNaN(I)?null:I<0?-1:1;else{if(!y&&(I=I.replace(N,function(U,B,D){return x=(D=D.toLowerCase())=="x"?16:D=="b"?2:8,!w||w==x?B:U}),w&&(x=w,I=I.replace(v,"$1").replace(M,"0.$1")),p!=I))return new A(I,x);if(A.DEBUG)throw Error(ys+"Not a"+(w?" base "+w:"")+" number: "+p);C.s=null}C.c=C.e=null}})();function k(N,v,M,$){var O,C,p,y,w,x,I,U=N.c,B=HA;if(U){e:{for(O=1,y=U[0];y>=10;y/=10,O++);if(C=v-O,C<0)C+=it,p=v,w=U[x=0],I=yo(w/B[O-p-1]%10);else if(x=BA((C+1)/it),x>=U.length)if($){for(;U.length<=x;U.push(0));w=I=0,O=1,C%=it,p=C-it+1}else break e;else{for(w=y=U[x],O=1;y>=10;y/=10,O++);C%=it,p=C-it+O,I=p<0?0:yo(w/B[O-p-1]%10)}if($=$||v<0||U[x+1]!=null||(p<0?w:w%B[O-p-1]),$=M<4?(I||$)&&(M==0||M==(N.s<0?3:2)):I>5||I==5&&(M==4||$||M==6&&(C>0?p>0?w/B[O-p]:0:U[x-1])%10&1||M==(N.s<0?8:7)),v<1||!U[0])return U.length=0,$?(v-=N.e+1,U[0]=B[(it-v%it)%it],N.e=-v||0):U[0]=N.e=0,N;if(C==0?(U.length=x,y=1,x--):(U.length=x+1,y=B[it-C],U[x]=p>0?yo(w/B[O-p]%B[p])*y:0),$)for(;;)if(x==0){for(C=1,p=U[0];p>=10;p/=10,C++);for(p=U[0]+=y,y=1;p>=10;p/=10,y++);C!=y&&(N.e++,U[0]==na&&(U[0]=1));break}else{if(U[x]+=y,U[x]!=na)break;U[x--]=0,y=1}for(C=U.length;U[--C]===0;U.pop());}N.e>f?N.c=N.e=null:N.e<u&&(N.c=[N.e=0])}return N}function F(N){var v,M=N.e;return M===null?N.toString():(v=go(N.c),v=M<=c||M>=l?Db(v,M):il(v,M,"0"),N.s<0?"-"+v:v)}return i.absoluteValue=i.abs=function(){var N=new A(this);return N.s<0&&(N.s=1),N},i.comparedTo=function(N,v){return qf(this,new A(N,v))},i.decimalPlaces=i.dp=function(N,v){var M,$,O,C=this;if(N!=null)return Hr(N,0,qn),v==null?v=a:Hr(v,0,8),k(new A(C),N+C.e+1,v);if(!(M=C.c))return null;if($=((O=M.length-1)-bo(this.e/it))*it,O=M[O])for(;O%10==0;O/=10,$--);return $<0&&($=0),$},i.dividedBy=i.div=function(N,v){return e(this,new A(N,v),o,a)},i.dividedToIntegerBy=i.idiv=function(N,v){return e(this,new A(N,v),0,1)},i.exponentiatedBy=i.pow=function(N,v){var M,$,O,C,p,y,w,x,I,U=this;if(N=new A(N),N.c&&!N.isInteger())throw Error(ys+"Exponent not an integer: "+F(N));if(v!=null&&(v=new A(v)),y=N.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!N.c||!N.c[0])return I=new A(Math.pow(+F(U),y?N.s*(2-Ob(N)):+F(N))),v?I.mod(v):I;if(w=N.s<0,v){if(v.c?!v.c[0]:!v.s)return new A(NaN);$=!w&&U.isInteger()&&v.isInteger(),$&&(U=U.mod(v))}else{if(N.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||y&&U.c[1]>=24e7:U.c[0]<8e13||y&&U.c[0]<=9999975e7)))return C=U.s<0&&Ob(N)?-0:0,U.e>-1&&(C=1/C),new A(w?1/C:C);m&&(C=BA(m/it+2))}for(y?(M=new A(.5),w&&(N.s=1),x=Ob(N)):(O=Math.abs(+F(N)),x=O%2),I=new A(s);;){if(x){if(I=I.times(U),!I.c)break;C?I.c.length>C&&(I.c.length=C):$&&(I=I.mod(v))}if(O){if(O=yo(O/2),O===0)break;x=O%2}else if(N=N.times(M),k(N,N.e+1,1),N.e>14)x=Ob(N);else{if(O=+F(N),O===0)break;x=O%2}U=U.times(U),C?U.c&&U.c.length>C&&(U.c.length=C):$&&(U=U.mod(v))}return $?I:(w&&(I=s.div(I)),v?I.mod(v):C?k(I,m,a,p):I)},i.integerValue=function(N){var v=new A(this);return N==null?N=a:Hr(N,0,8),k(v,v.e+1,N)},i.isEqualTo=i.eq=function(N,v){return qf(this,new A(N,v))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(N,v){return qf(this,new A(N,v))>0},i.isGreaterThanOrEqualTo=i.gte=function(N,v){return(v=qf(this,new A(N,v)))===1||v===0},i.isInteger=function(){return!!this.c&&bo(this.e/it)>this.c.length-2},i.isLessThan=i.lt=function(N,v){return qf(this,new A(N,v))<0},i.isLessThanOrEqualTo=i.lte=function(N,v){return(v=qf(this,new A(N,v)))===-1||v===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(N,v){var M,$,O,C,p=this,y=p.s;if(N=new A(N,v),v=N.s,!y||!v)return new A(NaN);if(y!=v)return N.s=-v,p.plus(N);var w=p.e/it,x=N.e/it,I=p.c,U=N.c;if(!w||!x){if(!I||!U)return I?(N.s=-v,N):new A(U?p:NaN);if(!I[0]||!U[0])return U[0]?(N.s=-v,N):new A(I[0]?p:a==3?-0:0)}if(w=bo(w),x=bo(x),I=I.slice(),y=w-x){for((C=y<0)?(y=-y,O=I):(x=w,O=U),O.reverse(),v=y;v--;O.push(0));O.reverse()}else for($=(C=(y=I.length)<(v=U.length))?y:v,y=v=0;v<$;v++)if(I[v]!=U[v]){C=I[v]<U[v];break}if(C&&(O=I,I=U,U=O,N.s=-N.s),v=($=U.length)-(M=I.length),v>0)for(;v--;I[M++]=0);for(v=na-1;$>y;){if(I[--$]<U[$]){for(M=$;M&&!I[--M];I[M]=v);--I[M],I[$]+=na}I[$]-=U[$]}for(;I[0]==0;I.splice(0,1),--x);return I[0]?P(N,I,x):(N.s=a==3?-1:1,N.c=[N.e=0],N)},i.modulo=i.mod=function(N,v){var M,$,O=this;return N=new A(N,v),!O.c||!N.s||N.c&&!N.c[0]?new A(NaN):!N.c||O.c&&!O.c[0]?new A(O):(h==9?($=N.s,N.s=1,M=e(O,N,0,3),N.s=$,M.s*=$):M=e(O,N,0,h),N=O.minus(M.times(N)),!N.c[0]&&h==1&&(N.s=O.s),N)},i.multipliedBy=i.times=function(N,v){var M,$,O,C,p,y,w,x,I,U,B,D,_,L,G,R=this,V=R.c,K=(N=new A(N,v)).c;if(!V||!K||!V[0]||!K[0])return!R.s||!N.s||V&&!V[0]&&!K||K&&!K[0]&&!V?N.c=N.e=N.s=null:(N.s*=R.s,!V||!K?N.c=N.e=null:(N.c=[0],N.e=0)),N;for($=bo(R.e/it)+bo(N.e/it),N.s*=R.s,w=V.length,U=K.length,w<U&&(_=V,V=K,K=_,O=w,w=U,U=O),O=w+U,_=[];O--;_.push(0));for(L=na,G=yu,O=U;--O>=0;){for(M=0,B=K[O]%G,D=K[O]/G|0,p=w,C=O+p;C>O;)x=V[--p]%G,I=V[p]/G|0,y=D*x+I*B,x=B*x+y%G*G+_[C]+M,M=(x/L|0)+(y/G|0)+D*I,_[C--]=x%L;_[C]=M}return M?++$:_.splice(0,1),P(N,_,$)},i.negated=function(){var N=new A(this);return N.s=-N.s||null,N},i.plus=function(N,v){var M,$=this,O=$.s;if(N=new A(N,v),v=N.s,!O||!v)return new A(NaN);if(O!=v)return N.s=-v,$.minus(N);var C=$.e/it,p=N.e/it,y=$.c,w=N.c;if(!C||!p){if(!y||!w)return new A(O/0);if(!y[0]||!w[0])return w[0]?N:new A(y[0]?$:O*0)}if(C=bo(C),p=bo(p),y=y.slice(),O=C-p){for(O>0?(p=C,M=w):(O=-O,M=y),M.reverse();O--;M.push(0));M.reverse()}for(O=y.length,v=w.length,O-v<0&&(M=w,w=y,y=M,v=O),O=0;v;)O=(y[--v]=y[v]+w[v]+O)/na|0,y[v]=na===y[v]?0:y[v]%na;return O&&(y=[O].concat(y),++p),P(N,y,p)},i.precision=i.sd=function(N,v){var M,$,O,C=this;if(N!=null&&N!==!!N)return Hr(N,1,qn),v==null?v=a:Hr(v,0,8),k(new A(C),N,v);if(!(M=C.c))return null;if(O=M.length-1,$=O*it+1,O=M[O]){for(;O%10==0;O/=10,$--);for(O=M[0];O>=10;O/=10,$++);}return N&&C.e+1>$&&($=C.e+1),$},i.shiftedBy=function(N){return Hr(N,-jA,jA),this.times("1e"+N)},i.squareRoot=i.sqrt=function(){var N,v,M,$,O,C=this,p=C.c,y=C.s,w=C.e,x=o+4,I=new A("0.5");if(y!==1||!p||!p[0])return new A(!y||y<0&&(!p||p[0])?NaN:p?C:1/0);if(y=Math.sqrt(+F(C)),y==0||y==1/0?(v=go(p),(v.length+w)%2==0&&(v+="0"),y=Math.sqrt(+v),w=bo((w+1)/2)-(w<0||w%2),y==1/0?v="5e"+w:(v=y.toExponential(),v=v.slice(0,v.indexOf("e")+1)+w),M=new A(v)):M=new A(y+""),M.c[0]){for(w=M.e,y=w+x,y<3&&(y=0);;)if(O=M,M=I.times(O.plus(e(C,O,x,1))),go(O.c).slice(0,y)===(v=go(M.c)).slice(0,y))if(M.e<w&&--y,v=v.slice(y-3,y+1),v=="9999"||!$&&v=="4999"){if(!$&&(k(O,O.e+o+2,0),O.times(O).eq(C))){M=O;break}x+=4,y+=4,$=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(k(M,M.e+o+2,1),N=!M.times(M).eq(C));break}}return k(M,M.e+o+1,a,N)},i.toExponential=function(N,v){return N!=null&&(Hr(N,0,qn),N++),S(this,N,v,1)},i.toFixed=function(N,v){return N!=null&&(Hr(N,0,qn),N=N+this.e+1),S(this,N,v)},i.toFormat=function(N,v,M){var $,O=this;if(M==null)N!=null&&v&&typeof v=="object"?(M=v,v=null):N&&typeof N=="object"?(M=N,N=v=null):M=g;else if(typeof M!="object")throw Error(ys+"Argument not an object: "+M);if($=O.toFixed(N,v),O.c){var C,p=$.split("."),y=+M.groupSize,w=+M.secondaryGroupSize,x=M.groupSeparator||"",I=p[0],U=p[1],B=O.s<0,D=B?I.slice(1):I,_=D.length;if(w&&(C=y,y=w,w=C,_-=C),y>0&&_>0){for(C=_%y||y,I=D.substr(0,C);C<_;C+=y)I+=x+D.substr(C,y);w>0&&(I+=x+D.slice(C)),B&&(I="-"+I)}$=U?I+(M.decimalSeparator||"")+((w=+M.fractionGroupSize)?U.replace(new RegExp("\\d{"+w+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):U):I}return(M.prefix||"")+$+(M.suffix||"")},i.toFraction=function(N){var v,M,$,O,C,p,y,w,x,I,U,B,D=this,_=D.c;if(N!=null&&(y=new A(N),!y.isInteger()&&(y.c||y.s!==1)||y.lt(s)))throw Error(ys+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+F(y));if(!_)return new A(D);for(v=new A(s),x=M=new A(s),$=w=new A(s),B=go(_),C=v.e=B.length-D.e-1,v.c[0]=HA[(p=C%it)<0?it+p:p],N=!N||y.comparedTo(v)>0?C>0?v:x:y,p=f,f=1/0,y=new A(B),w.c[0]=0;I=e(y,v,0,1),O=M.plus(I.times($)),O.comparedTo(N)!=1;)M=$,$=O,x=w.plus(I.times(O=x)),w=O,v=y.minus(I.times(O=v)),y=O;return O=e(N.minus(M),$,0,1),w=w.plus(O.times(x)),M=M.plus(O.times($)),w.s=x.s=D.s,C=C*2,U=e(x,$,C,a).minus(D).abs().comparedTo(e(w,M,C,a).minus(D).abs())<1?[x,$]:[w,M],f=p,U},i.toNumber=function(){return+F(this)},i.toPrecision=function(N,v){return N!=null&&Hr(N,1,qn),S(this,N,v,2)},i.toString=function(N){var v,M=this,$=M.s,O=M.e;return O===null?$?(v="Infinity",$<0&&(v="-"+v)):v="NaN":(N==null?v=O<=c||O>=l?Db(go(M.c),O):il(go(M.c),O,"0"):N===10&&E?(M=k(new A(M),o+O+1,a),v=il(go(M.c),M.e,"0")):(Hr(N,2,b.length,"Base"),v=r(il(go(M.c),O,"0"),10,N,$,!0)),$<0&&M.c[0]&&(v="-"+v)),v},i.valueOf=i.toJSON=function(){return F(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&A.set(t),A}function bo(t){var e=t|0;return t>0||t===e?e:e-1}function go(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=it-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function qf(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,l=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function Hr(t,e,r,n){if(t<e||t>r||t!==yo(t))throw Error(ys+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Ob(t){var e=t.c.length-1;return bo(t.e/it)==e&&t.c[e]%2!=0}function Db(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function il(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var GD=ej();const VDe={9e3:{swapAddress:"0x05A0dF2f034941BA89bf82077EcDA5BA5De57950",usdtAddress:"0x5D2B890ba68D5a3f6B58022525ec1402d60984C0",baseRpc:"http://192.168.10.136:8545",exploreUrl:"https://bscscan.com/tx/"},97:{swapAddress:"0x83f792B43F577C28b141014CFE8385cd723152f9",usdtAddress:"0xD657DcF25d73210adcA4e4dbf4675aB8a0057809",baseRpc:"https://bsc-testnet-rpc.publicnode.com",exploreUrl:"https://testnet.bscscan.com/tx/"},7777:{swapAddress:"0x4067843205D293B1825e35Ebe44a246afbc7D5Da",usdtAddress:"0xe5F47B5C5e9D2b8dD1B52d5e41C8B2CA37E71490",baseRpc:"http://bebewallet.com:8545",exploreUrl:"https://bscscan.com/tx/"},56:{swapAddress:"0xdC33f7022b4f34B6DF4bC22B11C783B82447F6E5",usdtAddress:"0x55d398326f99059fF775485246999027B3197955",baseRpc:"https://bsc-rpc.publicnode.com",exploreUrl:"http://bebewallet.com/wallet/#/DaoDst/evm/"}},WA=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"recordId","type":"uint256"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"}],"name":"NeedCheckLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"WithdrawLog","type":"event"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"addToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"checkWithdrawRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"deleteRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"denominator","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNeedCheckRecords","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"internalType":"struct SwapOut.Record[]","name":"checkRecords","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenTypes","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct SwapOut.TokenType[]","name":"tokens","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isAddCheck","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"needCheckAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"recordId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"records","outputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiveAddress","type":"address"}],"name":"setReceiveAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenInfo","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"string[]","name":"keys","type":"string[]"}],"name":"withdrawBatch","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),KD=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],JDe={class:"node-page"},YDe={class:"usdt-balance"},XDe={class:"row"},QDe={class:"value"},ZDe={class:"record-box"},eke={class:"row"},tke=["onClick"],rke={class:"row"},nke={class:"value"},ike={class:"row"},ske={class:"value"},oke={class:"row"},ake={class:"value"},cke={class:"actions"},lke=Fi({__name:"index",setup(t){const{t:e}=Ly(),r=q7({namespace:"eip155"}),n=z7();console.log(n.value,"networkState.value");const i=_t(!1),s=_t("0.0000"),o=_t([]),a=qt(()=>{const S=n.value?.chainId.toString();return VDe[S]||""});console.log(a.value,"currentChainConfig.value");const c=qt(()=>a.value?.swapAddress),l=qt(()=>a.value?.usdtAddress),u=qt(()=>a.value?.baseRpc||""),f=qt(()=>a.value?.exploreUrl),d=S=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(S).then(()=>{gu(e("_Copy_successful"))}).catch(()=>{gu(e("_Copy_failed"))});else{const T=document.createElement("textarea");T.value=S,T.style.position="absolute",T.style.left="-999999px",document.body.appendChild(T),T.select();try{document.execCommand("copy"),gu(e("_Copy_successful"))}catch{gu(e("_Copy_failed"))}document.body.removeChild(T)}},h=S=>{f.value&&window.open(`${f.value}${S}`,"_blank")},m=async()=>{if(!l.value||!c.value)return;const S=new H_(u.value),T=new Fh(l.value,KD,S),P=await T.decimals(),k=await T.balanceOf(c.value);s.value=new GD(k.toString()).dividedBy(10**P).toFixed(4),console.log(s.value,"swapUsdtBalance.value---")},g=async()=>{if(!c.value)return;const S=new H_(u.value),P=await new Fh(c.value,WA,S).getNeedCheckRecords();console.log(P,"records---");const k=[];for(let F=0;F<P.length;F++){const N=P[F],v=new Fh(N.token,KD,S),M=await v.decimals(),$=await v.name(),O=new GD(N.amount.toString()).dividedBy(10**M);k.push({...N,amount:O.toString(),name:$})}o.value=k,console.log(k,"arr---")},b=async S=>{try{if(!c.value)return;i.value=!0;const{walletProvider:T}=A6("eip155"),P=new xg(T),k=await P.getGasPrice(),F=await P.getSigner();await(await new Fh(c.value,WA,F).checkWithdrawRecord(S,{gasPrice:k.toString()})).wait(),i.value=!1,gu(e("_Success")),A()}catch(T){gu(e("_Fail")),i.value=!1,console.log(T)}},E=async S=>{try{if(!c.value)return;i.value=!0;const{walletProvider:T}=A6("eip155"),P=new xg(T),k=await P.getGasPrice(),F=await P.getSigner();await(await new Fh(c.value,WA,F).deleteRecord(S,{gasPrice:k.toString()})).wait(),i.value=!1,gu(e("_Success")),A()}catch(T){gu(e("_Fail")),i.value=!1,console.log(T)}},A=()=>{m(),g()};return r.value.address&&console.log(r.value,"account.value"),un(()=>r.value.address,(S,T)=>{console.log(S,"newVal"),S&&n.value?.chainId&&A()},{deep:!0}),un(()=>n.value?.chainId,(S,T)=>{S&&(console.log(n.value?.chainId,"networkState.value?.chainId"),A())}),n.value?.chainId&&A(),console.log(n.value?.chainId,"networkState.value?.chainId"),(S,T)=>{const P=$y,k=dB;return Al(),ZE("div",JDe,[je(GDe,{isShowBack:!1,title:S.$t("_Home")},null,8,["title"]),Zr("div",YDe,[Zr("div",XDe,[T[0]||(T[0]=Zr("span",{class:"label"},"USDT:",-1)),Zr("span",QDe,wl(s.value),1)])]),Zr("div",ZDe,[(Al(!0),ZE(As,null,aH(o.value,(F,N)=>(Al(),ZE("div",{key:N,class:"record-item"},[Zr("div",eke,[T[1]||(T[1]=Zr("span",{class:"label"},"BSC HASH:",-1)),Zr("span",{class:"value",style:{color:"#00aaff"},onClick:v=>h(F.key)},wl(F.key),9,tke)]),Zr("div",rke,[T[2]||(T[2]=Zr("span",{class:"label"},":",-1)),Zr("span",nke,wl(F.amount),1)]),Zr("div",ike,[T[3]||(T[3]=Zr("span",{class:"label"},":",-1)),Zr("span",ske,[hd(wl(F.to)+" ",1),je(P,{name:"copy-o",onClick:v=>d(F.to),style:{"margin-left":"5px",cursor:"pointer"}},null,8,["onClick"])])]),Zr("div",oke,[T[4]||(T[4]=Zr("span",{class:"label"},":",-1)),Zr("span",ake,wl(F.name),1)]),Zr("div",cke,[je(k,{type:"primary",onClick:v=>b(F.id)},{default:Ru(()=>[...T[5]||(T[5]=[hd("",-1)])]),_:1},8,["onClick"]),je(k,{type:"danger",onClick:v=>E(F.id)},{default:Ru(()=>[...T[6]||(T[6]=[hd("",-1)])]),_:1},8,["onClick"])])]))),128))])])}}}),uke=ZB(lke,[["__scopeId","data-v-26d6bd63"]]),fke=[{path:"/",name:"Index",component:uke}],pN=Rve({history:sve(),routes:fke});function dke(t){return typeof t=="object"&&t!==null}function VD(t,e){return t=dke(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function hke(t,e){return e.reduce((r,n)=>r?.[n],t)}function pke(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function gke(t,e){return e.reduce((r,n)=>{const i=n.split(".");return pke(r,i,hke(t,i))},{})}function mke(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:l=null,debug:u=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof c=="string"?c:c(e.$id)),paths:l,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function JD(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e?.getItem(n);s&&t.$patch(r?.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function YD(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?gke(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function yke(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>VD(a,t)):[VD(n,t)]).map(mke(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{YD(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&l?.(e),JD(i,c),a&&u?.(e)})},o.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c?.(e),JD(i,a),l?.(e),i.$subscribe((u,f)=>{YD(f,a)},{detached:!0})})}}var bke=yke();const tj=hCe();tj.use(bke);var wke=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,_ke=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Eke=/[^-+\dA-Z]/g;function vke(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(XD[e]||e||XD.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},l=function(){return t[s()+"FullYear"]()},u=function(){return t[s()+"Hours"]()},f=function(){return t[s()+"Minutes"]()},d=function(){return t[s()+"Seconds"]()},h=function(){return t[s()+"Milliseconds"]()},m=function(){return r?0:t.getTimezoneOffset()},g=function(){return xke(t)},b=function(){return Ake(t)},E={d:function(){return o()},dd:function(){return Ms(o())},ddd:function(){return gs.dayNames[a()]},DDD:function(){return QD({y:l(),m:c(),d:o(),_:s(),dayName:gs.dayNames[a()],short:!0})},dddd:function(){return gs.dayNames[a()+7]},DDDD:function(){return QD({y:l(),m:c(),d:o(),_:s(),dayName:gs.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return Ms(c()+1)},mmm:function(){return gs.monthNames[c()]},mmmm:function(){return gs.monthNames[c()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return Ms(l(),4)},h:function(){return u()%12||12},hh:function(){return Ms(u()%12||12)},H:function(){return u()},HH:function(){return Ms(u())},M:function(){return f()},MM:function(){return Ms(f())},s:function(){return d()},ss:function(){return Ms(d())},l:function(){return Ms(h(),3)},L:function(){return Ms(Math.floor(h()/10))},t:function(){return u()<12?gs.timeNames[0]:gs.timeNames[1]},tt:function(){return u()<12?gs.timeNames[2]:gs.timeNames[3]},T:function(){return u()<12?gs.timeNames[4]:gs.timeNames[5]},TT:function(){return u()<12?gs.timeNames[6]:gs.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":Cke(t)},o:function(){return(m()>0?"-":"+")+Ms(Math.floor(Math.abs(m())/60)*100+Math.abs(m())%60,4)},p:function(){return(m()>0?"-":"+")+Ms(Math.floor(Math.abs(m())/60),2)+":"+Ms(Math.floor(Math.abs(m())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return g()},WW:function(){return Ms(g())},N:function(){return b()}};return e.replace(wke,function(A){return A in E?E[A]():A.slice(1,A.length-1)})}var XD={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},gs={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},Ms=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},QD=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,l=new Date,u=new Date;u.setDate(u[s+"Date"]()-1);var f=new Date;f.setDate(f[s+"Date"]()+1);var d=function(){return l[s+"Date"]()},h=function(){return l[s+"Month"]()},m=function(){return l[s+"FullYear"]()},g=function(){return u[s+"Date"]()},b=function(){return u[s+"Month"]()},E=function(){return u[s+"FullYear"]()},A=function(){return f[s+"Date"]()},S=function(){return f[s+"Month"]()},T=function(){return f[s+"FullYear"]()};return m()===r&&h()===n&&d()===i?c?"Tdy":"Today":E()===r&&b()===n&&g()===i?c?"Ysd":"Yesterday":T()===r&&S()===n&&A()===i?c?"Tmw":"Tomorrow":o},xke=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},Ake=function(e){var r=e.getDay();return r===0&&(r=7),r},Cke=function(e){return(String(e).match(_ke)||[""]).pop().replace(Eke,"").replace(/GMT\+0000/g,"UTC")};let Nke=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},kb=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if(kb.includes("?")){let t=kb.slice(kb.indexOf("?")+1,kb.length),e=Nke(t);e.intro&&localStorage.setItem("intro",e.intro)}const VI=yM(SEe);VI.config.globalProperties.$goBack=()=>{history.length>0?pN.go(-1):pN.push({name:"Welcome"})};VI.config.globalProperties.$dateformat=vke;VI.use(pN).use(hN).use(tj).mount("#app");export{Tt as $,Me as A,Ke as B,Pe as C,Gq as D,Kn as E,kM as F,tz as G,ez as H,Dke as I,sde as J,AM as K,be as L,At as M,KW as N,he as O,Vi as P,zs as Q,Ve as R,Cc as S,ws as T,He as U,qe as V,jn as W,Pke as X,r_ as Y,Uke as Z,Mke as _,Dt as a,ide as a0,Ai as a1,OMe as a2,dt as a3,XW as a4,Wg as a5,ag as a6,c2 as a7,Da as a8,St as a9,Kb as aA,t_ as aB,Fn as aC,iC as aD,Ph as aE,Oz as aF,Kr as aG,Lz as aH,wM as aI,Fp as aJ,qs as aa,We as ab,kMe as ac,Rs as ad,Lb as ae,U7 as af,sC as ag,Gn as ah,S0 as ai,rc as aj,B3 as ak,Rq as al,$q as am,PM as an,FN as ao,fz as ap,j3 as aq,dz as ar,Ske as as,Pq as at,Uq as au,Dq as av,DM as aw,OM as ax,pd as ay,kke as az,J as b,DMe as c,It as d,UMe as e,fi as f,NM as g,Du as h,Jb as i,Ne as j,ae as k,Ts as l,Nq as m,ai as n,WN as o,gr as p,xe as q,MMe as r,Bi as s,Oke as t,W3 as u,Mde as v,Xs as w,PMe as x,MM as y,w0 as z};
