const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-DtxIj62z.js","./sha2-CCsLony0.js","./embedded-wallet-MIpNV_aw.js","./index-B-02wTJD.js","./index-B0M3v0cp.js","./if-defined-BGaO7sFg.js","./ref-DH3TLQXd.js","./index-DM3TLugb.js","./HelpersUtil-CT4_JiAe.js","./index-DdM07xn8.js","./index-DAblZmN3.js","./index-Bs7-p8af.js","./index-CwLM4O45.js","./index-u0U1ENX7.js","./NavigationUtil-DmfK5sOV.js","./email-bQbGq4M3.js","./index-DJFTAmNY.js","./index-DICSTttl.js","./socials-CYUkK9W_.js","./index-D7PP0qLO.js","./index-DVud75Qx.js","./index-l608e7Tb.js","./index-BQLdXcjf.js","./index-XTy9NwsF.js","./swaps-BdSrMdlU.js","./index-C52ASJhz.js","./index-nSdPCCb2.js","./SwapController-CDmmwEY7.js","./index-CSiv6GVy.js","./send-DsI19_mT.js","./ConstantsUtil-Dmg8YACJ.js","./index-BCne2inz.js","./index-COgvgG37.js","./index-DhjcA9kG.js","./receive-BBUuCNyD.js","./onramp-OMlvJPEI.js","./index-9mmqMtpo.js","./index-D5e8bYaJ.js","./index-dz5lkpIh.js","./ExchangeController-CcvMsx8q.js","./pay-with-exchange-YYXXyr4Q.js","./transactions-BZUIiGtj.js","./index-Bjk78vJf.js","./index-CkA__7xx.js","./index-7M-rlc-W.js","./data-capture-CLCXVRt7.js","./features-DQqvQXko.js","./index-D5ZI2STU.js","./index-DXMGOEvX.js","./w3m-modal-NaPd-0zy.js","./SafeProvider-CWLnyy5S.js","./index-H-Ckw-g_.js","./sha3-ChG6mytw.js","./index-r8-oEZyN.js","./index-D2Aw_9mv.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var l=n.clientWidth/10;n.style.fontSize=l+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(l){l.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mN(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const cr={},Zh=[],Rc=()=>{},tk=()=>!1,p1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yN=t=>t.startsWith("onUpdate:"),Yn=Object.assign,bN=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},rj=Object.prototype.hasOwnProperty,Vt=(t,e)=>rj.call(t,e),Qe=Array.isArray,e0=t=>g1(t)==="[object Map]",rk=t=>g1(t)==="[object Set]",tt=t=>typeof t=="function",Qr=t=>typeof t=="string",cf=t=>typeof t=="symbol",pr=t=>t!==null&&typeof t=="object",nk=t=>(pr(t)||tt(t))&&tt(t.then)&&tt(t.catch),ik=Object.prototype.toString,g1=t=>ik.call(t),nj=t=>g1(t).slice(8,-1),sk=t=>g1(t)==="[object Object]",_N=t=>Qr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vp=mN(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),m1=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},ij=/-\w/g,Oo=m1(t=>t.replace(ij,e=>e.slice(1).toUpperCase())),sj=/\B([A-Z])/g,Ld=m1(t=>t.replace(sj,"-$1").toLowerCase()),y1=m1(t=>t.charAt(0).toUpperCase()+t.slice(1)),qE=m1(t=>t?`on${y1(t)}`:""),Mu=(t,e)=>!Object.is(t,e),zE=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ok=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},oj=t=>{const e=parseFloat(t);return isNaN(e)?t:e},aj=t=>{const e=Qr(t)?Number(t):NaN;return isNaN(e)?t:e};let YI;const b1=()=>YI||(YI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wN(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Qr(n)?fj(n):wN(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(Qr(t)||pr(t))return t}const cj=/;(?![^(]*\))/g,lj=/:([^]+)/,uj=/\/\*[^]*?\*\//g;function fj(t){const e={};return t.replace(uj,"").split(cj).forEach(r=>{if(r){const n=r.split(lj);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function EN(t){let e="";if(Qr(t))e=t;else if(Qe(t))for(let r=0;r<t.length;r++){const n=EN(t[r]);n&&(e+=n+" ")}else if(pr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const dj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hj=mN(dj);function ak(t){return!!t||t===""}const ck=t=>!!(t&&t.__v_isRef===!0),Iu=t=>Qr(t)?t:t==null?"":Qe(t)||pr(t)&&(t.toString===ik||!tt(t.toString))?ck(t)?Iu(t.value):JSON.stringify(t,lk,2):String(t),lk=(t,e)=>ck(e)?lk(t,e.value):e0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[GE(n,s)+" =>"]=i,r),{})}:rk(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>GE(r))}:cf(e)?GE(e):pr(e)&&!Qe(e)&&!sk(e)?String(e):e,GE=(t,e="")=>{var r;return cf(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ci;class uk{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ci,!e&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ci;try{return Ci=this,e()}finally{Ci=r}}}on(){++this._on===1&&(this.prevScope=Ci,Ci=this)}off(){this._on>0&&--this._on===0&&(Ci=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function vN(t){return new uk(t)}function fk(){return Ci}function pj(t,e=!1){Ci&&Ci.cleanups.push(t)}let fr;const KE=new WeakSet;class dk{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ci&&Ci.active&&Ci.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,KE.has(this)&&(KE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||pk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,XI(this),gk(this);const e=fr,r=Ja;fr=this,Ja=!0;try{return this.fn()}finally{mk(this),fr=e,Ja=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)CN(e);this.deps=this.depsTail=void 0,XI(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?KE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zA(this)&&this.run()}get dirty(){return zA(this)}}let hk=0,Jp,Yp;function pk(t,e=!1){if(t.flags|=8,e){t.next=Yp,Yp=t;return}t.next=Jp,Jp=t}function xN(){hk++}function AN(){if(--hk>0)return;if(Yp){let e=Yp;for(Yp=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Jp;){let e=Jp;for(Jp=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function gk(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function mk(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),CN(n),gj(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function zA(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yk(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function yk(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Og)||(t.globalVersion=Og,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!zA(t))))return;t.flags|=2;const e=t.dep,r=fr,n=Ja;fr=t,Ja=!0;try{gk(t);const i=t.fn(t._value);(e.version===0||Mu(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{fr=r,Ja=n,mk(t),t.flags&=-3}}function CN(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)CN(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function gj(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ja=!0;const bk=[];function Ol(){bk.push(Ja),Ja=!1}function Dl(){const t=bk.pop();Ja=t===void 0?!0:t}function XI(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=fr;fr=void 0;try{e()}finally{fr=r}}}let Og=0;class mj{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class NN{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!fr||!Ja||fr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==fr)r=this.activeLink=new mj(fr,this),fr.deps?(r.prevDep=fr.depsTail,fr.depsTail.nextDep=r,fr.depsTail=r):fr.deps=fr.depsTail=r,_k(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=fr.depsTail,r.nextDep=void 0,fr.depsTail.nextDep=r,fr.depsTail=r,fr.deps===r&&(fr.deps=n)}return r}trigger(e){this.version++,Og++,this.notify(e)}notify(e){xN();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{AN()}}}function _k(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)_k(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const q_=new WeakMap,ld=Symbol(""),GA=Symbol(""),Dg=Symbol("");function Ni(t,e,r){if(Ja&&fr){let n=q_.get(t);n||q_.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new NN),i.map=n,i.key=r),i.track()}}function _l(t,e,r,n,i,s){const o=q_.get(t);if(!o){Og++;return}const a=c=>{c&&c.trigger()};if(xN(),e==="clear")o.forEach(a);else{const c=Qe(t),l=c&&_N(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,d)=>{(d==="length"||d===Dg||!cf(d)&&d>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(Dg)),e){case"add":c?l&&a(o.get("length")):(a(o.get(ld)),e0(t)&&a(o.get(GA)));break;case"delete":c||(a(o.get(ld)),e0(t)&&a(o.get(GA)));break;case"set":e0(t)&&a(o.get(ld));break}}AN()}function yj(t,e){const r=q_.get(t);return r&&r.get(e)}function Qd(t){const e=Ot(t);return e===t?e:(Ni(e,"iterate",Dg),Io(t)?e:e.map(li))}function _1(t){return Ni(t=Ot(t),"iterate",Dg),t}const bj={__proto__:null,[Symbol.iterator](){return VE(this,Symbol.iterator,li)},concat(...t){return Qd(this).concat(...t.map(e=>Qe(e)?Qd(e):e))},entries(){return VE(this,"entries",t=>(t[1]=li(t[1]),t))},every(t,e){return Wc(this,"every",t,e,void 0,arguments)},filter(t,e){return Wc(this,"filter",t,e,r=>r.map(li),arguments)},find(t,e){return Wc(this,"find",t,e,li,arguments)},findIndex(t,e){return Wc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wc(this,"findLast",t,e,li,arguments)},findLastIndex(t,e){return Wc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wc(this,"forEach",t,e,void 0,arguments)},includes(...t){return JE(this,"includes",t)},indexOf(...t){return JE(this,"indexOf",t)},join(t){return Qd(this).join(t)},lastIndexOf(...t){return JE(this,"lastIndexOf",t)},map(t,e){return Wc(this,"map",t,e,void 0,arguments)},pop(){return np(this,"pop")},push(...t){return np(this,"push",t)},reduce(t,...e){return QI(this,"reduce",t,e)},reduceRight(t,...e){return QI(this,"reduceRight",t,e)},shift(){return np(this,"shift")},some(t,e){return Wc(this,"some",t,e,void 0,arguments)},splice(...t){return np(this,"splice",t)},toReversed(){return Qd(this).toReversed()},toSorted(t){return Qd(this).toSorted(t)},toSpliced(...t){return Qd(this).toSpliced(...t)},unshift(...t){return np(this,"unshift",t)},values(){return VE(this,"values",li)}};function VE(t,e,r){const n=_1(t),i=n[e]();return n!==t&&!Io(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const _j=Array.prototype;function Wc(t,e,r,n,i,s){const o=_1(t),a=o!==t&&!Io(t),c=o[e];if(c!==_j[e]){const f=c.apply(t,s);return a?li(f):f}let l=r;o!==t&&(a?l=function(f,d){return r.call(this,li(f),d,t)}:r.length>2&&(l=function(f,d){return r.call(this,f,d,t)}));const u=c.call(o,l,n);return a&&i?i(u):u}function QI(t,e,r,n){const i=_1(t);let s=r;return i!==t&&(Io(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,li(a),c,t)}),i[e](s,...n)}function JE(t,e,r){const n=Ot(t);Ni(n,"iterate",Dg);const i=n[e](...r);return(i===-1||i===!1)&&TN(r[0])?(r[0]=Ot(r[0]),n[e](...r)):i}function np(t,e,r=[]){Ol(),xN();const n=Ot(t)[e].apply(t,r);return AN(),Dl(),n}const wj=mN("__proto__,__v_isRef,__isVue"),wk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cf));function Ej(t){cf(t)||(t=String(t));const e=Ot(this);return Ni(e,"has",t),e.hasOwnProperty(t)}class Ek{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Pj:Ck:s?Ak:xk).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Qe(e);if(!i){let c;if(o&&(c=bj[r]))return c;if(r==="hasOwnProperty")return Ej}const a=Reflect.get(e,r,Gr(e)?e:n);if((cf(r)?wk.has(r):wj(r))||(i||Ni(e,"get",r),s))return a;if(Gr(a)){const c=o&&_N(r)?a:a.value;return i&&pr(c)?VA(c):c}return pr(a)?i?VA(a):Bl(a):a}}class vk extends Ek{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=Hu(s);if(!Io(n)&&!Hu(n)&&(s=Ot(s),n=Ot(n)),!Qe(e)&&Gr(s)&&!Gr(n))return c||(s.value=n),!0}const o=Qe(e)&&_N(r)?Number(r)<e.length:Vt(e,r),a=Reflect.set(e,r,n,Gr(e)?e:i);return e===Ot(i)&&(o?Mu(n,s)&&_l(e,"set",r,n):_l(e,"add",r,n)),a}deleteProperty(e,r){const n=Vt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&_l(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!cf(r)||!wk.has(r))&&Ni(e,"has",r),n}ownKeys(e){return Ni(e,"iterate",Qe(e)?"length":ld),Reflect.ownKeys(e)}}class vj extends Ek{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const xj=new vk,Aj=new vj,Cj=new vk(!0);const KA=t=>t,$y=t=>Reflect.getPrototypeOf(t);function Nj(t,e,r){return function(...n){const i=this.__v_raw,s=Ot(i),o=e0(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?KA:e?z_:li;return!e&&Ni(s,"iterate",c?GA:ld),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Ly(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Sj(t,e){const r={get(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);t||(Mu(i,a)&&Ni(o,"get",i),Ni(o,"get",a));const{has:c}=$y(o),l=e?KA:t?z_:li;if(c.call(o,i))return l(s.get(i));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Ni(Ot(i),"iterate",ld),i.size},has(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);return t||(Mu(i,a)&&Ni(o,"has",i),Ni(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=Ot(a),l=e?KA:t?z_:li;return!t&&Ni(c,"iterate",ld),a.forEach((u,f)=>i.call(s,l(u),l(f),o))}};return Yn(r,t?{add:Ly("add"),set:Ly("set"),delete:Ly("delete"),clear:Ly("clear")}:{add(i){!e&&!Io(i)&&!Hu(i)&&(i=Ot(i));const s=Ot(this);return $y(s).has.call(s,i)||(s.add(i),_l(s,"add",i,i)),this},set(i,s){!e&&!Io(s)&&!Hu(s)&&(s=Ot(s));const o=Ot(this),{has:a,get:c}=$y(o);let l=a.call(o,i);l||(i=Ot(i),l=a.call(o,i));const u=c.call(o,i);return o.set(i,s),l?Mu(s,u)&&_l(o,"set",i,s):_l(o,"add",i,s),this},delete(i){const s=Ot(this),{has:o,get:a}=$y(s);let c=o.call(s,i);c||(i=Ot(i),c=o.call(s,i)),a&&a.call(s,i);const l=s.delete(i);return c&&_l(s,"delete",i,void 0),l},clear(){const i=Ot(this),s=i.size!==0,o=i.clear();return s&&_l(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Nj(i,t,e)}),r}function SN(t,e){const r=Sj(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Vt(r,i)&&i in n?r:n,i,s)}const Ij={get:SN(!1,!1)},Tj={get:SN(!1,!0)},Rj={get:SN(!0,!1)};const xk=new WeakMap,Ak=new WeakMap,Ck=new WeakMap,Pj=new WeakMap;function Oj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dj(t){return t.__v_skip||!Object.isExtensible(t)?0:Oj(nj(t))}function Bl(t){return Hu(t)?t:IN(t,!1,xj,Ij,xk)}function Nk(t){return IN(t,!1,Cj,Tj,Ak)}function VA(t){return IN(t,!0,Aj,Rj,Ck)}function IN(t,e,r,n,i){if(!pr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Dj(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Uu(t){return Hu(t)?Uu(t.__v_raw):!!(t&&t.__v_isReactive)}function Hu(t){return!!(t&&t.__v_isReadonly)}function Io(t){return!!(t&&t.__v_isShallow)}function TN(t){return t?!!t.__v_raw:!1}function Ot(t){const e=t&&t.__v_raw;return e?Ot(e):t}function RN(t){return!Vt(t,"__v_skip")&&Object.isExtensible(t)&&ok(t,"__v_skip",!0),t}const li=t=>pr(t)?Bl(t):t,z_=t=>pr(t)?VA(t):t;function Gr(t){return t?t.__v_isRef===!0:!1}function At(t){return Sk(t,!1)}function PN(t){return Sk(t,!0)}function Sk(t,e){return Gr(t)?t:new kj(t,e)}class kj{constructor(e,r){this.dep=new NN,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ot(e),this._value=r?e:li(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Io(e)||Hu(e);e=n?e:Ot(e),Mu(e,r)&&(this._rawValue=e,this._value=n?e:li(e),this.dep.trigger())}}function xs(t){return Gr(t)?t.value:t}const Mj={get:(t,e,r)=>e==="__v_raw"?t:xs(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Gr(i)&&!Gr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Ik(t){return Uu(t)?t:new Proxy(t,Mj)}function Uj(t){const e=Qe(t)?new Array(t.length):{};for(const r in t)e[r]=Lj(t,r);return e}class $j{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return yj(Ot(this._object),this._key)}}function Lj(t,e,r){const n=t[e];return Gr(n)?n:new $j(t,e,r)}class Fj{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new NN(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Og-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&fr!==this)return pk(this,!0),!0}get value(){const e=this.dep.track();return yk(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Bj(t,e,r=!1){let n,i;return tt(t)?n=t:(n=t.get,i=t.set),new Fj(n,i,r)}const Fy={},G_=new WeakMap;let Hf;function jj(t,e=!1,r=Hf){if(r){let n=G_.get(r);n||G_.set(r,n=[]),n.push(t)}}function Hj(t,e,r=cr){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,l=D=>i?D:Io(D)||i===!1||i===0?wl(D,1):wl(D);let u,f,d,h,m=!1,g=!1;if(Gr(t)?(f=()=>t.value,m=Io(t)):Uu(t)?(f=()=>l(t),m=!0):Qe(t)?(g=!0,m=t.some(D=>Uu(D)||Io(D)),f=()=>t.map(D=>{if(Gr(D))return D.value;if(Uu(D))return l(D);if(tt(D))return c?c(D,2):D()})):tt(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){Ol();try{d()}finally{Dl()}}const D=Hf;Hf=u;try{return c?c(t,3,[h]):t(h)}finally{Hf=D}}:f=Rc,e&&i){const D=f,O=i===!0?1/0:i;f=()=>wl(D(),O)}const b=fk(),w=()=>{u.stop(),b&&b.active&&bN(b.effects,u)};if(s&&e){const D=e;e=(...O)=>{D(...O),w()}}let x=g?new Array(t.length).fill(Fy):Fy;const S=D=>{if(!(!(u.flags&1)||!u.dirty&&!D))if(e){const O=u.run();if(i||m||(g?O.some((k,F)=>Mu(k,x[F])):Mu(O,x))){d&&d();const k=Hf;Hf=u;try{const F=[O,x===Fy?void 0:g&&x[0]===Fy?[]:x,h];x=O,c?c(e,3,F):e(...F)}finally{Hf=k}}}else u.run()};return a&&a(S),u=new dk(f),u.scheduler=o?()=>o(S,!1):S,h=D=>jj(D,!1,u),d=u.onStop=()=>{const D=G_.get(u);if(D){if(c)c(D,4);else for(const O of D)O();G_.delete(u)}},e?n?S(!0):x=u.run():o?o(S.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function wl(t,e=1/0,r){if(e<=0||!pr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Gr(t))wl(t.value,e,r);else if(Qe(t))for(let n=0;n<t.length;n++)wl(t[n],e,r);else if(rk(t)||e0(t))t.forEach(n=>{wl(n,e,r)});else if(sk(t)){for(const n in t)wl(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&wl(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ny(t,e,r,n){try{return n?t(...n):t()}catch(i){w1(i,e,r)}}function Za(t,e,r,n){if(tt(t)){const i=ny(t,e,r,n);return i&&nk(i)&&i.catch(s=>{w1(s,e,r)}),i}if(Qe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Za(t[s],e,r,n));return i}}function w1(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||cr;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(s){Ol(),ny(s,null,10,[t,c,l]),Dl();return}}Wj(t,r,i,n,o)}function Wj(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const Gi=[];let pc=-1;const t0=[];let _u=null,Ih=0;const Tk=Promise.resolve();let K_=null;function wd(t){const e=K_||Tk;return t?e.then(this?t.bind(this):t):e}function qj(t){let e=pc+1,r=Gi.length;for(;e<r;){const n=e+r>>>1,i=Gi[n],s=kg(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function ON(t){if(!(t.flags&1)){const e=kg(t),r=Gi[Gi.length-1];!r||!(t.flags&2)&&e>=kg(r)?Gi.push(t):Gi.splice(qj(e),0,t),t.flags|=1,Rk()}}function Rk(){K_||(K_=Tk.then(Ok))}function zj(t){Qe(t)?t0.push(...t):_u&&t.id===-1?_u.splice(Ih+1,0,t):t.flags&1||(t0.push(t),t.flags|=1),Rk()}function ZI(t,e,r=pc+1){for(;r<Gi.length;r++){const n=Gi[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Gi.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Pk(t){if(t0.length){const e=[...new Set(t0)].sort((r,n)=>kg(r)-kg(n));if(t0.length=0,_u){_u.push(...e);return}for(_u=e,Ih=0;Ih<_u.length;Ih++){const r=_u[Ih];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}_u=null,Ih=0}}const kg=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ok(t){try{for(pc=0;pc<Gi.length;pc++){const e=Gi[pc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ny(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;pc<Gi.length;pc++){const e=Gi[pc];e&&(e.flags&=-2)}pc=-1,Gi.length=0,Pk(),K_=null,(Gi.length||t0.length)&&Ok()}}let Gs=null,Dk=null;function V_(t){const e=Gs;return Gs=t,Dk=t&&t.type.__scopeId||null,e}function td(t,e=Gs,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&X_(-1);const s=V_(e);let o;try{o=t(...i)}finally{V_(s),n._d&&X_(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function kk(t,e){if(Gs===null)return t;const r=C1(Gs),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=cr]=e[i];s&&(tt(s)&&(s={mounted:s,updated:s}),s.deep&&wl(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function If(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(Ol(),Za(c,r,8,[t.el,a,t,e]),Dl())}}const Mk=Symbol("_vte"),Uk=t=>t.__isTeleport,Xp=t=>t&&(t.disabled||t.disabled===""),eT=t=>t&&(t.defer||t.defer===""),tT=t=>typeof SVGElement<"u"&&t instanceof SVGElement,rT=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,JA=(t,e)=>{const r=t&&t.to;return Qr(r)?e?e(r):null:r},$k={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,l){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:g,createComment:b}}=l,w=Xp(e.props);let{shapeFlag:x,children:S,dynamicChildren:D}=e;if(t==null){const O=e.el=g(""),k=e.anchor=g("");h(O,r,n),h(k,r,n);const F=(v,M)=>{x&16&&u(S,v,M,i,s,o,a,c)},N=()=>{const v=e.target=JA(e.props,m),M=Fk(v,e,g,h);v&&(o!=="svg"&&tT(v)?o="svg":o!=="mathml"&&rT(v)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(v),w||(F(v,M),Mb(e,!1)))};w&&(F(r,k),Mb(e,!0)),eT(e.props)?(e.el.__isMounted=!1,Wi(()=>{N(),delete e.el.__isMounted},s)):N()}else{if(eT(e.props)&&t.el.__isMounted===!1){Wi(()=>{$k.process(t,e,r,n,i,s,o,a,c,l)},s);return}e.el=t.el,e.targetStart=t.targetStart;const O=e.anchor=t.anchor,k=e.target=t.target,F=e.targetAnchor=t.targetAnchor,N=Xp(t.props),v=N?r:k,M=N?O:F;if(o==="svg"||tT(k)?o="svg":(o==="mathml"||rT(k))&&(o="mathml"),D?(d(t.dynamicChildren,D,v,i,s,o,a),$N(t,e,!0)):c||f(t,e,v,M,i,s,o,a,!1),w)N?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):By(e,r,O,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=JA(e.props,m);$&&By(e,$,null,l,0)}else N&&By(e,k,F,l,1);Mb(e,w)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:d}=t;if(f&&(i(l),i(u)),s&&i(c),o&16){const h=s||!Xp(d);for(let m=0;m<a.length;m++){const g=a[m];n(g,e,r,h,!!g.dynamicChildren)}}},move:By,hydrate:Gj};function By(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=s===2;if(f&&n(o,e,r),(!f||Xp(u))&&c&16)for(let d=0;d<l.length;d++)i(l[d],e,r,2);f&&n(a,e,r)}function Gj(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){function d(g,b,w,x){b.anchor=f(o(g),b,a(g),r,n,i,s),b.targetStart=w,b.targetAnchor=x}const h=e.target=JA(e.props,c),m=Xp(e.props);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)d(t,e,g,g&&o(g));else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||Fk(h,e,u,l),f(g&&o(g),e,h,r,n,i,s)}Mb(e,m)}else m&&e.shapeFlag&16&&d(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Lk=$k;function Mb(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function Fk(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[Mk]=s,t&&(n(i,t),n(s,t)),s}const yl=Symbol("_leaveCb"),jy=Symbol("_enterCb");function Kj(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return lf(()=>{t.isMounted=!0}),kN(()=>{t.isUnmounting=!0}),t}const io=[Function,Array],Bk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:io,onEnter:io,onAfterEnter:io,onEnterCancelled:io,onBeforeLeave:io,onLeave:io,onAfterLeave:io,onLeaveCancelled:io,onBeforeAppear:io,onAppear:io,onAfterAppear:io,onAppearCancelled:io},jk=t=>{const e=t.subTree;return e.component?jk(e.component):e},Vj={name:"BaseTransition",props:Bk,setup(t,{slots:e}){const r=Do(),n=Kj();return()=>{const i=e.default&&qk(e.default(),!0);if(!i||!i.length)return;const s=Hk(i),o=Ot(t),{mode:a}=o;if(n.isLeaving)return YE(s);const c=nT(s);if(!c)return YE(s);let l=YA(c,o,n,r,f=>l=f);c.type!==zs&&Mg(c,l);let u=r.subTree&&nT(r.subTree);if(u&&u.type!==zs&&!Gf(u,c)&&jk(r).type!==zs){let f=YA(u,o,n,r);if(Mg(u,f),a==="out-in"&&c.type!==zs)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},YE(s);a==="in-out"&&c.type!==zs?f.delayLeave=(d,h,m)=>{const g=Wk(n,u);g[String(u.key)]=u,d[yl]=()=>{h(),d[yl]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function Hk(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==zs){e=r;break}}return e}const Jj=Vj;function Wk(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function YA(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:w,onAfterAppear:x,onAppearCancelled:S}=e,D=String(t.key),O=Wk(r,t),k=(v,M)=>{v&&Za(v,n,9,M)},F=(v,M)=>{const $=M[1];k(v,M),Qe(v)?v.every(P=>P.length<=1)&&$():v.length<=1&&$()},N={mode:o,persisted:a,beforeEnter(v){let M=c;if(!r.isMounted)if(s)M=b||c;else return;v[yl]&&v[yl](!0);const $=O[D];$&&Gf(t,$)&&$.el[yl]&&$.el[yl](),k(M,[v])},enter(v){let M=l,$=u,P=f;if(!r.isMounted)if(s)M=w||l,$=x||u,P=S||f;else return;let C=!1;const p=v[jy]=y=>{C||(C=!0,y?k(P,[v]):k($,[v]),N.delayedLeave&&N.delayedLeave(),v[jy]=void 0)};M?F(M,[v,p]):p()},leave(v,M){const $=String(t.key);if(v[jy]&&v[jy](!0),r.isUnmounting)return M();k(d,[v]);let P=!1;const C=v[yl]=p=>{P||(P=!0,M(),p?k(g,[v]):k(m,[v]),v[yl]=void 0,O[$]===t&&delete O[$])};O[$]=t,h?F(h,[v,C]):C()},clone(v){const M=YA(v,e,r,n,i);return i&&i(M),M}};return N}function YE(t){if(E1(t))return t=Wu(t),t.children=null,t}function nT(t){if(!E1(t))return Uk(t.type)&&t.children?Hk(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&tt(r.default))return r.default()}}function Mg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Mg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function qk(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===vs?(o.patchFlag&128&&i++,n=n.concat(qk(o.children,e,a))):(e||o.type!==zs)&&n.push(a!=null?Wu(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Li(t,e){return tt(t)?Yn({name:t.name},e,{setup:t}):t}function zk(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const J_=new WeakMap;function Qp(t,e,r,n,i=!1){if(Qe(t)){t.forEach((m,g)=>Qp(m,e&&(Qe(e)?e[g]:e),r,n,i));return}if(Zp(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Qp(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?C1(n.component):n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===cr?a.refs={}:a.refs,f=a.setupState,d=Ot(f),h=f===cr?tk:m=>Vt(d,m);if(l!=null&&l!==c){if(iT(e),Qr(l))u[l]=null,h(l)&&(f[l]=null);else if(Gr(l)){l.value=null;const m=e;m.k&&(u[m.k]=null)}}if(tt(c))ny(c,a,12,[o,u]);else{const m=Qr(c),g=Gr(c);if(m||g){const b=()=>{if(t.f){const w=m?h(c)?f[c]:u[c]:c.value;if(i)Qe(w)&&bN(w,s);else if(Qe(w))w.includes(s)||w.push(s);else if(m)u[c]=[s],h(c)&&(f[c]=u[c]);else{const x=[s];c.value=x,t.k&&(u[t.k]=x)}}else m?(u[c]=o,h(c)&&(f[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const w=()=>{b(),J_.delete(t)};w.id=-1,J_.set(t,w),Wi(w,r)}else iT(t),b()}}}function iT(t){const e=J_.get(t);e&&(e.flags|=8,J_.delete(t))}b1().requestIdleCallback;b1().cancelIdleCallback;const Zp=t=>!!t.type.__asyncLoader,E1=t=>t.type.__isKeepAlive;function DN(t,e){Gk(t,"a",e)}function v1(t,e){Gk(t,"da",e)}function Gk(t,e,r=Ti){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(x1(e,n,r),r){let i=r.parent;for(;i&&i.parent;)E1(i.parent.vnode)&&Yj(n,e,r,i),i=i.parent}}function Yj(t,e,r,n){const i=x1(e,t,n,!0);Fd(()=>{bN(n[e],i)},r)}function x1(t,e,r=Ti,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ol();const a=sy(r),c=Za(e,r,t,o);return a(),Dl(),c});return n?i.unshift(s):i.push(s),s}}const jl=t=>(e,r=Ti)=>{(!$g||t==="sp")&&x1(t,(...n)=>e(...n),r)},Kk=jl("bm"),lf=jl("m"),Xj=jl("bu"),Qj=jl("u"),kN=jl("bum"),Fd=jl("um"),Zj=jl("sp"),eH=jl("rtg"),tH=jl("rtc");function rH(t,e=Ti){x1("ec",t,e)}const nH="components";function iH(t,e){return oH(nH,t,!0,e)||t}const sH=Symbol.for("v-ndc");function oH(t,e,r=!0,n=!1){const i=Gs||Ti;if(i){const s=i.type;{const a=VH(s,!1);if(a&&(a===e||a===Oo(e)||a===y1(Oo(e))))return s}const o=sT(i[t]||s[t],e)||sT(i.appContext[t],e);return!o&&n?s:o}}function sT(t,e){return t&&(t[e]||t[Oo(e)]||t[y1(Oo(e))])}function aH(t,e,r,n){let i;const s=r,o=Qe(t);if(o||Qr(t)){const a=o&&Uu(t);let c=!1,l=!1;a&&(c=!Io(t),l=Hu(t),t=_1(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(c?l?z_(li(t[u])):li(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(pr(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[c]=e(t[u],u,c,s)}}else i=[];return i}const XA=t=>t?dM(t)?C1(t):XA(t.parent):null,eg=Yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>XA(t.parent),$root:t=>XA(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Jk(t),$forceUpdate:t=>t.f||(t.f=()=>{ON(t.update)}),$nextTick:t=>t.n||(t.n=wd.bind(t.proxy)),$watch:t=>TH.bind(t)}),XE=(t,e)=>t!==cr&&!t.__isScriptSetup&&Vt(t,e),cH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(XE(n,e))return o[e]=1,n[e];if(i!==cr&&Vt(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&Vt(l,e))return o[e]=3,s[e];if(r!==cr&&Vt(r,e))return o[e]=4,r[e];QA&&(o[e]=0)}}const u=eg[e];let f,d;if(u)return e==="$attrs"&&Ni(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==cr&&Vt(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,Vt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return XE(i,e)?(i[e]=r,!0):n!==cr&&Vt(n,e)?(n[e]=r,!0):Vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:o}},a){let c,l;return!!(r[a]||t!==cr&&a[0]!=="$"&&Vt(t,a)||XE(e,a)||(c=s[0])&&Vt(c,a)||Vt(n,a)||Vt(eg,a)||Vt(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Vt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function oT(t){return Qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let QA=!0;function lH(t){const e=Jk(t),r=t.proxy,n=t.ctx;QA=!1,e.beforeCreate&&aT(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:g,deactivated:b,beforeDestroy:w,beforeUnmount:x,destroyed:S,unmounted:D,render:O,renderTracked:k,renderTriggered:F,errorCaptured:N,serverPrefetch:v,expose:M,inheritAttrs:$,components:P,directives:C,filters:p}=e;if(l&&uH(l,n,null),o)for(const A in o){const I=o[A];tt(I)&&(n[A]=I.bind(r))}if(i){const A=i.call(r,r);pr(A)&&(t.data=Bl(A))}if(QA=!0,s)for(const A in s){const I=s[A],U=tt(I)?I.bind(r,r):tt(I.get)?I.get.bind(r,r):Rc,B=!tt(I)&&tt(I.set)?I.set.bind(r):Rc,R=hr({get:U,set:B});Object.defineProperty(n,A,{enumerable:!0,configurable:!0,get:()=>R.value,set:E=>R.value=E})}if(a)for(const A in a)Vk(a[A],n,r,A);if(c){const A=tt(c)?c.call(r):c;Reflect.ownKeys(A).forEach(I=>{tg(I,A[I])})}u&&aT(u,t,"c");function _(A,I){Qe(I)?I.forEach(U=>A(U.bind(r))):I&&A(I.bind(r))}if(_(Kk,f),_(lf,d),_(Xj,h),_(Qj,m),_(DN,g),_(v1,b),_(rH,N),_(tH,k),_(eH,F),_(kN,x),_(Fd,D),_(Zj,v),Qe(M))if(M.length){const A=t.exposed||(t.exposed={});M.forEach(I=>{Object.defineProperty(A,I,{get:()=>r[I],set:U=>r[I]=U,enumerable:!0})})}else t.exposed||(t.exposed={});O&&t.render===Rc&&(t.render=O),$!=null&&(t.inheritAttrs=$),P&&(t.components=P),C&&(t.directives=C),v&&zk(t)}function uH(t,e,r=Rc){Qe(t)&&(t=ZA(t));for(const n in t){const i=t[n];let s;pr(i)?"default"in i?s=Js(i.from||n,i.default,!0):s=Js(i.from||n):s=Js(i),Gr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function aT(t,e,r){Za(Qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Vk(t,e,r,n){let i=n.includes(".")?aM(r,n):()=>r[n];if(Qr(t)){const s=e[t];tt(s)&&Bn(i,s)}else if(tt(t))Bn(i,t.bind(r));else if(pr(t))if(Qe(t))t.forEach(s=>Vk(s,e,r,n));else{const s=tt(t.handler)?t.handler.bind(r):e[t.handler];tt(s)&&Bn(i,s,t)}}function Jk(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>Y_(c,l,o,!0)),Y_(c,e,o)),pr(e)&&s.set(e,c),c}function Y_(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&Y_(t,s,r,!0),i&&i.forEach(o=>Y_(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=fH[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const fH={data:cT,props:lT,emits:lT,methods:Up,computed:Up,beforeCreate:ji,created:ji,beforeMount:ji,mounted:ji,beforeUpdate:ji,updated:ji,beforeDestroy:ji,beforeUnmount:ji,destroyed:ji,unmounted:ji,activated:ji,deactivated:ji,errorCaptured:ji,serverPrefetch:ji,components:Up,directives:Up,watch:hH,provide:cT,inject:dH};function cT(t,e){return e?t?function(){return Yn(tt(t)?t.call(this,this):t,tt(e)?e.call(this,this):e)}:e:t}function dH(t,e){return Up(ZA(t),ZA(e))}function ZA(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ji(t,e){return t?[...new Set([].concat(t,e))]:e}function Up(t,e){return t?Yn(Object.create(null),t,e):e}function lT(t,e){return t?Qe(t)&&Qe(e)?[...new Set([...t,...e])]:Yn(Object.create(null),oT(t),oT(e??{})):e}function hH(t,e){if(!t)return e;if(!e)return t;const r=Yn(Object.create(null),t);for(const n in e)r[n]=ji(t[n],e[n]);return r}function Yk(){return{app:null,config:{isNativeTag:tk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pH=0;function gH(t,e){return function(n,i=null){tt(n)||(n=Yn({},n)),i!=null&&!pr(i)&&(i=null);const s=Yk(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:pH++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:YH,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&tt(u.install)?(o.add(u),u.install(l,...f)):tt(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||je(n,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),c=!0,l._container=u,u.__vue_app__=l,C1(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Za(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=ud;ud=l;try{return u()}finally{ud=f}}};return l}}let ud=null;function tg(t,e){if(Ti){let r=Ti.provides;const n=Ti.parent&&Ti.parent.provides;n===r&&(r=Ti.provides=Object.create(n)),r[t]=e}}function Js(t,e,r=!1){const n=Do();if(n||ud){let i=ud?ud._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&tt(e)?e.call(n&&n.proxy):e}}function mH(){return!!(Do()||ud)}const Xk={},Qk=()=>Object.create(Xk),Zk=t=>Object.getPrototypeOf(t)===Xk;function yH(t,e,r,n=!1){const i={},s=Qk();t.propsDefaults=Object.create(null),eM(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:Nk(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bH(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ot(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(A1(t.emitsOptions,d))continue;const h=e[d];if(c)if(Vt(s,d))h!==s[d]&&(s[d]=h,l=!0);else{const m=Oo(d);i[m]=e2(c,a,m,h,t,!1)}else h!==s[d]&&(s[d]=h,l=!0)}}}else{eM(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!Vt(e,f)&&((u=Ld(f))===f||!Vt(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=e2(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Vt(e,f))&&(delete s[f],l=!0)}l&&_l(t.attrs,"set","")}function eM(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Vp(c))continue;const l=e[c];let u;i&&Vt(i,u=Oo(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:A1(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Ot(r),l=a||cr;for(let u=0;u<s.length;u++){const f=s[u];r[f]=e2(i,c,f,l[f],t,!Vt(l,f))}}return o}function e2(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Vt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&tt(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=sy(i);n=l[r]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Ld(r))&&(n=!0))}return n}const _H=new WeakMap;function tM(t,e,r=!1){const n=r?_H:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!tt(t)){const u=f=>{c=!0;const[d,h]=tM(f,e,!0);Yn(o,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return pr(t)&&n.set(t,Zh),Zh;if(Qe(s))for(let u=0;u<s.length;u++){const f=Oo(s[u]);uT(f)&&(o[f]=cr)}else if(s)for(const u in s){const f=Oo(u);if(uT(f)){const d=s[u],h=o[f]=Qe(d)||tt(d)?{type:d}:Yn({},d),m=h.type;let g=!1,b=!0;if(Qe(m))for(let w=0;w<m.length;++w){const x=m[w],S=tt(x)&&x.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(b=!1)}else g=tt(m)&&m.name==="Boolean";h[0]=g,h[1]=b,(g||Vt(h,"default"))&&a.push(f)}}const l=[o,a];return pr(t)&&n.set(t,l),l}function uT(t){return t[0]!=="$"&&!Vp(t)}const MN=t=>t==="_"||t==="_ctx"||t==="$stable",UN=t=>Qe(t)?t.map(wc):[wc(t)],wH=(t,e,r)=>{if(e._n)return e;const n=td((...i)=>UN(e(...i)),r);return n._c=!1,n},rM=(t,e,r)=>{const n=t._ctx;for(const i in t){if(MN(i))continue;const s=t[i];if(tt(s))e[i]=wH(i,s,n);else if(s!=null){const o=UN(s);e[i]=()=>o}}},nM=(t,e)=>{const r=UN(e);t.slots.default=()=>r},iM=(t,e,r)=>{for(const n in e)(r||!MN(n))&&(t[n]=e[n])},EH=(t,e,r)=>{const n=t.slots=Qk();if(t.vnode.shapeFlag&32){const i=e._;i?(iM(n,e,r),r&&ok(n,"_",i,!0)):rM(e,n)}else e&&nM(t,e)},vH=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=cr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:iM(i,e,r):(s=!e.$stable,rM(e,i)),o=e}else e&&(nM(t,e),o={default:1});if(s)for(const a in i)!MN(a)&&o[a]==null&&delete i[a]},Wi=$H;function xH(t){return AH(t)}function AH(t,e){const r=b1();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Rc,insertStaticContent:m}=t,g=(H,Y,W,Z=null,fe=null,oe=null,ge=void 0,we=null,q=!!Y.dynamicChildren)=>{if(H===Y)return;H&&!Gf(H,Y)&&(Z=K(H),E(H,fe,oe,!0),H=null),Y.patchFlag===-2&&(q=!1,Y.dynamicChildren=null);const{type:z,ref:ne,shapeFlag:se}=Y;switch(z){case iy:b(H,Y,W,Z);break;case zs:w(H,Y,W,Z);break;case ZE:H==null&&x(Y,W,Z,ge);break;case vs:P(H,Y,W,Z,fe,oe,ge,we,q);break;default:se&1?O(H,Y,W,Z,fe,oe,ge,we,q):se&6?C(H,Y,W,Z,fe,oe,ge,we,q):(se&64||se&128)&&z.process(H,Y,W,Z,fe,oe,ge,we,q,ie)}ne!=null&&fe?Qp(ne,H&&H.ref,oe,Y||H,!Y):ne==null&&H&&H.ref!=null&&Qp(H.ref,null,oe,H,!0)},b=(H,Y,W,Z)=>{if(H==null)n(Y.el=a(Y.children),W,Z);else{const fe=Y.el=H.el;Y.children!==H.children&&l(fe,Y.children)}},w=(H,Y,W,Z)=>{H==null?n(Y.el=c(Y.children||""),W,Z):Y.el=H.el},x=(H,Y,W,Z)=>{[H.el,H.anchor]=m(H.children,Y,W,Z,H.el,H.anchor)},S=({el:H,anchor:Y},W,Z)=>{let fe;for(;H&&H!==Y;)fe=d(H),n(H,W,Z),H=fe;n(Y,W,Z)},D=({el:H,anchor:Y})=>{let W;for(;H&&H!==Y;)W=d(H),i(H),H=W;i(Y)},O=(H,Y,W,Z,fe,oe,ge,we,q)=>{Y.type==="svg"?ge="svg":Y.type==="math"&&(ge="mathml"),H==null?k(Y,W,Z,fe,oe,ge,we,q):v(H,Y,fe,oe,ge,we,q)},k=(H,Y,W,Z,fe,oe,ge,we)=>{let q,z;const{props:ne,shapeFlag:se,transition:pe,dirs:me}=H;if(q=H.el=o(H.type,oe,ne&&ne.is,ne),se&8?u(q,H.children):se&16&&N(H.children,q,null,Z,fe,QE(H,oe),ge,we),me&&If(H,null,Z,"created"),F(q,H,H.scopeId,ge,Z),ne){for(const ce in ne)ce!=="value"&&!Vp(ce)&&s(q,ce,null,ne[ce],oe,Z);"value"in ne&&s(q,"value",null,ne.value,oe),(z=ne.onVnodeBeforeMount)&&sc(z,Z,H)}me&&If(H,null,Z,"beforeMount");const ee=CH(fe,pe);ee&&pe.beforeEnter(q),n(q,Y,W),((z=ne&&ne.onVnodeMounted)||ee||me)&&Wi(()=>{z&&sc(z,Z,H),ee&&pe.enter(q),me&&If(H,null,Z,"mounted")},fe)},F=(H,Y,W,Z,fe)=>{if(W&&h(H,W),Z)for(let oe=0;oe<Z.length;oe++)h(H,Z[oe]);if(fe){let oe=fe.subTree;if(Y===oe||lM(oe.type)&&(oe.ssContent===Y||oe.ssFallback===Y)){const ge=fe.vnode;F(H,ge,ge.scopeId,ge.slotScopeIds,fe.parent)}}},N=(H,Y,W,Z,fe,oe,ge,we,q=0)=>{for(let z=q;z<H.length;z++){const ne=H[z]=we?wu(H[z]):wc(H[z]);g(null,ne,Y,W,Z,fe,oe,ge,we)}},v=(H,Y,W,Z,fe,oe,ge)=>{const we=Y.el=H.el;let{patchFlag:q,dynamicChildren:z,dirs:ne}=Y;q|=H.patchFlag&16;const se=H.props||cr,pe=Y.props||cr;let me;if(W&&Tf(W,!1),(me=pe.onVnodeBeforeUpdate)&&sc(me,W,Y,H),ne&&If(Y,H,W,"beforeUpdate"),W&&Tf(W,!0),(se.innerHTML&&pe.innerHTML==null||se.textContent&&pe.textContent==null)&&u(we,""),z?M(H.dynamicChildren,z,we,W,Z,QE(Y,fe),oe):ge||I(H,Y,we,null,W,Z,QE(Y,fe),oe,!1),q>0){if(q&16)$(we,se,pe,W,fe);else if(q&2&&se.class!==pe.class&&s(we,"class",null,pe.class,fe),q&4&&s(we,"style",se.style,pe.style,fe),q&8){const ee=Y.dynamicProps;for(let ce=0;ce<ee.length;ce++){const ke=ee[ce],Le=se[ke],Ge=pe[ke];(Ge!==Le||ke==="value")&&s(we,ke,Le,Ge,fe,W)}}q&1&&H.children!==Y.children&&u(we,Y.children)}else!ge&&z==null&&$(we,se,pe,W,fe);((me=pe.onVnodeUpdated)||ne)&&Wi(()=>{me&&sc(me,W,Y,H),ne&&If(Y,H,W,"updated")},Z)},M=(H,Y,W,Z,fe,oe,ge)=>{for(let we=0;we<Y.length;we++){const q=H[we],z=Y[we],ne=q.el&&(q.type===vs||!Gf(q,z)||q.shapeFlag&198)?f(q.el):W;g(q,z,ne,null,Z,fe,oe,ge,!0)}},$=(H,Y,W,Z,fe)=>{if(Y!==W){if(Y!==cr)for(const oe in Y)!Vp(oe)&&!(oe in W)&&s(H,oe,Y[oe],null,fe,Z);for(const oe in W){if(Vp(oe))continue;const ge=W[oe],we=Y[oe];ge!==we&&oe!=="value"&&s(H,oe,we,ge,fe,Z)}"value"in W&&s(H,"value",Y.value,W.value,fe)}},P=(H,Y,W,Z,fe,oe,ge,we,q)=>{const z=Y.el=H?H.el:a(""),ne=Y.anchor=H?H.anchor:a("");let{patchFlag:se,dynamicChildren:pe,slotScopeIds:me}=Y;me&&(we=we?we.concat(me):me),H==null?(n(z,W,Z),n(ne,W,Z),N(Y.children||[],W,ne,fe,oe,ge,we,q)):se>0&&se&64&&pe&&H.dynamicChildren?(M(H.dynamicChildren,pe,W,fe,oe,ge,we),(Y.key!=null||fe&&Y===fe.subTree)&&$N(H,Y,!0)):I(H,Y,W,ne,fe,oe,ge,we,q)},C=(H,Y,W,Z,fe,oe,ge,we,q)=>{Y.slotScopeIds=we,H==null?Y.shapeFlag&512?fe.ctx.activate(Y,W,Z,ge,q):p(Y,W,Z,fe,oe,ge,q):y(H,Y,q)},p=(H,Y,W,Z,fe,oe,ge)=>{const we=H.component=WH(H,Z,fe);if(E1(H)&&(we.ctx.renderer=ie),qH(we,!1,ge),we.asyncDep){if(fe&&fe.registerDep(we,_,ge),!H.el){const q=we.subTree=je(zs);w(null,q,Y,W),H.placeholder=q.el}}else _(we,H,Y,W,fe,oe,ge)},y=(H,Y,W)=>{const Z=Y.component=H.component;if(MH(H,Y,W))if(Z.asyncDep&&!Z.asyncResolved){A(Z,Y,W);return}else Z.next=Y,Z.update();else Y.el=H.el,Z.vnode=Y},_=(H,Y,W,Z,fe,oe,ge)=>{const we=()=>{if(H.isMounted){let{next:se,bu:pe,u:me,parent:ee,vnode:ce}=H;{const nt=sM(H);if(nt){se&&(se.el=ce.el,A(H,se,ge)),nt.asyncDep.then(()=>{H.isUnmounted||we()});return}}let ke=se,Le;Tf(H,!1),se?(se.el=ce.el,A(H,se,ge)):se=ce,pe&&zE(pe),(Le=se.props&&se.props.onVnodeBeforeUpdate)&&sc(Le,ee,se,ce),Tf(H,!0);const Ge=dT(H),Fr=H.subTree;H.subTree=Ge,g(Fr,Ge,f(Fr.el),K(Fr),H,fe,oe),se.el=Ge.el,ke===null&&UH(H,Ge.el),me&&Wi(me,fe),(Le=se.props&&se.props.onVnodeUpdated)&&Wi(()=>sc(Le,ee,se,ce),fe)}else{let se;const{el:pe,props:me}=Y,{bm:ee,m:ce,parent:ke,root:Le,type:Ge}=H,Fr=Zp(Y);Tf(H,!1),ee&&zE(ee),!Fr&&(se=me&&me.onVnodeBeforeMount)&&sc(se,ke,Y),Tf(H,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Ge);const nt=H.subTree=dT(H);g(null,nt,W,Z,H,fe,oe),Y.el=nt.el}if(ce&&Wi(ce,fe),!Fr&&(se=me&&me.onVnodeMounted)){const nt=Y;Wi(()=>sc(se,ke,nt),fe)}(Y.shapeFlag&256||ke&&Zp(ke.vnode)&&ke.vnode.shapeFlag&256)&&H.a&&Wi(H.a,fe),H.isMounted=!0,Y=W=Z=null}};H.scope.on();const q=H.effect=new dk(we);H.scope.off();const z=H.update=q.run.bind(q),ne=H.job=q.runIfDirty.bind(q);ne.i=H,ne.id=H.uid,q.scheduler=()=>ON(ne),Tf(H,!0),z()},A=(H,Y,W)=>{Y.component=H;const Z=H.vnode.props;H.vnode=Y,H.next=null,bH(H,Y.props,Z,W),vH(H,Y.children,W),Ol(),ZI(H),Dl()},I=(H,Y,W,Z,fe,oe,ge,we,q=!1)=>{const z=H&&H.children,ne=H?H.shapeFlag:0,se=Y.children,{patchFlag:pe,shapeFlag:me}=Y;if(pe>0){if(pe&128){B(z,se,W,Z,fe,oe,ge,we,q);return}else if(pe&256){U(z,se,W,Z,fe,oe,ge,we,q);return}}me&8?(ne&16&&V(z,fe,oe),se!==z&&u(W,se)):ne&16?me&16?B(z,se,W,Z,fe,oe,ge,we,q):V(z,fe,oe,!0):(ne&8&&u(W,""),me&16&&N(se,W,Z,fe,oe,ge,we,q))},U=(H,Y,W,Z,fe,oe,ge,we,q)=>{H=H||Zh,Y=Y||Zh;const z=H.length,ne=Y.length,se=Math.min(z,ne);let pe;for(pe=0;pe<se;pe++){const me=Y[pe]=q?wu(Y[pe]):wc(Y[pe]);g(H[pe],me,W,null,fe,oe,ge,we,q)}z>ne?V(H,fe,oe,!0,!1,se):N(Y,W,Z,fe,oe,ge,we,q,se)},B=(H,Y,W,Z,fe,oe,ge,we,q)=>{let z=0;const ne=Y.length;let se=H.length-1,pe=ne-1;for(;z<=se&&z<=pe;){const me=H[z],ee=Y[z]=q?wu(Y[z]):wc(Y[z]);if(Gf(me,ee))g(me,ee,W,null,fe,oe,ge,we,q);else break;z++}for(;z<=se&&z<=pe;){const me=H[se],ee=Y[pe]=q?wu(Y[pe]):wc(Y[pe]);if(Gf(me,ee))g(me,ee,W,null,fe,oe,ge,we,q);else break;se--,pe--}if(z>se){if(z<=pe){const me=pe+1,ee=me<ne?Y[me].el:Z;for(;z<=pe;)g(null,Y[z]=q?wu(Y[z]):wc(Y[z]),W,ee,fe,oe,ge,we,q),z++}}else if(z>pe)for(;z<=se;)E(H[z],fe,oe,!0),z++;else{const me=z,ee=z,ce=new Map;for(z=ee;z<=pe;z++){const lt=Y[z]=q?wu(Y[z]):wc(Y[z]);lt.key!=null&&ce.set(lt.key,z)}let ke,Le=0;const Ge=pe-ee+1;let Fr=!1,nt=0;const Rt=new Array(Ge);for(z=0;z<Ge;z++)Rt[z]=0;for(z=me;z<=se;z++){const lt=H[z];if(Le>=Ge){E(lt,fe,oe,!0);continue}let pt;if(lt.key!=null)pt=ce.get(lt.key);else for(ke=ee;ke<=pe;ke++)if(Rt[ke-ee]===0&&Gf(lt,Y[ke])){pt=ke;break}pt===void 0?E(lt,fe,oe,!0):(Rt[pt-ee]=z+1,pt>=nt?nt=pt:Fr=!0,g(lt,Y[pt],W,null,fe,oe,ge,we,q),Le++)}const Xo=Fr?NH(Rt):Zh;for(ke=Xo.length-1,z=Ge-1;z>=0;z--){const lt=ee+z,pt=Y[lt],ic=Y[lt+1],Zt=lt+1<ne?ic.el||ic.placeholder:Z;Rt[z]===0?g(null,pt,W,Zt,fe,oe,ge,we,q):Fr&&(ke<0||z!==Xo[ke]?R(pt,W,Zt,2):ke--)}}},R=(H,Y,W,Z,fe=null)=>{const{el:oe,type:ge,transition:we,children:q,shapeFlag:z}=H;if(z&6){R(H.component.subTree,Y,W,Z);return}if(z&128){H.suspense.move(Y,W,Z);return}if(z&64){ge.move(H,Y,W,ie);return}if(ge===vs){n(oe,Y,W);for(let se=0;se<q.length;se++)R(q[se],Y,W,Z);n(H.anchor,Y,W);return}if(ge===ZE){S(H,Y,W);return}if(Z!==2&&z&1&&we)if(Z===0)we.beforeEnter(oe),n(oe,Y,W),Wi(()=>we.enter(oe),fe);else{const{leave:se,delayLeave:pe,afterLeave:me}=we,ee=()=>{H.ctx.isUnmounted?i(oe):n(oe,Y,W)},ce=()=>{oe._isLeaving&&oe[yl](!0),se(oe,()=>{ee(),me&&me()})};pe?pe(oe,ee,ce):ce()}else n(oe,Y,W)},E=(H,Y,W,Z=!1,fe=!1)=>{const{type:oe,props:ge,ref:we,children:q,dynamicChildren:z,shapeFlag:ne,patchFlag:se,dirs:pe,cacheIndex:me}=H;if(se===-2&&(fe=!1),we!=null&&(Ol(),Qp(we,null,W,H,!0),Dl()),me!=null&&(Y.renderCache[me]=void 0),ne&256){Y.ctx.deactivate(H);return}const ee=ne&1&&pe,ce=!Zp(H);let ke;if(ce&&(ke=ge&&ge.onVnodeBeforeUnmount)&&sc(ke,Y,H),ne&6)T(H.component,W,Z);else{if(ne&128){H.suspense.unmount(W,Z);return}ee&&If(H,null,Y,"beforeUnmount"),ne&64?H.type.remove(H,Y,W,ie,Z):z&&!z.hasOnce&&(oe!==vs||se>0&&se&64)?V(z,Y,W,!1,!0):(oe===vs&&se&384||!fe&&ne&16)&&V(q,Y,W),Z&&L(H)}(ce&&(ke=ge&&ge.onVnodeUnmounted)||ee)&&Wi(()=>{ke&&sc(ke,Y,H),ee&&If(H,null,Y,"unmounted")},W)},L=H=>{const{type:Y,el:W,anchor:Z,transition:fe}=H;if(Y===vs){G(W,Z);return}if(Y===ZE){D(H);return}const oe=()=>{i(W),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(H.shapeFlag&1&&fe&&!fe.persisted){const{leave:ge,delayLeave:we}=fe,q=()=>ge(W,oe);we?we(H.el,oe,q):q()}else oe()},G=(H,Y)=>{let W;for(;H!==Y;)W=d(H),i(H),H=W;i(Y)},T=(H,Y,W)=>{const{bum:Z,scope:fe,job:oe,subTree:ge,um:we,m:q,a:z}=H;fT(q),fT(z),Z&&zE(Z),fe.stop(),oe&&(oe.flags|=8,E(ge,H,Y,W)),we&&Wi(we,Y),Wi(()=>{H.isUnmounted=!0},Y)},V=(H,Y,W,Z=!1,fe=!1,oe=0)=>{for(let ge=oe;ge<H.length;ge++)E(H[ge],Y,W,Z,fe)},K=H=>{if(H.shapeFlag&6)return K(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const Y=d(H.anchor||H.el),W=Y&&Y[Mk];return W?d(W):Y};let X=!1;const Q=(H,Y,W)=>{H==null?Y._vnode&&E(Y._vnode,null,null,!0):g(Y._vnode||null,H,Y,null,null,null,W),Y._vnode=H,X||(X=!0,ZI(),Pk(),X=!1)},ie={p:g,um:E,m:R,r:L,mt:p,mc:N,pc:I,pbc:M,n:K,o:t};return{render:Q,hydrate:void 0,createApp:gH(Q)}}function QE({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Tf({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $N(t,e,r=!1){const n=t.children,i=e.children;if(Qe(n)&&Qe(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=wu(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&$N(o,a)),a.type===iy&&a.patchFlag!==-1&&(a.el=o.el),a.type===zs&&!a.el&&(a.el=o.el)}}function NH(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function sM(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:sM(e)}function fT(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const SH=Symbol.for("v-scx"),IH=()=>Js(SH);function Bn(t,e,r){return oM(t,e,r)}function oM(t,e,r=cr){const{immediate:n,deep:i,flush:s,once:o}=r,a=Yn({},r),c=e&&n||!e&&s!=="post";let l;if($g){if(s==="sync"){const h=IH();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Rc,h.resume=Rc,h.pause=Rc,h}}const u=Ti;a.call=(h,m,g)=>Za(h,u,m,g);let f=!1;s==="post"?a.scheduler=h=>{Wi(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():ON(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Hj(t,e,a);return $g&&(l?l.push(d):c&&d()),d}function TH(t,e,r){const n=this.proxy,i=Qr(t)?t.includes(".")?aM(n,t):()=>n[t]:t.bind(n,n);let s;tt(e)?s=e:(s=e.handler,r=e);const o=sy(this),a=oM(i,s.bind(n),r);return o(),a}function aM(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const RH=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Oo(e)}Modifiers`]||t[`${Ld(e)}Modifiers`];function PH(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||cr;let i=r;const s=e.startsWith("update:"),o=s&&RH(n,e.slice(7));o&&(o.trim&&(i=r.map(u=>Qr(u)?u.trim():u)),o.number&&(i=r.map(oj)));let a,c=n[a=qE(e)]||n[a=qE(Oo(e))];!c&&s&&(c=n[a=qE(Ld(e))]),c&&Za(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Za(l,t,6,i)}}const OH=new WeakMap;function cM(t,e,r=!1){const n=r?OH:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!tt(t)){const c=l=>{const u=cM(l,e,!0);u&&(a=!0,Yn(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(pr(t)&&n.set(t,null),null):(Qe(s)?s.forEach(c=>o[c]=null):Yn(o,s),pr(t)&&n.set(t,o),o)}function A1(t,e){return!t||!p1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Vt(t,e[0].toLowerCase()+e.slice(1))||Vt(t,Ld(e))||Vt(t,e))}function dT(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:g}=t,b=V_(t);let w,x;try{if(r.shapeFlag&4){const D=i||n,O=D;w=wc(l.call(O,D,u,f,h,d,m)),x=a}else{const D=e;w=wc(D.length>1?D(f,{attrs:a,slots:o,emit:c}):D(f,null)),x=e.props?a:DH(a)}}catch(D){rg.length=0,w1(D,t,1),w=je(zs)}let S=w;if(x&&g!==!1){const D=Object.keys(x),{shapeFlag:O}=S;D.length&&O&7&&(s&&D.some(yN)&&(x=kH(x,s)),S=Wu(S,x,!1,!0))}return r.dirs&&(S=Wu(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Mg(S,r.transition),w=S,V_(b),w}const DH=t=>{let e;for(const r in t)(r==="class"||r==="style"||p1(r))&&((e||(e={}))[r]=t[r]);return e},kH=(t,e)=>{const r={};for(const n in t)(!yN(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function MH(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?hT(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!A1(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?hT(n,o,l):!0:!!o;return!1}function hT(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!A1(r,s))return!0}return!1}function UH({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const lM=t=>t.__isSuspense;function $H(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):zj(t)}const vs=Symbol.for("v-fgt"),iy=Symbol.for("v-txt"),zs=Symbol.for("v-cmt"),ZE=Symbol.for("v-stc"),rg=[];let Ks=null;function fd(t=!1){rg.push(Ks=t?null:[])}function LH(){rg.pop(),Ks=rg[rg.length-1]||null}let Ug=1;function X_(t,e=!1){Ug+=t,t<0&&Ks&&e&&(Ks.hasOnce=!0)}function uM(t){return t.dynamicChildren=Ug>0?Ks||Zh:null,LH(),Ug>0&&Ks&&Ks.push(t),t}function ev(t,e,r,n,i,s){return uM(Zr(t,e,r,n,i,s,!0))}function Ub(t,e,r,n,i){return uM(je(t,e,r,n,i,!0))}function Q_(t){return t?t.__v_isVNode===!0:!1}function Gf(t,e){return t.type===e.type&&t.key===e.key}const fM=({key:t})=>t??null,$b=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Qr(t)||Gr(t)||tt(t)?{i:Gs,r:t,k:e,f:!!r}:t:null);function Zr(t,e=null,r=null,n=0,i=null,s=t===vs?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&fM(e),ref:e&&$b(e),scopeId:Dk,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gs};return a?(LN(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Qr(r)?8:16),Ug>0&&!o&&Ks&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ks.push(c),c}const je=FH;function FH(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===sH)&&(t=zs),Q_(t)){const a=Wu(t,e,!0);return r&&LN(a,r),Ug>0&&!s&&Ks&&(a.shapeFlag&6?Ks[Ks.indexOf(t)]=a:Ks.push(a)),a.patchFlag=-2,a}if(JH(t)&&(t=t.__vccOpts),e){e=BH(e);let{class:a,style:c}=e;a&&!Qr(a)&&(e.class=EN(a)),pr(c)&&(TN(c)&&!Qe(c)&&(c=Yn({},c)),e.style=wN(c))}const o=Qr(t)?1:lM(t)?128:Uk(t)?64:pr(t)?4:tt(t)?2:0;return Zr(t,e,r,n,i,o,s,!0)}function BH(t){return t?TN(t)||Zk(t)?Yn({},t):t:null}function Wu(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,l=e?Ed(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&fM(l),ref:e&&e.ref?r&&s?Qe(s)?s.concat($b(e)):[s,$b(e)]:$b(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==vs?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wu(t.ssContent),ssFallback:t.ssFallback&&Wu(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&Mg(u,c.clone(u)),u}function r0(t=" ",e=0){return je(iy,null,t,e)}function wc(t){return t==null||typeof t=="boolean"?je(zs):Qe(t)?je(vs,null,t.slice()):Q_(t)?wu(t):je(iy,null,String(t))}function wu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wu(t)}function LN(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Qe(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),LN(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!Zk(e)?e._ctx=Gs:i===3&&Gs&&(Gs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Gs},r=32):(e=String(e),n&64?(r=16,e=[r0(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ed(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=EN([e.class,n.class]));else if(i==="style")e.style=wN([e.style,n.style]);else if(p1(i)){const s=e[i],o=n[i];o&&s!==o&&!(Qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function sc(t,e,r,n=null){Za(t,e,7,[r,n])}const jH=Yk();let HH=0;function WH(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||jH,s={uid:HH++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tM(n,i),emitsOptions:cM(n,i),emit:null,emitted:null,propsDefaults:cr,inheritAttrs:n.inheritAttrs,ctx:cr,data:cr,props:cr,attrs:cr,slots:cr,refs:cr,setupState:cr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=PH.bind(null,s),t.ce&&t.ce(s),s}let Ti=null;const Do=()=>Ti||Gs;let Z_,t2;{const t=b1(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Z_=e("__VUE_INSTANCE_SETTERS__",r=>Ti=r),t2=e("__VUE_SSR_SETTERS__",r=>$g=r)}const sy=t=>{const e=Ti;return Z_(t),t.scope.on(),()=>{t.scope.off(),Z_(e)}},pT=()=>{Ti&&Ti.scope.off(),Z_(null)};function dM(t){return t.vnode.shapeFlag&4}let $g=!1;function qH(t,e=!1,r=!1){e&&t2(e);const{props:n,children:i}=t.vnode,s=dM(t);yH(t,n,s,e),EH(t,i,r||e);const o=s?zH(t,e):void 0;return e&&t2(!1),o}function zH(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,cH);const{setup:n}=r;if(n){Ol();const i=t.setupContext=n.length>1?KH(t):null,s=sy(t),o=ny(n,t,0,[t.props,i]),a=nk(o);if(Dl(),s(),(a||t.sp)&&!Zp(t)&&zk(t),a){if(o.then(pT,pT),e)return o.then(c=>{gT(t,c)}).catch(c=>{w1(c,t,0)});t.asyncDep=o}else gT(t,o)}else hM(t)}function gT(t,e,r){tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pr(e)&&(t.setupState=Ik(e)),hM(t)}function hM(t,e,r){const n=t.type;t.render||(t.render=n.render||Rc);{const i=sy(t);Ol();try{lH(t)}finally{Dl(),i()}}}const GH={get(t,e){return Ni(t,"get",""),t[e]}};function KH(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,GH),slots:t.slots,emit:t.emit,expose:e}}function C1(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ik(RN(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in eg)return eg[r](t)},has(e,r){return r in e||r in eg}})):t.proxy}function VH(t,e=!0){return tt(t)?t.displayName||t.name:t.name||e&&t.__name}function JH(t){return tt(t)&&"__vccOpts"in t}const hr=(t,e)=>Bj(t,e,$g);function oy(t,e,r){try{X_(-1);const n=arguments.length;return n===2?pr(e)&&!Qe(e)?Q_(e)?je(t,null,[e]):je(t,e):je(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Q_(r)&&(r=[r]),je(t,e,r))}finally{X_(1)}}const YH="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let r2;const mT=typeof window<"u"&&window.trustedTypes;if(mT)try{r2=mT.createPolicy("vue",{createHTML:t=>t})}catch{}const pM=r2?t=>r2.createHTML(t):t=>t,XH="http://www.w3.org/2000/svg",QH="http://www.w3.org/1998/Math/MathML",cl=typeof document<"u"?document:null,yT=cl&&cl.createElement("template"),ZH={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?cl.createElementNS(XH,t):e==="mathml"?cl.createElementNS(QH,t):r?cl.createElement(t,{is:r}):cl.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>cl.createTextNode(t),createComment:t=>cl.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cl.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{yT.innerHTML=pM(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=yT.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Ql="transition",ip="animation",Lg=Symbol("_vtc"),gM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},eW=Yn({},Bk,gM),tW=t=>(t.displayName="Transition",t.props=eW,t),mM=tW((t,{slots:e})=>oy(Jj,rW(t),e)),Rf=(t,e=[])=>{Qe(t)?t.forEach(r=>r(...e)):t&&t(...e)},bT=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function rW(t){const e={};for(const P in t)P in gM||(e[P]=t[P]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,m=nW(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:w,onEnter:x,onEnterCancelled:S,onLeave:D,onLeaveCancelled:O,onBeforeAppear:k=w,onAppear:F=x,onAppearCancelled:N=S}=e,v=(P,C,p,y)=>{P._enterCancelled=y,Pf(P,C?u:a),Pf(P,C?l:o),p&&p()},M=(P,C)=>{P._isLeaving=!1,Pf(P,f),Pf(P,h),Pf(P,d),C&&C()},$=P=>(C,p)=>{const y=P?F:x,_=()=>v(C,P,p);Rf(y,[C,_]),_T(()=>{Pf(C,P?c:s),qc(C,P?u:a),bT(y)||wT(C,n,g,_)})};return Yn(e,{onBeforeEnter(P){Rf(w,[P]),qc(P,s),qc(P,o)},onBeforeAppear(P){Rf(k,[P]),qc(P,c),qc(P,l)},onEnter:$(!1),onAppear:$(!0),onLeave(P,C){P._isLeaving=!0;const p=()=>M(P,C);qc(P,f),P._enterCancelled?(qc(P,d),xT(P)):(xT(P),qc(P,d)),_T(()=>{P._isLeaving&&(Pf(P,f),qc(P,h),bT(D)||wT(P,n,b,p))}),Rf(D,[P,p])},onEnterCancelled(P){v(P,!1,void 0,!0),Rf(S,[P])},onAppearCancelled(P){v(P,!0,void 0,!0),Rf(N,[P])},onLeaveCancelled(P){M(P),Rf(O,[P])}})}function nW(t){if(t==null)return null;if(pr(t))return[tv(t.enter),tv(t.leave)];{const e=tv(t);return[e,e]}}function tv(t){return aj(t)}function qc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Lg]||(t[Lg]=new Set)).add(e)}function Pf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Lg];r&&(r.delete(e),r.size||(t[Lg]=void 0))}function _T(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let iW=0;function wT(t,e,r,n){const i=t._endId=++iW,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=sW(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,d),s()},d=h=>{h.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,d)}function sW(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(`${Ql}Delay`),s=n(`${Ql}Duration`),o=ET(i,s),a=n(`${ip}Delay`),c=n(`${ip}Duration`),l=ET(a,c);let u=null,f=0,d=0;e===Ql?o>0&&(u=Ql,f=o,d=s.length):e===ip?l>0&&(u=ip,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?Ql:ip:null,d=u?u===Ql?s.length:c.length:0);const h=u===Ql&&/\b(?:transform|all)(?:,|$)/.test(n(`${Ql}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function ET(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>vT(r)+vT(t[n])))}function vT(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function xT(t){return(t?t.ownerDocument:document).body.offsetHeight}function oW(t,e,r){const n=t[Lg];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const ew=Symbol("_vod"),yM=Symbol("_vsh"),bM={name:"show",beforeMount(t,{value:e},{transition:r}){t[ew]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):sp(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),sp(t,!0),n.enter(t)):n.leave(t,()=>{sp(t,!1)}):sp(t,e))},beforeUnmount(t,{value:e}){sp(t,e)}};function sp(t,e){t.style.display=e?t[ew]:"none",t[yM]=!e}const aW=Symbol(""),cW=/(?:^|;)\s*display\s*:/;function lW(t,e,r){const n=t.style,i=Qr(r);let s=!1;if(r&&!i){if(e)if(Qr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Lb(n,a,"")}else for(const o in e)r[o]==null&&Lb(n,o,"");for(const o in r)o==="display"&&(s=!0),Lb(n,o,r[o])}else if(i){if(e!==r){const o=n[aW];o&&(r+=";"+o),n.cssText=r,s=cW.test(r)}}else e&&t.removeAttribute("style");ew in t&&(t[ew]=s?n.display:"",t[yM]&&(n.display="none"))}const AT=/\s*!important$/;function Lb(t,e,r){if(Qe(r))r.forEach(n=>Lb(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=uW(t,e);AT.test(r)?t.setProperty(Ld(n),r.replace(AT,""),"important"):t[n]=r}}const CT=["Webkit","Moz","ms"],rv={};function uW(t,e){const r=rv[e];if(r)return r;let n=Oo(e);if(n!=="filter"&&n in t)return rv[e]=n;n=y1(n);for(let i=0;i<CT.length;i++){const s=CT[i]+n;if(s in t)return rv[e]=s}return e}const NT="http://www.w3.org/1999/xlink";function ST(t,e,r,n,i,s=hj(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(NT,e.slice(6,e.length)):t.setAttributeNS(NT,e,r):r==null||s&&!ak(r)?t.removeAttribute(e):t.setAttribute(e,s?"":cf(r)?String(r):r)}function IT(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?pM(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ak(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function fW(t,e,r,n){t.addEventListener(e,r,n)}function dW(t,e,r,n){t.removeEventListener(e,r,n)}const TT=Symbol("_vei");function hW(t,e,r,n,i=null){const s=t[TT]||(t[TT]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=pW(e);if(n){const l=s[e]=yW(n,i);fW(t,a,l,c)}else o&&(dW(t,a,o,c),s[e]=void 0)}}const RT=/(?:Once|Passive|Capture)$/;function pW(t){let e;if(RT.test(t)){e={};let n;for(;n=t.match(RT);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ld(t.slice(2)),e]}let nv=0;const gW=Promise.resolve(),mW=()=>nv||(gW.then(()=>nv=0),nv=Date.now());function yW(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Za(bW(n,r.value),e,5,[n])};return r.value=t,r.attached=mW(),r}function bW(t,e){if(Qe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const PT=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_W=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?oW(t,n,o):e==="style"?lW(t,r,n):p1(e)?yN(e)||hW(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wW(t,e,n,o))?(IT(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ST(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qr(n))?IT(t,Oo(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ST(t,e,n,o))};function wW(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&PT(e)&&tt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return PT(e)&&Qr(r)?!1:e in t}const EW=Yn({patchProp:_W},ZH);let OT;function vW(){return OT||(OT=xH(EW))}const _M=((...t)=>{const e=vW().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=AW(n);if(!i)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,xW(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function xW(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function AW(t){return Qr(t)?document.querySelector(t):t}const CW=Symbol(),DT=Object.getPrototypeOf,n2=new WeakMap,NW=t=>t&&(n2.has(t)?n2.get(t):DT(t)===Object.prototype||DT(t)===Array.prototype),SW=t=>NW(t)&&t[CW]||null,kT=(t,e=!0)=>{n2.set(t,e)},tw={},FN=t=>typeof t=="object"&&t!==null,IW=t=>FN(t)&&!ay.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),wM=(t,e)=>{const r=i2.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return kT(n,!0),i2.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(ay.has(s))kT(s,!1);else if(qu.has(s)){const[c,l]=qu.get(s);a.value=wM(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},TW=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(MT(l,o)||Fg.has(o)&&MT(l,Fg.get(o))))return!0;r(s),FN(o)&&(o=SW(o)||o);const u=!qu.has(o)&&PW(o)?gr(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),qu=new WeakMap,ay=new WeakSet,i2=new WeakMap,$p=[1,1],Fg=new WeakMap;let MT=Object.is,RW=(t,e)=>new Proxy(t,e),PW=IW,OW=wM,DW=TW;function gr(t={}){if(!FN(t))throw new Error("object required");const e=Fg.get(t);if(e)return e;let r=$p[0];const n=new Set,i=(b,w=++$p[0])=>{r!==w&&(r=w,n.forEach(x=>x(b,w)))};let s=$p[1];const o=(b=++$p[1])=>(s!==b&&!n.size&&(s=b,c.forEach(([w])=>{const x=w[1](b);x>r&&(r=x)})),r),a=b=>(w,x)=>{const S=[...w];S[1]=[b,...S[1]],i(S,x)},c=new Map,l=(b,w)=>{const x=!ay.has(w)&&qu.get(w);if(x){if((tw?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(n.size){const S=x[2](a(b));c.set(b,[x,S])}else c.set(b,[x])}},u=b=>{var w;const x=c.get(b);x&&(c.delete(b),(w=x[1])==null||w.call(x))},f=b=>(n.add(b),n.size===1&&c.forEach(([x,S],D)=>{if((tw?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const O=x[2](a(D));c.set(D,[x,O])}),()=>{n.delete(b),n.size===0&&c.forEach(([x,S],D)=>{S&&(S(),c.set(D,[x]))})});let d=!0;const h=DW(()=>d,l,u,i),m=RW(t,h);Fg.set(t,m);const g=[t,o,f];return qu.set(m,g),Reflect.ownKeys(t).forEach(b=>{const w=Object.getOwnPropertyDescriptor(t,b);"value"in w&&w.writable&&(m[b]=t[b])}),d=!1,m}function fi(t,e,r){const n=qu.get(t);(tw?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Bg(t){const e=qu.get(t);(tw?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return OW(r,n())}function vd(t){return ay.add(t),t}function kW(){return{proxyStateMap:qu,refSet:ay,snapCache:i2,versionHolder:$p,proxyCache:Fg}}function Fi(t,e,r,n){let i=t[e];return fi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}const{proxyStateMap:MW,snapCache:UW}=kW(),Hy=t=>MW.has(t);function $W(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=UW.get(a),u=l?.[1];if(u&&!i.has(u)){const f=new Map(n);i.set(u,f)}},o=l=>i.get(l)||n,a={data:e,index:r,epoch:0,get size(){return Hy(this)||s(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Hy(this))throw new Error("Cannot perform mutations on a snapshot");const f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!Hy(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!Hy(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=gr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Kr(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var UT={};const ae={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof UT<"u"?UT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},EM={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return ae.CHAIN_NAME_MAP?.[n]||void 0}},vM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var LW=20,FW=1,xd=1e6,$T=1e6,BW=-7,jW=21,HW=!1,cy="[big.js] ",Bd=cy+"Invalid ",N1=Bd+"decimal places",WW=Bd+"rounding mode",xM=cy+"Division by zero",Qt={},Pc=void 0,qW=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function AM(){function t(e){var r=this;if(!(r instanceof t))return e===Pc?AM():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Bd+"value");e=e===0&&1/e<0?"-0":String(e)}zW(r,e)}r.constructor=t}return t.prototype=Qt,t.DP=LW,t.RM=FW,t.NE=BW,t.PE=jW,t.strict=HW,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function zW(t,e){var r,n,i;if(!qW.test(e))throw Error(Bd+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function jd(t,e,r,n){var i=t.c;if(r===Pc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(WW);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Pc))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Pc||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Hd(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Qt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Qt.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Qt.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>xd)throw Error(N1);if(!i[0])throw Error(xM);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,f,d=i.slice(),h=a=i.length,m=n.length,g=n.slice(0,a),b=g.length,w=t,x=w.c=[],S=0,D=o+(w.e=e.e-t.e)+1;for(w.s=s,s=D<0?0:D,d.unshift(0);b++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(b=g.length))u=a>b?1:-1;else for(f=-1,u=0;++f<a;)if(i[f]!=g[f]){u=i[f]>g[f]?1:-1;break}if(u<0){for(c=b==a?i:d;b;){if(g[--b]<c[b]){for(f=b;f&&!g[--f];)g[f]=9;--g[f],g[b]+=10}g[b]-=c[b]}for(;!g[0];)g.shift()}else break}x[S++]=u?l:++l,g[0]&&u?g[b]=n[h]||0:g=[n[h]]}while((h++<m||g[0]!==Pc)&&s--);return!x[0]&&S!=1&&(x.shift(),w.e--,D--),S>D&&jd(w,D,r.RM,g[0]!==Pc),w};Qt.eq=function(t){return this.cmp(t)===0};Qt.gt=function(t){return this.cmp(t)>0};Qt.gte=function(t){return this.cmp(t)>-1};Qt.lt=function(t){return this.cmp(t)<0};Qt.lte=function(t){return this.cmp(t)<1};Qt.minus=Qt.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};Qt.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(xM);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Qt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Qt.plus=Qt.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Qt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-$T||t>$T)throw Error(Bd+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Qt.prec=function(t,e){if(t!==~~t||t<1||t>xd)throw Error(Bd+"precision");return jd(new this.constructor(this),t,e)};Qt.round=function(t,e){if(t===Pc)t=0;else if(t!==~~t||t<-xd||t>xd)throw Error(N1);return jd(new this.constructor(this),t+this.e+1,e)};Qt.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(cy+"No square root");s=Math.sqrt(+Hd(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return jd(t,(i.DP-=4)+t.e+1,i.RM)};Qt.times=Qt.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Qt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Pc){if(t!==~~t||t<0||t>xd)throw Error(N1);for(r=jd(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return Hd(r,!0,!!n)};Qt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Pc){if(t!==~~t||t<0||t>xd)throw Error(N1);for(r=jd(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return Hd(r,!1,!!n)};Qt[Symbol.for("nodejs.util.inspect.custom")]=Qt.toJSON=Qt.toString=function(){var t=this,e=t.constructor;return Hd(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Qt.toNumber=function(){var t=+Hd(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(cy+"Imprecise conversion");return t};Qt.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Pc){if(t!==~~t||t<1||t>xd)throw Error(Bd+"precision");for(r=jd(new n(r),t,e);r.c.length<t;)r.c.push(0)}return Hd(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Qt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(cy+"valueOf disallowed");return Hd(t,t.e<=e.NE||t.e>=e.PE,!0)};var Zl=AM();const GW={bigNumber(t){return t?new Zl(t):new Zl(0)},multiply(t,e){if(t===void 0||e===void 0)return new Zl(0);const r=new Zl(t),n=new Zl(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new Zl(0).toFixed(e):new Zl(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new Zl(e).toNumber()}},KW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],VW=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],JW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],YW={getERC20Abi:t=>ae.USDT_CONTRACT_ADDRESSES.includes(t)?JW:KW,getSwapAbi:()=>VW},Ki={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function iv(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const He={setItem(t,e){zh()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(zh())return localStorage.getItem(t)||void 0},removeItem(t){zh()&&localStorage.removeItem(t)},clear(){zh()&&localStorage.clear()}};function zh(){return typeof window<"u"&&typeof localStorage<"u"}function jg(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var LT={};const sv=(typeof process<"u"&&typeof LT<"u"?LT.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",CM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],XW="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",It={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:sv,SECURE_SITE_DASHBOARD:`${sv}/dashboard`,SECURE_SITE_FAVICON:`${sv}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{He.setItem(qe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=He.getItem(qe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{He.removeItem(qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{He.setItem(qe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{He.setItem(qe.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{He.removeItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=iv(t);He.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),He.setItem(qe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=He.getItem(qe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=iv(t);He.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return He.getItem(qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=iv(t);return He.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{He.setItem(qe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return He.getItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{He.removeItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return He.getItem(qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{He.setItem(qe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return He.getItem(qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=He.getItem(qe.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));He.setItem(qe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return He.getItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{He.setItem(qe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{He.removeItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=He.getItem(qe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=be.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=He.getItem(qe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=be.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=He.getItem(qe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=be.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,He.setItem(qe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();He.setItem(qe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=He.getItem(qe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=be.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},He.setItem(qe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();He.setItem(qe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{He.removeItem(qe.PORTFOLIO_CACHE),He.removeItem(qe.NATIVE_BALANCE_CACHE),He.removeItem(qe.ENS_CACHE),He.removeItem(qe.IDENTITY_CACHE),He.removeItem(qe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{He.setItem(qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=He.getItem(qe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=be.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===ae.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};He.setItem(qe.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=He.getItem(qe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=be.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),He.setItem(qe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=He.getItem(qe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(be.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=He.getItem(qe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=be.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;be.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=be.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=be.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=He.getItem(qe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=be.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;be.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=be.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=be.getTokenPriceCache();He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Pe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Pe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=It.TEN_SEC_MS:!0},isAllowedRetry(t,e=It.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Pe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+It.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Pe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Pe.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Pe.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return ae.W3M_API_URL},getBlockchainApiUrl(){return ae.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ae.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?It.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ae.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function op(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class ly{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await op(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await op(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await op(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await op(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await op(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const QW={getFeatureValue(t,e){const r=e?.[t];return r===void 0?It.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Pe.isTelegram()){if(Pe.isIos())return t.filter(e=>e!=="google");if(Pe.isMac())return t.filter(e=>e!=="x");if(Pe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Be=gr({features:It.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:It.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),he={state:Be,subscribeKey(t,e){return Fi(Be,t,e)},setOptions(t){Object.assign(Be,t)},setRemoteFeatures(t){if(!t)return;const e={...Be.remoteFeatures,...t};Be.remoteFeatures=e,Be.remoteFeatures?.socials&&(Be.remoteFeatures.socials=QW.filterSocialsByPlatform(Be.remoteFeatures.socials)),Be.features?.pay&&(Be.remoteFeatures.email=!1,Be.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;Be.features||(Be.features=It.DEFAULT_FEATURES);const e={...Be.features,...t};Be.features=e,Be.features?.pay&&Be.remoteFeatures&&(Be.remoteFeatures.email=!1,Be.remoteFeatures.socials=!1)},setProjectId(t){Be.projectId=t},setCustomRpcUrls(t){Be.customRpcUrls=t},setAllWallets(t){Be.allWallets=t},setIncludeWalletIds(t){Be.includeWalletIds=t},setExcludeWalletIds(t){Be.excludeWalletIds=t},setFeaturedWalletIds(t){Be.featuredWalletIds=t},setTokens(t){Be.tokens=t},setTermsConditionsUrl(t){Be.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Be.privacyPolicyUrl=t},setCustomWallets(t){Be.customWallets=t},setIsSiweEnabled(t){Be.isSiweEnabled=t},setIsUniversalProvider(t){Be.isUniversalProvider=t},setSdkVersion(t){Be.sdkVersion=t},setMetadata(t){Be.metadata=t},setDisableAppend(t){Be.disableAppend=t},setEIP6963Enabled(t){Be.enableEIP6963=t},setDebug(t){Be.debug=t},setEnableWalletConnect(t){Be.enableWalletConnect=t},setEnableWalletGuide(t){Be.enableWalletGuide=t},setEnableAuthLogger(t){Be.enableAuthLogger=t},setEnableWallets(t){Be.enableWallets=t},setPreferUniversalLinks(t){Be.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(It.SIWX_DEFAULTS))t[e]??=r;Be.siwx=t},setConnectMethodsOrder(t){Be.features={...Be.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Be.features={...Be.features,walletFeaturesOrder:t}},setSocialsOrder(t){Be.remoteFeatures={...Be.remoteFeatures,socials:t}},setCollapseWallets(t){Be.features={...Be.features,collapseWallets:t}},setEnableEmbedded(t){Be.enableEmbedded=t},setAllowUnsupportedChain(t){Be.allowUnsupportedChain=t},setManualWCControl(t){Be.manualWCControl=t},setEnableNetworkSwitch(t){Be.enableNetworkSwitch=t},setEnableReconnect(t){Be.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(Be.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){Be.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Be.universalProviderConfigOverride},getSnapshot(){return Bg(Be)}},ZW=Object.freeze({enabled:!0,events:[]}),eq=new ly({baseUrl:Pe.getAnalyticsUrl(),clientId:null}),tq=5,rq=60*1e3,eu=gr({...ZW}),nq={state:eu,subscribeKey(t,e){return Fi(eu,t,e)},async sendError(t,e){if(!eu.enabled)return;const r=Date.now();if(eu.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<rq}).length>=tq)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};eu.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=he.state;await eq.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){eu.enabled=!0},disable(){eu.enabled=!1},clearEvents(){eu.events=[]}};class m0 extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,m0.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,m0):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function FT(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof m0?t:new m0(r,e,t);throw nq.sendError(n,n.category),n}function Xs(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return FT(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return FT(a,e)}},r[n]=s}else r[n]=i}),r}var y0={};const iq="https://secure.walletconnect.org/sdk",sq=(typeof process<"u"&&typeof y0<"u"?y0.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||iq,oq=(typeof process<"u"&&typeof y0<"u"?y0.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",aq=(typeof process<"u"&&typeof y0<"u"?y0.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",$e={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},jn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},qi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},cq={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===qi.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${qi.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===qi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${qi.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===ae.CHAIN.SOLANA&&t===qi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${qi.COINBASE.url}/dapp?cb_url=${n}`),e===ae.CHAIN.BITCOIN&&t===qi.BINANCE.id&&!("binancew3w"in window)){const i=J.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(qi.BINANCE.deeplink);a.searchParams.set("appId",qi.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(qi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},Os=gr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),lq={state:Os,subscribeNetworkImages(t){return fi(Os.networkImages,()=>t(Os.networkImages))},subscribeKey(t,e){return Fi(Os,t,e)},subscribe(t){return fi(Os,()=>t(Os))},setWalletImage(t,e){Os.walletImages[t]=e},setNetworkImage(t,e){Os.networkImages[t]=e},setChainImage(t,e){Os.chainImages[t]=e},setConnectorImage(t,e){Os.connectorImages={...Os.connectorImages,[t]:e}},setTokenImage(t,e){Os.tokenImages[t]=e},setCurrencyImage(t,e){Os.currencyImages[t]=e}},Da=Xs(lq),uq={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},ov=gr({networkImagePromises:{}}),NM={async fetchWalletImage(t){if(t)return await We._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(ov.networkImagePromises[t]||(ov.networkImagePromises[t]=We._fetchNetworkImage(t)),await ov.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Da.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Da.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Da.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Da.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Da.state.connectorImages[t.imageId]},getChainImage(t){return Da.state.networkImages[uq[t]]}},Qo=gr({message:"",variant:"info",open:!1}),fq={state:Qo,subscribeKey(t,e){return Fi(Qo,t,e)},open(t,e){const{debug:r}=he.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(Qo.message=i,Qo.variant=e,Qo.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){Qo.open=!0,Qo.message=t,Qo.variant="warning",e&&console.warn(e,r)},close(){Qo.open=!1,Qo.message="",Qo.variant="info"}},ai=Xs(fq),dq=Pe.getAnalyticsUrl(),hq=new ly({baseUrl:dq,clientId:null}),pq=["MODAL_CREATED"],zc=gr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Dt={state:zc,subscribe(t){return fi(zc,()=>t(zc))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=Me.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),pq.includes(t.data.event)||typeof window>"u")return;const r=J.getActiveCaipNetwork()?.caipNetworkId;await hq.post({path:"/e",params:Dt.getSdkProperties(),body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),zc.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ae.HTTP_STATUS_CODES.FORBIDDEN&&!zc.reportedErrors.FORBIDDEN&&(ai.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${zh()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),zc.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){zc.timestamp=Date.now(),zc.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(he.state.features?.analytics||e.includes(t.event))&&Dt._sendAnalyticsEvent(zc)}},gq=Pe.getApiUrl(),ts=new ly({baseUrl:gq,clientId:null}),mq=40,BT=4,yq=20,st=gr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),We={state:st,subscribeKey(t,e){return Fi(st,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return he.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ts.baseUrl}/getWalletImage/${t}`,r=await ts.getBlob({path:e,params:We._getSdkProperties()});Da.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ts.baseUrl}/public/getAssetImage/${t}`,r=await ts.getBlob({path:e,params:We._getSdkProperties()});Da.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ts.baseUrl}/public/getAssetImage/${t}`,r=await ts.getBlob({path:e,params:We._getSdkProperties()});Da.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ts.baseUrl}/public/getCurrencyImage/${t}`,r=await ts.getBlob({path:e,params:We._getSdkProperties()});Da.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ts.baseUrl}/public/getTokenImage/${t}`,r=await ts.getBlob({path:e,params:We._getSdkProperties()});Da.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return Pe.isMobile()?t?.filter(r=>r.mobile_link||r.id===qi.COINBASE.id||r.id===qi.BINANCE.id?!0:J.state.activeChain==="solana"&&(r.id===qi.SOLFLARE.id||r.id===qi.PHANTOM.id)):t},async fetchProjectConfig(){return(await ts.get({path:"/appkit/v1/config",params:We._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await ts.get({path:"/projects/v1/origins",params:We._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ae.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ae.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=J.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!NM.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>We._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=xe.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>We._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];We._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(qi).map(s=>s.id));const n=await ts.get({path:"/getWallets",params:{...We._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:We._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=he.state;if(t?.length){const e={...We._getSdkProperties(),page:1,entries:t?.length??BT,include:t},{data:r}=await We.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>We._fetchWalletImage(s))),st.featured=n,st.allFeatured=n}},async fetchRecommendedWallets(){try{st.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=he.state,n=[...e??[],...r??[]].filter(Boolean),i=J.getRequestedCaipNetworkIds().join(","),s={page:1,entries:BT,include:t,exclude:n,chains:i},{data:o,count:a}=await We.fetchWallets(s),c=be.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>We._fetchWalletImage(f))),st.recommended=o,st.allRecommended=o,st.count=a??0}catch{}finally{st.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(","),s=[...st.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:mq,include:e,exclude:s,chains:i},{data:a,count:c}=await We.fetchWallets(o),l=a.slice(0,yq).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>We._fetchWalletImage(u))),st.wallets=Pe.uniqueBy([...st.wallets,...We._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(f=>i.includes(f))),st.count=c>st.count?c:st.count,st.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await We.fetchWallets(e);r&&r.forEach(n=>{st.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(",");st.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await We.fetchWallets(s);Dt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>We._fetchWalletImage(c)),Pe.wait(300)]),st.search=We._filterOutExtensions(o)},initPromise(t,e){const r=st.promises[t];return r||(st.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&We.initPromise("connectorImages",We.fetchConnectorImages),e&&We.initPromise("featuredWallets",We.fetchFeaturedWallets),r&&We.initPromise("recommendedWallets",We.fetchRecommendedWallets),n&&We.initPromise("networkImages",We.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){he.state.features?.analytics&&We.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ts.get({path:"/getAnalyticsConfig",params:We._getSdkProperties()});he.setFeatures({analytics:t})}catch{he.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){st.filteredWallets=[]},setFilterByNamespace(t){if(!t){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},er=gr({view:"Connect",history:["Connect"],transactionStack:[]}),bq={state:er,subscribeKey(t,e){return Fi(er,t,e)},pushTransactionStack(t){er.transactionStack.push(t)},popTransactionStack(t){const e=er.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),Ve.goBack();break;case"cancel":i?.(),Ve.goBack();break}},push(t,e){t!==er.view&&(er.view=t,er.history.push(t),er.data=e)},reset(t,e){er.view=t,er.history=[t],er.data=e},replace(t,e){er.history.at(-1)===t||(er.view=t,er.history[er.history.length-1]=t,er.data=e)},goBack(){const t=J.state.activeCaipAddress,e=Ve.state.view==="ConnectingFarcaster",r=!t&&e;if(er.history.length>1){er.history.pop();const[n]=er.history.slice(-1);n&&(t&&n==="Connect"?er.view="Account":er.view=n)}else xt.close();er.data?.wallet&&(er.data.wallet=void 0),setTimeout(()=>{if(r){Me.setFarcasterUrl(void 0,J.state.activeChain);const n=xe.getAuthConnector();n?.provider?.reload();const i=Bg(he.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(er.history.length>1){er.history=er.history.slice(0,t+1);const[e]=er.history.slice(-1);e&&(er.view=e)}},goBackOrCloseModal(){Ve.state.history.length>1?Ve.goBack():xt.close()}},Ve=Xs(bq),Gc=gr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),s2={state:Gc,subscribe(t){return fi(Gc,()=>t(Gc))},setThemeMode(t){Gc.themeMode=t;try{const e=xe.getAuthConnector();if(e){const r=s2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:jg(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Gc.themeVariables={...Gc.themeVariables,...t};try{const e=xe.getAuthConnector();if(e){const r=s2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:jg(Gc.themeVariables,Gc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Bg(Gc)}},ys=Xs(s2),SM=Object.fromEntries(vM.map(t=>[t,void 0])),_q=Object.fromEntries(vM.map(t=>[t,!0])),Mt=gr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:SM,filterByNamespaceMap:_q}),wq={state:Mt,subscribe(t){return fi(Mt,()=>{t(Mt)})},subscribeKey(t,e){return Fi(Mt,t,e)},initialize(t){t.forEach(e=>{const r=be.getConnectedConnectorId(e);r&&xe.setConnectorId(r,e)})},setActiveConnector(t){t&&(Mt.activeConnector=vd(t))},setConnectors(t){t.filter(i=>!Mt.allConnectors.some(s=>s.id===i.id&&xe.getConnectorName(s.name)===xe.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Mt.allConnectors.push(vd(i))});const r=xe.getEnabledNamespaces(),n=xe.getEnabledConnectors(r);Mt.connectors=xe.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(Mt.filterByNamespaceMap).forEach(e=>{Mt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Mt.filterByNamespaceMap[e]=!0}),xe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Mt.filterByNamespaceMap[t]=e,xe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=xe.getEnabledNamespaces(),e=xe.getEnabledConnectors(t),r=xe.areAllNamespacesEnabled();Mt.connectors=xe.mergeMultiChainConnectors(e),r?We.clearFilterByNamespaces():We.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Mt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Mt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Mt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=xe.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===ae.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=xe.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===ae.CONNECTOR_ID.AUTH){const e=t,r=Bg(he.state),n=ys.getSnapshot().themeMode,i=ys.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:jg(i,n)}),xe.setConnectors([t])}else xe.setConnectors([t])},getAuthConnector(t){const e=t||J.state.activeChain,r=Mt.connectors.find(n=>n.id===ae.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return Mt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Mt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||J.state.activeChain;return Mt.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=Bg(he.state),n=ys.getSnapshot().themeMode,i=ys.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:jg(i,n)})},getConnectorsByNamespace(t){const e=Mt.allConnectors.filter(r=>r.chain===t);return xe.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Is(t)===jn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=xe.getConnector({id:t.id,rdns:t.rdns});cq.handleMobileDeeplinkRedirect(e?.explorerId||t.id,J.state.activeChain),e?Ve.push("ConnectingExternal",{connector:e,wallet:t}):Ve.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?xe.getConnectorsByNamespace(t):xe.mergeMultiChainConnectors(Mt.allConnectors)},setFilterByNamespace(t){Mt.filterByNamespace=t,Mt.connectors=xe.getConnectors(t),We.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Mt.activeConnectorIds={...Mt.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){Mt.activeConnectorIds={...Mt.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Mt.activeConnectorIds[t]},isConnected(t){return t?!!Mt.activeConnectorIds[t]:Object.values(Mt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Mt.activeConnectorIds={...SM}}},xe=Xs(wq),Eq=1e3,ap={checkNamespaceConnectorId(t,e){return xe.getConnectorId(t)===e},isSocialProvider(t){return It.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&xe.setActiveConnector(e),i?.(Pe.isMobile()&&t),n){const l=xt.subscribeKey("open",u=>{u||(Ve.state.view!==n&&Ve.replace(n),l(),a(new Error("Modal closed")))})}const c=J.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&xt.close(),c(),o(Ki.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=J.subscribeKey("activeCaipAddress",i=>{i&&(xt.close(),n(),e(Ki.parseCaipAddress(i)))});Ne.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=Me.state.socialWindow,o=Me.state.socialProvider,a=!1,c=null;const l=e||J.state.activeChain,u=J.subscribeKey("activeCaipAddress",f=>{f&&(r&&xt.close(),u())});return new Promise((f,d)=>{async function h(g){if(g.data?.resultUri)if(g.origin===ae.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const b=xe.getAuthConnector(l);if(b&&!a){s&&(s.close(),Me.setSocialWindow(void 0,l),s=Me.state.socialWindow),a=!0;const w=g.data.resultUri;if(o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){be.setConnectedSocialProvider(o),await Ne.connectExternal({id:b.id,type:b.type,socialUri:w},b.chain);const x=J.state.activeCaipAddress;if(!x){d(new Error("Failed to connect"));return}f(Ki.parseCaipAddress(x)),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),d(new Error("Failed to connect"))}}else o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function m(){if(t&&(Me.setSocialProvider(t,l),o=Me.state.socialProvider,Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const g=xt.subscribeKey("open",w=>{!w&&t==="farcaster"&&(d(new Error("Popup closed")),i?.(),g())}),b=xe.getAuthConnector();if(b&&!Me.state.farcasterUrl)try{const{url:w}=await b.provider.getFarcasterUri();Me.setFarcasterUrl(w,l)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=xe.getAuthConnector();c=Pe.returnOpenHref(`${ae.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:b}=await g.provider.getSocialRedirectUri({provider:o});if(c&&b){Me.setSocialWindow(c,l),s=Me.state.socialWindow,c.location.href=b;const w=setInterval(()=>{s?.closed&&!a&&(d(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",h,!1)}else c?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),c?.close()}}}m()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=xt.subscribeKey("open",c=>{c||(Ve.state.view!==e&&Ve.replace(e),a(),s(new Error("Modal closed")))})}const o=J.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&xt.close(),o(),i(Ki.parseCaipAddress(a)))})})},async updateEmail(){const t=be.getConnectedConnectorId(J.state.activeChain),e=xe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ae.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await xt.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(xt.close(),clearInterval(s),o(),n({email:a}))},Eq),o=xt.subscribeKey("open",a=>{a||(Ve.state.view!=="Connect"&&Ve.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Is(t)===jn.ACCOUNT_TYPES.EOA}};function IM(){const t=J.state.activeCaipNetwork?.chainNamespace||"eip155",e=J.state.activeCaipNetwork?.id||1,r=It.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function Is(t){return J.getAccountData(t)?.preferredAccountType}function Lp(t){return t?J.state.chains.get(t)?.networkState?.caipNetwork:J.state.activeCaipNetwork}const rw={getConnectionStatus(t,e){const r=xe.state.activeConnectorIds[e],n=Ne.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!he.state.remoteFeatures?.multiWallet,r=xe.state.activeConnectorIds[t],n=Ne.getConnections(t),s=(Ne.state.recentConnections.get(t)??[]).filter(a=>xe.getConnectorById(a.connectorId)),o=rw.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},Wf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),mn=gr({...Wf}),vq={state:mn,subscribeKey(t,e){return Fi(mn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Pe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){mn.message=Wf.message,mn.variant=Wf.variant,mn.svg=Wf.svg,mn.open=Wf.open,mn.autoClose=Wf.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Wf.autoClose}){mn.open?(mn.open=!1,setTimeout(()=>{mn.message=t,mn.variant=r,mn.svg=e,mn.open=!0,mn.autoClose=n},150)):(mn.message=t,mn.variant=r,mn.svg=e,mn.open=!0,mn.autoClose=n)}},Cc=vq,Ur=gr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),xq={state:Ur,subscribe(t){return fi(Ur,()=>t(Ur))},setLastNetworkInView(t){Ur.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Ur.loading=!0;try{const e=await Ke.fetchTransactions({account:t,cursor:Ur.next,chainId:J.state.activeCaipNetwork?.caipNetworkId}),r=Fb.filterSpamTransactions(e.data),n=Fb.filterByConnectedChain(r),i=[...Ur.transactions,...n];Ur.loading=!1,Ur.transactions=i,Ur.transactionsByYear=Fb.groupTransactionsByYearAndMonth(Ur.transactionsByYear,n),Ur.empty=i.length===0,Ur.next=e.next?e.next:void 0}catch{const r=J.state.activeChain;Dt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:he.state.projectId,cursor:Ur.next,isSmartAccount:Is(r)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Cc.showError("Failed to fetch transactions"),Ur.loading=!1,Ur.empty=!0,Ur.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=J.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Ur.next=void 0},resetTransactions(){Ur.transactions=[],Ur.transactionsByYear={},Ur.lastNetworkInView=void 0,Ur.loading=!1,Ur.empty=!1,Ur.next=void 0}},Fb=Xs(xq,"API_ERROR"),Ut=gr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Of;const Aq={state:Ut,subscribe(t){return fi(Ut,()=>t(Ut))},subscribeKey(t,e){return Fi(Ut,t,e)},_getClient(){return Ut._client},setClient(t){Ut._client=vd(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Ne.syncStorageConnections(e)},syncStorageConnections(t){const e=be.getConnections(),r=t??Array.from(J.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(Ut.recentConnections);s.set(n,i),Ut.recentConnections=s}},getConnections(t){return t?Ut.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Ne.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=Pe.isTelegram()||Pe.isSafari()&&Pe.isIos();if(t==="always"||t==="auto"&&e){if(Of){await Of,Of=void 0;return}if(!Pe.isPairingExpired(Ut?.wcPairingExpiry)){const r=Ut.wcUri;Ut.wcUri=r;return}Of=Ne._getClient()?.connectWalletConnect?.().catch(()=>{}),Ne.state.status="connecting",await Of,Of=void 0,Ut.wcPairingExpiry=void 0,Ne.state.status="connected"}else await Ne._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await Ne._getClient()?.connectExternal?.(t);return r&&J.setActiveNamespace(e),n},async reconnectExternal(t){await Ne._getClient()?.reconnectExternal?.(t);const e=t.chain||J.state.activeChain;e&&xe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;xt.setLoading(!0,J.state.activeChain);const r=xe.getAuthConnector();r&&(Me.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),be.setPreferredAccountTypes(Object.entries(J.state.chains).reduce((n,[i,s])=>{const o=i,a=Is(o);return a!==void 0&&(n[o]=a),n},{})),await Ne.reconnectExternal(r),xt.setLoading(!1,J.state.activeChain),Dt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:J.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return Ne._getClient()?.signMessage(t)},parseUnits(t,e){return Ne._getClient()?.parseUnits(t,e)},formatUnits(t,e){return Ne._getClient()?.formatUnits(t,e)},updateBalance(t){return Ne._getClient()?.updateBalance(t)},async sendTransaction(t){return Ne._getClient()?.sendTransaction(t)},async getCapabilities(t){return Ne._getClient()?.getCapabilities(t)},async grantPermissions(t){return Ne._getClient()?.grantPermissions(t)},async walletGetAssets(t){return Ne._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return Ne._getClient()?.estimateGas(t)},async writeContract(t){return Ne._getClient()?.writeContract(t)},async getEnsAddress(t){return Ne._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return Ne._getClient()?.getEnsAvatar(t)},checkInstalled(t){return Ne._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Ut.wcLinking=void 0,Ut.recentWallet=void 0,Ut.status="disconnected",Fb.resetTransactions(),be.deleteWalletConnectDeepLink()},resetUri(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Of=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=Ne.state;e&&be.setWalletConnectDeepLink(e),r&&be.setAppKitRecent(r),t&&Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Ve.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){Ut.wcBasic=t},setUri(t){Ut.wcUri=t,Ut.wcPairingExpiry=Pe.getPairingExpiry()},setWcLinking(t){Ut.wcLinking=t},setWcError(t){Ut.wcError=t,Ut.buffering=!1},setRecentWallet(t){Ut.recentWallet=t},setBuffering(t){Ut.buffering=t},setStatus(t){Ut.status=t},setIsSwitchingConnection(t){Ut.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await Ne._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new m0("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(Ut.connections);r.set(e,t),Ut.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=Me.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&ap.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Ne.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=xe.getConnectorById(t.connectorId),i=t.connectorId===ae.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e});else return(await Ne.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=xe.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===ae.CONNECTOR_ID.AUTH,a=t.connectorId===ae.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&ap.isSocialProvider(s)){const{address:l}=await ap.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){xt.open({view:"ConnectingFarcaster"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const{address:l}=await ap.connectEmail({closeModalOnConnect:n,onOpen(){xt.open({view:"EmailLogin"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await ap.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";xt.state.open?Ve.push(f):xt.open({view:f})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const l=await Ne.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=Me.getCaipAddress(r);if(o){const{address:c}=Ki.parseCaipAddress(o);s=c}const a=rw.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await Ne.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Ne.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},Ne=Xs(Aq),Zd=gr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Fa={state:Zd,subscribe(t){return fi(Zd,()=>t(Zd))},subscribeOpen(t){return Fi(Zd,"open",t)},set(t){Object.assign(Zd,{...Zd,...t})}},Cq={async getTokenList(t){return(await Ke.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=J.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await Ne?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Ke.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await Ke.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=Ne.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await qN.getMyTokensWithBalance(t);return Me.setTokenBalance(e,J.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:IM(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Yt=gr({tokenBalances:[],loading:!1}),Nq={state:Yt,subscribe(t){return fi(Yt,()=>t(Yt))},subscribeKey(t,e){return Fi(Yt,t,e)},setToken(t){t&&(Yt.token=vd(t))},setTokenAmount(t){Yt.sendTokenAmount=t},setReceiverAddress(t){Yt.receiverAddress=t},setReceiverProfileImageUrl(t){Yt.receiverProfileImageUrl=t},setReceiverProfileName(t){Yt.receiverProfileName=t},setNetworkBalanceInUsd(t){Yt.networkBalanceInUSD=t},setLoading(t){Yt.loading=t},async sendToken(){try{switch(St.setLoading(!0),J.state.activeCaipNetwork?.chainNamespace){case"eip155":await St.sendEvmToken();return;case"solana":await St.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{St.setLoading(!1)}},async sendEvmToken(){const t=J.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Is(t);if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!St.state.token)throw new Error("A token is required");St.state.token?.address?(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.address,amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendERC20Token({receiverAddress:St.state.receiverAddress,tokenAddress:St.state.token.address,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals})):(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.symbol||"",amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendNativeToken({receiverAddress:St.state.receiverAddress,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals}))},async fetchTokenBalance(t){Yt.loading=!0;const e=J.state.activeChain,r=J.state.activeCaipNetwork?.caipNetworkId,n=J.state.activeCaipNetwork?.chainNamespace,i=Me.getCaipAddress(e)??J.state.activeCaipAddress,s=i?Pe.getPlainAddress(i):void 0;if(Yt.lastRetry&&!Pe.isAllowedRetry(Yt.lastRetry,30*It.ONE_SEC_MS))return Yt.loading=!1,[];try{if(s&&r&&n){const o=await qN.getMyTokensWithBalance();return Yt.tokenBalances=o,Yt.lastRetry=void 0,o}}catch(o){Yt.lastRetry=Date.now(),t?.(o),Cc.showError("Token Balance Unavailable")}finally{Yt.loading=!1}return[]},fetchNetworkBalance(){if(Yt.tokenBalances.length===0)return;const t=Cq.mapBalancesToSwapTokens(Yt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===IM());e&&(Yt.networkBalanceInUSD=e?GW.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Ve.pushTransactionStack({});const e=t.receiverAddress,r=Me.state.address,n=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ne.sendTransaction({chainNamespace:ae.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),Dt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Is("eip155")===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token?.symbol||"",amount:t.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),Ne._getClient()?.updateBalance("eip155"),St.resetSend()},async sendERC20Token(t){Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});const e=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Me.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=Pe.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Ne.writeContract({fromAddress:Me.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:YW.getERC20Abi(r),chainNamespace:ae.CHAIN.EVM}),St.resetSend()}},async sendSolanaToken(){if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});let t;if(St.state.token&&Pe.isCaipAddress(St.state.token.address)){const[,,e]=St.state.token.address.split(":");t=e}await Ne.sendTransaction({chainNamespace:"solana",tokenMint:t,to:St.state.receiverAddress,value:St.state.sendTokenAmount}),Ne._getClient()?.updateBalance("solana"),St.resetSend()},resetSend(){Yt.token=void 0,Yt.sendTokenAmount=void 0,Yt.receiverAddress=void 0,Yt.receiverProfileImageUrl=void 0,Yt.receiverProfileName=void 0,Yt.loading=!1,Yt.tokenBalances=[]}},St=Xs(Nq),av={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Wy={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ie=gr({chains:$W(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Sq={state:Ie,subscribe(t){return fi(Ie,()=>{t(Ie)})},subscribeKey(t,e){return Fi(Ie,t,e)},subscribeChainProp(t,e,r){let n;return fi(Ie.chains,()=>{const i=r||Ie.activeChain;if(i){const s=Ie.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=be.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=he.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Ie.noAdapters=!0),Ie.noAdapters||(Ie.activeChain=a?.namespace,Ie.activeCaipNetwork=s,J.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ie.activeChain&&Fa.set({activeChain:a?.namespace})),l.forEach(u=>{const f=e?.filter(m=>m.chainNamespace===u),d=be.getPreferredAccountTypes()||{},h={...he.state.defaultAccountTypes,...d};J.state.chains.set(u,{namespace:u,networkState:gr({...Wy,caipNetwork:f?.[0]}),accountState:gr({...av,preferredAccountType:h[u]}),caipNetworks:f??[],...r}),J.setRequestedCaipNetworks(f??[],u)})},removeAdapter(t){if(Ie.activeChain===t){const e=Array.from(Ie.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&J.setActiveCaipNetwork(r)}}Ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Wy,caipNetwork:n[0]},accountState:av,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),J.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ie.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),Ie.chains.set(t.chainNamespace,{...e,caipNetworks:r}),J.setRequestedCaipNetworks(r,t.chainNamespace),xe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=Ie.chains.get(t);if(r){const n=Ie.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&J.setActiveCaipNetwork(r.caipNetworks[0]),Ie.chains.set(t,{...r,caipNetworks:i}),J.setRequestedCaipNetworks(i||[],t),i.length===0&&xe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Ie.chains.get(t);r&&(r.networkState={...r.networkState||Wy,...e},Ie.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Ie.chains.get(t);if(n){const i={...n.accountState||av,...e};Ie.chains.set(t,{...n,accountState:i}),(Ie.chains.size===1||Ie.activeChain===t)&&(e.caipAddress&&(Ie.activeCaipAddress=e.caipAddress),Me.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Ie.chains.get(t);if(r){const n={...r.networkState||Wy,...e};Ie.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){J.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){Ie.activeChain=t;const e=t?Ie.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(Ie.activeCaipAddress=e?.accountState?.caipAddress,Ie.activeCaipNetwork=r,J.setChainNetworkData(t,{caipNetwork:r}),be.setActiveCaipNetworkId(r?.caipNetworkId),Fa.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ie.activeChain!==t.chainNamespace&&J.setIsSwitchingNamespace(!0);const e=Ie.chains.get(t.chainNamespace);Ie.activeChain=t.chainNamespace,Ie.activeCaipNetwork=t,J.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ie.activeCaipAddress=void 0,J.setAccountProp("caipAddress",Ie.activeCaipAddress,t.chainNamespace),e&&Me.replaceState(e.accountState),St.resetSend(),Fa.set({activeChain:Ie.activeChain,selectedNetworkId:Ie.activeCaipNetwork?.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!J.checkIfSupportedNetwork(t.chainNamespace)&&he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&!Ne.state.wcBasic&&J.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ie.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==J.state.activeChain,r=J.getNetworkData(t)?.caipNetwork,n=J.getCaipNetworkByNamespace(t,r?.id);e&&n&&await J.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=J.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!J.state.chains.get(e)?.caipNetworks?.some(s=>s.id===Ie.activeCaipNetwork?.id),i=J.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&xt.close()}catch{Ve.goBack()}Dt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=Ie.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Ie.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=Ie.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Ie.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return Pe.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=J.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){J.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=J.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));xe.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=J.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?Ie.chains.get(t)?.networkState?.caipNetwork:Ie.activeCaipNetwork},getActiveCaipAddress(){return Ie.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ie.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await J.getNetworkControllerClient()?.getApprovedCaipNetworksData();J.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Ie.activeCaipNetwork?.caipNetworkId,n=J.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return Ie.activeChain?J.getRequestedCaipNetworks(Ie.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){J.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=EM.caipNetworkIdToNumber(Ie.activeCaipNetwork?.caipNetworkId),e=Ie.activeChain;return!e||!t?!1:!!J.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){xt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ie.activeCaipNetwork;return!!(t?.chainNamespace&&It.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){J.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=J.state.chains.get(e)?.accountState?.preferredAccountType,n=he.state.defaultAccountTypes[e];Ie.activeCaipAddress=void 0,J.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),xe.removeConnectorId(e)},setIsSwitchingNamespace(t){Ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ie.chains.forEach(r=>{ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?Ie.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=J.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=xe.state.filterByNamespace;return(t?[Ie.chains.get(t)]:Array.from(Ie.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?J.getRequestedCaipNetworks(t):J.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ie.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ie.lastConnectedSIWECaipNetwork}},J=Xs(Sq),Iq={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},TM=Pe.getBlockchainApiUrl(),rs=gr({clientId:null,api:new ly({baseUrl:TM,clientId:null}),supportedChains:{http:[],ws:[]}}),Ke={state:rs,async get(t){const{st:e,sv:r}=Ke.getSdkProperties(),n=he.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return rs.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=he.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{rs.supportedChains.http.length||await Ke.getSupportedNetworks()}catch{return!1}return rs.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ke.get({path:"v1/supported-chains"});return rs.supportedChains=t,t}catch{return rs.supportedChains}},async fetchIdentity({address:t}){const e=be.getIdentityFromCacheForAddress(t);if(e)return e;const r=await Ke.get({path:`/v1/identity/${t}`,params:{sender:J.state.activeCaipAddress?Pe.getPlainAddress(J.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=be.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Ke.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return be.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=be.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await rs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:he.state.projectId},headers:{"Content-Type":"application/json"}});return be.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ke.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return rs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:It.CONVERT_SLIPPAGE_TOLERANCE},projectId:he.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ke.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return Cc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ke.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/reverse/${t}`,params:{sender:Me.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?rs.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?(await rs.api.post({path:"/v1/generators/onrampurl",params:{projectId:he.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ke.get({path:"/v1/onramp/options"})}catch{return Iq}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?await rs.api.post({path:"/v1/onramp/quote",params:{projectId:he.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?rs.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:he.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){rs.clientId=t,rs.api=new ly({baseUrl:TM,clientId:t})}};function Tq(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function jT(t){return Tq(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const RM="2.37.13";let cv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${RM}`},rc=class o2 extends Error{constructor(e,r={}){const n=r.cause instanceof o2?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof o2&&r.cause.docsPath||r.docsPath,s=cv.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...cv.version?[`Version: ${cv.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=RM}walk(e){return PM(this,e)}};function PM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?PM(t.cause,e):e?null:t}class Cke extends rc{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let OM=class extends rc{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function BN(t,{dir:e,size:r=32}={}){return typeof t=="string"?Rq(t,{dir:e,size:r}):Pq(t,{dir:e,size:r})}function Rq(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new OM({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Pq(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new OM({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Oq=class extends rc{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Dq=class extends rc{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function DM(t,{size:e}){if(jT(t)>e)throw new Dq({givenSize:jT(t),maxSize:e})}const kq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function HT(t,e={}){return typeof t=="number"||typeof t=="bigint"?Uq(t,e):typeof t=="string"?MM(t,e):typeof t=="boolean"?Mq(t,e):kM(t,e)}function Mq(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(DM(r,{size:e.size}),BN(r,{size:e.size})):r}function kM(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=kq[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(DM(n,{size:e.size}),BN(n,{dir:"right",size:e.size})):n}function Uq(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Oq({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?BN(a,{size:n}):a}const $q=new TextEncoder;function MM(t,e={}){const r=$q.encode(t);return kM(r,e)}const qy=BigInt(2**32-1),WT=BigInt(32);function Lq(t,e=!1){return e?{h:Number(t&qy),l:Number(t>>WT&qy)}:{h:Number(t>>WT&qy)|0,l:Number(t&qy)|0}}function Fq(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Lq(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const Bq=(t,e,r)=>t<<r|e>>>32-r,jq=(t,e,r)=>e<<r|t>>>32-r,Hq=(t,e,r)=>e<<r-32|t>>>64-r,Wq=(t,e,r)=>t<<r-32|e>>>64-r,eh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function nw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function b0(t,...e){if(!qq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Tke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");nw(t.outputLen),nw(t.blockLen)}function qT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zq(t,e){b0(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Gq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function UM(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Rke(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Pke(t,e){return t<<32-e|t>>>e}const Kq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Vq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jq(t){for(let e=0;e<t.length;e++)t[e]=Vq(t[e]);return t}const zT=Kq?t=>t:Jq,Yq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Xq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Oke(t){if(b0(t),Yq)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Xq[t[r]];return e}function Qq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function $M(t){return typeof t=="string"&&(t=Qq(t)),b0(t),t}function Dke(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];b0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class Zq{}function ez(t){const e=n=>t().update($M(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function kke(t=32){if(eh&&typeof eh.getRandomValues=="function")return eh.getRandomValues(new Uint8Array(t));if(eh&&typeof eh.randomBytes=="function")return Uint8Array.from(eh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tz=BigInt(0),cp=BigInt(1),rz=BigInt(2),nz=BigInt(7),iz=BigInt(256),sz=BigInt(113),LM=[],FM=[],BM=[];for(let t=0,e=cp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],LM.push(2*(5*n+r)),FM.push((t+1)*(t+2)/2%64);let i=tz;for(let s=0;s<7;s++)e=(e<<cp^(e>>nz)*sz)%iz,e&rz&&(i^=cp<<(cp<<BigInt(s))-cp);BM.push(i)}const jM=Fq(BM,!0),oz=jM[0],az=jM[1],GT=(t,e,r)=>r>32?Hq(t,e,r):Bq(t,e,r),KT=(t,e,r)=>r>32?Wq(t,e,r):jq(t,e,r);function cz(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=GT(l,u,1)^r[a],d=KT(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=FM[o],c=GT(i,s,a),l=KT(i,s,a),u=LM[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=oz[n],t[1]^=az[n]}UM(r)}class jN extends Zq{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,nw(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Gq(this.state)}clone(){return this._cloneInto()}keccak(){zT(this.state32),cz(this.state32,this.rounds),zT(this.state32),this.posOut=0,this.pos=0}update(e){qT(this),e=$M(e),b0(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){qT(this,!1),b0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return nw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,UM(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new jN(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const lz=(t,e,r)=>ez(()=>new jN(e,t,r)),uz=lz(1,136,256/8);let fz=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const dd=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function dz(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const HN=t=>t;class ng extends rc{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${HN(o)}`,e&&`Request body: ${dd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class HM extends rc{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${HN(n)}`,`Request body: ${dd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class VT extends rc{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${HN(r)}`,`Request body: ${dd(e)}`],name:"TimeoutError"})}}const hz=-1;class Rs extends rc{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof HM?e.code:r??hz}}class Qs extends Rs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Hg extends Rs{constructor(e){super(e,{code:Hg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Wg extends Rs{constructor(e){super(e,{code:Wg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Wg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class qg extends Rs{constructor(e,{method:r}={}){super(e,{code:qg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class zg extends Rs{constructor(e){super(e,{code:zg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class _0 extends Rs{constructor(e){super(e,{code:_0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(_0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Gg extends Rs{constructor(e){super(e,{code:Gg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Kg extends Rs{constructor(e){super(e,{code:Kg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Vg extends Rs{constructor(e){super(e,{code:Vg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class w0 extends Rs{constructor(e){super(e,{code:w0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(w0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rd extends Rs{constructor(e,{method:r}={}){super(e,{code:rd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(rd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class E0 extends Rs{constructor(e){super(e,{code:E0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Jg extends Rs{constructor(e){super(e,{code:Jg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class hd extends Qs{constructor(e){super(e,{code:hd.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Yg extends Qs{constructor(e){super(e,{code:Yg.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Xg extends Qs{constructor(e,{method:r}={}){super(e,{code:Xg.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qg extends Qs{constructor(e){super(e,{code:Qg.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Zg extends Qs{constructor(e){super(e,{code:Zg.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class em extends Qs{constructor(e){super(e,{code:em.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class tm extends Qs{constructor(e){super(e,{code:tm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class rm extends Qs{constructor(e){super(e,{code:rm.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class nm extends Qs{constructor(e){super(e,{code:nm.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class im extends Qs{constructor(e){super(e,{code:im.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sm extends Qs{constructor(e){super(e,{code:sm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class om extends Qs{constructor(e){super(e,{code:om.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class am extends Qs{constructor(e){super(e,{code:am.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class pz extends Rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const gz="modulepreload",mz=function(t,e){return new URL(t,e).href},JT={},Gn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(r.map(u=>{if(u=mz(u,n),u in JT)return;JT[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(n)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===u&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":gz,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class WN extends rc{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(WN,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(WN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function yz(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const lv=new Map;function bz({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let h=0;h<u.length;h++){const{resolve:m}=u[h];m?.([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:m}=u[h];m?.(d)}})},o=()=>lv.delete(e),a=()=>c().map(({args:u})=>u),c=()=>lv.get(e)||[],l=u=>lv.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=yz();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(s,n),f)}}}async function WM(t){return new Promise(e=>setTimeout(e,t))}function _z(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await WM(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const a2=256;let zy=a2,Gy;function wz(t=11){if(!Gy||zy+t>a2*2){Gy="",zy=0;for(let e=0;e<a2;e++)Gy+=(256+Math.random()*256|0).toString(16).substring(1)}return Gy.substring(zy,zy+++t)}const Ky=new fz(8192);function Ez(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Ky.get(r))return Ky.get(r);const n=t().finally(()=>Ky.delete(r));return Ky.set(r,n),n}function vz(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new rd(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new rd(new Error("method not supported"),{method:l});const u=i?MM(`${c}.${dd(r)}`):void 0;return Ez(()=>_z(async()=>{try{return await t(r)}catch(f){const d=f;switch(d.code){case Hg.code:throw new Hg(d);case Wg.code:throw new Wg(d);case qg.code:throw new qg(d,{method:r.method});case zg.code:throw new zg(d);case _0.code:throw new _0(d);case Gg.code:throw new Gg(d);case Kg.code:throw new Kg(d);case Vg.code:throw new Vg(d);case w0.code:throw new w0(d);case rd.code:throw new rd(d,{method:r.method});case E0.code:throw new E0(d);case Jg.code:throw new Jg(d);case hd.code:throw new hd(d);case Yg.code:throw new Yg(d);case Xg.code:throw new Xg(d);case Qg.code:throw new Qg(d);case Zg.code:throw new Zg(d);case em.code:throw new em(d);case tm.code:throw new tm(d);case rm.code:throw new rm(d);case nm.code:throw new nm(d);case im.code:throw new im(d);case sm.code:throw new sm(d);case om.code:throw new om(d);case am.code:throw new am(d);case 5e3:throw new hd(d);default:throw f instanceof rc?f:new pz(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof ng){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>xz(f)}),{enabled:i,id:u})}}function xz(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===E0.code||t.code===_0.code:t instanceof ng&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Az(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Cz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const YT=Cz();function Nz(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const d=await Az(async({signal:m})=>{const g={...c,body:Array.isArray(n)?dd(n.map(S=>({jsonrpc:"2.0",id:S.id??YT.take(),...S}))):dd({jsonrpc:"2.0",id:n.id??YT.take(),...n}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?m:null)},b=new Request(t,g),w=await s?.(b,g)??{...g,url:t};return await i(w.url??t,w)},{errorInstance:new VT({body:n,url:t}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(m){if(d.ok)throw m;h={error:h}}}if(!d.ok)throw new ng({body:n,details:dd(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof ng||d instanceof VT?d:new ng({body:n,cause:d,url:t})}}}}function qM({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=wz();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:vz(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function XT(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=Sz,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=t,h=()=>{};const m=qM({key:r,name:n,async request({method:g,params:b}){let w;const x=async(S=0)=>{const D=d[S]({...f,chain:c,retryCount:0,timeout:u});try{const O=await D.request({method:g,params:b});return h({method:g,params:b,response:O,transport:D,status:"success"}),O}catch(O){if(h({error:O,method:g,params:b,transport:D,status:"error"}),s(O)||S===d.length-1||(w??=d.slice(S+1).some(k=>{const{include:F,exclude:N}=k({chain:c}).config.methods||{};return F?F.includes(g):N?!N.includes(g):!0}),!w))throw O;return x(S+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};Iz({chain:c,interval:g.interval??l,onTransports:b=>d=b,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return m})}function Sz(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===w0.code||t.code===hd.code||WN.nodeMessage.test(t.message)||t.code===5e3))}function Iz({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const b=g({chain:t,retryCount:0,timeout:s}),w=Date.now();let x,S;try{await(n?n({transport:b}):b.request({method:"net_listening"})),S=1}catch{S=0}finally{x=Date.now()}return{latency:x-w,success:S}}));u.push(d),u.length>i&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:b})=>b)))),m=o.map((g,b)=>{const w=u.map(k=>k[b].latency),S=1-w.reduce((k,F)=>k+F,0)/w.length/h,D=u.map(k=>k[b].success),O=D.reduce((k,F)=>k+F,0)/D.length;return O===0?[0,b]:[l*S+c*O,b]}).sort((g,b)=>b[0]-g[0]);r(m.map(([,g])=>o[g])),await WM(e),f()};f()}class Tz extends rc{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Vy(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:b=0}=typeof r=="object"?r:{},w=e.retryCount??h,x=m??e.timeout??1e4,S=t||d?.rpcUrls.default.http[0];if(!S)throw new Tz;const D=Nz(S,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:x});return qM({key:s,methods:o,name:a,async request({method:O,params:k}){const F={method:O,params:k},{schedule:N}=bz({id:S,wait:b,shouldSplitBatch(P){return P.length>g},fn:P=>D.request({body:P}),sort:(P,C)=>P.id-C.id}),v=async P=>r?N(P):[await D.request({body:P})],[{error:M,result:$}]=await v(F);if(f)return{error:M,result:$};if(M)throw new HM({body:F,error:M,url:S});return $},retryCount:w,retryDelay:u,timeout:x,type:"http"},{fetchOptions:i,url:S})}}const uv={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return dz(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},qN={async getMyTokensWithBalance(t){const e=Me.state.address,r=J.state.activeCaipNetwork,n=xe.getConnectorId("eip155")===ae.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=be.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===ae.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await Ke.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=uv.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await Ne.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await Ne.walletGetAssets({account:t,chainFilter:[r]});if(!uv.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>uv.createBalance(a,e.caipNetworkId));return be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},oc=gr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Rz={state:oc,replaceState(t){t&&Object.assign(oc,vd(t))},subscribe(t){return J.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return J.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){J.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return J.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?Pe.getPlainAddress(t):void 0;e===J.state.activeChain&&(J.state.activeCaipAddress=t),J.setAccountProp("caipAddress",t,e),J.setAccountProp("address",r,e)},setBalance(t,e,r){J.setAccountProp("balance",t,r),J.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){J.setAccountProp("profileName",t,e)},setProfileImage(t,e){J.setAccountProp("profileImage",t,e)},setUser(t,e){J.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){J.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){J.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){J.setAccountProp("currentTab",t,J.state.activeChain)},setTokenBalance(t,e){t&&J.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){J.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=J.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),J.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=J.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),J.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){J.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){J.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&J.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){J.setAccountProp("socialWindow",t?vd(t):void 0,e)},setFarcasterUrl(t,e){J.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){oc.balanceLoading=!0;const e=J.state.activeCaipNetwork?.caipNetworkId,r=J.state.activeCaipNetwork?.chainNamespace,n=J.state.activeCaipAddress,i=n?Pe.getPlainAddress(n):void 0;if(oc.lastRetry&&!Pe.isAllowedRetry(oc.lastRetry,30*It.ONE_SEC_MS))return oc.balanceLoading=!1,[];try{if(i&&e&&r){const s=await qN.getMyTokensWithBalance();return Me.setTokenBalance(s,r),oc.lastRetry=void 0,oc.balanceLoading=!1,s}}catch(s){oc.lastRetry=Date.now(),t?.(s),Cc.showError("Token Balance Unavailable")}finally{oc.balanceLoading=!1}return[]},resetAccount(t){J.resetAccount(t)}},Me=Xs(Rz),Pz={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=J.state.activeCaipNetwork,n=Ve.state.data;if(t.id===r?.id)return;const s=Me.getCaipAddress(J.state.activeChain),o=t.chainNamespace!==J.state.activeChain,a=Me.getCaipAddress(t.chainNamespace),l=xe.getConnectorId(J.state.activeChain)===ae.CONNECTOR_ID.AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||l&&u?Ve.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?Ve.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Ve.push("SwitchNetwork",{...n,network:t})}},ns=gr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Oz={state:ns,subscribe(t){return fi(ns,()=>t(ns))},subscribeKey(t,e){return Fi(ns,t,e)},async open(t){const e=t?.namespace,r=J.state.activeChain,n=e&&e!==r,i=J.getAccountData(t?.namespace)?.caipAddress,s=J.state.noAdapters;if(Ne.state.wcBasic?We.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await We.prefetch(),xe.setFilterByNamespace(t?.namespace),xt.setLoading(!0,e),e&&n){const o=J.getNetworkData(e)?.caipNetwork||J.getRequestedCaipNetworks(e)[0];o&&(s?(await J.switchActiveNetwork(o),Ve.push("ConnectingWalletConnectBasic")):Pz.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else he.state.manualWCControl||s&&!i?Pe.isMobile()?Ve.reset("AllWallets"):Ve.reset("ConnectingWalletConnectBasic"):t?.view?Ve.reset(t.view,t.data):i?Ve.reset("Account"):Ve.reset("Connect");ns.open=!0,Fa.set({open:!0}),Dt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=he.state.enableEmbedded,e=!!J.state.activeCaipAddress;ns.open&&Dt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ns.open=!1,Ve.reset("Connect"),xt.clearLoading(),t?e?Ve.replace("Account"):Ve.push("Connect"):Fa.set({open:!1}),Ne.resetUri()},setLoading(t,e){e&&ns.loadingNamespaceMap.set(e,t),ns.loading=t,Fa.set({loading:t})},clearLoading(){ns.loadingNamespaceMap.clear(),ns.loading=!1,Fa.set({loading:!1})},shake(){ns.shake||(ns.shake=!0,setTimeout(()=>{ns.shake=!1},500))}},xt=Xs(Oz),ig={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},c2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Dz={providers:CM,selectedProvider:null,error:null,purchaseCurrency:ig,paymentCurrency:c2,purchaseCurrencies:[ig],paymentCurrencies:[],quotesLoading:!1},Pt=gr(Dz),kz={state:Pt,subscribe(t){return fi(Pt,()=>t(Pt))},subscribeKey(t,e){return Fi(Pt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=J.state.activeChain,r=e===ae.CHAIN.SOLANA?"SOL":"USDC",n=e?J.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",XW),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",he.state.projectId),Pt.selectedProvider={...t,url:i.toString()}}else Pt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=CM.filter(n=>e.includes(n.name));Pt.providers=r}else Pt.providers=[]},setPurchaseCurrency(t){Pt.purchaseCurrency=t},setPaymentCurrency(t){Pt.paymentCurrency=t},setPurchaseAmount(t){l2.state.purchaseAmount=t},setPaymentAmount(t){l2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ke.getOnrampOptions();Pt.purchaseCurrencies=t.purchaseCurrencies,Pt.paymentCurrencies=t.paymentCurrencies,Pt.paymentCurrency=t.paymentCurrencies[0]||c2,Pt.purchaseCurrency=t.purchaseCurrencies[0]||ig,await We.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await We.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){Pt.quotesLoading=!0;try{const t=await Ke.getOnrampQuote({purchaseCurrency:Pt.purchaseCurrency,paymentCurrency:Pt.paymentCurrency,amount:Pt.paymentAmount?.toString()||"0",network:Pt.purchaseCurrency?.symbol});return Pt.quotesLoading=!1,Pt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return Pt.error=t.message,Pt.quotesLoading=!1,null}finally{Pt.quotesLoading=!1}},resetState(){Pt.selectedProvider=null,Pt.error=null,Pt.purchaseCurrency=ig,Pt.paymentCurrency=c2,Pt.purchaseCurrencies=[ig],Pt.paymentCurrencies=[],Pt.paymentAmount=void 0,Pt.purchaseAmount=void 0,Pt.quotesLoading=!1}},l2=Xs(kz),QT=2147483648,Mz={convertEVMChainIdToCoinType(t){if(t>=QT)throw new Error("Invalid chainId");return(QT|t)>>>0}},so=gr({suggestions:[],loading:!1}),Uz={state:so,subscribe(t){return fi(so,()=>t(so))},subscribeKey(t,e){return Fi(so,t,e)},async resolveName(t){try{return await Ke.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Ke.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{so.loading=!0,so.suggestions=[];const e=await Ke.getEnsNameSuggestions(t);return so.suggestions=e.suggestions||[],so.suggestions}catch(e){const r=sg.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{so.loading=!1}},async getNamesForAddress(t){try{if(!J.state.activeCaipNetwork)return[];const r=be.getEnsFromCacheForAddress(t);if(r)return r;const n=await Ke.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=sg.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=J.state.activeCaipNetwork,r=Me.state.address,n=xe.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");so.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ve.pushTransactionStack({onCancel(){Ve.replace("RegisterAccountName")}});const s=await Ne.signMessage(i);so.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Mz.convertEVMChainIdToCoinType(Number(o));await Ke.registerEnsName({coinType:a,address:r,signature:s,message:i}),Me.setProfileName(t,e.chainNamespace),be.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Ve.replace("RegisterAccountNameSuccess")}catch(i){const s=sg.parseEnsApiError(i,`Error registering name ${t}`);throw Ve.replace("RegisterAccountName"),new Error(s)}finally{so.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},sg=Xs(Uz);var Jy={exports:{}},ZT;function $z(){if(ZT)return Jy.exports;ZT=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,k,F){return Function.prototype.apply.call(O,k,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:r=function(O){return Object.getOwnPropertyNames(O)};function n(D){console&&console.warn&&console.warn(D)}var i=Number.isNaN||function(O){return O!==O};function s(){s.init.call(this)}Jy.exports=s,Jy.exports.once=w,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");o=D}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(D){return D._maxListeners===void 0?s.defaultMaxListeners:D._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(O){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var N=O==="error",v=this._events;if(v!==void 0)N=N&&v.error===void 0;else if(!N)return!1;if(N){var M;if(k.length>0&&(M=k[0]),M instanceof Error)throw M;var $=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw $.context=M,$}var P=v[O];if(P===void 0)return!1;if(typeof P=="function")e(P,this,k);else for(var C=P.length,p=m(P,C),F=0;F<C;++F)e(p[F],this,k);return!0};function l(D,O,k,F){var N,v,M;if(a(k),v=D._events,v===void 0?(v=D._events=Object.create(null),D._eventsCount=0):(v.newListener!==void 0&&(D.emit("newListener",O,k.listener?k.listener:k),v=D._events),M=v[O]),M===void 0)M=v[O]=k,++D._eventsCount;else if(typeof M=="function"?M=v[O]=F?[k,M]:[M,k]:F?M.unshift(k):M.push(k),N=c(D),N>0&&M.length>N&&!M.warned){M.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=D,$.type=O,$.count=M.length,n($)}return D}s.prototype.addListener=function(O,k){return l(this,O,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(O,k){return l(this,O,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(D,O,k){var F={fired:!1,wrapFn:void 0,target:D,type:O,listener:k},N=u.bind(F);return N.listener=k,F.wrapFn=N,N}s.prototype.once=function(O,k){return a(k),this.on(O,f(this,O,k)),this},s.prototype.prependOnceListener=function(O,k){return a(k),this.prependListener(O,f(this,O,k)),this},s.prototype.removeListener=function(O,k){var F,N,v,M,$;if(a(k),N=this._events,N===void 0)return this;if(F=N[O],F===void 0)return this;if(F===k||F.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete N[O],N.removeListener&&this.emit("removeListener",O,F.listener||k));else if(typeof F!="function"){for(v=-1,M=F.length-1;M>=0;M--)if(F[M]===k||F[M].listener===k){$=F[M].listener,v=M;break}if(v<0)return this;v===0?F.shift():g(F,v),F.length===1&&(N[O]=F[0]),N.removeListener!==void 0&&this.emit("removeListener",O,$||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(O){var k,F,N;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var v=Object.keys(F),M;for(N=0;N<v.length;++N)M=v[N],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=F[O],typeof k=="function")this.removeListener(O,k);else if(k!==void 0)for(N=k.length-1;N>=0;N--)this.removeListener(O,k[N]);return this};function d(D,O,k){var F=D._events;if(F===void 0)return[];var N=F[O];return N===void 0?[]:typeof N=="function"?k?[N.listener||N]:[N]:k?b(N):m(N,N.length)}s.prototype.listeners=function(O){return d(this,O,!0)},s.prototype.rawListeners=function(O){return d(this,O,!1)},s.listenerCount=function(D,O){return typeof D.listenerCount=="function"?D.listenerCount(O):h.call(D,O)},s.prototype.listenerCount=h;function h(D){var O=this._events;if(O!==void 0){var k=O[D];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(D,O){for(var k=new Array(O),F=0;F<O;++F)k[F]=D[F];return k}function g(D,O){for(;O+1<D.length;O++)D[O]=D[O+1];D.pop()}function b(D){for(var O=new Array(D.length),k=0;k<O.length;++k)O[k]=D[k].listener||D[k];return O}function w(D,O){return new Promise(function(k,F){function N(M){D.removeListener(O,v),F(M)}function v(){typeof D.removeListener=="function"&&D.removeListener("error",N),k([].slice.call(arguments))}S(D,O,v,{once:!0}),O!=="error"&&x(D,N,{once:!0})})}function x(D,O,k){typeof D.on=="function"&&S(D,"error",O,k)}function S(D,O,k,F){if(typeof D.on=="function")F.once?D.once(O,k):D.on(O,k);else if(typeof D.addEventListener=="function")D.addEventListener(O,function N(v){F.once&&D.removeEventListener(O,N),k(v)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return Jy.exports}var Bo=$z();const zN=Ts(Bo);var fv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u2=function(t,e){return u2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},u2(t,e)};function Lz(t,e){u2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var f2=function(){return f2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},f2.apply(this,arguments)};function Fz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Bz(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function jz(t,e){return function(r,n){e(r,n,t)}}function Hz(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Wz(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function qz(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zz(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Gz(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function d2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zM(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Kz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zM(arguments[e]));return t}function Vz(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function cm(t){return this instanceof cm?(this.v=t,this):new cm(t)}function Jz(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(m,g){s.push([d,h,m,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(m){f(s[0][3],m)}}function c(d){d.value instanceof cm?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Yz(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:cm(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Xz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof d2=="function"?d2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Qz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Zz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function eG(t){return t&&t.__esModule?t:{default:t}}function tG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function rG(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const nG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return f2},__asyncDelegator:Yz,__asyncGenerator:Jz,__asyncValues:Xz,__await:cm,__awaiter:Wz,__classPrivateFieldGet:tG,__classPrivateFieldSet:rG,__createBinding:zz,__decorate:Bz,__exportStar:Gz,__extends:Lz,__generator:qz,__importDefault:eG,__importStar:Zz,__makeTemplateObject:Qz,__metadata:Hz,__param:jz,__read:zM,__rest:Fz,__spread:Kz,__spreadArrays:Vz,__values:d2},Symbol.toStringTag,{value:"Module"})),uy=Kr(nG);var dv={},lp={},e3;function iG(){if(e3)return lp;e3=1,Object.defineProperty(lp,"__esModule",{value:!0}),lp.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return lp.delay=t,lp}var Df={},hv={},kf={},t3;function sG(){return t3||(t3=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.ONE_THOUSAND=kf.ONE_HUNDRED=void 0,kf.ONE_HUNDRED=100,kf.ONE_THOUSAND=1e3),kf}var pv={},r3;function oG(){return r3||(r3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(pv)),pv}var n3;function GM(){return n3||(n3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uy;e.__exportStar(sG(),t),e.__exportStar(oG(),t)})(hv)),hv}var i3;function aG(){if(i3)return Df;i3=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.fromMiliseconds=Df.toMiliseconds=void 0;const t=GM();function e(n){return n*t.ONE_THOUSAND}Df.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Df.fromMiliseconds=r,Df}var s3;function cG(){return s3||(s3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uy;e.__exportStar(iG(),t),e.__exportStar(aG(),t)})(dv)),dv}var th={},o3;function lG(){if(o3)return th;o3=1,Object.defineProperty(th,"__esModule",{value:!0}),th.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return th.Watch=t,th.default=t,th}var gv={},up={},a3;function uG(){if(a3)return up;a3=1,Object.defineProperty(up,"__esModule",{value:!0}),up.IWatch=void 0;class t{}return up.IWatch=t,up}var c3;function fG(){return c3||(c3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),uy.__exportStar(uG(),t)})(gv)),gv}var l3;function dG(){return l3||(l3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uy;e.__exportStar(cG(),t),e.__exportStar(lG(),t),e.__exportStar(fG(),t),e.__exportStar(GM(),t)})(fv)),fv}var Ce=dG();class Wd{}let hG=class extends Wd{constructor(e){super()}};const u3=Ce.FIVE_SECONDS,qd={pulse:"heartbeat_pulse"};let pG=class KM extends hG{constructor(e){super(e),this.events=new Bo.EventEmitter,this.interval=u3,this.interval=e?.interval||u3}static async init(e){const r=new KM(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ce.toMiliseconds(this.interval))}pulse(){this.events.emit(qd.pulse)}};const gG=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,mG=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,yG=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function bG(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){_G(t);return}return e}function _G(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Yy(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!yG.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(gG.test(t)||mG.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,bG)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function wG(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return wG(t(...e))}catch(r){return Promise.reject(r)}}function EG(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function vG(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Bb(t){if(EG(t))return String(t);if(vG(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Bb(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const h2="base64:";function xG(t){return typeof t=="string"?t:h2+NG(t)}function AG(t){return typeof t!="string"||!t.startsWith(h2)?t:CG(t.slice(h2.length))}function CG(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function NG(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function ps(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function SG(...t){return ps(t.join(":"))}function Xy(t){return t=ps(t),t?t+":":""}function IG(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function TG(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const RG="memory",PG=()=>{const t=new Map;return{name:RG,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function OG(t={}){const e={mounts:{"":t.driver||PG()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=ps(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await f3(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,h=m=>{let g=d.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},d.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",b=ps(g?m:m.key),w=g?void 0:m.value,x=g||!m.options?u:{...u,...m.options},S=r(b);h(S).items.push({key:b,value:w,relativeKey:S.relativeKey,options:x})}return Promise.all([...d.values()].map(m=>f(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=ps(l);const{relativeKey:f,driver:d}=r(l);return zn(d.hasItem,f,u)},getItem(l,u={}){l=ps(l);const{relativeKey:f,driver:d}=r(l);return zn(d.getItem,f,u).then(h=>Yy(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?zn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:SG(f.base,h.key),value:Yy(h.value)}))):Promise.all(f.items.map(d=>zn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:Yy(h)})))))},getItemRaw(l,u={}){l=ps(l);const{relativeKey:f,driver:d}=r(l);return d.getItemRaw?zn(d.getItemRaw,f,u):zn(d.getItem,f,u).then(h=>AG(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=ps(l);const{relativeKey:d,driver:h}=r(l);h.setItem&&(await zn(h.setItem,d,Bb(u),f),h.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return zn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:Bb(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>zn(f.driver.setItem,d.relativeKey,Bb(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=ps(l);const{relativeKey:d,driver:h}=r(l);if(h.setItemRaw)await zn(h.setItemRaw,d,u,f);else if(h.setItem)await zn(h.setItem,d,xG(u),f);else return;h.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=ps(l);const{relativeKey:f,driver:d}=r(l);d.removeItem&&(await zn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await zn(d.removeItem,f+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=ps(l);const{relativeKey:f,driver:d}=r(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await zn(d.getMeta,f,u)),!u.nativeOnly){const m=await zn(d.getItem,f+"$",u).then(g=>Yy(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(h,m))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=Xy(l);const f=n(l,!0);let d=[];const h=[];let m=!0;for(const b of f){b.driver.flags?.maxDepth||(m=!1);const w=await zn(b.driver.getKeys,b.relativeBase,u);for(const x of w){const S=b.mountpoint+ps(x);d.some(D=>S.startsWith(D))||h.push(S)}d=[b.mountpoint,...d.filter(x=>!x.startsWith(b.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return h.filter(b=>(!g||IG(b,u.maxDepth))&&TG(b,l))},async clear(l,u={}){l=Xy(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return zn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>d3(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Xy(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(f3(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=Xy(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await d3(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=ps(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=ps(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function f3(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function d3(t){typeof t.dispose=="function"&&await zn(t.dispose)}function zd(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function VM(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=zd(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let mv;function fy(){return mv||(mv=VM("keyval-store","keyval")),mv}function h3(t,e=fy()){return e("readonly",r=>zd(r.get(t)))}function DG(t,e,r=fy()){return r("readwrite",n=>(n.put(e,t),zd(n.transaction)))}function kG(t,e=fy()){return e("readwrite",r=>(r.delete(t),zd(r.transaction)))}function MG(t=fy()){return t("readwrite",e=>(e.clear(),zd(e.transaction)))}function UG(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},zd(t.transaction)}function $G(t=fy()){return t("readonly",e=>{if(e.getAllKeys)return zd(e.getAllKeys());const r=[];return UG(e,n=>r.push(n.key)).then(()=>r)})}const LG=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),FG=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Ad(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return FG(t)}catch{return t}}function kl(t){return typeof t=="string"?t:LG(t)||""}const BG="idb-keyval";var jG=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=VM(t.dbName,t.storeName)),{name:BG,options:t,async hasItem(i){return!(typeof await h3(r(i),n)>"u")},async getItem(i){return await h3(r(i),n)??null},setItem(i,s){return DG(r(i),s,n)},removeItem(i){return kG(r(i),n)},getKeys(){return $G(n)},clear(){return MG(n)}}};const HG="WALLET_CONNECT_V2_INDEXED_DB",WG="keyvaluestorage";let qG=class{constructor(){this.indexedDb=OG({driver:jG({dbName:HG,storeName:WG})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,kl(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jb={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof yv<"u"&&yv.localStorage?jb.exports=yv.localStorage:typeof window<"u"&&window.localStorage?jb.exports=window.localStorage:jb.exports=new e})();function zG(t){var e;return[t[0],Ad((e=t[1])!=null?e:"")]}let GG=class{constructor(){this.localStorage=jb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(zG)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Ad(r)}async setItem(e,r){this.localStorage.setItem(e,kl(r))}async removeItem(e){this.localStorage.removeItem(e)}};const KG="wc_storage_version",p3=1,VG=async(t,e,r)=>{const n=KG,i=await e.getItem(n);if(i&&i>=p3){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,p3),r(e),JG(t,o)},JG=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let YG=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new GG;this.storage=e;try{const r=new qG;VG(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var bv,g3;function XG(){if(g3)return bv;g3=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}bv=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",d=1-o,h=-1,m=r&&r.length||0,g=0;g<m;){if(r.charCodeAt(g)===37&&g+1<m){switch(h=h>-1?h:0,r.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Number(n[d]),h=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Math.floor(Number(n[d])),h=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;h<g&&(f+=r.slice(h,g));var b=typeof n[d];if(b==="string"){f+="'"+n[d]+"'",h=g+2,g++;break}if(b==="function"){f+=n[d].name||"<anonymous>",h=g+2,g++;break}f+=s(n[d]),h=g+2,g++;break;case 115:if(d>=u)break;h<g&&(f+=r.slice(h,g)),f+=String(n[d]),h=g+2,g++;break;case 37:h<g&&(f+=r.slice(h,g)),f+="%",h=g+2,g++,d--;break}++d}++g}return h===-1?r:(h<m&&(f+=r.slice(h)),f)}return bv}var _v,m3;function QG(){if(m3)return _v;m3=1;const t=XG();_v=i;const e=O().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:d};function n(k,F){return Array.isArray(k)?k.filter(function(v){return v!=="!stdSerializers.err"}):k===!0?Object.keys(F):!1}function i(k){k=k||{},k.browser=k.browser||{};const F=k.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const N=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const v=k.serializers||{},M=n(k.browser.serialize,v);let $=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const P=["error","fatal","warn","info","debug","trace"];typeof N=="function"&&(N.error=N.fatal=N.warn=N.info=N.debug=N.trace=N),k.enabled===!1&&(k.level="silent");const C=k.level||"info",p=Object.create(N);p.log||(p.log=b),Object.defineProperty(p,"levelVal",{get:_}),Object.defineProperty(p,"level",{get:A,set:I});const y={transmit:F,serialize:M,asObject:k.browser.asObject,levels:P,timestamp:h(k)};p.levels=i.levels,p.level=C,p.setMaxListeners=p.getMaxListeners=p.emit=p.addListener=p.on=p.prependListener=p.once=p.prependOnceListener=p.removeListener=p.removeAllListeners=p.listeners=p.listenerCount=p.eventNames=p.write=p.flush=b,p.serializers=v,p._serialize=M,p._stdErrSerialize=$,p.child=U,F&&(p._logEvent=f());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function A(){return this._level}function I(B){if(B!=="silent"&&!this.levels.values[B])throw Error("unknown level "+B);this._level=B,s(y,p,"error","log"),s(y,p,"fatal","error"),s(y,p,"warn","error"),s(y,p,"info","log"),s(y,p,"debug","log"),s(y,p,"trace","log")}function U(B,R){if(!B)throw new Error("missing bindings for child Pino");R=R||{},M&&B.serializers&&(R.serializers=B.serializers);const E=R.serializers;if(M&&E){var L=Object.assign({},v,E),G=k.browser.serialize===!0?Object.keys(L):M;delete B.serializers,c([B],G,L,this._stdErrSerialize)}function T(V){this._childLevel=(V._childLevel|0)+1,this.error=l(V,B,"error"),this.fatal=l(V,B,"fatal"),this.warn=l(V,B,"warn"),this.info=l(V,B,"info"),this.debug=l(V,B,"debug"),this.trace=l(V,B,"trace"),L&&(this.serializers=L,this._serialize=G),F&&(this._logEvent=f([].concat(V._logEvent.bindings,B)))}return T.prototype=this,new T(this)}return p}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:w,epochTime:x,unixTime:S,isoTime:D});function s(k,F,N,v){const M=Object.getPrototypeOf(F);F[N]=F.levelVal>F.levels.values[N]?b:M[N]?M[N]:e[N]||e[v]||b,o(k,F,N)}function o(k,F,N){!k.transmit&&F[N]===b||(F[N]=(function(v){return function(){const $=k.timestamp(),P=new Array(arguments.length),C=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var p=0;p<P.length;p++)P[p]=arguments[p];if(k.serialize&&!k.asObject&&c(P,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?v.call(C,a(this,N,P,$)):v.apply(C,P),k.transmit){const y=k.transmit.level||F.level,_=i.levels.values[y],A=i.levels.values[N];if(A<_)return;u(this,{ts:$,methodLevel:N,methodValue:A,transmitValue:i.levels.values[k.transmit.level||F.level],send:k.transmit.send,val:F.levelVal},P)}}})(F[N]))}function a(k,F,N,v){k._serialize&&c(N,k._serialize,k.serializers,k._stdErrSerialize);const M=N.slice();let $=M[0];const P={};v&&(P.time=v),P.level=i.levels.values[F];let C=(k._childLevel|0)+1;if(C<1&&(C=1),$!==null&&typeof $=="object"){for(;C--&&typeof M[0]=="object";)Object.assign(P,M.shift());$=M.length?t(M.shift(),M):void 0}else typeof $=="string"&&($=t(M.shift(),M));return $!==void 0&&(P.msg=$),P}function c(k,F,N,v){for(const M in k)if(v&&k[M]instanceof Error)k[M]=i.stdSerializers.err(k[M]);else if(typeof k[M]=="object"&&!Array.isArray(k[M]))for(const $ in k[M])F&&F.indexOf($)>-1&&$ in N&&(k[M][$]=N[$](k[M][$]))}function l(k,F,N){return function(){const v=new Array(1+arguments.length);v[0]=F;for(var M=1;M<v.length;M++)v[M]=arguments[M-1];return k[N].apply(this,v)}}function u(k,F,N){const v=F.send,M=F.ts,$=F.methodLevel,P=F.methodValue,C=F.val,p=k._logEvent.bindings;c(N,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=M,k._logEvent.messages=N.filter(function(y){return p.indexOf(y)===-1}),k._logEvent.level.label=$,k._logEvent.level.value=P,v($,k._logEvent,C),k._logEvent=f(p)}function f(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function d(k){const F={type:k.constructor.name,msg:k.message,stack:k.stack};for(const N in k)F[N]===void 0&&(F[N]=k[N]);return F}function h(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?w:x}function m(){return{}}function g(k){return k}function b(){}function w(){return!1}function x(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function D(){return new Date(Date.now()).toISOString()}function O(){function k(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return _v}var Th=QG();const dy=Ts(Th),ZG={level:"info"},hy="custom_context",GN=1e3*1024;let eK=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},y3=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new eK(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},JM=class{constructor(e,r=GN){this.level=e??"error",this.levelValue=Th.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new y3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Th.levels.values.error?console.error(e):r===Th.levels.values.warn?console.warn(e):r===Th.levels.values.debug?console.debug(e):r===Th.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(kl({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new y3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(kl({extraMetadata:e})),new Blob(r,{type:"application/json"})}},tK=class{constructor(e,r=GN){this.baseChunkLogger=new JM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},rK=class{constructor(e,r=GN){this.baseChunkLogger=new JM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var nK=Object.defineProperty,iK=Object.defineProperties,sK=Object.getOwnPropertyDescriptors,b3=Object.getOwnPropertySymbols,oK=Object.prototype.hasOwnProperty,aK=Object.prototype.propertyIsEnumerable,_3=(t,e,r)=>e in t?nK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,iw=(t,e)=>{for(var r in e||(e={}))oK.call(e,r)&&_3(t,r,e[r]);if(b3)for(var r of b3(e))aK.call(e,r)&&_3(t,r,e[r]);return t},sw=(t,e)=>iK(t,sK(e));function M0(t){return sw(iw({},t),{level:t?.level||ZG.level})}function cK(t,e=hy){return t[e]||""}function lK(t,e,r=hy){return t[r]=e,t}function Ps(t,e=hy){let r="";return typeof t.bindings>"u"?r=cK(t,e):r=t.bindings().context||"",r}function uK(t,e,r=hy){const n=Ps(t,r);return n.trim()?`${n}/${e}`:e}function Bi(t,e,r=hy){const n=uK(t,e,r),i=t.child({context:n});return lK(i,n,r)}function fK(t){var e,r;const n=new tK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dy(sw(iw({},t.opts),{level:"trace",browser:sw(iw({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function dK(t){var e;const r=new rK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dy(sw(iw({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function KN(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?fK(t):dK(t)}var hK=Object.defineProperty,pK=(t,e,r)=>e in t?hK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w3=(t,e,r)=>pK(t,typeof e!="symbol"?e+"":e,r);let gK=class extends Wd{constructor(e){super(),this.opts=e,w3(this,"protocol","wc"),w3(this,"version",2)}};var mK=Object.defineProperty,yK=(t,e,r)=>e in t?mK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bK=(t,e,r)=>yK(t,e+"",r);let _K=class extends Wd{constructor(e,r){super(),this.core=e,this.logger=r,bK(this,"records",new Map)}},wK=class{constructor(e,r){this.logger=e,this.core=r}},EK=class extends Wd{constructor(e,r){super(),this.relayer=e,this.logger=r}},vK=class extends Wd{constructor(e){super()}},xK=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},AK=class extends Wd{constructor(e,r){super(),this.relayer=e,this.logger=r}},CK=class extends Wd{constructor(e,r){super(),this.core=e,this.logger=r}},NK=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},SK=class{constructor(e,r){this.projectId=e,this.logger=r}},IK=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var TK=Object.defineProperty,RK=(t,e,r)=>e in t?TK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,E3=(t,e,r)=>RK(t,typeof e!="symbol"?e+"":e,r);let PK=class{constructor(e){this.opts=e,E3(this,"protocol","wc"),E3(this,"version",2)}},OK=class{constructor(e){this.client=e}};function DK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function YM(t,...e){if(!DK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function v3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function kK(t,e){YM(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function MK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function XM(t){return typeof t=="string"&&(t=MK(t)),YM(t),t}let UK=class{clone(){return this._cloneInto()}};function $K(t){const e=n=>t().update(XM(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function QM(t=32){if(rh&&typeof rh.getRandomValues=="function")return rh.getRandomValues(new Uint8Array(t));if(rh&&typeof rh.randomBytes=="function")return rh.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function LK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let FK=class extends UK{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wv(this.buffer)}update(e){v3(this);const{view:r,buffer:n,blockLen:i}=this;e=XM(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=wv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){v3(this),kK(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;LK(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=wv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const Qy=BigInt(2**32-1),p2=BigInt(32);function ZM(t,e=!1){return e?{h:Number(t&Qy),l:Number(t>>p2&Qy)}:{h:Number(t>>p2&Qy)|0,l:Number(t&Qy)|0}}function BK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ZM(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const jK=(t,e)=>BigInt(t>>>0)<<p2|BigInt(e>>>0),HK=(t,e,r)=>t>>>r,WK=(t,e,r)=>t<<32-r|e>>>r,qK=(t,e,r)=>t>>>r|e<<32-r,zK=(t,e,r)=>t<<32-r|e>>>r,GK=(t,e,r)=>t<<64-r|e>>>r-32,KK=(t,e,r)=>t>>>r-32|e<<64-r,VK=(t,e)=>e,JK=(t,e)=>t,YK=(t,e,r)=>t<<r|e>>>32-r,XK=(t,e,r)=>e<<r|t>>>32-r,QK=(t,e,r)=>e<<r-32|t>>>64-r,ZK=(t,e,r)=>t<<r-32|e>>>64-r;function eV(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const tV=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),rV=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,nV=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),iV=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,sV=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),oV=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,at={fromBig:ZM,split:BK,toBig:jK,shrSH:HK,shrSL:WK,rotrSH:qK,rotrSL:zK,rotrBH:GK,rotrBL:KK,rotr32H:VK,rotr32L:JK,rotlSH:YK,rotlSL:XK,rotlBH:QK,rotlBL:ZK,add:eV,add3L:tV,add3H:rV,add4L:nV,add4H:iV,add5H:oV,add5L:sV},[aV,cV]=at.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),tu=new Uint32Array(80),ru=new Uint32Array(80);let lV=class extends FK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)tu[S]=e.getUint32(r),ru[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const D=tu[S-15]|0,O=ru[S-15]|0,k=at.rotrSH(D,O,1)^at.rotrSH(D,O,8)^at.shrSH(D,O,7),F=at.rotrSL(D,O,1)^at.rotrSL(D,O,8)^at.shrSL(D,O,7),N=tu[S-2]|0,v=ru[S-2]|0,M=at.rotrSH(N,v,19)^at.rotrBH(N,v,61)^at.shrSH(N,v,6),$=at.rotrSL(N,v,19)^at.rotrBL(N,v,61)^at.shrSL(N,v,6),P=at.add4L(F,$,ru[S-7],ru[S-16]),C=at.add4H(P,k,M,tu[S-7],tu[S-16]);tu[S]=C|0,ru[S]=P|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:w,Hl:x}=this;for(let S=0;S<80;S++){const D=at.rotrSH(f,d,14)^at.rotrSH(f,d,18)^at.rotrBH(f,d,41),O=at.rotrSL(f,d,14)^at.rotrSL(f,d,18)^at.rotrBL(f,d,41),k=f&h^~f&g,F=d&m^~d&b,N=at.add5L(x,O,F,cV[S],ru[S]),v=at.add5H(N,w,D,k,aV[S],tu[S]),M=N|0,$=at.rotrSH(n,i,28)^at.rotrBH(n,i,34)^at.rotrBH(n,i,39),P=at.rotrSL(n,i,28)^at.rotrBL(n,i,34)^at.rotrBL(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;w=g|0,x=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=at.add(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=at.add3L(M,P,p);n=at.add3H(y,v,$,C),i=y|0}({h:n,l:i}=at.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=at.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=at.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=at.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=at.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=at.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=at.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:w,l:x}=at.add(this.Hh|0,this.Hl|0,w|0,x|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,w,x)}roundClean(){tu.fill(0),ru.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const uV=$K(()=>new lV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VN=BigInt(0),e9=BigInt(1),fV=BigInt(2);function JN(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function YN(t){if(!JN(t))throw new Error("Uint8Array expected")}function Ev(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const dV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function XN(t){YN(t);let e="";for(let r=0;r<t.length;r++)e+=dV[t[r]];return e}function t9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?VN:BigInt("0x"+t)}const Kc={_0:48,_9:57,A:65,F:70,a:97,f:102};function x3(t){if(t>=Kc._0&&t<=Kc._9)return t-Kc._0;if(t>=Kc.A&&t<=Kc.F)return t-(Kc.A-10);if(t>=Kc.a&&t<=Kc.f)return t-(Kc.a-10)}function r9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=x3(t.charCodeAt(s)),a=x3(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function hV(t){return t9(XN(t))}function Hb(t){return YN(t),t9(XN(Uint8Array.from(t).reverse()))}function n9(t,e){return r9(t.toString(16).padStart(e*2,"0"))}function g2(t,e){return n9(t,e).reverse()}function Vc(t,e,r){let n;if(typeof e=="string")try{n=r9(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(JN(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function A3(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];YN(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const vv=t=>typeof t=="bigint"&&VN<=t;function pV(t,e,r){return vv(t)&&vv(e)&&vv(r)&&e<=t&&t<r}function fp(t,e,r,n){if(!pV(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function gV(t){let e;for(e=0;t>VN;t>>=e9,e+=1);return e}const mV=t=>(fV<<BigInt(t-1))-e9,yV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||JN(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function QN(t,e,r={}){const n=(i,s,o)=>{const a=yV[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function C3(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Vn=BigInt(0),cn=BigInt(1),Kf=BigInt(2),bV=BigInt(3),m2=BigInt(4),N3=BigInt(5),S3=BigInt(8);function Mn(t,e){const r=t%e;return r>=Vn?r:e+r}function _V(t,e,r){if(e<Vn)throw new Error("invalid exponent, negatives unsupported");if(r<=Vn)throw new Error("invalid modulus");if(r===cn)return Vn;let n=cn;for(;e>Vn;)e&cn&&(n=n*t%r),t=t*t%r,e>>=cn;return n}function ac(t,e,r){let n=t;for(;e-- >Vn;)n*=n,n%=r;return n}function I3(t,e){if(t===Vn)throw new Error("invert: expected non-zero number");if(e<=Vn)throw new Error("invert: expected positive modulus, got "+e);let r=Mn(t,e),n=e,i=Vn,s=cn;for(;r!==Vn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==cn)throw new Error("invert: does not exist");return Mn(i,e)}function wV(t){const e=(t-cn)/Kf;let r,n,i;for(r=t-cn,n=0;r%Kf===Vn;r/=Kf,n++);for(i=Kf;i<t&&_V(i,e,t)!==t-cn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+cn)/m2;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+cn)/Kf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(f);d<c&&!o.eql(m,o.ONE);d++)m=o.sqr(m);const h=o.pow(l,cn<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function EV(t){if(t%m2===bV){const e=(t+cn)/m2;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%S3===N3){const e=(t-N3)/S3;return function(r,n){const i=r.mul(n,Kf),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Kf),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return wV(t)}const vV=(t,e)=>(Mn(t,e)&cn)===cn,xV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function AV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xV.reduce((n,i)=>(n[i]="function",n),e);return QN(t,r)}function CV(t,e,r){if(r<Vn)throw new Error("invalid exponent, negatives unsupported");if(r===Vn)return t.ONE;if(r===cn)return e;let n=t.ONE,i=e;for(;r>Vn;)r&cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=cn;return n}function NV(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function i9(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function s9(t,e,r=!1,n={}){if(t<=Vn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=i9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:mV(i),ZERO:Vn,ONE:cn,create:c=>Mn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Vn<=c&&c<t},is0:c=>c===Vn,isOdd:c=>(c&cn)===cn,neg:c=>Mn(-c,t),eql:(c,l)=>c===l,sqr:c=>Mn(c*c,t),add:(c,l)=>Mn(c+l,t),sub:(c,l)=>Mn(c-l,t),mul:(c,l)=>Mn(c*l,t),pow:(c,l)=>CV(a,c,l),div:(c,l)=>Mn(c*I3(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>I3(c,t),sqrt:n.sqrt||(c=>(o||(o=EV(t)),o(a,c))),invertBatch:c=>NV(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?g2(c,s):n9(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Hb(c):hV(c)}});return Object.freeze(a)}const T3=BigInt(0),Zy=BigInt(1);function xv(t,e){const r=e.negate();return t?r:e}function o9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Av(t,e){o9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function SV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function IV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Cv=new WeakMap,a9=new WeakMap;function Nv(t){return a9.get(t)||1}function TV(t,e){return{constTimeNegate:xv,hasPrecomputes(r){return Nv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>T3;)n&Zy&&(i=i.add(s)),s=s.double(),n>>=Zy;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Av(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=Av(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let m=Number(i&l);i>>=f,m>o&&(m-=u,i+=Zy);const g=h,b=h+Math.abs(m)-1,w=d%2!==0,x=m<0;m===0?c=c.add(xv(w,n[g])):a=a.add(xv(x,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=Av(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===T3)break;let h=Number(i&c);if(i>>=u,h>a&&(h-=l,i+=Zy),h===0)continue;let m=n[d+Math.abs(h)-1];h<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=Cv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Cv.set(n,i(s))),s},wNAFCached(r,n,i){const s=Nv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Nv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){o9(n,e),a9.set(r,n),Cv.delete(r)}}}function RV(t,e,r,n){if(SV(r,t),IV(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=gV(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const m=n[h],g=Number(m>>BigInt(f)&BigInt(a));c[g]=c[g].add(r[h])}let d=i;for(let h=c.length-1,m=i;h>0;h--)m=m.add(c[h]),d=d.add(m);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function PV(t){return AV(t.Fp),QN(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...i9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Zo=BigInt(0),is=BigInt(1),eb=BigInt(2),OV=BigInt(8),DV={zip215:!0};function kV(t){const e=PV(t);return QN(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function MV(t){const e=kV(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=eb<<BigInt(a*8)-is,u=r.create,f=s9(e.n,e.nBitLength),d=e.uvRatio||((y,_)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(_))}}catch{return{isValid:!1,value:Zo}}}),h=e.adjustScalarBytes||(y=>y),m=e.domain||((y,_,A)=>{if(Ev("phflag",A),_.length||A)throw new Error("Contexts/pre-hash are not supported");return y});function g(y,_){fp("coordinate "+y,_,Zo,l)}function b(y){if(!(y instanceof S))throw new Error("ExtendedPoint expected")}const w=C3((y,_)=>{const{ex:A,ey:I,ez:U}=y,B=y.is0();_==null&&(_=B?OV:r.inv(U));const R=u(A*_),E=u(I*_),L=u(U*_);if(B)return{x:Zo,y:is};if(L!==is)throw new Error("invZ was invalid");return{x:R,y:E}}),x=C3(y=>{const{a:_,d:A}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:I,ey:U,ez:B,et:R}=y,E=u(I*I),L=u(U*U),G=u(B*B),T=u(G*G),V=u(E*_),K=u(G*u(V+L)),X=u(T+u(A*u(E*L)));if(K!==X)throw new Error("bad point: equation left != right (1)");const Q=u(I*U),ie=u(B*R);if(Q!==ie)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(_,A,I,U){this.ex=_,this.ey=A,this.ez=I,this.et=U,g("x",_),g("y",A),g("z",I),g("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof S)throw new Error("extended point not allowed");const{x:A,y:I}=_||{};return g("x",A),g("y",I),new S(A,I,is,u(A*I))}static normalizeZ(_){const A=r.invertBatch(_.map(I=>I.ez));return _.map((I,U)=>I.toAffine(A[U])).map(S.fromAffine)}static msm(_,A){return RV(S,f,_,A)}_setWindowSize(_){k.setWindowSize(this,_)}assertValidity(){x(this)}equals(_){b(_);const{ex:A,ey:I,ez:U}=this,{ex:B,ey:R,ez:E}=_,L=u(A*E),G=u(B*U),T=u(I*E),V=u(R*U);return L===G&&T===V}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=e,{ex:A,ey:I,ez:U}=this,B=u(A*A),R=u(I*I),E=u(eb*u(U*U)),L=u(_*B),G=A+I,T=u(u(G*G)-B-R),V=L+R,K=V-E,X=L-R,Q=u(T*K),ie=u(V*X),le=u(T*X),H=u(K*V);return new S(Q,ie,H,le)}add(_){b(_);const{a:A,d:I}=e,{ex:U,ey:B,ez:R,et:E}=this,{ex:L,ey:G,ez:T,et:V}=_;if(A===BigInt(-1)){const we=u((B-U)*(G+L)),q=u((B+U)*(G-L)),z=u(q-we);if(z===Zo)return this.double();const ne=u(R*eb*V),se=u(E*eb*T),pe=se+ne,me=q+we,ee=se-ne,ce=u(pe*z),ke=u(me*ee),Le=u(pe*ee),Ge=u(z*me);return new S(ce,ke,Ge,Le)}const K=u(U*L),X=u(B*G),Q=u(E*I*V),ie=u(R*T),le=u((U+B)*(L+G)-K-X),H=ie-Q,Y=ie+Q,W=u(X-A*K),Z=u(le*H),fe=u(Y*W),oe=u(le*W),ge=u(H*Y);return new S(Z,fe,ge,oe)}subtract(_){return this.add(_.negate())}wNAF(_){return k.wNAFCached(this,_,S.normalizeZ)}multiply(_){const A=_;fp("scalar",A,is,n);const{p:I,f:U}=this.wNAF(A);return S.normalizeZ([I,U])[0]}multiplyUnsafe(_,A=S.ZERO){const I=_;return fp("scalar",I,Zo,n),I===Zo?O:this.is0()||I===is?this:k.wNAFCachedUnsafe(this,I,S.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(_){return w(this,_)}clearCofactor(){const{h:_}=e;return _===is?this:this.multiplyUnsafe(_)}static fromHex(_,A=!1){const{d:I,a:U}=e,B=r.BYTES;_=Vc("pointHex",_,B),Ev("zip215",A);const R=_.slice(),E=_[B-1];R[B-1]=E&-129;const L=Hb(R),G=A?l:r.ORDER;fp("pointHex.y",L,Zo,G);const T=u(L*L),V=u(T-is),K=u(I*T-U);let{isValid:X,value:Q}=d(V,K);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const ie=(Q&is)===is,le=(E&128)!==0;if(!A&&Q===Zo&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==ie&&(Q=u(-Q)),S.fromAffine({x:Q,y:L})}static fromPrivateKey(_){return v(_).point}toRawBytes(){const{x:_,y:A}=this.toAffine(),I=g2(A,r.BYTES);return I[I.length-1]|=_&is?128:0,I}toHex(){return XN(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,is,u(e.Gx*e.Gy)),S.ZERO=new S(Zo,is,is,Zo);const{BASE:D,ZERO:O}=S,k=TV(S,a*8);function F(y){return Mn(y,n)}function N(y){return F(Hb(y))}function v(y){const _=r.BYTES;y=Vc("private key",y,_);const A=Vc("hashed private key",s(y),2*_),I=h(A.slice(0,_)),U=A.slice(_,2*_),B=N(I),R=D.multiply(B),E=R.toRawBytes();return{head:I,prefix:U,scalar:B,point:R,pointBytes:E}}function M(y){return v(y).pointBytes}function $(y=new Uint8Array,..._){const A=A3(..._);return N(s(m(A,Vc("context",y),!!i)))}function P(y,_,A={}){y=Vc("message",y),i&&(y=i(y));const{prefix:I,scalar:U,pointBytes:B}=v(_),R=$(A.context,I,y),E=D.multiply(R).toRawBytes(),L=$(A.context,E,B,y),G=F(R+L*U);fp("signature.s",G,Zo,n);const T=A3(E,g2(G,r.BYTES));return Vc("result",T,r.BYTES*2)}const C=DV;function p(y,_,A,I=C){const{context:U,zip215:B}=I,R=r.BYTES;y=Vc("signature",y,2*R),_=Vc("message",_),A=Vc("publicKey",A,R),B!==void 0&&Ev("zip215",B),i&&(_=i(_));const E=Hb(y.slice(R,2*R));let L,G,T;try{L=S.fromHex(A,B),G=S.fromHex(y.slice(0,R),B),T=D.multiplyUnsafe(E)}catch{return!1}if(!B&&L.isSmallOrder())return!1;const V=$(U,G.toRawBytes(),L.toRawBytes(),_);return G.add(L.multiplyUnsafe(V)).subtract(T).clearCofactor().equals(S.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:P,verify:p,ExtendedPoint:S,utils:{getExtendedPublicKey:v,randomPrivateKey:()=>o(r.BYTES),precompute(y=8,_=S.BASE){return _._setWindowSize(y),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const ZN=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),R3=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const UV=BigInt(1),P3=BigInt(2);BigInt(3);const $V=BigInt(5),LV=BigInt(8);function FV(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=ZN,o=t*t%s*t%s,a=ac(o,P3,s)*o%s,c=ac(a,UV,s)*t%s,l=ac(c,$V,s)*c%s,u=ac(l,e,s)*l%s,f=ac(u,r,s)*u%s,d=ac(f,n,s)*f%s,h=ac(d,i,s)*d%s,m=ac(h,i,s)*d%s,g=ac(m,e,s)*l%s;return{pow_p_5_8:ac(g,P3,s)*t%s,b2:o}}function BV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function jV(t,e){const r=ZN,n=Mn(e*e*e,r),i=Mn(n*n*e,r),s=FV(t*i).pow_p_5_8;let o=Mn(t*n*s,r);const a=Mn(e*o*o,r),c=o,l=Mn(o*R3,r),u=a===t,f=a===Mn(-t,r),d=a===Mn(-t*R3,r);return u&&(o=c),(f||d)&&(o=l),vV(o,r)&&(o=Mn(-o,r)),{isValid:u||f,value:o}}const HV=s9(ZN,void 0,!0),WV={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:HV,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:LV,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:uV,randomBytes:QM,adjustScalarBytes:BV,uvRatio:jV},c9=MV(WV),qV="EdDSA",zV="JWT",ow=".",S1="base64url",l9="utf8",u9="utf8",GV=":",KV="did",VV="key",O3="base58btc",JV="z",YV="K36",XV=32;function eS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function f9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?eS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function d9(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=f9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return eS(r)}function QV(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,D=new Uint8Array(S);w!==x;){for(var O=m[w],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,w++}for(var N=S-b;N!==S&&D[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(D[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,w=0;m[g]===c;)b++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=x-1;(D!==0||O<w)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");w=O,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var N=new Uint8Array(b+(x-F)),v=b;F!==x;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var ZV=QV,eJ=ZV;const h9=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},tJ=t=>new TextEncoder().encode(t),rJ=t=>new TextDecoder().decode(t);let nJ=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},iJ=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return p9(this,e)}},sJ=class{constructor(e){this.decoders=e}or(e){return p9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const p9=(t,e)=>new sJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let oJ=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new nJ(e,r,n),this.decoder=new iJ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const I1=({name:t,prefix:e,encode:r,decode:n})=>new oJ(t,e,r,n),py=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=eJ(r,e);return I1({prefix:t,name:e,encode:n,decode:s=>h9(i(s))})},aJ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},cJ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>I1({prefix:e,name:t,encode(i){return cJ(i,n,r)},decode(i){return aJ(i,n,r,t)}}),lJ=I1({prefix:"\0",name:"identity",encode:t=>rJ(t),decode:t=>tJ(t)});var uJ=Object.freeze({__proto__:null,identity:lJ});const fJ=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var dJ=Object.freeze({__proto__:null,base2:fJ});const hJ=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pJ=Object.freeze({__proto__:null,base8:hJ});const gJ=py({prefix:"9",name:"base10",alphabet:"0123456789"});var mJ=Object.freeze({__proto__:null,base10:gJ});const yJ=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),bJ=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _J=Object.freeze({__proto__:null,base16:yJ,base16upper:bJ});const wJ=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),EJ=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vJ=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xJ=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),AJ=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),CJ=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),NJ=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SJ=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),IJ=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var TJ=Object.freeze({__proto__:null,base32:wJ,base32upper:EJ,base32pad:vJ,base32padupper:xJ,base32hex:AJ,base32hexupper:CJ,base32hexpad:NJ,base32hexpadupper:SJ,base32z:IJ});const RJ=py({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),PJ=py({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var OJ=Object.freeze({__proto__:null,base36:RJ,base36upper:PJ});const DJ=py({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kJ=py({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var MJ=Object.freeze({__proto__:null,base58btc:DJ,base58flickr:kJ});const UJ=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$J=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),LJ=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),FJ=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var BJ=Object.freeze({__proto__:null,base64:UJ,base64pad:$J,base64url:LJ,base64urlpad:FJ});const g9=Array.from(""),jJ=g9.reduce((t,e,r)=>(t[r]=e,t),[]),HJ=g9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function WJ(t){return t.reduce((e,r)=>(e+=jJ[r],e),"")}function qJ(t){const e=[];for(const r of t){const n=HJ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const zJ=I1({prefix:"",name:"base256emoji",encode:WJ,decode:qJ});var GJ=Object.freeze({__proto__:null,base256emoji:zJ}),KJ=m9,D3=128,VJ=-128,JJ=Math.pow(2,31);function m9(t,e,r){e=e||[],r=r||0;for(var n=r;t>=JJ;)e[r++]=t&255|D3,t/=128;for(;t&VJ;)e[r++]=t&255|D3,t>>>=7;return e[r]=t|0,m9.bytes=r-n+1,e}var YJ=y2,XJ=128,k3=127;function y2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw y2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&k3)<<i:(o&k3)*Math.pow(2,i),i+=7}while(o>=XJ);return y2.bytes=s-n,r}var QJ=Math.pow(2,7),ZJ=Math.pow(2,14),eY=Math.pow(2,21),tY=Math.pow(2,28),rY=Math.pow(2,35),nY=Math.pow(2,42),iY=Math.pow(2,49),sY=Math.pow(2,56),oY=Math.pow(2,63),aY=function(t){return t<QJ?1:t<ZJ?2:t<eY?3:t<tY?4:t<rY?5:t<nY?6:t<iY?7:t<sY?8:t<oY?9:10},cY={encode:KJ,decode:YJ,encodingLength:aY},y9=cY;const M3=(t,e,r=0)=>(y9.encode(t,e,r),e),U3=t=>y9.encodingLength(t),b2=(t,e)=>{const r=e.byteLength,n=U3(t),i=n+U3(r),s=new Uint8Array(i+r);return M3(t,s,0),M3(r,s,n),s.set(e,i),new lY(t,r,e,s)};let lY=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const b9=({name:t,code:e,encode:r})=>new uY(t,e,r);let uY=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?b2(this.code,r):r.then(n=>b2(this.code,n))}else throw Error("Unknown type, must be binary type")}};const _9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),fY=b9({name:"sha2-256",code:18,encode:_9("SHA-256")}),dY=b9({name:"sha2-512",code:19,encode:_9("SHA-512")});var hY=Object.freeze({__proto__:null,sha256:fY,sha512:dY});const w9=0,pY="identity",E9=h9,gY=t=>b2(w9,E9(t)),mY={code:w9,name:pY,encode:E9,digest:gY};var yY=Object.freeze({__proto__:null,identity:mY});new TextEncoder,new TextDecoder;const $3={...uJ,...dJ,...pJ,...mJ,..._J,...TJ,...OJ,...MJ,...BJ,...GJ};({...hY,...yY});function v9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const L3=v9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Sv=v9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=f9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),x9={utf8:L3,"utf-8":L3,hex:$3.base16,latin1:Sv,ascii:Sv,binary:Sv,...$3};function T1(t,e="utf8"){const r=x9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function U0(t,e="utf8"){const r=x9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?eS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function F3(t){return Ad(T1(U0(t,S1),l9))}function aw(t){return T1(U0(kl(t),l9),S1)}function A9(t){const e=U0(YV,O3),r=JV+T1(d9([e,t]),O3);return[KV,VV,r].join(GV)}function bY(t){return T1(t,S1)}function _Y(t){return U0(t,S1)}function wY(t){return U0([aw(t.header),aw(t.payload)].join(ow),u9)}function EY(t){return[aw(t.header),aw(t.payload),bY(t.signature)].join(ow)}function _2(t){const e=t.split(ow),r=F3(e[0]),n=F3(e[1]),i=_Y(e[2]),s=U0(e.slice(0,2).join(ow),u9);return{header:r,payload:n,signature:i,data:s}}function B3(t=QM(XV)){const e=c9.getPublicKey(t);return{secretKey:d9([t,e]),publicKey:e}}async function vY(t,e,r,n,i=Ce.fromMiliseconds(Date.now())){const s={alg:qV,typ:zV},o=A9(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=wY({header:s,payload:c}),u=c9.sign(l,n.secretKey.slice(0,32));return EY({header:s,payload:c,signature:u})}var j3=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},xY=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),AY=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),CY=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),NY=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),SY=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),IY=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,TY=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,H3=3,RY=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",IY]],W3=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function PY(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new SY:typeof navigator<"u"?DY(navigator.userAgent):MY()}function OY(t){return t!==""&&RY.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function DY(t){var e=OY(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new NY;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<H3&&(i=j3(j3([],i,!0),UY(H3-i.length),!0)):i=[];var s=i.join("."),o=kY(t),a=TY.exec(t);return a&&a[1]?new CY(r,s,o,a[1]):new xY(r,s,o)}function kY(t){for(var e=0,r=W3.length;e<r;e++){var n=W3[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function MY(){var t=typeof process<"u"&&process.version;return t?new AY(process.version.slice(1)):null}function UY(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var sr={},q3;function C9(){if(q3)return sr;q3=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.getLocalStorage=sr.getLocalStorageOrThrow=sr.getCrypto=sr.getCryptoOrThrow=sr.getLocation=sr.getLocationOrThrow=sr.getNavigator=sr.getNavigatorOrThrow=sr.getDocument=sr.getDocumentOrThrow=sr.getFromWindowOrThrow=sr.getFromWindow=void 0;function t(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}sr.getFromWindow=t;function e(d){const h=t(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}sr.getFromWindowOrThrow=e;function r(){return e("document")}sr.getDocumentOrThrow=r;function n(){return t("document")}sr.getDocument=n;function i(){return e("navigator")}sr.getNavigatorOrThrow=i;function s(){return t("navigator")}sr.getNavigator=s;function o(){return e("location")}sr.getLocationOrThrow=o;function a(){return t("location")}sr.getLocation=a;function c(){return e("crypto")}sr.getCryptoOrThrow=c;function l(){return t("crypto")}sr.getCrypto=l;function u(){return e("localStorage")}sr.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return sr.getLocalStorage=f,sr}var Ml=C9(),dp={},z3;function $Y(){if(z3)return dp;z3=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.getWindowMetadata=void 0;const t=C9();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const h=r.getElementsByTagName("link"),m=[];for(let g=0;g<h.length;g++){const b=h[g],w=b.getAttribute("rel");if(w&&w.toLowerCase().indexOf("icon")>-1){const x=b.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let S=n.protocol+"//"+n.host;if(x.indexOf("/")===0)S+=x;else{const D=n.pathname.split("/");D.pop();const O=D.join("/");S+=O+"/"+x}m.push(S)}else if(x.indexOf("//")===0){const S=n.protocol+x;m.push(S)}else m.push(x)}}return m}function s(...h){const m=r.getElementsByTagName("meta");for(let g=0;g<m.length;g++){const b=m[g],w=["itemprop","property","name"].map(x=>b.getAttribute(x)).filter(x=>x?h.includes(x):!1);if(w.length&&w){const x=b.getAttribute("content");if(x)return x}}return""}function o(){let h=s("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=i();return{description:l,url:u,icons:f,name:c}}return dp.getWindowMetadata=e,dp}var LY=$Y();function lm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function w2(t){return lm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const N9="2.31.0";let Iv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${N9}`};class Cd extends Error{constructor(e,r={}){const n=r.cause instanceof Cd?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Cd&&r.cause.docsPath||r.docsPath,s=Iv.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Iv.version?[`Version: ${Iv.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=N9}walk(e){return S9(this,e)}}function S9(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?S9(t.cause,e):e?null:t}class I9 extends Cd{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function $0(t,{dir:e,size:r=32}={}){return typeof t=="string"?FY(t,{dir:e,size:r}):BY(t,{dir:e,size:r})}function FY(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new I9({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function BY(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new I9({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class jY extends Cd{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class HY extends Cd{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function L0(t,{size:e}){if(w2(t)>e)throw new HY({givenSize:w2(t),maxSize:e})}function E2(t,e={}){const{signed:r}=e;e.size&&L0(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function WY(t,e={}){return Number(E2(t,e))}const qY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function v2(t,e={}){return typeof t=="number"||typeof t=="bigint"?R9(t,e):typeof t=="string"?KY(t,e):typeof t=="boolean"?zY(t,e):T9(t,e)}function zY(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(L0(r,{size:e.size}),$0(r,{size:e.size})):r}function T9(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=qY[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(L0(n,{size:e.size}),$0(n,{dir:"right",size:e.size})):n}function R9(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new jY({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?$0(a,{size:n}):a}const GY=new TextEncoder;function KY(t,e={}){const r=GY.encode(t);return T9(r,e)}const VY=new TextEncoder;function JY(t,e={}){return typeof t=="number"||typeof t=="bigint"?XY(t,e):typeof t=="boolean"?YY(t,e):lm(t)?P9(t,e):O9(t,e)}function YY(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(L0(r,{size:e.size}),$0(r,{size:e.size})):r}const Jc={zero:48,nine:57,A:65,F:70,a:97,f:102};function G3(t){if(t>=Jc.zero&&t<=Jc.nine)return t-Jc.zero;if(t>=Jc.A&&t<=Jc.F)return t-(Jc.A-10);if(t>=Jc.a&&t<=Jc.f)return t-(Jc.a-10)}function P9(t,e={}){let r=t;e.size&&(L0(r,{size:e.size}),r=$0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=G3(n.charCodeAt(a++)),l=G3(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Cd(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function XY(t,e){const r=R9(t,e);return P9(r)}function O9(t,e={}){const r=VY.encode(t);return typeof e.size=="number"?(L0(r,{size:e.size}),$0(r,{dir:"right",size:e.size})):r}function D9(t,e){const r=e||"hex",n=uz(lm(t,{strict:!1})?JY(t):t);return r==="bytes"?n:v2(n)}class QY extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Tv=new QY(8192);function ZY(t,e){if(Tv.has(`${t}.${e}`))return Tv.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=D9(O9(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Tv.set(`${t}.${e}`,s),s}function eX(t){const e=D9(`0x${t.substring(4)}`).substring(26);return ZY(`0x${e}`)}async function tX({hash:t,signature:e}){const r=lm(t)?t:v2(t),{secp256k1:n}=await Gn(async()=>{const{secp256k1:o}=await import("./secp256k1-DtxIj62z.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:d}=e,h=Number(d??f),m=K3(h);return new n.Signature(E2(l),E2(u)).addRecoveryBit(m)}const o=lm(e)?e:v2(e);if(w2(o)!==65)throw new Error("invalid signature length");const a=WY(`0x${o.slice(130)}`),c=K3(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function K3(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function rX({hash:t,signature:e}){return eX(await tX({hash:t,signature:e}))}function nX(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const m=(h-d)*s+1>>>0,g=new Uint8Array(m);for(;d!==h;){let x=l[d],S=0;for(let D=m-1;(x!==0||S<f)&&D!==-1;D--,S++)x+=256*g[D]>>>0,g[D]=x%r>>>0,x=x/r>>>0;if(x!==0)throw new Error("Non-zero carry");f=S,d++}let b=m-f;for(;b!==m&&g[b]===0;)b++;let w=n.repeat(u);for(;b<m;++b)w+=t.charAt(g[b]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*i+1>>>0,m=new Uint8Array(h);for(;u<l.length;){const x=l.charCodeAt(u);if(x>255)return;let S=e[x];if(S===255)return;let D=0;for(let O=h-1;(S!==0||D<d)&&O!==-1;O--,D++)S+=r*m[O]>>>0,m[O]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");d=D,u++}let g=h-d;for(;g!==h&&m[g]===0;)g++;const b=new Uint8Array(f+(h-g));let w=f;for(;g!==h;)b[w++]=m[g++];return b}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var iX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const F0=nX(iX);function sX(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function oX(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const aX=new TextEncoder,cX=50;function lX(t,e,r){aX.encodeInto(t,e.subarray(r))}function uX(t,e,r){t.length>cX?lX(t,e,r):oX(t,e,r)}const fX=4096;function k9(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=fX&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const dX=new TextDecoder,hX=200;function pX(t,e,r){const n=t.subarray(e,e+r);return dX.decode(n)}function gX(t,e,r){return r>hX?pX(t,e,r):k9(t,e,r)}class tb{constructor(e,r){this.type=e,this.data=r}}class Us extends Error{constructor(e){super(e);const r=Object.create(Us.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Us.name})}}const hp=4294967295;function mX(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function M9(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function U9(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function yX(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const bX=-1,_X=4294967296-1,wX=17179869184-1;function EX({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=wX)if(e===0&&t<=_X){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),M9(n,4,t),r}}function vX(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function xX(t){if(t instanceof Date){const e=vX(t);return EX(e)}else return null}function AX(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=U9(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Us(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function CX(t){const e=AX(t);return new Date(e.sec*1e3+e.nsec/1e6)}const NX={type:bX,encode:xX,decode:CX};class cw{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(NX)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new tb(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new tb(o,s)}}}return e instanceof tb?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new tb(r,e)}}cw.defaultCodec=new cw;function SX(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function x2(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):SX(t)?new Uint8Array(t):Uint8Array.from(t)}const IX=100,TX=2048;let RX=class $9{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??cw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??IX,this.initialBufferSize=e?.initialBufferSize??TX,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new $9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=sX(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),uX(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=x2(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),mX(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),M9(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function PX(t,e){return new RX(e).encodeSharedRef(t)}function Rv(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const OX=16,DX=16;class kX{constructor(e=OX,r=DX){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=k9(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const A2="array",og="map_key",L9="map_value",MX=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Us("The type of key must be string or number but "+typeof t)};class UX{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=A2,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=og,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===A2){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===og||e.type===L9){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const pp=-1,tS=new DataView(new ArrayBuffer(0)),$X=new Uint8Array(tS.buffer);try{tS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const V3=new RangeError("Insufficient data"),LX=new kX;let FX=class F9{constructor(e){this.totalPos=0,this.pos=0,this.view=tS,this.bytes=$X,this.headByte=pp,this.stack=new UX,this.entered=!1,this.extensionCodec=e?.extensionCodec??cw.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??hp,this.maxBinLength=e?.maxBinLength??hp,this.maxArrayLength=e?.maxArrayLength??hp,this.maxMapLength=e?.maxMapLength??hp,this.maxExtLength=e?.maxExtLength??hp,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:LX,this.mapKeyConverter=e?.mapKeyConverter??MX}clone(){return new F9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=pp,this.stack.reset()}setBuffer(e){const r=x2(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===pp&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=x2(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Rv(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Us(`Unrecognized type byte: ${Rv(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===A2)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===og){if(r==="__proto__")throw new Us("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=L9;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=og;continue e}}return r}}readHeadByte(){return this.headByte===pp&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=pp}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Us(`Unrecognized array type byte: ${Rv(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Us(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Us(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new Us(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw V3;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=gX(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===og:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Us(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw V3;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Us(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=yX(this.view,this.pos);return this.pos+=8,e}readI64(){const e=U9(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function BX(t,e){return new FX(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function B9(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function lw(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function rS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function C2(t){if(!Array.isArray(t))throw new Error("array expected")}function uw(t,e){if(!B9(!0,e))throw new Error(`${t}: array of strings expected`)}function HX(t,e){if(!B9(!1,e))throw new Error(`${t}: array of numbers expected`)}function WX(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function qX(t){const e=typeof t=="string"?t.split(""):t,r=e.length;uw("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(C2(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(C2(i),i.map(s=>{lw("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function zX(t=""){return lw("join",t),{encode:e=>(uw("join.decode",e),e.join(t)),decode:e=>(lw("join.decode",e),e.split(t))}}function GX(t,e="="){return rS(t),lw("padding",e),{encode(r){for(uw("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){uw("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const j9=(t,e)=>e===0?t:j9(e,t%e),fw=(t,e)=>t+(e-j9(t,e)),Pv=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function J3(t,e,r,n){if(C2(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(fw(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${fw(e,r)}`);let i=0,s=0;const o=Pv[e],a=Pv[r]-1,c=[];for(const l of t){if(rS(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=Pv[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function KX(t,e=!1){if(rS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(fw(8,t)>32||fw(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!jX(r))throw new Error("radix2.encode input should be Uint8Array");return J3(Array.from(r),8,t,!e)},decode:r=>(HX("radix2.decode",r),Uint8Array.from(J3(r,t,8,e)))}}const VX=WX(KX(5),qX("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),GX(5),zX(""));function nS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function H9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?nS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ag(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=H9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return nS(r)}function JX(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,D=new Uint8Array(S);w!==x;){for(var O=m[w],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,w++}for(var N=S-b;N!==S&&D[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(D[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,w=0;m[g]===c;)b++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=x-1;(D!==0||O<w)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");w=O,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var N=new Uint8Array(b+(x-F)),v=b;F!==x;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var YX=JX,XX=YX;const QX=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ZX=t=>new TextEncoder().encode(t),eQ=t=>new TextDecoder().decode(t);class tQ{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rQ{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return W9(this,e)}}class nQ{constructor(e){this.decoders=e}or(e){return W9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const W9=(t,e)=>new nQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class iQ{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new tQ(e,r,n),this.decoder=new rQ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const R1=({name:t,prefix:e,encode:r,decode:n})=>new iQ(t,e,r,n),gy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=XX(r,e);return R1({prefix:t,name:e,encode:n,decode:s=>QX(i(s))})},sQ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},oQ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>R1({prefix:e,name:t,encode(i){return oQ(i,n,r)},decode(i){return sQ(i,n,r,t)}}),aQ=R1({prefix:"\0",name:"identity",encode:t=>eQ(t),decode:t=>ZX(t)}),cQ=Object.freeze(Object.defineProperty({__proto__:null,identity:aQ},Symbol.toStringTag,{value:"Module"})),lQ=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),uQ=Object.freeze(Object.defineProperty({__proto__:null,base2:lQ},Symbol.toStringTag,{value:"Module"})),fQ=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),dQ=Object.freeze(Object.defineProperty({__proto__:null,base8:fQ},Symbol.toStringTag,{value:"Module"})),hQ=gy({prefix:"9",name:"base10",alphabet:"0123456789"}),pQ=Object.freeze(Object.defineProperty({__proto__:null,base10:hQ},Symbol.toStringTag,{value:"Module"})),gQ=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mQ=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),yQ=Object.freeze(Object.defineProperty({__proto__:null,base16:gQ,base16upper:mQ},Symbol.toStringTag,{value:"Module"})),bQ=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_Q=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wQ=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),EQ=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vQ=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),xQ=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),AQ=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),CQ=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NQ=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),SQ=Object.freeze(Object.defineProperty({__proto__:null,base32:bQ,base32hex:vQ,base32hexpad:AQ,base32hexpadupper:CQ,base32hexupper:xQ,base32pad:wQ,base32padupper:EQ,base32upper:_Q,base32z:NQ},Symbol.toStringTag,{value:"Module"})),IQ=gy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),TQ=gy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),RQ=Object.freeze(Object.defineProperty({__proto__:null,base36:IQ,base36upper:TQ},Symbol.toStringTag,{value:"Module"})),PQ=gy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OQ=gy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),DQ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:PQ,base58flickr:OQ},Symbol.toStringTag,{value:"Module"})),kQ=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),MQ=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),UQ=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$Q=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),LQ=Object.freeze(Object.defineProperty({__proto__:null,base64:kQ,base64pad:MQ,base64url:UQ,base64urlpad:$Q},Symbol.toStringTag,{value:"Module"})),q9=Array.from(""),FQ=q9.reduce((t,e,r)=>(t[r]=e,t),[]),BQ=q9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function jQ(t){return t.reduce((e,r)=>(e+=FQ[r],e),"")}function HQ(t){const e=[];for(const r of t){const n=BQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const WQ=R1({prefix:"",name:"base256emoji",encode:jQ,decode:HQ}),qQ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:WQ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Y3={...cQ,...uQ,...dQ,...pQ,...yQ,...SQ,...RQ,...DQ,...LQ,...qQ};function z9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const X3=z9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ov=z9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=H9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),G9={utf8:X3,"utf-8":X3,hex:Y3.base16,latin1:Ov,ascii:Ov,binary:Ov,...Y3};function So(t,e="utf8"){const r=G9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?nS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ss(t,e="utf8"){const r=G9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const zQ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Dv,Q3;function K9(){if(Q3)return Dv;Q3=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=n(a[u]).toUpperCase(),l+=" ",l+=n(a[u+1]).toUpperCase();else if(c===64)l+=n(a[u+1]).toUpperCase(),l+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=d%256;const f=new Date().getTime();console.log("Generated random input in "+(f-l)+"ms"),l=f;for(let d=0;d<c;d++){const h=o(u),m=new Date().getTime(),g=m-l;l=m,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Dv={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},Dv}var kv,Z3;function GQ(){if(Z3)return kv;Z3=1;const t=K9();function e(w,x,S){const D=w[x]+w[S];let O=w[x+1]+w[S+1];D>=4294967296&&O++,w[x]=D,w[x+1]=O}function r(w,x,S,D){let O=w[x]+S;S<0&&(O+=4294967296);let k=w[x+1]+D;O>=4294967296&&k++,w[x]=O,w[x+1]=k}function n(w,x){return w[x]^w[x+1]<<8^w[x+2]<<16^w[x+3]<<24}function i(w,x,S,D,O,k){const F=l[O],N=l[O+1],v=l[k],M=l[k+1];e(c,w,x),r(c,w,F,N);let $=c[D]^c[w],P=c[D+1]^c[w+1];c[D]=P,c[D+1]=$,e(c,S,D),$=c[x]^c[S],P=c[x+1]^c[S+1],c[x]=$>>>24^P<<8,c[x+1]=P>>>24^$<<8,e(c,w,x),r(c,w,v,M),$=c[D]^c[w],P=c[D+1]^c[w+1],c[D]=$>>>16^P<<16,c[D+1]=P>>>16^$<<16,e(c,S,D),$=c[x]^c[S],P=c[x+1]^c[S+1],c[x]=P>>>31^$<<1,c[x+1]=$>>>31^P<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(w){return w*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(w,x){let S=0;for(S=0;S<16;S++)c[S]=w.h[S],c[S+16]=s[S];for(c[24]=c[24]^w.t,c[25]=c[25]^w.t/4294967296,x&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=n(w.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,a[S*16+0],a[S*16+1]),i(2,10,18,26,a[S*16+2],a[S*16+3]),i(4,12,20,28,a[S*16+4],a[S*16+5]),i(6,14,22,30,a[S*16+6],a[S*16+7]),i(0,10,20,30,a[S*16+8],a[S*16+9]),i(2,12,22,24,a[S*16+10],a[S*16+11]),i(4,14,16,26,a[S*16+12],a[S*16+13]),i(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)w.h[S]=w.h[S]^c[S]^c[S+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function d(w,x,S,D){if(w===0||w>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(x&&x.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(D&&D.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const O={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:w};f.fill(0),f[0]=w,x&&(f[1]=x.length),f[2]=1,f[3]=1,S&&f.set(S,32),D&&f.set(D,48);for(let k=0;k<16;k++)O.h[k]=s[k]^n(f,k*4);return x&&(h(O,x),O.c=128),O}function h(w,x){for(let S=0;S<x.length;S++)w.c===128&&(w.t+=w.c,u(w,!1),w.c=0),w.b[w.c++]=x[S]}function m(w){for(w.t+=w.c;w.c<128;)w.b[w.c++]=0;u(w,!0);const x=new Uint8Array(w.outlen);for(let S=0;S<w.outlen;S++)x[S]=w.h[S>>2]>>8*(S&3);return x}function g(w,x,S,D,O){S=S||64,w=t.normalizeInput(w),D&&(D=t.normalizeInput(D)),O&&(O=t.normalizeInput(O));const k=d(S,x,D,O);return h(k,w),m(k)}function b(w,x,S,D,O){const k=g(w,x,S,D,O);return t.toHex(k)}return kv={blake2b:g,blake2bHex:b,blake2bInit:d,blake2bUpdate:h,blake2bFinal:m},kv}var Mv,eR;function KQ(){if(eR)return Mv;eR=1;const t=K9();function e(m,g){return m[g]^m[g+1]<<8^m[g+2]<<16^m[g+3]<<24}function r(m,g,b,w,x,S){o[m]=o[m]+o[g]+x,o[w]=n(o[w]^o[m],16),o[b]=o[b]+o[w],o[g]=n(o[g]^o[b],12),o[m]=o[m]+o[g]+S,o[w]=n(o[w]^o[m],8),o[b]=o[b]+o[w],o[g]=n(o[g]^o[b],7)}function n(m,g){return m>>>g^m<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(m,g){let b=0;for(b=0;b<8;b++)o[b]=m.h[b],o[b+8]=i[b];for(o[12]^=m.t,o[13]^=m.t/4294967296,g&&(o[14]=~o[14]),b=0;b<16;b++)a[b]=e(m.b,4*b);for(b=0;b<10;b++)r(0,4,8,12,a[s[b*16+0]],a[s[b*16+1]]),r(1,5,9,13,a[s[b*16+2]],a[s[b*16+3]]),r(2,6,10,14,a[s[b*16+4]],a[s[b*16+5]]),r(3,7,11,15,a[s[b*16+6]],a[s[b*16+7]]),r(0,5,10,15,a[s[b*16+8]],a[s[b*16+9]]),r(1,6,11,12,a[s[b*16+10]],a[s[b*16+11]]),r(2,7,8,13,a[s[b*16+12]],a[s[b*16+13]]),r(3,4,9,14,a[s[b*16+14]],a[s[b*16+15]]);for(b=0;b<8;b++)m.h[b]^=o[b]^o[b+8]}function l(m,g){if(!(m>0&&m<=32))throw new Error("Incorrect output length, should be in [1, 32]");const b=g?g.length:0;if(g&&!(b>0&&b<=32))throw new Error("Incorrect key length, should be in [1, 32]");const w={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:m};return w.h[0]^=16842752^b<<8^m,b>0&&(u(w,g),w.c=64),w}function u(m,g){for(let b=0;b<g.length;b++)m.c===64&&(m.t+=m.c,c(m,!1),m.c=0),m.b[m.c++]=g[b]}function f(m){for(m.t+=m.c;m.c<64;)m.b[m.c++]=0;c(m,!0);const g=new Uint8Array(m.outlen);for(let b=0;b<m.outlen;b++)g[b]=m.h[b>>2]>>8*(b&3)&255;return g}function d(m,g,b){b=b||32,m=t.normalizeInput(m);const w=l(b,g);return u(w,m),f(w)}function h(m,g,b){const w=d(m,g,b);return t.toHex(w)}return Mv={blake2s:d,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:f},Mv}var Uv,tR;function VQ(){if(tR)return Uv;tR=1;const t=GQ(),e=KQ();return Uv={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Uv}var JQ=VQ(),YQ={};const XQ=":";function pd(t){const[e,r]=t.split(XQ);return{namespace:e,reference:r}}function V9(t,e){return t.includes(":")?[t]:e.chains||[]}var QQ=Object.defineProperty,ZQ=Object.defineProperties,eZ=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,tZ=Object.prototype.hasOwnProperty,rZ=Object.prototype.propertyIsEnumerable,N2=(t,e,r)=>e in t?QQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nR=(t,e)=>{for(var r in e||(e={}))tZ.call(e,r)&&N2(t,r,e[r]);if(rR)for(var r of rR(e))rZ.call(e,r)&&N2(t,r,e[r]);return t},nZ=(t,e)=>ZQ(t,eZ(e)),iR=(t,e,r)=>N2(t,typeof e!="symbol"?e+"":e,r);const iZ="ReactNative",Vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},sZ="js";function dw(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function uf(){return!Ml.getDocument()&&!!Ml.getNavigator()&&navigator.product===iZ}function oZ(){return uf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function aZ(){return uf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function B0(){return!dw()&&!!Ml.getNavigator()&&!!Ml.getDocument()}function my(){return uf()?Vs.reactNative:dw()?Vs.node:B0()?Vs.browser:Vs.unknown}function sR(){var t;try{return uf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function cZ(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function lZ(t){var e,r;const n=J9();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),nZ(nR(nR({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function J9(){return LY.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function uZ(){if(my()===Vs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=PY();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function fZ(){var t;const e=my();return e===Vs.browser?[e,((t=Ml.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Y9(t,e,r){const n=uZ(),i=fZ();return[[t,e].join("-"),[sZ,r].join("-"),n,i].join("/")}function dZ({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=Y9(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=cZ(l[1]||"",f);return l[0]+"?"+d}function nd(t,e){return t.filter(r=>e.includes(r)).length===t.length}function S2(t){return Object.fromEntries(t.entries())}function I2(t){return new Map(Object.entries(t))}function qf(t=Ce.FIVE_MINUTES,e){const r=Ce.toMiliseconds(t||Ce.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function Nc(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function X9(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function hZ(t){return X9("topic",t)}function pZ(t){return X9("id",t)}function Q9(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function kn(t,e){return Ce.fromMiliseconds(Date.now()+Ce.toMiliseconds(t))}function Eu(t){return Date.now()>=Ce.toMiliseconds(t)}function Gt(t,e){return`${t}${e?`:${e}`:""}`}function Oc(t=[],e=[]){return[...new Set([...t,...e])]}async function gZ({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=mZ(s,t,e),a=my();if(a===Vs.browser){if(!((n=Ml.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}yZ(o)}else a===Vs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function mZ(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${EZ(n,!0)}`}else i=`${i}/wc?${n}`;return i}function yZ(t){let e="_self";wZ()?e="_top":(_Z()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function bZ(t,e){let r="";try{if(B0()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function oR(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function aR(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function iS(){return typeof process<"u"&&YQ.IS_VITEST==="true"}function _Z(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function wZ(){try{return window.self!==window.top}catch{return!1}}function EZ(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function Z9(t){return Buffer.from(t,"base64").toString("utf-8")}function vZ(t){return new Promise(e=>setTimeout(e,t))}let xZ=class{constructor({limit:e}){iR(this,"limit"),iR(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const rb=BigInt(2**32-1),cR=BigInt(32);function eU(t,e=!1){return e?{h:Number(t&rb),l:Number(t>>cR&rb)}:{h:Number(t>>cR&rb)|0,l:Number(t&rb)|0}}function tU(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=eU(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const lR=(t,e,r)=>t>>>r,uR=(t,e,r)=>t<<32-r|e>>>r,vu=(t,e,r)=>t>>>r|e<<32-r,xu=(t,e,r)=>t<<32-r|e>>>r,Fp=(t,e,r)=>t<<64-r|e>>>r-32,Bp=(t,e,r)=>t>>>r-32|e<<64-r,AZ=(t,e)=>e,CZ=(t,e)=>t,NZ=(t,e,r)=>t<<r|e>>>32-r,SZ=(t,e,r)=>e<<r|t>>>32-r,IZ=(t,e,r)=>e<<r-32|t>>>64-r,TZ=(t,e,r)=>t<<r-32|e>>>64-r;function ha(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const sS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),oS=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,RZ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),PZ=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,OZ=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),DZ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,nh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function aS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ul(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ko(t,...e){if(!aS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function cS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ul(t.outputLen),Ul(t.blockLen)}function zu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lS(t,e){ko(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function um(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function $v(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function cc(t,e){return t<<32-e|t>>>e}const rU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function nU(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const sl=rU?t=>t:t=>nU(t);function kZ(t){for(let e=0;e<t.length;e++)t[e]=nU(t[e]);return t}const Au=rU?t=>t:kZ,iU=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",MZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fm(t){if(ko(t),iU)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=MZ[t[r]];return e}const Yc={_0:48,_9:57,A:65,F:70,a:97,f:102};function fR(t){if(t>=Yc._0&&t<=Yc._9)return t-Yc._0;if(t>=Yc.A&&t<=Yc.F)return t-(Yc.A-10);if(t>=Yc.a&&t<=Yc.f)return t-(Yc.a-10)}function uS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(iU)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=fR(t.charCodeAt(s)),a=fR(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function UZ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ya(t){return typeof t=="string"&&(t=UZ(t)),ko(t),t}function id(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ko(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let P1=class{};function yy(t){const e=n=>t().update(Ya(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function $Z(t){const e=(n,i)=>t(i).update(Ya(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function j0(t=32){if(nh&&typeof nh.getRandomValues=="function")return nh.getRandomValues(new Uint8Array(t));if(nh&&typeof nh.randomBytes=="function")return Uint8Array.from(nh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const LZ=BigInt(0),gp=BigInt(1),FZ=BigInt(2),BZ=BigInt(7),jZ=BigInt(256),HZ=BigInt(113),sU=[],oU=[],aU=[];for(let t=0,e=gp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],sU.push(2*(5*n+r)),oU.push((t+1)*(t+2)/2%64);let i=LZ;for(let s=0;s<7;s++)e=(e<<gp^(e>>BZ)*HZ)%jZ,e&FZ&&(i^=gp<<(gp<<BigInt(s))-gp);aU.push(i)}const cU=tU(aU,!0),WZ=cU[0],qZ=cU[1],dR=(t,e,r)=>r>32?IZ(t,e,r):NZ(t,e,r),hR=(t,e,r)=>r>32?TZ(t,e,r):SZ(t,e,r);function zZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=dR(l,u,1)^r[a],d=hR(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=oU[o],c=dR(i,s,a),l=hR(i,s,a),u=sU[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=WZ[n],t[1]^=qZ[n]}Mo(r)}let GZ=class lU extends P1{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Ul(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=um(this.state)}clone(){return this._cloneInto()}keccak(){Au(this.state32),zZ(this.state32,this.rounds),Au(this.state32),this.posOut=0,this.pos=0}update(e){zu(this),e=Ya(e),ko(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zu(this,!1),ko(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ul(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mo(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lU(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const KZ=(t,e,r)=>yy(()=>new GZ(e,t,r)),VZ=KZ(1,136,256/8);function JZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function YZ(t,e,r){return t&e^~t&r}function XZ(t,e,r){return t&e^t&r^e&r}let uU=class extends P1{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=$v(this.buffer)}update(e){zu(this),e=Ya(e),ko(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=$v(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zu(this),lS(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Mo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;JZ(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=$v(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const nu=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_i=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wi=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),QZ=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iu=new Uint32Array(64);let ZZ=class extends uU{constructor(e=32){super(64,e,8,!1),this.A=nu[0]|0,this.B=nu[1]|0,this.C=nu[2]|0,this.D=nu[3]|0,this.E=nu[4]|0,this.F=nu[5]|0,this.G=nu[6]|0,this.H=nu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)iu[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=iu[f-15],h=iu[f-2],m=cc(d,7)^cc(d,18)^d>>>3,g=cc(h,17)^cc(h,19)^h>>>10;iu[f]=g+iu[f-7]+m+iu[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=cc(a,6)^cc(a,11)^cc(a,25),h=u+d+YZ(a,c,l)+QZ[f]+iu[f]|0,m=(cc(n,2)^cc(n,13)^cc(n,22))+XZ(n,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Mo(iu)}destroy(){this.set(0,0,0,0,0,0,0,0),Mo(this.buffer)}};const fU=tU(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),eee=fU[0],tee=fU[1],su=new Uint32Array(80),ou=new Uint32Array(80);let fS=class extends uU{constructor(e=64){super(128,e,16,!1),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)su[S]=e.getUint32(r),ou[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const D=su[S-15]|0,O=ou[S-15]|0,k=vu(D,O,1)^vu(D,O,8)^lR(D,O,7),F=xu(D,O,1)^xu(D,O,8)^uR(D,O,7),N=su[S-2]|0,v=ou[S-2]|0,M=vu(N,v,19)^Fp(N,v,61)^lR(N,v,6),$=xu(N,v,19)^Bp(N,v,61)^uR(N,v,6),P=RZ(F,$,ou[S-7],ou[S-16]),C=PZ(P,k,M,su[S-7],su[S-16]);su[S]=C|0,ou[S]=P|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:w,Hl:x}=this;for(let S=0;S<80;S++){const D=vu(f,d,14)^vu(f,d,18)^Fp(f,d,41),O=xu(f,d,14)^xu(f,d,18)^Bp(f,d,41),k=f&h^~f&g,F=d&m^~d&b,N=OZ(x,O,F,tee[S],ou[S]),v=DZ(N,w,D,k,eee[S],su[S]),M=N|0,$=vu(n,i,28)^Fp(n,i,34)^Fp(n,i,39),P=xu(n,i,28)^Bp(n,i,34)^Bp(n,i,39),C=n&s^n&a^s&a,p=i&o^i&c^o&c;w=g|0,x=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=ha(l|0,u|0,v|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=sS(M,P,p);n=oS(y,v,$,C),i=y|0}({h:n,l:i}=ha(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=ha(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ha(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ha(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=ha(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=ha(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=ha(this.Gh|0,this.Gl|0,g|0,b|0),{h:w,l:x}=ha(this.Hh|0,this.Hl|0,w|0,x|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,w,x)}roundClean(){Mo(su,ou)}destroy(){Mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},ree=class extends fS{constructor(){super(48),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}};const Ei=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class nee extends fS{constructor(){super(32),this.Ah=Ei[0]|0,this.Al=Ei[1]|0,this.Bh=Ei[2]|0,this.Bl=Ei[3]|0,this.Ch=Ei[4]|0,this.Cl=Ei[5]|0,this.Dh=Ei[6]|0,this.Dl=Ei[7]|0,this.Eh=Ei[8]|0,this.El=Ei[9]|0,this.Fh=Ei[10]|0,this.Fl=Ei[11]|0,this.Gh=Ei[12]|0,this.Gl=Ei[13]|0,this.Hh=Ei[14]|0,this.Hl=Ei[15]|0}}const O1=yy(()=>new ZZ),iee=yy(()=>new fS),see=yy(()=>new ree),oee=yy(()=>new nee),aee=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),yn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Te=new Uint32Array(32);function au(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=sS(c,u,o);l=oS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:AZ(g,m),Dl:CZ(g)},{h,l:d}=ha(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:vu(f,u,24),Bl:xu(f,u,24)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function cu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=sS(c,u,o);l=oS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:vu(g,m,16),Dl:xu(g,m,16)},{h,l:d}=ha(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Fp(f,u,63),Bl:Bp(f,u,63)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function cee(t,e={},r,n,i){if(Ul(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class lee extends P1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ul(e),Ul(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=um(this.buffer)}update(e){zu(this),e=Ya(e),ko(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(Au(i),this.compress(i,0,!1),Au(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const f=new Uint32Array(a,u,Math.floor((s-c)/4));Au(f);for(let d=0;c+r<s;d+=i.length,c+=r)this.length+=r,this.compress(f,d,!1);Au(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){zu(this),lS(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Mo(this.buffer.subarray(r)),Au(n),this.compress(n,0,!0),Au(n);const i=um(e);this.get().forEach((s,o)=>i[o]=sl(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class uee extends lee{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=yn[0]|0,this.v0h=yn[1]|0,this.v1l=yn[2]|0,this.v1h=yn[3]|0,this.v2l=yn[4]|0,this.v2h=yn[5]|0,this.v3l=yn[6]|0,this.v3h=yn[7]|0,this.v4l=yn[8]|0,this.v4h=yn[9]|0,this.v5l=yn[10]|0,this.v5h=yn[11]|0,this.v6l=yn[12]|0,this.v6h=yn[13]|0,this.v7l=yn[14]|0,this.v7h=yn[15]|0,cee(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Ya(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Ya(s);const a=um(s);this.v4l^=sl(a[0]),this.v4h^=sl(a[1]),this.v5l^=sl(a[2]),this.v5h^=sl(a[3])}if(i!==void 0){i=Ya(i);const a=um(i);this.v6l^=sl(a[0]),this.v6h^=sl(a[1]),this.v7l^=sl(a[2]),this.v7h^=sl(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:m,v7l:g,v7h:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=m|0,this.v7l=g|0,this.v7h=b|0}compress(e,r,n){this.get().forEach((c,l)=>Te[l]=c),Te.set(yn,16);let{h:i,l:s}=eU(BigInt(this.length));Te[24]=yn[8]^s,Te[25]=yn[9]^i,n&&(Te[28]=~Te[28],Te[29]=~Te[29]);let o=0;const a=aee;for(let c=0;c<12;c++)au(0,4,8,12,e,r+2*a[o++]),cu(0,4,8,12,e,r+2*a[o++]),au(1,5,9,13,e,r+2*a[o++]),cu(1,5,9,13,e,r+2*a[o++]),au(2,6,10,14,e,r+2*a[o++]),cu(2,6,10,14,e,r+2*a[o++]),au(3,7,11,15,e,r+2*a[o++]),cu(3,7,11,15,e,r+2*a[o++]),au(0,5,10,15,e,r+2*a[o++]),cu(0,5,10,15,e,r+2*a[o++]),au(1,6,11,12,e,r+2*a[o++]),cu(1,6,11,12,e,r+2*a[o++]),au(2,7,8,13,e,r+2*a[o++]),cu(2,7,8,13,e,r+2*a[o++]),au(3,4,9,14,e,r+2*a[o++]),cu(3,4,9,14,e,r+2*a[o++]);this.v0l^=Te[0]^Te[16],this.v0h^=Te[1]^Te[17],this.v1l^=Te[2]^Te[18],this.v1h^=Te[3]^Te[19],this.v2l^=Te[4]^Te[20],this.v2h^=Te[5]^Te[21],this.v3l^=Te[6]^Te[22],this.v3h^=Te[7]^Te[23],this.v4l^=Te[8]^Te[24],this.v4h^=Te[9]^Te[25],this.v5l^=Te[10]^Te[26],this.v5h^=Te[11]^Te[27],this.v6l^=Te[12]^Te[28],this.v6h^=Te[13]^Te[29],this.v7l^=Te[14]^Te[30],this.v7h^=Te[15]^Te[31],Mo(Te)}destroy(){this.destroyed=!0,Mo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fee=$Z(t=>new uee(t)),dee="https://rpc.walletconnect.org/v1";function dU(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(VZ(r)).toString("hex")}async function hee(t,e,r,n,i,s){switch(r.t){case"eip191":return await pee(t,e,r.s);case"eip1271":return await gee(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function pee(t,e,r){return(await rX({hash:dU(e),signature:r})).toLowerCase()===t.toLowerCase()}async function gee(t,e,r,n,i,s){const o=pd(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:dU(e)).substring(2),d=a+f+c+u+l,h=await fetch(`${s||dee}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:mee(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:m}=await h.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function mee(){return Date.now()+Math.floor(Math.random()*1e3)}function yee(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return F0.encode(s)}function bee(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=fee(n,{dkLen:32});return F0.encode(i)}function pR(t){const e=new Uint8Array(O1(_ee(t)));return F0.encode(e)}function _ee(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function gR(t){const e=Buffer.from(t,"base64"),r=BX(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=PX(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=oee(s);return VX.encode(o).replace(/=+$/,"")}function Lv(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function wee(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(Lv(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(Lv(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(Lv(n.length)),i.push(n);const s=Buffer.concat(i),o=O1(s);return Buffer.from(o).toString("hex").toUpperCase()}var Eee=Object.defineProperty,vee=Object.defineProperties,xee=Object.getOwnPropertyDescriptors,mR=Object.getOwnPropertySymbols,Aee=Object.prototype.hasOwnProperty,Cee=Object.prototype.propertyIsEnumerable,yR=(t,e,r)=>e in t?Eee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nee=(t,e)=>{for(var r in e||(e={}))Aee.call(e,r)&&yR(t,r,e[r]);if(mR)for(var r of mR(e))Cee.call(e,r)&&yR(t,r,e[r]);return t},See=(t,e)=>vee(t,xee(e));const Iee="did:pkh:",dS=t=>t?.split(":"),Tee=t=>{const e=t&&dS(t);if(e)return t.includes(Iee)?e[3]:e[1]},T2=t=>{const e=t&&dS(t);if(e)return e[2]+":"+e[3]},hw=t=>{const e=t&&dS(t);if(e)return e.pop()};async function bR(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=hU(i,i.iss),o=hw(i.iss);return await hee(o,s,n,T2(i.iss),r)}const hU=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=hw(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Tee(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=Wb(t.resources);if(m){const g=dm(m);i=Lee(i,g)}return[r,n,"",i,"",s,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function Ree(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Pee(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Nd(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Oee(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Dee(e,r,n)}}}function Dee(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function pU(t){return Nd(t),`urn:recap:${Ree(t).replace(/=/g,"")}`}function dm(t){const e=Pee(t.replace("urn:recap:",""));return Nd(e),e}function kee(t,e,r){const n=Oee(t,e,r);return pU(n)}function Mee(t){return t&&t.includes("urn:recap:")}function Uee(t,e){const r=dm(t),n=dm(e),i=$ee(r,n);return pU(i)}function $ee(t,e){Nd(t),Nd(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=See(Nee({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function Lee(t="",e){Nd(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function _R(t){var e;const r=dm(t);Nd(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function wR(t){const e=dm(t);Nd(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Wb(t){if(!t)return;const e=t?.[t.length-1];return Mee(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function gU(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function R2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Fv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _s(t,...e){if(!gU(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ER(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Fee(t,e){_s(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function $u(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function v0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Bee(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const jee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Hee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function P2(t){if(typeof t=="string")t=Hee(t);else if(gU(t))t=O2(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Wee(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function qee(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const zee=(t,e)=>{function r(n,...i){if(_s(n),!jee)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?_s(l):_s(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&_s(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");_s(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,_s(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(_s(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function vR(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Kee(e))throw new Error("invalid output, must be aligned");return e}function xR(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Gee(t,e,r){R2(r);const n=new Uint8Array(16),i=Bee(n);return xR(i,0,BigInt(e),r),xR(i,8,BigInt(t),r),n}function Kee(t){return t.byteOffset%4===0}function O2(t){return Uint8Array.from(t)}const mU=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Vee=mU("expand 16-byte k"),Jee=mU("expand 32-byte k"),Yee=$u(Vee),Xee=$u(Jee);function $t(t,e){return t<<e|t>>>32-e}function D2(t){return t.byteOffset%4===0}const nb=64,Qee=16,yU=2**32-1,AR=new Uint32Array;function Zee(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(nb),u=$u(l),f=D2(i)&&D2(s),d=f?$u(i):AR,h=f?$u(s):AR;for(let m=0;m<c;o++){if(t(e,r,n,u,o,a),o>=yU)throw new Error("arx: counter overflow");const g=Math.min(nb,c-m);if(f&&g===nb){const b=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,x;w<Qee;w++)x=b+w,h[x]=d[x]^u[w];m+=nb;continue}for(let b=0,w;b<g;b++)w=m+b,s[w]=i[w]^l[b];m+=g}}function ete(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=Wee({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Fv(i),Fv(o),R2(s),R2(r),(a,c,l,u,f=0)=>{_s(a),_s(c),_s(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),_s(u),Fv(f),f<0||f>=yU)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let m=a.length,g,b;if(m===32)h.push(g=O2(a)),b=Xee;else if(m===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),b=Yee,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);D2(c)||h.push(c=O2(c));const w=$u(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,w,$u(c.subarray(0,16)),w),c=c.subarray(16)}const x=16-i;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const D=new Uint8Array(12);D.set(c,s?0:12-c.length),c=D,h.push(c)}const S=$u(c);return Zee(t,b,w,S,l,u,f,o),v0(...h),u}}const ti=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class tte{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=P2(e),_s(e,32);const r=ti(e,0),n=ti(e,2),i=ti(e,4),s=ti(e,6),o=ti(e,8),a=ti(e,10),c=ti(e,12),l=ti(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ti(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],m=o[7],g=o[8],b=o[9],w=ti(e,r+0),x=ti(e,r+2),S=ti(e,r+4),D=ti(e,r+6),O=ti(e,r+8),k=ti(e,r+10),F=ti(e,r+12),N=ti(e,r+14);let v=s[0]+(w&8191),M=s[1]+((w>>>13|x<<3)&8191),$=s[2]+((x>>>10|S<<6)&8191),P=s[3]+((S>>>7|D<<9)&8191),C=s[4]+((D>>>4|O<<12)&8191),p=s[5]+(O>>>1&8191),y=s[6]+((O>>>14|k<<2)&8191),_=s[7]+((k>>>11|F<<5)&8191),A=s[8]+((F>>>8|N<<8)&8191),I=s[9]+(N>>>5|i),U=0,B=U+v*a+M*(5*b)+$*(5*g)+P*(5*m)+C*(5*h);U=B>>>13,B&=8191,B+=p*(5*d)+y*(5*f)+_*(5*u)+A*(5*l)+I*(5*c),U+=B>>>13,B&=8191;let R=U+v*c+M*a+$*(5*b)+P*(5*g)+C*(5*m);U=R>>>13,R&=8191,R+=p*(5*h)+y*(5*d)+_*(5*f)+A*(5*u)+I*(5*l),U+=R>>>13,R&=8191;let E=U+v*l+M*c+$*a+P*(5*b)+C*(5*g);U=E>>>13,E&=8191,E+=p*(5*m)+y*(5*h)+_*(5*d)+A*(5*f)+I*(5*u),U+=E>>>13,E&=8191;let L=U+v*u+M*l+$*c+P*a+C*(5*b);U=L>>>13,L&=8191,L+=p*(5*g)+y*(5*m)+_*(5*h)+A*(5*d)+I*(5*f),U+=L>>>13,L&=8191;let G=U+v*f+M*u+$*l+P*c+C*a;U=G>>>13,G&=8191,G+=p*(5*b)+y*(5*g)+_*(5*m)+A*(5*h)+I*(5*d),U+=G>>>13,G&=8191;let T=U+v*d+M*f+$*u+P*l+C*c;U=T>>>13,T&=8191,T+=p*a+y*(5*b)+_*(5*g)+A*(5*m)+I*(5*h),U+=T>>>13,T&=8191;let V=U+v*h+M*d+$*f+P*u+C*l;U=V>>>13,V&=8191,V+=p*c+y*a+_*(5*b)+A*(5*g)+I*(5*m),U+=V>>>13,V&=8191;let K=U+v*m+M*h+$*d+P*f+C*u;U=K>>>13,K&=8191,K+=p*l+y*c+_*a+A*(5*b)+I*(5*g),U+=K>>>13,K&=8191;let X=U+v*g+M*m+$*h+P*d+C*f;U=X>>>13,X&=8191,X+=p*u+y*l+_*c+A*a+I*(5*b),U+=X>>>13,X&=8191;let Q=U+v*b+M*g+$*m+P*h+C*d;U=Q>>>13,Q&=8191,Q+=p*f+y*u+_*l+A*c+I*a,U+=Q>>>13,Q&=8191,U=(U<<2)+U|0,U=U+B|0,B=U&8191,U=U>>>13,R+=U,s[0]=B,s[1]=R,s[2]=E,s[3]=L,s[4]=G,s[5]=T,s[6]=V,s[7]=K,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;v0(n)}update(e){ER(this),e=P2(e),_s(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){v0(this.h,this.r,this.buffer,this.pad)}digestInto(e){ER(this),Fee(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function rte(t){const e=(n,i)=>t(i).update(P2(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const nte=rte(t=>new tte(t));function ite(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],h=e[3],m=e[4],g=e[5],b=e[6],w=e[7],x=i,S=r[0],D=r[1],O=r[2],k=o,F=a,N=c,v=l,M=u,$=f,P=d,C=h,p=m,y=g,_=b,A=w,I=x,U=S,B=D,R=O;for(let L=0;L<s;L+=2)k=k+M|0,I=$t(I^k,16),p=p+I|0,M=$t(M^p,12),k=k+M|0,I=$t(I^k,8),p=p+I|0,M=$t(M^p,7),F=F+$|0,U=$t(U^F,16),y=y+U|0,$=$t($^y,12),F=F+$|0,U=$t(U^F,8),y=y+U|0,$=$t($^y,7),N=N+P|0,B=$t(B^N,16),_=_+B|0,P=$t(P^_,12),N=N+P|0,B=$t(B^N,8),_=_+B|0,P=$t(P^_,7),v=v+C|0,R=$t(R^v,16),A=A+R|0,C=$t(C^A,12),v=v+C|0,R=$t(R^v,8),A=A+R|0,C=$t(C^A,7),k=k+$|0,R=$t(R^k,16),_=_+R|0,$=$t($^_,12),k=k+$|0,R=$t(R^k,8),_=_+R|0,$=$t($^_,7),F=F+P|0,I=$t(I^F,16),A=A+I|0,P=$t(P^A,12),F=F+P|0,I=$t(I^F,8),A=A+I|0,P=$t(P^A,7),N=N+C|0,U=$t(U^N,16),p=p+U|0,C=$t(C^p,12),N=N+C|0,U=$t(U^N,8),p=p+U|0,C=$t(C^p,7),v=v+M|0,B=$t(B^v,16),y=y+B|0,M=$t(M^y,12),v=v+M|0,B=$t(B^v,8),y=y+B|0,M=$t(M^y,7);let E=0;n[E++]=o+k|0,n[E++]=a+F|0,n[E++]=c+N|0,n[E++]=l+v|0,n[E++]=u+M|0,n[E++]=f+$|0,n[E++]=d+P|0,n[E++]=h+C|0,n[E++]=m+p|0,n[E++]=g+y|0,n[E++]=b+_|0,n[E++]=w+A|0,n[E++]=x+I|0,n[E++]=S+U|0,n[E++]=D+B|0,n[E++]=O+R|0}const ste=ete(ite,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ote=new Uint8Array(16),CR=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(ote.subarray(r))},ate=new Uint8Array(32);function NR(t,e,r,n,i){const s=t(e,r,ate),o=nte.create(s);i&&CR(o,i),CR(o,n);const a=Gee(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return v0(s,a),c}const cte=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=vR(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=NR(t,e,r,a,n);return s.set(c,o),v0(c),s},decrypt(i,s){s=vR(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=NR(t,e,r,o,n);if(!qee(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),v0(c),s}}),bU=zee({blockSize:64,nonceLength:12,tagLength:16},cte(ste));let _U=class extends P1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,cS(e);const n=Ya(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Mo(s)}update(e){return zu(this),this.iHash.update(e),this}digestInto(e){zu(this),ko(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const D1=(t,e,r)=>new _U(t,e).update(r).digest();D1.create=(t,e)=>new _U(t,e);function lte(t,e,r){return cS(t),r===void 0&&(r=new Uint8Array(t.outputLen)),D1(t,Ya(r),Ya(e))}const Bv=Uint8Array.from([0]),SR=Uint8Array.of();function ute(t,e,r,n=32){cS(t),Ul(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=SR);const o=new Uint8Array(s*i),a=D1.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Bv[0]=u+1,c.update(u===0?SR:l).update(r).update(Bv).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Mo(l,Bv),o.slice(0,n)}const fte=(t,e,r,n,i)=>ute(t,lte(t,e,r),n,i),k1=O1,hS=BigInt(0),k2=BigInt(1);function pw(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function ib(t){const e=t.toString(16);return e.length&1?"0"+e:e}function wU(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?hS:BigInt("0x"+t)}function M1(t){return wU(fm(t))}function gw(t){return ko(t),wU(fm(Uint8Array.from(t).reverse()))}function pS(t,e){return uS(t.toString(16).padStart(e*2,"0"))}function gS(t,e){return pS(t,e).reverse()}function bs(t,e,r){let n;if(typeof e=="string")try{n=uS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(aS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const jv=t=>typeof t=="bigint"&&hS<=t;function dte(t,e,r){return jv(t)&&jv(e)&&jv(r)&&e<=t&&t<r}function M2(t,e,r,n){if(!dte(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function hte(t){let e;for(e=0;t>hS;t>>=k2,e+=1);return e}const U1=t=>(k2<<BigInt(t))-k2;function pte(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=d=>new Uint8Array(d),i=d=>Uint8Array.of(d);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...d)=>r(o,s,...d),u=(d=n(0))=>{o=l(i(0),d),s=l(),d.length!==0&&(o=l(i(1),d),s=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){s=l();const m=s.slice();h.push(m),d+=s.length}return id(...h)};return(d,h)=>{c(),u(d);let m;for(;!(m=h(f()));)u();return c(),m}}function $1(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function IR(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const As=BigInt(0),Xi=BigInt(1),sd=BigInt(2),gte=BigInt(3),EU=BigInt(4),vU=BigInt(5),xU=BigInt(8);function Ao(t,e){const r=t%e;return r>=As?r:e+r}function ia(t,e,r){let n=t;for(;e-- >As;)n*=n,n%=r;return n}function TR(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let r=Ao(t,e),n=e,i=As,s=Xi;for(;r!==As;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Xi)throw new Error("invert: does not exist");return Ao(i,e)}function AU(t,e){const r=(t.ORDER+Xi)/EU,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function mte(t,e){const r=(t.ORDER-vU)/xU,n=t.mul(e,sd),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,sd),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function yte(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Xi,r=0;for(;e%sd===As;)e/=sd,r++;let n=sd;const i=H0(t);for(;RR(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return AU;let s=i.pow(n,e);const o=(e+Xi)/sd;return function(a,c){if(a.is0(c))return c;if(RR(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,m=a.sqr(f);for(;!a.eql(m,a.ONE);)if(h++,m=a.sqr(m),h===l)throw new Error("Cannot find square root");const g=Xi<<BigInt(l-h-1),b=a.pow(u,g);l=h,u=a.sqr(b),f=a.mul(f,u),d=a.mul(d,b)}return d}}function bte(t){return t%EU===gte?AU:t%xU===vU?mte:yte(t)}const _te=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wte(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=_te.reduce((n,i)=>(n[i]="function",n),e);return $1(t,r),t}function Ete(t,e,r){if(r<As)throw new Error("invalid exponent, negatives unsupported");if(r===As)return t.ONE;if(r===Xi)return e;let n=t.ONE,i=e;for(;r>As;)r&Xi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Xi;return n}function CU(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function RR(t,e){const r=(t.ORDER-Xi)/sd,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function vte(t,e){e!==void 0&&Ul(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function H0(t,e,r=!1,n={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=vte(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:U1(o),ZERO:As,ONE:Xi,create:u=>Ao(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return As<=u&&u<t},is0:u=>u===As,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Xi)===Xi,neg:u=>Ao(-u,t),eql:(u,f)=>u===f,sqr:u=>Ao(u*u,t),add:(u,f)=>Ao(u+f,t),sub:(u,f)=>Ao(u-f,t),mul:(u,f)=>Ao(u*f,t),pow:(u,f)=>Ete(l,u,f),div:(u,f)=>Ao(u*TR(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>TR(u,t),sqrt:s||(u=>(c||(c=bte(t)),c(l,u))),toBytes:u=>r?gS(u,a):pS(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?gw(u):M1(u)},invertBatch:u=>CU(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function NU(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function SU(t){const e=NU(t);return e+Math.ceil(e/2)}function xte(t,e,r=!1){const n=t.length,i=NU(e),s=SU(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?gw(t):M1(t),a=Ao(o,e-Xi)+Xi;return r?gS(a,i):pS(a,i)}const x0=BigInt(0),od=BigInt(1);function cg(t,e){const r=e.negate();return t?r:e}function Ate(t,e,r){const n=s=>s.pz,i=CU(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function IU(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Hv(t,e){IU(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=U1(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function PR(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=od);const l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function Cte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Nte(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Wv=new WeakMap,TU=new WeakMap;function qv(t){return TU.get(t)||1}function OR(t){if(t!==x0)throw new Error("invalid wNAF")}function Ste(t,e){return{constTimeNegate:cg,hasPrecomputes(r){return qv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>x0;)n&od&&(i=i.add(s)),s=s.double(),n>>=od;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Hv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=Hv(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:m}=PR(i,c,a);i=l,f?o=o.add(cg(h,n[m])):s=s.add(cg(d,n[u]))}return OR(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=Hv(r,e);for(let a=0;a<o.windows&&i!==x0;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=PR(i,a,o);if(i=c,!u){const d=n[l];s=s.add(f?d.negate():d)}}return OR(i),s},getPrecomputes(r,n,i){let s=Wv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Wv.set(n,s))),s},wNAFCached(r,n,i){const s=qv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=qv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){IU(n,e),TU.set(r,n),Wv.delete(r)}}}function Ite(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>x0||n>x0;)r&od&&(s=s.add(i)),n&od&&(o=o.add(i)),i=i.double(),r>>=od,n>>=od;return{p1:s,p2:o}}function Tte(t,e,r,n){Cte(r,t),Nte(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=hte(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=U1(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const b=n[g],w=Number(b>>BigInt(h)&l);u[w]=u[w].add(r[g])}let m=o;for(let g=u.length-1,b=o;g>0;g--)b=b.add(u[g]),m=m.add(b);if(d=d.add(m),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function DR(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return wte(e),e}else return H0(t)}function Rte(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>x0))throw new Error(`CURVE.${o} must be positive bigint`)}const n=DR(e.p,r.Fp),i=DR(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const mp=BigInt(0),ih=BigInt(1),sb=BigInt(2);function Pte(t){return $1(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Ote(t){const e=Pte(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||j0,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?sb**BigInt(254):sb**BigInt(447),m=a?BigInt(8)*sb**BigInt(251)-ih:BigInt(4)*sb**BigInt(445)-ih,g=h+m+ih,b=v=>Ao(v,r),w=x(f);function x(v){return gS(b(v),u)}function S(v){const M=bs("u coordinate",v,u);return a&&(M[31]&=127),b(gw(M))}function D(v){return gw(i(bs("scalar",v,u)))}function O(v,M){const $=N(S(M),D(v));if($===mp)throw new Error("invalid private or public key received");return x($)}function k(v){return O(v,w)}function F(v,M,$){const P=b(v*(M-$));return M=b(M-P),$=b($+P),{x_2:M,x_3:$}}function N(v,M){M2("u",v,mp,r),M2("scalar",M,h,g);const $=M,P=v;let C=ih,p=mp,y=v,_=ih,A=mp;for(let U=BigInt(l-1);U>=mp;U--){const B=$>>U&ih;A^=B,{x_2:C,x_3:y}=F(A,C,y),{x_2:p,x_3:_}=F(A,p,_),A=B;const R=C+p,E=b(R*R),L=C-p,G=b(L*L),T=E-G,V=y+_,K=y-_,X=b(K*R),Q=b(V*L),ie=X+Q,le=X-Q;y=b(ie*ie),_=b(P*b(le*le)),C=b(E*G),p=b(T*(E+b(d*T)))}({x_2:C,x_3:y}=F(A,C,y)),{x_2:p,x_3:_}=F(A,p,_);const I=s(p);return b(C*I)}return{scalarMult:O,scalarMultBase:k,getSharedSecret:(v,M)=>O(v,M),getPublicKey:v=>k(v),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const Dte=BigInt(1),kR=BigInt(2),kte=BigInt(3),Mte=BigInt(5);BigInt(8);const RU={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Ute(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=RU.p,o=t*t%s*t%s,a=ia(o,kR,s)*o%s,c=ia(a,Dte,s)*t%s,l=ia(c,Mte,s)*c%s,u=ia(l,e,s)*l%s,f=ia(u,r,s)*u%s,d=ia(f,n,s)*f%s,h=ia(d,i,s)*d%s,m=ia(h,i,s)*d%s,g=ia(m,e,s)*l%s;return{pow_p_5_8:ia(g,kR,s)*t%s,b2:o}}function $te(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const U2=(()=>{const t=RU.p;return Ote({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Ute(e);return Ao(ia(r,kte,t)*n,t)},adjustScalarBytes:$te})})();function MR(t){t.lowS!==void 0&&pw("lowS",t.lowS),t.prehash!==void 0&&pw("prehash",t.prehash)}class Lte extends Error{constructor(e=""){super(e)}}const bl={Err:Lte,_tlv:{encode:(t,e)=>{const{Err:r}=bl;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=ib(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?ib(i.length/2|128):"";return ib(t)+s+i+e},decode(t,e){const{Err:r}=bl;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=bl;if(t<lg)throw new e("integer: negative integers are not allowed");let r=ib(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=bl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return M1(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=bl,i=bs("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=bl,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},lg=BigInt(0),ug=BigInt(1),Fte=BigInt(2),ob=BigInt(3),Bte=BigInt(4);function jte(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function PU(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=bs("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Hte(t,e={}){const{Fp:r,Fn:n}=Rte("weierstrass",t,e),{h:i,n:s}=t;$1(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(N,v,M){const{x:$,y:P}=v.toAffine(),C=r.toBytes($);if(pw("isCompressed",M),M){a();const p=!r.isOdd(P);return id(OU(p),C)}else return id(Uint8Array.of(4),C,r.toBytes(P))}function l(N){ko(N);const v=r.BYTES,M=v+1,$=2*v+1,P=N.length,C=N[0],p=N.subarray(1);if(P===M&&(C===2||C===3)){const y=r.fromBytes(p);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");const _=d(y);let A;try{A=r.sqrt(_)}catch(U){const B=U instanceof Error?": "+U.message:"";throw new Error("bad point: is not on curve, sqrt error"+B)}a();const I=r.isOdd(A);return(C&1)===1!==I&&(A=r.neg(A)),{x:y,y:A}}else if(P===$&&C===4){const y=r.fromBytes(p.subarray(v*0,v*1)),_=r.fromBytes(p.subarray(v*1,v*2));if(!h(y,_))throw new Error("bad point: is not on curve");return{x:y,y:_}}else throw new Error(`bad point: got length ${P}, expected compressed=${M} or uncompressed=${$}`)}const u=e.toBytes||c,f=e.fromBytes||l,d=jte(r,t.a,t.b);function h(N,v){const M=r.sqr(v),$=d(N);return r.eql(M,$)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(t.a,ob),Bte),g=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function b(N,v,M=!1){if(!r.isValid(v)||M&&r.is0(v))throw new Error(`bad point coordinate ${N}`);return v}function w(N){if(!(N instanceof O))throw new Error("ProjectivePoint expected")}const x=IR((N,v)=>{const{px:M,py:$,pz:P}=N;if(r.eql(P,r.ONE))return{x:M,y:$};const C=N.is0();v==null&&(v=C?r.ONE:r.inv(P));const p=r.mul(M,v),y=r.mul($,v),_=r.mul(P,v);if(C)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:p,y}}),S=IR(N=>{if(N.is0()){if(e.allowInfinityPoint&&!r.is0(N.py))return;throw new Error("bad point: ZERO")}const{x:v,y:M}=N.toAffine();if(!r.isValid(v)||!r.isValid(M))throw new Error("bad point: x or y not field elements");if(!h(v,M))throw new Error("bad point: equation left != right");if(!N.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function D(N,v,M,$,P){return M=new O(r.mul(M.px,N),M.py,M.pz),v=cg($,v),M=cg(P,M),v.add(M)}class O{constructor(v,M,$){this.px=b("x",v),this.py=b("y",M,!0),this.pz=b("z",$),Object.freeze(this)}static fromAffine(v){const{x:M,y:$}=v||{};if(!v||!r.isValid(M)||!r.isValid($))throw new Error("invalid affine point");if(v instanceof O)throw new Error("projective point not allowed");return r.is0(M)&&r.is0($)?O.ZERO:new O(M,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){return Ate(O,"pz",v)}static fromBytes(v){return ko(v),O.fromHex(v)}static fromHex(v){const M=O.fromAffine(f(bs("pointHex",v)));return M.assertValidity(),M}static fromPrivateKey(v){const M=PU(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return O.BASE.multiply(M(v))}static msm(v,M){return Tte(O,n,v,M)}precompute(v=8,M=!0){return F.setWindowSize(this,v),M||this.multiply(ob),this}_setWindowSize(v){this.precompute(v)}assertValidity(){S(this)}hasEvenY(){const{y:v}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(v)}equals(v){w(v);const{px:M,py:$,pz:P}=this,{px:C,py:p,pz:y}=v,_=r.eql(r.mul(M,y),r.mul(C,P)),A=r.eql(r.mul($,y),r.mul(p,P));return _&&A}negate(){return new O(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:M}=t,$=r.mul(M,ob),{px:P,py:C,pz:p}=this;let y=r.ZERO,_=r.ZERO,A=r.ZERO,I=r.mul(P,P),U=r.mul(C,C),B=r.mul(p,p),R=r.mul(P,C);return R=r.add(R,R),A=r.mul(P,p),A=r.add(A,A),y=r.mul(v,A),_=r.mul($,B),_=r.add(y,_),y=r.sub(U,_),_=r.add(U,_),_=r.mul(y,_),y=r.mul(R,y),A=r.mul($,A),B=r.mul(v,B),R=r.sub(I,B),R=r.mul(v,R),R=r.add(R,A),A=r.add(I,I),I=r.add(A,I),I=r.add(I,B),I=r.mul(I,R),_=r.add(_,I),B=r.mul(C,p),B=r.add(B,B),I=r.mul(B,R),y=r.sub(y,I),A=r.mul(B,U),A=r.add(A,A),A=r.add(A,A),new O(y,_,A)}add(v){w(v);const{px:M,py:$,pz:P}=this,{px:C,py:p,pz:y}=v;let _=r.ZERO,A=r.ZERO,I=r.ZERO;const U=t.a,B=r.mul(t.b,ob);let R=r.mul(M,C),E=r.mul($,p),L=r.mul(P,y),G=r.add(M,$),T=r.add(C,p);G=r.mul(G,T),T=r.add(R,E),G=r.sub(G,T),T=r.add(M,P);let V=r.add(C,y);return T=r.mul(T,V),V=r.add(R,L),T=r.sub(T,V),V=r.add($,P),_=r.add(p,y),V=r.mul(V,_),_=r.add(E,L),V=r.sub(V,_),I=r.mul(U,T),_=r.mul(B,L),I=r.add(_,I),_=r.sub(E,I),I=r.add(E,I),A=r.mul(_,I),E=r.add(R,R),E=r.add(E,R),L=r.mul(U,L),T=r.mul(B,T),E=r.add(E,L),L=r.sub(R,L),L=r.mul(U,L),T=r.add(T,L),R=r.mul(E,T),A=r.add(A,R),R=r.mul(V,T),_=r.mul(G,_),_=r.sub(_,R),R=r.mul(G,E),I=r.mul(V,I),I=r.add(I,R),new O(_,A,I)}subtract(v){return this.add(v.negate())}is0(){return this.equals(O.ZERO)}multiply(v){const{endo:M}=e;if(!n.isValidNot0(v))throw new Error("invalid scalar: out of range");let $,P;const C=p=>F.wNAFCached(this,p,O.normalizeZ);if(M){const{k1neg:p,k1:y,k2neg:_,k2:A}=M.splitScalar(v),{p:I,f:U}=C(y),{p:B,f:R}=C(A);P=U.add(R),$=D(M.beta,I,B,p,_)}else{const{p,f:y}=C(v);$=p,P=y}return O.normalizeZ([$,P])[0]}multiplyUnsafe(v){const{endo:M}=e,$=this;if(!n.isValid(v))throw new Error("invalid scalar: out of range");if(v===lg||$.is0())return O.ZERO;if(v===ug)return $;if(F.hasPrecomputes(this))return this.multiply(v);if(M){const{k1neg:P,k1:C,k2neg:p,k2:y}=M.splitScalar(v),{p1:_,p2:A}=Ite(O,$,C,y);return D(M.beta,_,A,P,p)}else return F.wNAFCachedUnsafe($,v)}multiplyAndAddUnsafe(v,M,$){const P=this.multiplyUnsafe(M).add(v.multiplyUnsafe($));return P.is0()?void 0:P}toAffine(v){return x(this,v)}isTorsionFree(){const{isTorsionFree:v}=e;return i===ug?!0:v?v(O,this):F.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:v}=e;return i===ug?this:v?v(O,this):this.multiplyUnsafe(i)}toBytes(v=!0){return pw("isCompressed",v),this.assertValidity(),u(O,this,v)}toRawBytes(v=!0){return this.toBytes(v)}toHex(v=!0){return fm(this.toBytes(v))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(t.Gx,t.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=n;const k=n.BITS,F=Ste(O,e.endo?Math.ceil(k/2):k);return O}function OU(t){return Uint8Array.of(t?2:3)}function Wte(t,e,r={}){$1(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||j0,i=e.hmac||(($,...P)=>D1(e.hash,$,id(...P))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l($){const P=a>>ug;return $>P}function u($){return l($)?o.neg($):$}function f($,P){if(!o.isValidNot0(P))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class d{constructor(P,C,p){f("r",P),f("s",C),this.r=P,this.s=C,p!=null&&(this.recovery=p),Object.freeze(this)}static fromCompact(P){const C=o.BYTES,p=bs("compactSignature",P,C*2);return new d(o.fromBytes(p.subarray(0,C)),o.fromBytes(p.subarray(C,C*2)))}static fromDER(P){const{r:C,s:p}=bl.toSig(bs("DER",P));return new d(C,p)}assertValidity(){}addRecoveryBit(P){return new d(this.r,this.s,P)}recoverPublicKey(P){const C=s.ORDER,{r:p,s:y,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*Fte<C&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=_===2||_===3?p+a:p;if(!s.isValid(A))throw new Error("recovery id 2 or 3 invalid");const I=s.toBytes(A),U=t.fromHex(id(OU((_&1)===0),I)),B=o.inv(A),R=S(bs("msgHash",P)),E=o.create(-R*B),L=o.create(y*B),G=t.BASE.multiplyUnsafe(E).add(U.multiplyUnsafe(L));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(P){if(P==="compact")return id(o.toBytes(this.r),o.toBytes(this.s));if(P==="der")return uS(bl.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fm(this.toBytes("compact"))}}const h=PU(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),m={isValidPrivateKey($){try{return h($),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const $=a;return xte(n(SU($)),$)},precompute($=8,P=t.BASE){return P.precompute($,!1)}};function g($,P=!0){return t.fromPrivateKey($).toBytes(P)}function b($){if(typeof $=="bigint")return!1;if($ instanceof t)return!0;const P=bs("key",$).length,C=s.BYTES,p=C+1,y=2*C+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===p))return P===p||P===y}function w($,P,C=!0){if(b($)===!0)throw new Error("first arg must be private key");if(b(P)===!1)throw new Error("second arg must be public key");return t.fromHex(P).multiply(h($)).toBytes(C)}const x=e.bits2int||function($){if($.length>8192)throw new Error("input is too large");const P=M1($),C=$.length*8-c;return C>0?P>>BigInt(C):P},S=e.bits2int_modN||function($){return o.create(x($))},D=U1(c);function O($){return M2("num < 2^"+c,$,lg,D),o.toBytes($)}function k($,P,C=F){if(["recovered","canonical"].some(G=>G in C))throw new Error("sign() legacy options not supported");const{hash:p}=e;let{lowS:y,prehash:_,extraEntropy:A}=C;y==null&&(y=!0),$=bs("msgHash",$),MR(C),_&&($=bs("prehashed msgHash",p($)));const I=S($),U=h(P),B=[O(U),O(I)];if(A!=null&&A!==!1){const G=A===!0?n(s.BYTES):A;B.push(bs("extraEntropy",G))}const R=id(...B),E=I;function L(G){const T=x(G);if(!o.isValidNot0(T))return;const V=o.inv(T),K=t.BASE.multiply(T).toAffine(),X=o.create(K.x);if(X===lg)return;const Q=o.create(V*o.create(E+X*U));if(Q===lg)return;let ie=(K.x===X?0:2)|Number(K.y&ug),le=Q;return y&&l(Q)&&(le=u(Q),ie^=1),new d(X,le,ie)}return{seed:R,k2sig:L}}const F={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function v($,P,C=F){const{seed:p,k2sig:y}=k($,P,C);return pte(e.hash.outputLen,o.BYTES,i)(p,y)}t.BASE.precompute(8);function M($,P,C,p=N){const y=$;P=bs("msgHash",P),C=bs("publicKey",C),MR(p);const{lowS:_,prehash:A,format:I}=p;if("strict"in p)throw new Error("options.strict was renamed to lowS");if(I!==void 0&&!["compact","der","js"].includes(I))throw new Error('format must be "compact", "der" or "js"');const U=typeof y=="string"||aS(y),B=!U&&!I&&typeof y=="object"&&y!==null&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!U&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let R,E;try{if(B)if(I===void 0||I==="js")R=new d(y.r,y.s);else throw new Error("invalid format");if(U){try{I!=="compact"&&(R=d.fromDER(y))}catch(ie){if(!(ie instanceof bl.Err))throw ie}!R&&I!=="der"&&(R=d.fromCompact(y))}E=t.fromHex(C)}catch{return!1}if(!R||_&&R.hasHighS())return!1;A&&(P=e.hash(P));const{r:L,s:G}=R,T=S(P),V=o.inv(G),K=o.create(T*V),X=o.create(L*V),Q=t.BASE.multiplyUnsafe(K).add(E.multiplyUnsafe(X));return Q.is0()?!1:o.create(Q.x)===L}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:v,verify:M,utils:m,Point:t,Signature:d})}function qte(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=H0(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function zte(t){const{CURVE:e,curveOpts:r}=qte(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function Gte(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Kte(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=zte(t),i=Hte(e,r),s=Wte(i,n,r);return Gte(t,s)}function $2(t,e){const r=n=>Kte({...t,hash:n});return{...r(e),create:r}}const DU={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},kU={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},MU={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Vte=H0(DU.p),Jte=H0(kU.p),Yte=H0(MU.p),Xte=$2({...DU,Fp:Vte,lowS:!1},O1);$2({...kU,Fp:Jte,lowS:!1},see),$2({...MU,Fp:Yte,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},iee);const Qte=Xte,UU="base10",Qi="base16",ws="base64pad",Tu="base64url",by="utf8",$U=0,Nl=1,_y=2,Zte=0,UR=1,fg=12,mS=32;function ere(){const t=U2.utils.randomPrivateKey(),e=U2.getPublicKey(t);return{privateKey:Ss(t,Qi),publicKey:Ss(e,Qi)}}function L2(){const t=j0(mS);return Ss(t,Qi)}function tre(t,e){const r=U2.getSharedSecret(So(t,Qi),So(e,Qi)),n=fte(k1,r,void 0,void 0,mS);return Ss(n,Qi)}function qb(t){const e=k1(So(t,Qi));return Ss(e,Qi)}function Eo(t){const e=k1(So(t,by));return Ss(e,Qi)}function LU(t){return So(`${t}`,UU)}function Sd(t){return Number(Ss(t,UU))}function FU(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function BU(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function rre(t){const e=LU(typeof t.type<"u"?t.type:$U);if(Sd(e)===Nl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?So(t.senderPublicKey,Qi):void 0,n=typeof t.iv<"u"?So(t.iv,Qi):j0(fg),i=So(t.symKey,Qi),s=bU(i,n).encrypt(So(t.message,by)),o=jU({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Tu?FU(o):o}function nre(t){const e=So(t.symKey,Qi),{sealed:r,iv:n}=hm({encoded:t.encoded,encoding:t.encoding}),i=bU(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ss(i,by)}function ire(t,e){const r=LU(_y),n=j0(fg),i=So(t,by),s=jU({type:r,sealed:i,iv:n});return e===Tu?FU(s):s}function sre(t,e){const{sealed:r}=hm({encoded:t,encoding:e});return Ss(r,by)}function jU(t){if(Sd(t.type)===_y)return Ss(ag([t.type,t.sealed]),ws);if(Sd(t.type)===Nl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ss(ag([t.type,t.senderPublicKey,t.iv,t.sealed]),ws)}return Ss(ag([t.type,t.iv,t.sealed]),ws)}function hm(t){const e=(t.encoding||ws)===Tu?BU(t.encoded):t.encoded,r=So(e,ws),n=r.slice(Zte,UR),i=UR;if(Sd(n)===Nl){const c=i+mS,l=c+fg,u=r.slice(i,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(Sd(n)===_y){const c=r.slice(i),l=j0(fg);return{type:n,sealed:c,iv:l}}const s=i+fg,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function ore(t,e){const r=hm({encoded:t,encoding:e?.encoding});return HU({type:Sd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ss(r.senderPublicKey,Qi):void 0,receiverPublicKey:e?.receiverPublicKey})}function HU(t){const e=t?.type||$U;if(e===Nl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function $R(t){return t.type===Nl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function LR(t){return t.type===_y}function are(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return ag([new Uint8Array([4]),e,r])}function cre(t,e){const[r,n,i]=t.split("."),s=Buffer.from(BU(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=k1(c),u=are(e);if(!Qte.verify(ag([o,a]),l,u))throw new Error("Invalid signature");return _2(t).payload}const lre="irn";function mw(t){return t?.relay||{protocol:lre}}function Gh(t){const e=zQ[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function ure(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function FR(t){if(!t.includes("wc:")){const l=Z9(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:fre(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:ure(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function fre(t){return t.startsWith("//")?t.substring(2):t}function dre(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function BR(t){const e=new URLSearchParams,r=dre(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function ab(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var hre=Object.defineProperty,pre=Object.defineProperties,gre=Object.getOwnPropertyDescriptors,jR=Object.getOwnPropertySymbols,mre=Object.prototype.hasOwnProperty,yre=Object.prototype.propertyIsEnumerable,HR=(t,e,r)=>e in t?hre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bre=(t,e)=>{for(var r in e||(e={}))mre.call(e,r)&&HR(t,r,e[r]);if(jR)for(var r of jR(e))yre.call(e,r)&&HR(t,r,e[r]);return t},_re=(t,e)=>pre(t,gre(e));function W0(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function wre(t){const e=[];return Object.values(t).forEach(r=>{e.push(...W0(r.accounts))}),e}function Ere(t,e){const r=[];return Object.values(t).forEach(n=>{W0(n.accounts).includes(e)&&r.push(...n.methods)}),r}function vre(t,e){const r=[];return Object.values(t).forEach(n=>{W0(n.accounts).includes(e)&&r.push(...n.events)}),r}function L1(t){return t.includes(":")}function Kh(t){return L1(t)?t.split(":")[0]:t}function WR(t){var e,r,n;const i={};if(!Dc(t))return i;for(const[s,o]of Object.entries(t)){const a=L1(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Kh(s);i[u]=_re(bre({},i[u]),{chains:Oc(a,(e=i[u])==null?void 0:e.chains),methods:Oc(c,(r=i[u])==null?void 0:r.methods),events:Oc(l,(n=i[u])==null?void 0:n.events)})}return i}function xre(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function qR(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=xre(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Oc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Are(t,e){var r,n,i,s,o,a;const c=WR(t),l=WR(e),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:Oc((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:Oc((i=c[d])==null?void 0:i.methods,(s=l[d])==null?void 0:s.methods),events:Oc((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const Cre={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Nre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ae(t,e){const{message:r,code:n}=Nre[t];return{message:e?`${r} ${e}`:r,code:n}}function $r(t,e){const{message:r,code:n}=Cre[t];return{message:e?`${r} ${e}`:r,code:n}}function Sl(t,e){return!!Array.isArray(t)}function Dc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Un(t){return typeof t>"u"}function hn(t,e){return e&&Un(t)?!0:typeof t=="string"&&!!t.trim().length}function yS(t,e){return e&&Un(t)?!0:typeof t=="number"&&!isNaN(t)}function Sre(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return nd(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=W0(a),f=r[o];(!nd(V9(o,f),u)||!nd(f.methods,c)||!nd(f.events,l))&&(s=!1)}),s):!1}function yw(t){return hn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Ire(t){if(hn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&yw(r)}}return!1}function Tre(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(hn(t,!1)){if(e(t))return!0;const r=Z9(t);return e(r)}}catch{}return!1}function Rre(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Pre(t){return t?.topic}function Ore(t,e){let r=null;return hn(t?.publicKey,!1)||(r=Ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function zR(t){let e=!0;return Sl(t)?t.length&&(e=t.every(r=>hn(r,!1))):e=!1,e}function Dre(t,e,r){let n=null;return Sl(e)&&e.length?e.forEach(i=>{n||yw(i)||(n=$r("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):yw(t)||(n=$r("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function kre(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Dre(i,V9(i,s),`${e} ${r}`);o&&(n=o)}),n}function Mre(t,e){let r=null;return Sl(t)?t.forEach(n=>{r||Ire(n)||(r=$r("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=$r("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Ure(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Mre(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function $re(t,e){let r=null;return zR(t?.methods)?zR(t?.events)||(r=$r("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=$r("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function WU(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=$re(n,`${e}, namespace`);i&&(r=i)}),r}function Lre(t,e,r){let n=null;if(t&&Dc(t)){const i=WU(t,e);i&&(n=i);const s=kre(t,e,r);s&&(n=s)}else n=Ae("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function zv(t,e){let r=null;if(t&&Dc(t)){const n=WU(t,e);n&&(r=n);const i=Ure(t,e);i&&(r=i)}else r=Ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function qU(t){return hn(t.protocol,!0)}function Fre(t,e){let r=!1;return t?t&&Sl(t)&&t.length&&t.forEach(n=>{r=qU(n)}):r=!0,r}function Bre(t){return typeof t=="number"}function ms(t){return typeof t<"u"&&typeof t!==null}function jre(t){return!(!t||typeof t!="object"||!t.code||!yS(t.code,!1)||!t.message||!hn(t.message,!1))}function Hre(t){return!(Un(t)||!hn(t.method,!1))}function Wre(t){return!(Un(t)||Un(t.result)&&Un(t.error)||!yS(t.id,!1)||!hn(t.jsonrpc,!1))}function qre(t){return!(Un(t)||!hn(t.name,!1))}function GR(t,e){return!(!yw(e)||!wre(t).includes(e))}function zre(t,e,r){return hn(r,!1)?Ere(t,e).includes(r):!1}function Gre(t,e,r){return hn(r,!1)?vre(t,e).includes(r):!1}function KR(t,e,r){let n=null;const i=Kre(t),s=Vre(e),o=Object.keys(i),a=Object.keys(s),c=VR(Object.keys(t)),l=VR(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),nd(o,a)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=W0(e[f].accounts);d.includes(f)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(nd(i[f].methods,s[f].methods)?nd(i[f].events,s[f].events)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Kre(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function VR(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Vre(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:W0(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function Jre(t,e){return yS(t,!1)&&t<=e.max&&t>=e.min}function JR(){const t=my();return new Promise(e=>{switch(t){case Vs.browser:e(Yre());break;case Vs.reactNative:e(Xre());break;case Vs.node:e(Qre());break;default:e(!0)}})}function Yre(){return B0()&&navigator?.onLine}async function Xre(){return uf()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Qre(){return!0}function Zre(t){switch(my()){case Vs.browser:ene(t);break;case Vs.reactNative:tne(t);break}}function ene(t){!uf()&&B0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function tne(t){uf()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function rne(){var t;return B0()&&Ml.getDocument()?((t=Ml.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Gv={};class yp{static get(e){return Gv[e]}static set(e,r){Gv[e]=r}static delete(e){delete Gv[e]}}function nne(t){const e=F0.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function ine({publicKey:t,signature:e,payload:r}){var n;const i=F2(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=ane(r.address),a=r.era==="00"?new Uint8Array([0]):F2(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${one(r.tip)}`),f=lne(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...i]),h=cne(d.length+1);return new Uint8Array([...h,s,...d])}function sne(t){const e=F2(t),r=JQ.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function F2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function one(t){return t.startsWith("0x")?t.slice(2):t}function ane(t){const e=F0.decode(t)[0];return e===42?0:e===60?2:1}function cne(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function lne(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function une(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=nne(t.transaction.address),n=ine({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return sne(i)}const fne="PARSE_ERROR",dne="INVALID_REQUEST",hne="METHOD_NOT_FOUND",pne="INVALID_PARAMS",zU="INTERNAL_ERROR",bS="SERVER_ERROR",gne=[-32700,-32600,-32601,-32602,-32603],dg={[fne]:{code:-32700,message:"Parse error"},[dne]:{code:-32600,message:"Invalid Request"},[hne]:{code:-32601,message:"Method not found"},[pne]:{code:-32602,message:"Invalid params"},[zU]:{code:-32603,message:"Internal error"},[bS]:{code:-32e3,message:"Server error"}},GU=bS;function mne(t){return gne.includes(t)}function YR(t){return Object.keys(dg).includes(t)?dg[t]:dg[GU]}function yne(t){const e=Object.values(dg).find(r=>r.code===t);return e||dg[GU]}function KU(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Kv={},Xc={},XR;function bne(){if(XR)return Xc;XR=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.isBrowserCryptoAvailable=Xc.getSubtleCrypto=Xc.getBrowerCrypto=void 0;function t(){return Oa?.crypto||Oa?.msCrypto||{}}Xc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Xc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Xc.isBrowserCryptoAvailable=r,Xc}var Qc={},QR;function _ne(){if(QR)return Qc;QR=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.isBrowser=Qc.isNode=Qc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Qc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Qc.isNode=e;function r(){return!t()&&!e()}return Qc.isBrowser=r,Qc}var ZR;function wne(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=uy;e.__exportStar(bne(),t),e.__exportStar(_ne(),t)})(Kv)),Kv}var Ene=wne();function gc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Du(t=6){return BigInt(gc(t))}function Ec(t,e,r){return{id:r||gc(),jsonrpc:"2.0",method:t,params:e}}function pm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function F1(t,e,r){return{id:t,jsonrpc:"2.0",error:vne(e)}}function vne(t,e){return typeof t>"u"?YR(zU):(typeof t=="string"&&(t=Object.assign(Object.assign({},YR(bS)),{message:t})),mne(t.code)&&(t=yne(t.code)),t)}let xne=class{},Ane=class extends xne{constructor(){super()}},Cne=class extends Ane{constructor(e){super()}};const Nne="^https?:",Sne="^wss?:";function Ine(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function VU(t,e){const r=Ine(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function eP(t){return VU(t,Nne)}function tP(t){return VU(t,Sne)}function Tne(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function JU(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function _S(t){return JU(t)&&"method"in t}function B1(t){return JU(t)&&(mc(t)||vo(t))}function mc(t){return"result"in t}function vo(t){return"error"in t}let jo=class extends Cne{constructor(e){super(e),this.events=new Bo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ec(e.method,e.params||[],e.id||Du().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{vo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),B1(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Rne=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Pne=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",rP=t=>t.split("?")[0],nP=10,One=Rne();let Dne=class{constructor(e){if(this.url=e,this.events=new Bo.EventEmitter,this.registering=!1,!tP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(kl(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!tP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Ene.isReactNative()?void 0:{rejectUnauthorized:!Tne(e)},s=new One(e,[],i);Pne()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ad(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=F1(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return KU(e,rP(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>nP&&this.events.setMaxListeners(nP)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${rP(this.url)}`));return this.events.emit("register_error",r),r}};var kne={};const YU="wc",XU=2,B2="core",Lc=`${YU}@2:${B2}:`,Mne={logger:"error"},Une={database:":memory:"},$ne="crypto",iP="client_ed25519_seed",Lne=Ce.ONE_DAY,Fne="keychain",Bne="0.3",jne="messages",Hne="0.3",Wne=Ce.SIX_HOURS,qne="publisher",QU="irn",zne="error",ZU="wss://relay.walletconnect.org",Gne="relayer",an={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Kne="_subscription",oo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Vne=.1,j2="2.21.7",Dr={link_mode:"link_mode",relay:"relay"},zb={inbound:"inbound",outbound:"outbound"},Jne="0.3",Yne="WALLETCONNECT_CLIENT_ID",sP="WALLETCONNECT_LINK_MODE_APPS",Ms={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Xne="subscription",Qne="0.3",Zne="pairing",eie="0.3",bp={wc_pairingDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:0}}},Vf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ea={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},tie="history",rie="0.3",nie="expirer",_o={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},iie="0.3",sie="verify-api",oie="https://verify.walletconnect.com",e7="https://verify.walletconnect.org",hg=e7,aie=`${hg}/v3`,cie=[oie,e7],lie="echo",uie="https://echo.walletconnect.com",dc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ol={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},lu={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},_p={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Mf={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},wp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},fie=.1,die="event-client",hie=86400,pie="https://pulse.walletconnect.org/batch";function gie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,w=0,x=m.length;w!==x&&m[w]===0;)w++,g++;for(var S=(x-w)*u+1>>>0,D=new Uint8Array(S);w!==x;){for(var O=m[w],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,w++}for(var N=S-b;N!==S&&D[N]===0;)N++;for(var v=c.repeat(g);N<S;++N)v+=t.charAt(D[N]);return v}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,w=0;m[g]===c;)b++,g++;for(var x=(m.length-g)*l+1>>>0,S=new Uint8Array(x);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=x-1;(D!==0||O<w)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");w=O,g++}if(m[g]!==" "){for(var F=x-w;F!==x&&S[F]===0;)F++;for(var N=new Uint8Array(b+(x-F)),v=b;F!==x;)N[v++]=S[F++];return N}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var mie=gie,yie=mie;const t7=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},bie=t=>new TextEncoder().encode(t),_ie=t=>new TextDecoder().decode(t);class wie{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Eie{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return r7(this,e)}}class vie{constructor(e){this.decoders=e}or(e){return r7(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const r7=(t,e)=>new vie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class xie{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new wie(e,r,n),this.decoder=new Eie(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const j1=({name:t,prefix:e,encode:r,decode:n})=>new xie(t,e,r,n),wy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=yie(r,e);return j1({prefix:t,name:e,encode:n,decode:s=>t7(i(s))})},Aie=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Cie=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>j1({prefix:e,name:t,encode(i){return Cie(i,n,r)},decode(i){return Aie(i,n,r,t)}}),Nie=j1({prefix:"\0",name:"identity",encode:t=>_ie(t),decode:t=>bie(t)});var Sie=Object.freeze({__proto__:null,identity:Nie});const Iie=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Tie=Object.freeze({__proto__:null,base2:Iie});const Rie=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Pie=Object.freeze({__proto__:null,base8:Rie});const Oie=wy({prefix:"9",name:"base10",alphabet:"0123456789"});var Die=Object.freeze({__proto__:null,base10:Oie});const kie=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Mie=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Uie=Object.freeze({__proto__:null,base16:kie,base16upper:Mie});const $ie=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lie=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fie=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bie=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jie=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Hie=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Wie=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qie=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zie=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gie=Object.freeze({__proto__:null,base32:$ie,base32upper:Lie,base32pad:Fie,base32padupper:Bie,base32hex:jie,base32hexupper:Hie,base32hexpad:Wie,base32hexpadupper:qie,base32z:zie});const Kie=wy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vie=wy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jie=Object.freeze({__proto__:null,base36:Kie,base36upper:Vie});const Yie=wy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xie=wy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qie=Object.freeze({__proto__:null,base58btc:Yie,base58flickr:Xie});const Zie=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ese=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tse=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rse=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nse=Object.freeze({__proto__:null,base64:Zie,base64pad:ese,base64url:tse,base64urlpad:rse});const n7=Array.from(""),ise=n7.reduce((t,e,r)=>(t[r]=e,t),[]),sse=n7.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ose(t){return t.reduce((e,r)=>(e+=ise[r],e),"")}function ase(t){const e=[];for(const r of t){const n=sse[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const cse=j1({prefix:"",name:"base256emoji",encode:ose,decode:ase});var lse=Object.freeze({__proto__:null,base256emoji:cse}),use=i7,oP=128,fse=-128,dse=Math.pow(2,31);function i7(t,e,r){e=e||[],r=r||0;for(var n=r;t>=dse;)e[r++]=t&255|oP,t/=128;for(;t&fse;)e[r++]=t&255|oP,t>>>=7;return e[r]=t|0,i7.bytes=r-n+1,e}var hse=H2,pse=128,aP=127;function H2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw H2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&aP)<<i:(o&aP)*Math.pow(2,i),i+=7}while(o>=pse);return H2.bytes=s-n,r}var gse=Math.pow(2,7),mse=Math.pow(2,14),yse=Math.pow(2,21),bse=Math.pow(2,28),_se=Math.pow(2,35),wse=Math.pow(2,42),Ese=Math.pow(2,49),vse=Math.pow(2,56),xse=Math.pow(2,63),Ase=function(t){return t<gse?1:t<mse?2:t<yse?3:t<bse?4:t<_se?5:t<wse?6:t<Ese?7:t<vse?8:t<xse?9:10},Cse={encode:use,decode:hse,encodingLength:Ase},s7=Cse;const cP=(t,e,r=0)=>(s7.encode(t,e,r),e),lP=t=>s7.encodingLength(t),W2=(t,e)=>{const r=e.byteLength,n=lP(t),i=n+lP(r),s=new Uint8Array(i+r);return cP(t,s,0),cP(r,s,n),s.set(e,i),new Nse(t,r,e,s)};class Nse{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const o7=({name:t,code:e,encode:r})=>new Sse(t,e,r);class Sse{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?W2(this.code,r):r.then(n=>W2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const a7=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ise=o7({name:"sha2-256",code:18,encode:a7("SHA-256")}),Tse=o7({name:"sha2-512",code:19,encode:a7("SHA-512")});var Rse=Object.freeze({__proto__:null,sha256:Ise,sha512:Tse});const c7=0,Pse="identity",l7=t7,Ose=t=>W2(c7,l7(t)),Dse={code:c7,name:Pse,encode:l7,digest:Ose};var kse=Object.freeze({__proto__:null,identity:Dse});new TextEncoder,new TextDecoder;const uP={...Sie,...Tie,...Pie,...Die,...Uie,...Gie,...Jie,...Qie,...nse,...lse};({...Rse,...kse});function u7(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Mse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?u7(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function f7(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const fP=f7("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Vv=f7("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Mse(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Use={utf8:fP,"utf-8":fP,hex:uP.base16,latin1:Vv,ascii:Vv,binary:Vv,...uP};function $se(t,e="utf8"){const r=Use[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?u7(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Lse=Object.defineProperty,Fse=(t,e,r)=>e in t?Lse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lc=(t,e,r)=>Fse(t,typeof e!="symbol"?e+"":e,r);class Bse{constructor(e,r){this.core=e,this.logger=r,lc(this,"keychain",new Map),lc(this,"name",Fne),lc(this,"version",Bne),lc(this,"initialized",!1),lc(this,"storagePrefix",Lc),lc(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),lc(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),lc(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),lc(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ae("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),lc(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,S2(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?I2(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var jse=Object.defineProperty,Hse=(t,e,r)=>e in t?jse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>Hse(t,typeof e!="symbol"?e+"":e,r);class Wse{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",$ne),ri(this,"keychain"),ri(this,"randomSessionIdentifier",L2()),ri(this,"initialized",!1),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ri(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=B3(i);return A9(s.publicKey)}),ri(this,"generateKeyPair",()=>{this.isInitialized();const i=ere();return this.setPrivateKey(i.publicKey,i.privateKey)}),ri(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=B3(s),a=this.randomSessionIdentifier;return await vY(a,i,Lne,o)}),ri(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=tre(a,s);return this.setSymKey(c,o)}),ri(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||qb(i);return await this.keychain.set(o,i),o}),ri(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"encode",async(i,s,o)=>{this.isInitialized();const a=HU(o),c=kl(s);if(LR(a))return ire(c,o?.encoding);if($R(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return rre({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),ri(this,"decode",async(i,s,o)=>{this.isInitialized();const a=ore(s,o);if(LR(a)){const c=sre(s,o?.encoding);return Ad(c)}if($R(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=nre({symKey:c,encoded:s,encoding:o?.encoding});return Ad(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ri(this,"getPayloadType",(i,s=ws)=>{const o=hm({encoded:i,encoding:s});return Sd(o.type)}),ri(this,"getPayloadSenderPublicKey",(i,s=ws)=>{const o=hm({encoded:i,encoding:s});return o.senderPublicKey?Ss(o.senderPublicKey,Qi):void 0}),this.core=e,this.logger=Bi(r,this.name),this.keychain=n||new Bse(this.core,this.logger)}get context(){return Ps(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(iP)}catch{e=L2(),await this.keychain.set(iP,e)}return $se(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qse=Object.defineProperty,zse=Object.defineProperties,Gse=Object.getOwnPropertyDescriptors,dP=Object.getOwnPropertySymbols,Kse=Object.prototype.hasOwnProperty,Vse=Object.prototype.propertyIsEnumerable,q2=(t,e,r)=>e in t?qse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jse=(t,e)=>{for(var r in e||(e={}))Kse.call(e,r)&&q2(t,r,e[r]);if(dP)for(var r of dP(e))Vse.call(e,r)&&q2(t,r,e[r]);return t},Yse=(t,e)=>zse(t,Gse(e)),Ds=(t,e,r)=>q2(t,typeof e!="symbol"?e+"":e,r);class Xse extends wK{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ds(this,"messages",new Map),Ds(this,"messagesWithoutClientAck",new Map),Ds(this,"name",jne),Ds(this,"version",Hne),Ds(this,"initialized",!1),Ds(this,"storagePrefix",Lc),Ds(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ds(this,"set",async(n,i,s)=>{this.isInitialized();const o=Eo(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===zb.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,Yse(Jse({},c),{[o]:i}))}return await this.persist(),o}),Ds(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Ds(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ds(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Eo(i);return typeof s[o]<"u"}),Ds(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Eo(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Ds(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Bi(e,this.name),this.core=r}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,S2(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,S2(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?I2(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?I2(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Qse=Object.defineProperty,Zse=Object.defineProperties,eoe=Object.getOwnPropertyDescriptors,hP=Object.getOwnPropertySymbols,toe=Object.prototype.hasOwnProperty,roe=Object.prototype.propertyIsEnumerable,z2=(t,e,r)=>e in t?Qse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sh=(t,e)=>{for(var r in e||(e={}))toe.call(e,r)&&z2(t,r,e[r]);if(hP)for(var r of hP(e))roe.call(e,r)&&z2(t,r,e[r]);return t},pP=(t,e)=>Zse(t,eoe(e)),ao=(t,e,r)=>z2(t,typeof e!="symbol"?e+"":e,r);class noe extends EK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ao(this,"events",new Bo.EventEmitter),ao(this,"name",qne),ao(this,"queue",new Map),ao(this,"publishTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),ao(this,"initialPublishTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),ao(this,"needsTransportRestart",!1),ao(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=s?.ttl||Wne,d=s?.prompt||!1,h=s?.tag||0,m=s?.id||Du().toString(),g=Gh(mw().protocol),b={id:m,method:s?.publishMethod||g.publish,params:sh({topic:n,message:i,ttl:f,prompt:d,tag:h,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},w=`Failed to publish payload, please try again. id:${m} tag:${h}`;try{Un((o=b.params)==null?void 0:o.prompt)&&((a=b.params)==null||delete a.prompt),Un((c=b.params)==null?void 0:c.tag)&&((l=b.params)==null||delete l.tag);const x=new Promise(async S=>{const D=({id:k})=>{var F;((F=b.id)==null?void 0:F.toString())===k.toString()&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(an.publish,D),S())};this.relayer.events.on(an.publish,D);const O=Nc(new Promise((k,F)=>{this.rpcPublish(b,s).then(k).catch(N=>{this.logger.warn(N,N?.message),F(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${h}`);try{await O,this.events.removeListener(an.publish,D)}catch(k){this.queue.set(m,{request:b,opts:s,attempt:1}),this.logger.warn(k,k?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:n,message:i,opts:s}}),await Nc(x,this.publishTimeout,w)}catch(x){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(x),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw x}finally{this.queue.delete(m)}}),ao(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:h,prompt:m,tag:g,ttl:b=Ce.FIVE_MINUTES}=u,w=u.id||Du().toString(),x=Gh(mw().protocol),S=h||x.publish,D={id:w,method:S,params:sh(pP(sh({},l),{ttl:b,prompt:m,tag:g,attestation:f}),d)},O=`Failed to publish custom payload, please try again. id:${w} tag:${g}`;try{Un((i=D.params)==null?void 0:i.prompt)&&((s=D.params)==null||delete s.prompt),Un((o=D.params)==null?void 0:o.tag)&&((a=D.params)==null||delete a.tag);const k=new Promise(async F=>{const N=({id:M})=>{var $;(($=D.id)==null?void 0:$.toString())===M.toString()&&(this.removeRequestFromQueue(M),this.relayer.events.removeListener(an.publish,N),F())};this.relayer.events.on(an.publish,N);const v=Nc(new Promise((M,$)=>{this.rpcPublish(D,u).then(M).catch(P=>{this.logger.warn(P,P?.message),$(P)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${w} tag:${g}`);try{await v,this.events.removeListener(an.publish,N)}catch(M){this.queue.set(w,{request:D,opts:u,attempt:1}),this.logger.warn(M,M?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:w,payload:l,opts:u}}),await Nc(k,this.publishTimeout,O)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw k}finally{this.queue.delete(w)}}),ao(this,"on",(n,i)=>{this.events.on(n,i)}),ao(this,"once",(n,i)=>{this.events.once(n,i)}),ao(this,"off",(n,i)=>{this.events.off(n,i)}),ao(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Bi(r,this.name),this.registerEventListeners()}get context(){return Ps(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(an.publish,sh(sh({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,pP(sh({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(qd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(an.connection_stalled);return}this.checkQueue()}),this.relayer.on(an.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var ioe=Object.defineProperty,soe=(t,e,r)=>e in t?ioe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oh=(t,e,r)=>soe(t,typeof e!="symbol"?e+"":e,r);class ooe{constructor(){oh(this,"map",new Map),oh(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),oh(this,"get",e=>this.map.get(e)||[]),oh(this,"exists",(e,r)=>this.get(e).includes(r)),oh(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),oh(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var aoe=Object.defineProperty,coe=Object.defineProperties,loe=Object.getOwnPropertyDescriptors,gP=Object.getOwnPropertySymbols,uoe=Object.prototype.hasOwnProperty,foe=Object.prototype.propertyIsEnumerable,G2=(t,e,r)=>e in t?aoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ep=(t,e)=>{for(var r in e||(e={}))uoe.call(e,r)&&G2(t,r,e[r]);if(gP)for(var r of gP(e))foe.call(e,r)&&G2(t,r,e[r]);return t},Jv=(t,e)=>coe(t,loe(e)),or=(t,e,r)=>G2(t,typeof e!="symbol"?e+"":e,r);class doe extends AK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,or(this,"subscriptions",new Map),or(this,"topicMap",new ooe),or(this,"events",new Bo.EventEmitter),or(this,"name",Xne),or(this,"version",Qne),or(this,"pending",new Map),or(this,"cached",[]),or(this,"initialized",!1),or(this,"storagePrefix",Lc),or(this,"subscribeTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),or(this,"initialSubscribeTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),or(this,"clientId"),or(this,"batchSubscribeTopicsLimit",500),or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),or(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=mw(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),or(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),or(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),or(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),or(this,"on",(n,i)=>{this.events.on(n,i)}),or(this,"once",(n,i)=>{this.events.once(n,i)}),or(this,"off",(n,i)=>{this.events.off(n,i)}),or(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),or(this,"start",async()=>{await this.onConnect()}),or(this,"stop",async()=>{await this.onDisconnect()}),or(this,"restart",async()=>{await this.restore(),await this.onRestart()}),or(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),or(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(qd.pulse,async()=>{await this.checkPending()}),this.events.on(Ms.created,async n=>{const i=Ms.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Ms.deleted,async n=>{const i=Ms.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Bi(r,this.name),this.clientId=""}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=mw(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=$r("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===Dr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Gh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===Dr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Ce.toMiliseconds(Ce.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===e&&(this.events.removeListener(Ms.created,d),f(h.id))};this.events.on(Ms.created,d);try{const h=await Nc(new Promise((m,g)=>{this.relayer.request(a).catch(b=>{this.logger.warn(b,b?.message),g(b)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ms.created,d),f(h)}catch{}}),u=await Nc(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(an.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Gh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Nc(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Gh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Nc(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Gh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Jv(Ep({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Ep({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Ep({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ms.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ms.deleted,Jv(Ep({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ms.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ms.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>Jv(Ep({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await vZ(Ce.toMiliseconds(Ce.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Eo(e+await this.getClientId())}}var hoe=Object.defineProperty,mP=Object.getOwnPropertySymbols,poe=Object.prototype.hasOwnProperty,goe=Object.prototype.propertyIsEnumerable,K2=(t,e,r)=>e in t?hoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yP=(t,e)=>{for(var r in e||(e={}))poe.call(e,r)&&K2(t,r,e[r]);if(mP)for(var r of mP(e))goe.call(e,r)&&K2(t,r,e[r]);return t},Lt=(t,e,r)=>K2(t,typeof e!="symbol"?e+"":e,r);class moe extends vK{constructor(e){super(e),Lt(this,"protocol","wc"),Lt(this,"version",2),Lt(this,"core"),Lt(this,"logger"),Lt(this,"events",new Bo.EventEmitter),Lt(this,"provider"),Lt(this,"messages"),Lt(this,"subscriber"),Lt(this,"publisher"),Lt(this,"name",Gne),Lt(this,"transportExplicitlyClosed",!1),Lt(this,"initialized",!1),Lt(this,"connectionAttemptInProgress",!1),Lt(this,"relayUrl"),Lt(this,"projectId"),Lt(this,"packageName"),Lt(this,"bundleId"),Lt(this,"hasExperiencedNetworkDisruption",!1),Lt(this,"pingTimeout"),Lt(this,"heartBeatTimeout",Ce.toMiliseconds(Ce.THIRTY_SECONDS+Ce.FIVE_SECONDS)),Lt(this,"reconnectTimeout"),Lt(this,"connectPromise"),Lt(this,"reconnectInProgress",!1),Lt(this,"requestsInFlight",[]),Lt(this,"connectTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),Lt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Du().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Lt(this,"resetPingTimeout",()=>{dw()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Lt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Lt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(an.connect)}),Lt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Lt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(an.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Lt(this,"registerProviderListeners",()=>{this.provider.on(oo.payload,this.onPayloadHandler),this.provider.on(oo.connect,this.onConnectHandler),this.provider.on(oo.disconnect,this.onDisconnectHandler),this.provider.on(oo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Bi(e.logger,this.name):dy(M0({level:e.logger||zne})),this.messages=new Xse(this.logger,e.core),this.subscriber=new doe(this,this.logger),this.publisher=new noe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||ZU,oZ()?this.packageName=sR():aZ()&&(this.bundleId=sR()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Ps(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Dr.relay},zb.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ms.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ms.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,yP({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Nc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await JR())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=kn(Ce.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(an.message,e),await this.recordMessageEvent(e,zb.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(oo.disconnect,s),await Nc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(oo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(oo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(oo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Ce.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(dw())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new jo(new Dne(dZ({sdkVersion:j2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),_S(e)){if(!e.method.endsWith(Kne))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Dr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(yP({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else B1(e)&&this.events.emit(an.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,zb.inbound),this.events.emit(an.message,e))}async acknowledgePayload(e){const r=pm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(oo.payload,this.onPayloadHandler),this.provider.off(oo.connect,this.onConnectHandler),this.provider.off(oo.disconnect,this.onDisconnectHandler),this.provider.off(oo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await JR();Zre(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(qd.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&rne())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(an.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ce.toMiliseconds(Vne)))))}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function yoe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function bP(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function _P(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const boe="[object RegExp]",_oe="[object String]",woe="[object Number]",Eoe="[object Boolean]",wP="[object Arguments]",voe="[object Symbol]",xoe="[object Date]",Aoe="[object Map]",Coe="[object Set]",Noe="[object Array]",Soe="[object Function]",Ioe="[object ArrayBuffer]",Yv="[object Object]",Toe="[object Error]",Roe="[object DataView]",Poe="[object Uint8Array]",Ooe="[object Uint8ClampedArray]",Doe="[object Uint16Array]",koe="[object Uint32Array]",Moe="[object BigUint64Array]",Uoe="[object Int8Array]",$oe="[object Int16Array]",Loe="[object Int32Array]",Foe="[object BigInt64Array]",Boe="[object Float32Array]",joe="[object Float64Array]";function Hoe(){}function EP(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Woe(t,e,r){return jp(t,e,void 0,void 0,void 0,void 0,r)}function jp(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return pg(t,e,s,o)}return pg(t,e,s,o)}function pg(t,e,r,n){if(Object.is(t,e))return!0;let i=_P(t),s=_P(e);if(i===wP&&(i=Yv),s===wP&&(s=Yv),i!==s)return!1;switch(i){case _oe:return t.toString()===e.toString();case woe:{const c=t.valueOf(),l=e.valueOf();return yoe(c,l)}case Eoe:case xoe:case voe:return Object.is(t.valueOf(),e.valueOf());case boe:return t.source===e.source&&t.flags===e.flags;case Soe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Aoe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!jp(l,e.get(c),c,t,e,r,n))return!1;return!0}case Coe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>jp(f,h,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case Noe:case Poe:case Ooe:case Doe:case koe:case Moe:case Uoe:case $oe:case Loe:case Foe:case Boe:case joe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!jp(t[c],e[c],c,t,e,r,n))return!1;return!0}case Ioe:return t.byteLength!==e.byteLength?!1:pg(new Uint8Array(t),new Uint8Array(e),r,n);case Roe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:pg(new Uint8Array(t),new Uint8Array(e),r,n);case Toe:return t.name===e.name&&t.message===e.message;case Yv:{if(!(pg(t.constructor,e.constructor,r,n)||EP(t)&&EP(e)))return!1;const c=[...Object.keys(t),...bP(t)],l=[...Object.keys(e),...bP(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;const h=e[f];if(!jp(d,h,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function qoe(t,e){return Woe(t,e,Hoe)}var zoe=Object.defineProperty,vP=Object.getOwnPropertySymbols,Goe=Object.prototype.hasOwnProperty,Koe=Object.prototype.propertyIsEnumerable,V2=(t,e,r)=>e in t?zoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xP=(t,e)=>{for(var r in e||(e={}))Goe.call(e,r)&&V2(t,r,e[r]);if(vP)for(var r of vP(e))Koe.call(e,r)&&V2(t,r,e[r]);return t},ss=(t,e,r)=>V2(t,typeof e!="symbol"?e+"":e,r);class Gd extends xK{constructor(e,r,n,i=Lc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,ss(this,"map",new Map),ss(this,"version",Jne),ss(this,"cached",[]),ss(this,"initialized",!1),ss(this,"getKey"),ss(this,"storagePrefix",Lc),ss(this,"recentlyDeleted",[]),ss(this,"recentlyDeletedLimit",200),ss(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Un(o)?this.map.set(this.getKey(o),o):Rre(o)?this.map.set(o.id,o):Pre(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ss(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ss(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ss(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>qoe(a[c],o[c]))):this.values)),ss(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=xP(xP({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ss(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Bi(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Voe=Object.defineProperty,Joe=(t,e,r)=>e in t?Voe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Et=(t,e,r)=>Joe(t,typeof e!="symbol"?e+"":e,r);class Yoe{constructor(e,r){this.core=e,this.logger=r,Et(this,"name",Zne),Et(this,"version",eie),Et(this,"events",new zN),Et(this,"pairings"),Et(this,"initialized",!1),Et(this,"storagePrefix",Lc),Et(this,"ignoredPayloadTypes",[Nl]),Et(this,"registeredMethods",[]),Et(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Et(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Et(this,"create",async n=>{this.isInitialized();const i=L2(),s=await this.core.crypto.setSymKey(i),o=kn(Ce.FIVE_MINUTES),a={protocol:QU},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=BR({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Vf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),Et(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[dc.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=FR(n.uri);i.props.properties.topic=s,i.addTrace(dc.pairing_uri_validation_success),i.addTrace(dc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(dc.existing_pairing),u.active)throw i.setError(ol.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(dc.pairing_not_expired)}const f=c||kn(Ce.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(dc.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Vf.create,d),i.addTrace(dc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(dc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ol.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(ol.subscribe_pairing_topic_failure),h}return i.addTrace(dc.subscribe_pairing_topic_success),d}),Et(this,"activate",async({topic:n})=>{this.isInitialized();const i=kn(Ce.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Et(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=qf();this.events.once(Gt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Et(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Et(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Et(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Et(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",$r("USER_DISCONNECTED")),await this.deletePairing(i))}),Et(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return BR({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Et(this,"sendRequest",async(n,i,s)=>{const o=Ec(i,s),a=await this.core.crypto.encode(n,o),c=bp[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Et(this,"sendResult",async(n,i,s)=>{const o=pm(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=bp[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Et(this,"sendError",async(n,i,s)=>{const o=F1(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=bp[c]?bp[c].res:bp.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Et(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,$r("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Et(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Eu(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Et(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Et(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Et(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Vf.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Et(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{mc(i)?this.events.emit(Gt("pairing_ping",s),{}):vo(i)&&this.events.emit(Gt("pairing_ping",s),{error:i.error})},500)}),Et(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Vf.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Et(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=$r("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Et(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error($r("WC_METHOD_UNSUPPORTED",n))}),Et(this,"isValidPair",(n,i)=>{var s;if(!ms(n)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(!Tre(n.uri)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ol.malformed_pairing_uri),new Error(a)}const o=FR(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ol.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ce.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(ol.pairing_expired);const{message:a}=Ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Et(this,"isValidPing",async n=>{if(!ms(n)){const{message:s}=Ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Et(this,"isValidDisconnect",async n=>{if(!ms(n)){const{message:s}=Ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Et(this,"isValidPairingTopic",async n=>{if(!hn(n,!1)){const{message:i}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Eu(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ae("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Bi(r,this.name),this.pairings=new Gd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ps(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(an.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Dr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);_S(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):B1(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(_o.expired,async e=>{const{topic:r}=Q9(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Vf.expire,{topic:r}))})}}var Xoe=Object.defineProperty,Qoe=(t,e,r)=>e in t?Xoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ni=(t,e,r)=>Qoe(t,typeof e!="symbol"?e+"":e,r);class Zoe extends _K{constructor(e,r){super(e,r),this.core=e,this.logger=r,ni(this,"records",new Map),ni(this,"events",new Bo.EventEmitter),ni(this,"name",tie),ni(this,"version",rie),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",Lc),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:kn(Ce.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ea.created,o)}),ni(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ea.updated,i))}),ni(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ni(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ea.deleted,s)}}),this.persist()}),ni(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ni(this,"on",(n,i)=>{this.events.on(n,i)}),ni(this,"once",(n,i)=>{this.events.once(n,i)}),ni(this,"off",(n,i)=>{this.events.off(n,i)}),ni(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ec(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ea.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ea.created,e=>{const r=ea.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.updated,e=>{const r=ea.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.deleted,e=>{const r=ea.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(qd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Ce.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ea.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var eae=Object.defineProperty,tae=(t,e,r)=>e in t?eae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vi=(t,e,r)=>tae(t,typeof e!="symbol"?e+"":e,r);class rae extends CK{constructor(e,r){super(e,r),this.core=e,this.logger=r,vi(this,"expirations",new Map),vi(this,"events",new Bo.EventEmitter),vi(this,"name",nie),vi(this,"version",iie),vi(this,"cached",[]),vi(this,"initialized",!1),vi(this,"storagePrefix",Lc),vi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),vi(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),vi(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(_o.created,{target:s,expiration:o})}),vi(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),vi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(_o.deleted,{target:i,expiration:s})}}),vi(this,"on",(n,i)=>{this.events.on(n,i)}),vi(this,"once",(n,i)=>{this.events.once(n,i)}),vi(this,"off",(n,i)=>{this.events.off(n,i)}),vi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return hZ(e);if(typeof e=="number")return pZ(e);const{message:r}=Ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(_o.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ce.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(_o.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(qd.pulse,()=>this.checkExpirations()),this.events.on(_o.created,e=>{const r=_o.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(_o.expired,e=>{const r=_o.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(_o.deleted,e=>{const r=_o.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nae=Object.defineProperty,iae=(t,e,r)=>e in t?nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,un=(t,e,r)=>iae(t,typeof e!="symbol"?e+"":e,r);class sae extends NK{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,un(this,"name",sie),un(this,"abortController"),un(this,"isDevEnv"),un(this,"verifyUrlV3",aie),un(this,"storagePrefix",Lc),un(this,"version",XU),un(this,"publicKey"),un(this,"fetchPromise"),un(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ce.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),un(this,"register",async i=>{if(!B0()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Ml.getDocument(),u=this.startAbortTimer(Ce.ONE_SECOND*5),f=await new Promise((d,h)=>{const m=()=>{window.removeEventListener("message",b),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const b=w=>{if(w.data&&typeof w.data=="string")try{const x=JSON.parse(w.data);if(x.type==="verify_attestation"){if(_2(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",b),d(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(g),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),un(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(_2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),un(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ce.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),un(this,"getVerifyUrl",i=>{let s=i||hg;return cie.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${hg}`),s=hg),s}),un(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ce.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),un(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),un(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),un(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),un(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),un(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),un(this,"validateAttestation",(i,s)=>{const o=cre(i,s.publicKey),a={hasExpired:Ce.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Bi(r,this.name),this.abortController=new AbortController,this.isDevEnv=iS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ps(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ce.toMiliseconds(e))}}var oae=Object.defineProperty,aae=(t,e,r)=>e in t?oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AP=(t,e,r)=>aae(t,typeof e!="symbol"?e+"":e,r);class cae extends SK{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,AP(this,"context",lie),AP(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${uie}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Bi(r,this.context)}}var lae=Object.defineProperty,CP=Object.getOwnPropertySymbols,uae=Object.prototype.hasOwnProperty,fae=Object.prototype.propertyIsEnumerable,J2=(t,e,r)=>e in t?lae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vp=(t,e)=>{for(var r in e||(e={}))uae.call(e,r)&&J2(t,r,e[r]);if(CP)for(var r of CP(e))fae.call(e,r)&&J2(t,r,e[r]);return t},Wn=(t,e,r)=>J2(t,typeof e!="symbol"?e+"":e,r);class dae extends IK{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Wn(this,"context",die),Wn(this,"storagePrefix",Lc),Wn(this,"storageVersion",fie),Wn(this,"events",new Map),Wn(this,"shouldPersist",!1),Wn(this,"init",async()=>{if(!iS())try{const i={eventId:aR(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Y9(this.core.relayer.protocol,this.core.relayer.version,j2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Wn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=aR(),u=this.core.projectId||"",f=Date.now(),d=vp({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Wn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return vp(vp({},a),this.setMethods(a.eventId))}),Wn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Wn(this,"setEventListeners",()=>{this.core.heartbeat.on(qd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ce.fromMiliseconds(Date.now())-Ce.fromMiliseconds(i.timestamp)>hie&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Wn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Wn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Wn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,vp(vp({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Wn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Wn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${pie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${j2}${s}`,{method:"POST",body:JSON.stringify(i)})}),Wn(this,"getAppDomain",()=>J9().url),this.logger=Bi(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var hae=Object.defineProperty,NP=Object.getOwnPropertySymbols,pae=Object.prototype.hasOwnProperty,gae=Object.prototype.propertyIsEnumerable,Y2=(t,e,r)=>e in t?hae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SP=(t,e)=>{for(var r in e||(e={}))pae.call(e,r)&&Y2(t,r,e[r]);if(NP)for(var r of NP(e))gae.call(e,r)&&Y2(t,r,e[r]);return t},lr=(t,e,r)=>Y2(t,typeof e!="symbol"?e+"":e,r);let mae=class d7 extends gK{constructor(e){var r;super(e),lr(this,"protocol",YU),lr(this,"version",XU),lr(this,"name",B2),lr(this,"relayUrl"),lr(this,"projectId"),lr(this,"customStoragePrefix"),lr(this,"events",new Bo.EventEmitter),lr(this,"logger"),lr(this,"heartbeat"),lr(this,"relayer"),lr(this,"crypto"),lr(this,"storage"),lr(this,"history"),lr(this,"expirer"),lr(this,"pairing"),lr(this,"verify"),lr(this,"echoClient"),lr(this,"linkModeSupportedApps"),lr(this,"eventClient"),lr(this,"initialized",!1),lr(this,"logChunkController"),lr(this,"on",(a,c)=>this.events.on(a,c)),lr(this,"once",(a,c)=>this.events.once(a,c)),lr(this,"off",(a,c)=>this.events.off(a,c)),lr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),lr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:Dr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||ZU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=M0({level:typeof e?.logger=="string"&&e.logger?e.logger:Mne.logger,name:B2}),{logger:s,chunkLoggerController:o}=KN({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Bi(s,this.name),this.heartbeat=new pG,this.crypto=new Wse(this,this.logger,e?.keychain),this.history=new Zoe(this,this.logger),this.expirer=new rae(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new YG(SP(SP({},Une),e?.storageOptions)),this.relayer=new moe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Yoe(this,this.logger),this.verify=new sae(this,this.logger,this.storage),this.echoClient=new cae(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new dae(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new d7(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(Yne,n),r}get context(){return Ps(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(sP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(sP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&kne.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const yae=mae,h7="wc",p7=2,g7="client",wS=`${h7}@${p7}:${g7}:`,Xv={name:g7,logger:"error"},IP="WALLETCONNECT_DEEPLINK_CHOICE",bae="proposal",TP="Proposal expired",_ae="session",ah=Ce.SEVEN_DAYS,wae="engine",ii={wc_sessionPropose:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1119}}},Qv={min:Ce.FIVE_MINUTES,max:Ce.SEVEN_DAYS},uc={idle:"IDLE",active:"ACTIVE"},Eae={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},vae="request",xae=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Aae="wc",Cae="auth",Nae="authKeys",Sae="pairingTopics",Iae="requests",H1=`${Aae}@${1.5}:${Cae}:`,Gb=`${H1}:PUB_KEY`;var Tae=Object.defineProperty,Rae=Object.defineProperties,Pae=Object.getOwnPropertyDescriptors,RP=Object.getOwnPropertySymbols,Oae=Object.prototype.hasOwnProperty,Dae=Object.prototype.propertyIsEnumerable,X2=(t,e,r)=>e in t?Tae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xt=(t,e)=>{for(var r in e||(e={}))Oae.call(e,r)&&X2(t,r,e[r]);if(RP)for(var r of RP(e))Dae.call(e,r)&&X2(t,r,e[r]);return t},xi=(t,e)=>Rae(t,Pae(e)),_e=(t,e,r)=>X2(t,typeof e!="symbol"?e+"":e,r);class kae extends OK{constructor(e){super(e),_e(this,"name",wae),_e(this,"events",new zN),_e(this,"initialized",!1),_e(this,"requestQueue",{state:uc.idle,queue:[]}),_e(this,"sessionRequestQueue",{state:uc.idle,queue:[]}),_e(this,"emittedSessionRequests",new xZ({limit:500})),_e(this,"requestQueueDelay",Ce.ONE_SECOND),_e(this,"expectedPairingMethodMap",new Map),_e(this,"recentlyDeletedMap",new Map),_e(this,"recentlyDeletedLimit",200),_e(this,"relayMessageCache",[]),_e(this,"pendingSessions",new Map),_e(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay)))}),_e(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=xi(Xt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Are(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,f,d=!1;try{if(u){const k=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),k}if(!u||!d){const{topic:k,uri:F}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=k,f=F}if(!u){const{message:k}=Ae("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(k)}const h=await this.client.core.crypto.generateKeyPair(),m=ii.wc_sessionPropose.req.ttl||Ce.FIVE_MINUTES,g=kn(m),b=xi(Xt(Xt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:QU}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:gc()}),w=Gt("session_connect",b.id),{reject:x,resolve:S,done:D}=qf(m,TP),O=({id:k})=>{k===b.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:TP,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(w,({error:k,session:F})=>{this.client.events.off("proposal_expire",O),k?x(k):F&&S(F)}),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}),await this.setProposal(b.id,b),{uri:f,approval:D}}),_e(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),_e(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[lu.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(v){throw o.setError(_p.no_internet_connection),v}try{await this.isValidProposalId(r?.id)}catch(v){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(_p.proposal_not_found),v}try{await this.isValidApprove(r)}catch(v){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(_p.session_approve_namespace_validation_failure),v}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:b,optionalNamespaces:w}=h;let x=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:lu.session_approve_started,properties:{topic:m,trace:[lu.session_approve_started,lu.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),D=g.publicKey,O=await this.client.core.crypto.generateSharedKey(S,D),k=Xt(Xt(Xt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:kn(ah)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),F=Dr.relay;x.addTrace(lu.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:F,internal:{skipSubscribe:!0}})}catch(v){throw x.setError(_p.subscribe_session_topic_failure),v}x.addTrace(lu.subscribe_session_topic_success);const N=xi(Xt({},k),{topic:O,requiredNamespaces:b,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:k.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:Dr.relay});await this.client.session.set(O,N),x.addTrace(lu.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:S},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),x.addTrace(lu.session_approve_publish_success)}catch(v){throw this.client.logger.error(v),this.client.session.delete(O,$r("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),v}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(O,kn(ah)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),_e(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(n)}),_e(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=qf(),c=gc(),l=Du().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Gt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),_e(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=gc(),{done:s,resolve:o,reject:a}=qf();return this.events.once(Gt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,kn(ah)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),_e(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:n,request:i,topic:s,expiry:o=ii.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const c=gc(),l=Du().toString(),{done:u,resolve:f,reject:d}=qf(o,"Request expired. Please try again.");this.events.once(Gt("session_request",c),({error:b,result:w})=>{b?d(b):f(w)});const h="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:{request:xi(Xt({},i),{expiryTimestamp:kn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const g={request:xi(Xt({},i),{expiryTimestamp:kn(o)}),chainId:n};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>d(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),b()}),new Promise(async b=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const x=await bZ(this.client.core.storage,IP);await gZ({id:c,topic:s,wcDeepLink:x})}b()}),u()]).then(b=>b[2])}),_e(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);mc(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):vo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),_e(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=gc(),s=Du().toString(),{done:o,resolve:a,reject:c}=qf();this.events.once(Gt("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),_e(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Du().toString(),a=gc();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),_e(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:$r("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),_e(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Sre(n,r)))),_e(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),_e(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Dr.link_mode:Dr.relay;o===Dr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:m,methods:g=[],expiry:b}=r,w=[...r.resources||[]],{topic:x,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:S}});const D=await this.client.core.crypto.generateKeyPair(),O=qb(D);if(await Promise.all([this.client.auth.authKeys.set(Gb,{responseTopic:O,publicKey:D}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:x})]),await this.client.core.relayer.subscribe(O,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),g.length>0){const{namespace:U}=pd(a[0]);let B=kee(U,"request",g);Wb(w)&&(B=Uee(B,w.pop())),w.push(B)}const k=b&&b>ii.wc_sessionAuthenticate.req.ttl?b:ii.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:m,resources:w},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:kn(k)},N={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},v={requiredNamespaces:{},optionalNamespaces:N,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:kn(ii.wc_sessionPropose.req.ttl),id:gc()},{done:M,resolve:$,reject:P}=qf(k,"Request expired"),C=gc(),p=Gt("session_connect",v.id),y=Gt("session_request",C),_=async({error:U,session:B})=>{this.events.off(y,A),U?P(U):B&&$({session:B})},A=async U=>{var B,R,E;if(await this.deletePendingAuthRequest(C,{message:"fulfilled",code:0}),U.error){const Q=$r("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return U.error.code===Q.code?void 0:(this.events.off(p,_),P(U.error.message))}await this.deleteProposal(v.id),this.events.off(p,_);const{cacaos:L,responder:G}=U.result,T=[],V=[];for(const Q of L){await bR({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),P($r("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ie}=Q,le=Wb(ie.resources),H=[T2(ie.iss)],Y=hw(ie.iss);if(le){const W=_R(le),Z=wR(le);T.push(...W),H.push(...Z)}for(const W of H)V.push(`${W}:${Y}`)}const K=await this.client.core.crypto.generateSharedKey(D,G.publicKey);let X;T.length>0&&(X={topic:K,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:kn(ah),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:qR([...new Set(T)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,X),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:G.metadata}),X=this.client.session.get(K)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&(R=G.metadata.redirect)!=null&&R.linkMode&&(E=G.metadata.redirect)!=null&&E.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(K,{transportType:Dr.link_mode})),$({auths:L,session:X})};this.events.once(p,_),this.events.once(y,A);let I;try{if(s){const U=Ec("wc_sessionAuthenticate",F,C);this.client.core.history.set(x,U);const B=await this.client.core.crypto.encode("",U,{type:_y,encoding:Tu});I=ab(n,x,B)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:F,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:C}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:v,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v.id})])}catch(U){throw this.events.off(p,_),this.events.off(y,A),U}return await this.setProposal(v.id,v),await this.setAuthRequest(C,{request:xi(Xt({},F),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:I??S,response:M}}),_e(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Mf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(wp.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(wp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Dr.relay;a===Dr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=qb(c),f={type:Nl,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const b of i){if(!await bR({cacao:b,projectId:this.client.core.projectId})){s.setError(wp.invalid_cacao);const O=$r("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:O,encodeOpts:f}),new Error(O.message)}s.addTrace(Mf.cacaos_verified);const{p:w}=b,x=Wb(w.resources),S=[T2(w.iss)],D=hw(w.iss);if(x){const O=_R(x),k=wR(x);d.push(...O),S.push(...k)}for(const O of S)h.push(`${O}:${D}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Mf.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:kn(ah),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:qR([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(Mf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(b){throw s.setError(wp.subscribe_authenticated_session_topic_failure),b}s.addTrace(Mf.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Mf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Mf.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(wp.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),_e(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Dr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=qb(o),l={type:Nl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),_e(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return hU(n,i)}),_e(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),_e(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),_e(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,$r("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(IP).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,$r("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=uc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),_e(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(_p.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,$r("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),_e(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=uc.idle,this.client.events.emit("session_request_expire",{id:r}))}),_e(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),_e(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),_e(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,kn(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),_e(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Dr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),_e(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||kn(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),_e(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,h=Ec(i,s,c);let m;const g=!!u;try{const x=g?Tu:ws;m=await this.client.core.crypto.encode(n,h,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),x}let b;if(xae.includes(i)){const x=Eo(JSON.stringify(h)),S=Eo(m);b=await this.client.core.verify.register({id:S,decryptedId:x})}const w=Xt(Xt({},ii[i].req),d);if(w.attestation=b,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(n,h),g){const x=ab(u,n,m);await global.Linking.openURL(x,this.client.name)}else w.tvf=xi(Xt({},f),{correlationId:h.id}),l?(w.internal=xi(Xt({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,w)):this.client.core.relayer.publish(n,m,w).catch(x=>this.client.logger.error(x));return h.id}),_e(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Ec("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:ws}),a=Eo(JSON.stringify(s)),c=Eo(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:xi(Xt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),_e(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=pm(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:ws}),u=Ec("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(n,u,{encoding:ws});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:xi(Xt({},a),{publishMethod:"wc_approveSession"})})}),_e(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=pm(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?Tu:ws;u=await this.client.core.crypto.encode(i,l,xi(Xt({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let d,h;try{d=await this.client.core.history.get(i,n);const m=d.request;try{h=this.getTVFParams(n,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(f){const m=ab(c,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=d.request.method,g=ii[m].res;g.tvf=xi(Xt({},h),{correlationId:n}),o?(g.internal=xi(Xt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(l)}),_e(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=F1(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?Tu:ws;u=await this.client.core.crypto.encode(i,l,xi(Xt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=ab(c,i,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,m=a||ii[h].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(l)}),_e(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Eu(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Eu(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),_e(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),_e(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),_e(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===uc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=uc.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=uc.idle}),_e(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),_e(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),_e(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ae("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),_e(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),_e(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(ol.proposal_listener_not_found)),this.isValidConnect(Xt({},i.params));const u=a.expiryTimestamp||kn(ii.wc_sessionPropose.req.ttl),f=Xt({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:Eo(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(dc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),_e(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(mc(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(vo(n)){await this.deleteProposal(s);const o=Gt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),_e(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(h.proposalId),g=xi(Xt(Xt(Xt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:Dr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Gt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),_e(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;mc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Gt("session_approve",i),{})):vo(n)&&(await this.client.session.delete(r,$r("USER_DISCONNECTED")),this.events.emit(Gt("session_approve",i),{error:n.error}))}),_e(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=yp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:$r("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Xt({topic:r},i));try{yp.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw yp.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),_e(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),_e(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Gt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Gt("session_update",i),{}):vo(n)&&this.events.emit(Gt("session_update",i),{error:n.error})}),_e(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,kn(ah)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),_e(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Gt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Gt("session_extend",i),{}):vo(n)&&this.events.emit(Gt("session_extend",i),{error:n.error})}),_e(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),_e(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Gt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);mc(n)?this.events.emit(Gt("session_ping",i),{}):vo(n)&&this.events.emit(Gt("session_ping",i),{error:n.error})},500)}),_e(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(an.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:$r("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),_e(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(Xt({topic:o},d));const h=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Eo(JSON.stringify(Ec("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:m};await this.setPendingSessionRequest(g),u===Dr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),_e(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Gt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);mc(n)?this.events.emit(Gt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Gt("session_request",i),{error:n.error})}),_e(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=yp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Xt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),yp.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),_e(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),mc(n)?this.events.emit(Gt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Gt("session_request",i),{error:n.error})}),_e(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:Eo(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===Dr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Nl,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:h,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:d})}}),_e(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),_e(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=uc.idle,this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay))}),_e(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Gt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Gt("session_request",s.request.id),{error:n})})}),_e(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===uc.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),_e(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=uc.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),_e(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ec("wc_sessionPropose",xi(Xt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),_e(this,"isValidConnect",async r=>{if(!ms(r)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Un(n)||await this.isValidPairingTopic(n),!Fre(c)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Un(i)&&Dc(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Un(s)&&Dc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Un(o)||this.validateSessionProps(o,"sessionProperties"),!Un(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),_e(this,"validateNamespaces",(r,n)=>{const i=Lre(r,"connect()",n);if(i)throw new Error(i.message)}),_e(this,"isValidApprove",async r=>{if(!ms(r))throw new Error(Ae("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=zv(i,"approve()");if(l)throw new Error(l.message);const u=KR(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!hn(s,!0)){const{message:f}=Ae("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Un(o)||this.validateSessionProps(o,"sessionProperties"),!Un(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),_e(this,"isValidReject",async r=>{if(!ms(r)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!jre(i)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),_e(this,"isValidSessionSettleRequest",r=>{if(!ms(r)){const{message:l}=Ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!qU(n)){const{message:l}=Ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Ore(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=zv(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Eu(o)){const{message:l}=Ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),_e(this,"isValidUpdate",async r=>{if(!ms(r)){const{message:c}=Ae("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=zv(i,"update()");if(o)throw new Error(o.message);const a=KR(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),_e(this,"isValidExtend",async r=>{if(!ms(r)){const{message:i}=Ae("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),_e(this,"isValidRequest",async r=>{if(!ms(r)){const{message:c}=Ae("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!GR(a,s)){const{message:c}=Ae("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Hre(i)){const{message:c}=Ae("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!zre(a,s,i.method)){const{message:c}=Ae("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Jre(o,Qv)){const{message:c}=Ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Qv.min} and ${Qv.max}`);throw new Error(c)}}),_e(this,"isValidRespond",async r=>{var n;if(!ms(r)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Wre(s)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),_e(this,"isValidPing",async r=>{if(!ms(r)){const{message:i}=Ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),_e(this,"isValidEmit",async r=>{if(!ms(r)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!GR(o,s)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!qre(i)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Gre(o,s,i.name)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),_e(this,"isValidDisconnect",async r=>{if(!ms(r)){const{message:i}=Ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),_e(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!hn(i,!1))throw new Error("uri is required parameter");if(!hn(s,!1))throw new Error("domain is required parameter");if(!hn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>pd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=pd(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),_e(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||hg,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Dr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),_e(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ae("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),_e(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),_e(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),_e(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),_e(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,f,d;return!r||n!==Dr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),_e(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),_e(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=oR(r,"topic")||"",i=decodeURIComponent(oR(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Dr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),_e(this,"registerLinkModeListeners",async()=>{var r;if(iS()||uf()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),_e(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),_e(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),_e(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=Eae[s];if(s==="sui_signTransaction")return[bee(n.transactionBytes)];if(s==="near_signTransaction")return[pR(n)];if(s==="near_signTransactions")return n.map(c=>pR(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[une({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Sl(n)?n.map(c=>gR(c)):[gR(n)];if(s==="cosmos_signDirect")return[wee(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Sl(a))return s==="solana_signAllTransactions"?a.map(c=>yee(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(an.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Gb)?this.client.auth.authKeys.get(Gb):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Dr.link_mode?Tu:ws});_S(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Eo(n)})):B1(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(_o.expired,async e=>{const{topic:r,id:n}=Q9(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ae("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ae("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Vf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Vf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!hn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Eu(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ae("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!hn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Eu(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Ae("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(hn(e,!1)){const{message:r}=Ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!Bre(e)){const{message:r}=Ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Eu(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Ae("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Mae extends Gd{constructor(e,r){super(e,r,bae,wS),this.core=e,this.logger=r}}let Uae=class extends Gd{constructor(e,r){super(e,r,_ae,wS),this.core=e,this.logger=r}};class $ae extends Gd{constructor(e,r){super(e,r,vae,wS,n=>n.id),this.core=e,this.logger=r}}class Lae extends Gd{constructor(e,r){super(e,r,Nae,H1,()=>Gb),this.core=e,this.logger=r}}class Fae extends Gd{constructor(e,r){super(e,r,Sae,H1),this.core=e,this.logger=r}}class Bae extends Gd{constructor(e,r){super(e,r,Iae,H1,n=>n.id),this.core=e,this.logger=r}}var jae=Object.defineProperty,Hae=(t,e,r)=>e in t?jae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zv=(t,e,r)=>Hae(t,typeof e!="symbol"?e+"":e,r);class Wae{constructor(e,r){this.core=e,this.logger=r,Zv(this,"authKeys"),Zv(this,"pairingTopics"),Zv(this,"requests"),this.authKeys=new Lae(this.core,this.logger),this.pairingTopics=new Fae(this.core,this.logger),this.requests=new Bae(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var qae=Object.defineProperty,zae=(t,e,r)=>e in t?qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vt=(t,e,r)=>zae(t,typeof e!="symbol"?e+"":e,r);let Gae=class m7 extends PK{constructor(e){super(e),vt(this,"protocol",h7),vt(this,"version",p7),vt(this,"name",Xv.name),vt(this,"metadata"),vt(this,"core"),vt(this,"logger"),vt(this,"events",new Bo.EventEmitter),vt(this,"engine"),vt(this,"session"),vt(this,"proposal"),vt(this,"pendingRequest"),vt(this,"auth"),vt(this,"signConfig"),vt(this,"on",(n,i)=>this.events.on(n,i)),vt(this,"once",(n,i)=>this.events.once(n,i)),vt(this,"off",(n,i)=>this.events.off(n,i)),vt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),vt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),vt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),vt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),vt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),vt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Xv.name,this.metadata=lZ(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:dy(M0({level:e?.logger||Xv.logger}));this.core=e?.core||new yae(e),this.logger=Bi(r,this.name),this.session=new Uae(this.core,this.logger),this.proposal=new Mae(this.core,this.logger),this.pendingRequest=new $ae(this.core,this.logger),this.engine=new kae(this),this.auth=new Wae(this.core,this.logger)}static async init(e){const r=new m7(e);return await r.initialize(),r}get context(){return Ps(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var cb={exports:{}},PP;function Kae(){return PP||(PP=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Oa<"u"&&Oa,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Oa<"u"&&Oa||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(y){return y&&DataView.prototype.isPrototypeOf(y)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(y){return y&&u.indexOf(Object.prototype.toString.call(y))>-1};function d(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function h(y){return typeof y!="string"&&(y=String(y)),y}function m(y){var _={next:function(){var A=y.shift();return{done:A===void 0,value:A}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(y){this.map={},y instanceof g?y.forEach(function(_,A){this.append(A,_)},this):Array.isArray(y)?y.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(_){this.append(_,y[_])},this)}g.prototype.append=function(y,_){y=d(y),_=h(_);var A=this.map[y];this.map[y]=A?A+", "+_:_},g.prototype.delete=function(y){delete this.map[d(y)]},g.prototype.get=function(y){return y=d(y),this.has(y)?this.map[y]:null},g.prototype.has=function(y){return this.map.hasOwnProperty(d(y))},g.prototype.set=function(y,_){this.map[d(y)]=h(_)},g.prototype.forEach=function(y,_){for(var A in this.map)this.map.hasOwnProperty(A)&&y.call(_,this.map[A],A,this)},g.prototype.keys=function(){var y=[];return this.forEach(function(_,A){y.push(A)}),m(y)},g.prototype.values=function(){var y=[];return this.forEach(function(_){y.push(_)}),m(y)},g.prototype.entries=function(){var y=[];return this.forEach(function(_,A){y.push([A,_])}),m(y)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function b(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function w(y){return new Promise(function(_,A){y.onload=function(){_(y.result)},y.onerror=function(){A(y.error)}})}function x(y){var _=new FileReader,A=w(_);return _.readAsArrayBuffer(y),A}function S(y){var _=new FileReader,A=w(_),I=/charset=([A-Za-z0-9_-]+)/.exec(y.type),U=I?I[1]:"utf-8";return _.readAsText(y,U),A}function D(y){for(var _=new Uint8Array(y),A=new Array(_.length),I=0;I<_.length;I++)A[I]=String.fromCharCode(_[I]);return A.join("")}function O(y){if(y.slice)return y.slice(0);var _=new Uint8Array(y.byteLength);return _.set(new Uint8Array(y)),_.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:c.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:c.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():c.arrayBuffer&&c.blob&&l(y)?(this._bodyArrayBuffer=O(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||f(y))?this._bodyArrayBuffer=O(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=b(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function N(y){var _=y.toUpperCase();return F.indexOf(_)>-1?_:y}function v(y,_){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var A=_.body;if(y instanceof v){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,_.headers||(this.headers=new g(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!A&&y._bodyInit!=null&&(A=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=N(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in a){var B=new AbortController;return B.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&A)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(A),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var I=/([?&])_=[^&]*/;if(I.test(this.url))this.url=this.url.replace(I,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function M(y){var _=new FormData;return y.trim().split("&").forEach(function(A){if(A){var I=A.split("="),U=I.shift().replace(/\+/g," "),B=I.join("=").replace(/\+/g," ");_.append(decodeURIComponent(U),decodeURIComponent(B))}}),_}function $(y){var _=new g,A=y.replace(/\r?\n[\t ]+/g," ");return A.split("\r").map(function(I){return I.indexOf(`
`)===0?I.substr(1,I.length):I}).forEach(function(I){var U=I.split(":"),B=U.shift().trim();if(B){var R=U.join(":").trim();try{_.append(B,R)}catch(E){console.warn("Response "+E.message)}}}),_}k.call(v.prototype);function P(y,_){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(y)}k.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},P.error=function(){var y=new P(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var C=[301,302,303,307,308];P.redirect=function(y,_){if(C.indexOf(_)===-1)throw new RangeError("Invalid status code");return new P(null,{status:_,headers:{location:y}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,A){this.message=_,this.name=A;var I=Error(_);this.stack=I.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function p(y,_){return new Promise(function(A,I){var U=new v(y,_);if(U.signal&&U.signal.aborted)return I(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function R(){B.abort()}B.onload=function(){var G={statusText:B.statusText,headers:$(B.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(B.status<200||B.status>599)?G.status=200:G.status=B.status,G.url="responseURL"in B?B.responseURL:G.headers.get("X-Request-URL");var T="response"in B?B.response:B.responseText;setTimeout(function(){A(new P(T,G))},0)},B.onerror=function(){setTimeout(function(){I(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){I(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){I(new o.DOMException("Aborted","AbortError"))},0)};function E(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(B.open(U.method,E(U.url),!0),U.credentials==="include"?B.withCredentials=!0:U.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(c.blob?B.responseType="blob":c.arrayBuffer&&(B.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(_.headers).forEach(function(G){L.push(d(G)),B.setRequestHeader(G,h(_.headers[G]))}),U.headers.forEach(function(G,T){L.indexOf(T)===-1&&B.setRequestHeader(T,G)})}else U.headers.forEach(function(G,T){B.setRequestHeader(T,G)});U.signal&&(U.signal.addEventListener("abort",R),B.onreadystatechange=function(){B.readyState===4&&U.signal.removeEventListener("abort",R)}),B.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return p.polyfill=!0,a.fetch||(a.fetch=p,a.Headers=g,a.Request=v,a.Response=P),o.Headers=g,o.Request=v,o.Response=P,o.fetch=p,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(cb,cb.exports)),cb.exports}var Vae=Kae();const OP=Ts(Vae);var Jae=Object.defineProperty,Yae=Object.defineProperties,Xae=Object.getOwnPropertyDescriptors,DP=Object.getOwnPropertySymbols,Qae=Object.prototype.hasOwnProperty,Zae=Object.prototype.propertyIsEnumerable,kP=(t,e,r)=>e in t?Jae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MP=(t,e)=>{for(var r in e||(e={}))Qae.call(e,r)&&kP(t,r,e[r]);if(DP)for(var r of DP(e))Zae.call(e,r)&&kP(t,r,e[r]);return t},UP=(t,e)=>Yae(t,Xae(e));const ece={Accept:"application/json","Content-Type":"application/json"},tce="POST",$P={headers:ece,method:tce},LP=10;let nc=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Bo.EventEmitter,this.isAvailable=!1,this.registering=!1,!eP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=kl(e),n=await(await OP(this.url,UP(MP({},$P),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!eP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=kl({id:1,jsonrpc:"2.0",method:"test",params:[]});await OP(e,UP(MP({},$P),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Ad(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=F1(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return KU(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>LP&&this.events.setMaxListeners(LP)}};const FP="error",rce="wss://relay.walletconnect.org",nce="wc",ice="universal_provider",lb=`${nce}@2:${ice}:`,y7="https://rpc.walletconnect.org/v1/",b7="generic",sce=`${y7}bundler`,Ho={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function ES(t){return t==null||typeof t!="object"&&typeof t!="function"}function _7(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function w7(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const oce="[object RegExp]",E7="[object String]",v7="[object Number]",x7="[object Boolean]",A7="[object Arguments]",ace="[object Symbol]",cce="[object Date]",lce="[object Map]",uce="[object Set]",fce="[object Array]",dce="[object ArrayBuffer]",hce="[object Object]",pce="[object DataView]",gce="[object Uint8Array]",mce="[object Uint8ClampedArray]",yce="[object Uint16Array]",bce="[object Uint32Array]",_ce="[object Int8Array]",wce="[object Int16Array]",Ece="[object Int32Array]",vce="[object Float32Array]",xce="[object Float64Array]";function vS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ace(t,e){return Vh(t,void 0,t,new Map,e)}function Vh(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(ES(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vh(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Vh(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Vh(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(vS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Vh(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Jf(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Jf(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Jf(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Jf(o,t,r,n,i),o}if(typeof t=="object"&&Cce(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Jf(o,t,r,n,i),o}return t}function Jf(t,e,r=t,n,i){const s=[...Object.keys(e),..._7(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Vh(e[a],a,r,n,i))}}function Cce(t){switch(w7(t)){case A7:case fce:case dce:case pce:case x7:case cce:case vce:case xce:case _ce:case wce:case Ece:case lce:case v7:case hce:case oce:case uce:case E7:case ace:case gce:case mce:case yce:case bce:return!0;default:return!1}}function Nce(t,e){return Ace(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case v7:case E7:case x7:{const o=new t.constructor(t?.valueOf());return Jf(o,t),o}case A7:{const o={};return Jf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function BP(t){return Nce(t)}function jP(t){return t!==null&&typeof t=="object"&&w7(t)==="[object Arguments]"}function HP(t){return typeof t=="object"&&t!==null}function Sce(){}function Ice(t){return vS(t)}function Tce(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Rce(t){if(ES(t))return t;if(Array.isArray(t)||vS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Pce(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=Q2(i,o,n,new Map)}return i}function Q2(t,e,r,n){if(ES(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Rce(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),..._7(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(jP(a)&&(a={...a}),jP(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=BP(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||HP(c)&&HP(a)?t[o]=Q2(c,a,r,n):c==null&&Tce(a)?t[o]=Q2({},a,r,n):c==null&&Ice(a)?t[o]=BP(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Oce(t,...e){return Pce(t,...e,Sce)}var Dce=Object.defineProperty,kce=Object.defineProperties,Mce=Object.getOwnPropertyDescriptors,WP=Object.getOwnPropertySymbols,Uce=Object.prototype.hasOwnProperty,$ce=Object.prototype.propertyIsEnumerable,qP=(t,e,r)=>e in t?Dce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ub=(t,e)=>{for(var r in e||(e={}))Uce.call(e,r)&&qP(t,r,e[r]);if(WP)for(var r of WP(e))$ce.call(e,r)&&qP(t,r,e[r]);return t},Lce=(t,e)=>kce(t,Mce(e));function Ys(t,e,r){var n;const i=pd(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${y7}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Kd(t){return t.includes(":")?t.split(":")[1]:t}function C7(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Fce(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function zP(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function fb(t={},e={}){const r=zP(GP(t)),n=zP(GP(e));return Oce(r,n)}function GP(t){var e,r,n,i,s;const o={};if(!Dc(t))return o;for(const[a,c]of Object.entries(t)){const l=L1(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Kh(a);o[h]=Lce(ub(ub({},o[h]),c),{chains:Oc(l,(e=o[h])==null?void 0:e.chains),methods:Oc(u,(r=o[h])==null?void 0:r.methods),events:Oc(f,(n=o[h])==null?void 0:n.events)}),(Dc(d)||Dc(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=ub(ub({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function KP(t){return t.includes(":")?t.split(":")[2]:t}function VP(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=L1(r)?[r]:n.chains?n.chains:C7(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function ex(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const N7={},Wt=t=>N7[t],tx=(t,e)=>{N7[t]=e};var Bce=Object.defineProperty,JP=Object.getOwnPropertySymbols,jce=Object.prototype.hasOwnProperty,Hce=Object.prototype.propertyIsEnumerable,YP=(t,e,r)=>e in t?Bce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XP=(t,e)=>{for(var r in e||(e={}))jce.call(e,r)&&YP(t,r,e[r]);if(JP)for(var r of JP(e))Hce.call(e,r)&&YP(t,r,e[r]);return t};const QP="eip155",Wce=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],qce=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,rx=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,ZP=t=>Object.keys(t).filter(e=>Wce.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),zce=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!Dc(i)&&!Dc(n))return;const o=ZP(n);for(const a of r){const c=qce(a);if(!c)continue;s[rx(c)]=o;const l=i?.[`${QP}:${c}`];if(l){const u=l?.[`${QP}:${c}:${e}`];s[rx(c)]=XP(XP({},s[rx(c)]),ZP(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Gce=Object.defineProperty,Kce=(t,e,r)=>e in t?Gce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ch=(t,e,r)=>Kce(t,typeof e!="symbol"?e+"":e,r);class Vce{constructor(e){ch(this,"name","polkadot"),ch(this,"client"),ch(this,"httpProviders"),ch(this,"events"),ch(this,"namespace"),ch(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Kd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var Jce=Object.defineProperty,Yce=Object.defineProperties,Xce=Object.getOwnPropertyDescriptors,e6=Object.getOwnPropertySymbols,Qce=Object.prototype.hasOwnProperty,Zce=Object.prototype.propertyIsEnumerable,Z2=(t,e,r)=>e in t?Jce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,t6=(t,e)=>{for(var r in e||(e={}))Qce.call(e,r)&&Z2(t,r,e[r]);if(e6)for(var r of e6(e))Zce.call(e,r)&&Z2(t,r,e[r]);return t},r6=(t,e)=>Yce(t,Xce(e)),lh=(t,e,r)=>Z2(t,typeof e!="symbol"?e+"":e,r);class ele{constructor(e){lh(this,"name","eip155"),lh(this,"client"),lh(this,"chainId"),lh(this,"namespace"),lh(this,"httpProviders"),lh(this,"events"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Kd(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=zce(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:r6(t6({},l.sessionProperties||{}),{capabilities:r6(t6({},u||{}),{[f]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ec("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${sce}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var tle=Object.defineProperty,rle=(t,e,r)=>e in t?tle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uh=(t,e,r)=>rle(t,typeof e!="symbol"?e+"":e,r);class nle{constructor(e){uh(this,"name","solana"),uh(this,"client"),uh(this,"httpProviders"),uh(this,"events"),uh(this,"namespace"),uh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Kd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var ile=Object.defineProperty,sle=(t,e,r)=>e in t?ile(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fh=(t,e,r)=>sle(t,typeof e!="symbol"?e+"":e,r);class ole{constructor(e){fh(this,"name","cosmos"),fh(this,"client"),fh(this,"httpProviders"),fh(this,"events"),fh(this,"namespace"),fh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Kd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var ale=Object.defineProperty,cle=(t,e,r)=>e in t?ale(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dh=(t,e,r)=>cle(t,typeof e!="symbol"?e+"":e,r);class lle{constructor(e){dh(this,"name","algorand"),dh(this,"client"),dh(this,"httpProviders"),dh(this,"events"),dh(this,"namespace"),dh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new jo(new nc(n,Wt("disableProviderPing")))}}var ule=Object.defineProperty,fle=(t,e,r)=>e in t?ule(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hh=(t,e,r)=>fle(t,typeof e!="symbol"?e+"":e,r);class dle{constructor(e){hh(this,"name","cip34"),hh(this,"client"),hh(this,"httpProviders"),hh(this,"events"),hh(this,"namespace"),hh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Kd(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var hle=Object.defineProperty,ple=(t,e,r)=>e in t?hle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ph=(t,e,r)=>ple(t,typeof e!="symbol"?e+"":e,r);class gle{constructor(e){ph(this,"name","elrond"),ph(this,"client"),ph(this,"httpProviders"),ph(this,"events"),ph(this,"namespace"),ph(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Kd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var mle=Object.defineProperty,yle=(t,e,r)=>e in t?mle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gh=(t,e,r)=>yle(t,typeof e!="symbol"?e+"":e,r);class ble{constructor(e){gh(this,"name","multiversx"),gh(this,"client"),gh(this,"httpProviders"),gh(this,"events"),gh(this,"namespace"),gh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Kd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var _le=Object.defineProperty,wle=(t,e,r)=>e in t?_le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mh=(t,e,r)=>wle(t,typeof e!="symbol"?e+"":e,r);class Ele{constructor(e){mh(this,"name","near"),mh(this,"client"),mh(this,"httpProviders"),mh(this,"events"),mh(this,"namespace"),mh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new nc(n,Wt("disableProviderPing")))}}var vle=Object.defineProperty,xle=(t,e,r)=>e in t?vle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yh=(t,e,r)=>xle(t,typeof e!="symbol"?e+"":e,r);class Ale{constructor(e){yh(this,"name","tezos"),yh(this,"client"),yh(this,"httpProviders"),yh(this,"events"),yh(this,"namespace"),yh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new nc(n))}}var Cle=Object.defineProperty,Nle=(t,e,r)=>e in t?Cle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bh=(t,e,r)=>Nle(t,typeof e!="symbol"?e+"":e,r);class Sle{constructor(e){bh(this,"name",b7),bh(this,"client"),bh(this,"httpProviders"),bh(this,"events"),bh(this,"namespace"),bh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return pd(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=pd(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new nc(n,Wt("disableProviderPing")))}}var Ile=Object.defineProperty,Tle=Object.defineProperties,Rle=Object.getOwnPropertyDescriptors,n6=Object.getOwnPropertySymbols,Ple=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,eC=(t,e,r)=>e in t?Ile(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,db=(t,e)=>{for(var r in e||(e={}))Ple.call(e,r)&&eC(t,r,e[r]);if(n6)for(var r of n6(e))Ole.call(e,r)&&eC(t,r,e[r]);return t},nx=(t,e)=>Tle(t,Rle(e)),co=(t,e,r)=>eC(t,typeof e!="symbol"?e+"":e,r);let Dle=class S7{constructor(e){co(this,"client"),co(this,"namespaces"),co(this,"optionalNamespaces"),co(this,"sessionProperties"),co(this,"scopedProperties"),co(this,"events",new zN),co(this,"rpcProviders",{}),co(this,"session"),co(this,"providerOpts"),co(this,"logger"),co(this,"uri"),co(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:dy(M0({level:e?.logger||FP})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new S7(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:db({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,pm(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:$r("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=VP(this.session.namespaces);this.namespaces=fb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=VP(i.namespaces);return this.namespaces=fb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Sl(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await Gae.init({core:this.providerOpts.core,logger:this.providerOpts.logger||FP,relayUrl:this.providerOpts.relayUrl||rce,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Kh(r)))];tx("client",this.client),tx("events",this.events),tx("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Fce(r,this.session);if(n?.length===0)return;const i=C7(n),s=fb(this.namespaces,this.optionalNamespaces),o=nx(db({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new ele({namespace:o});break;case"algorand":this.rpcProviders[r]=new lle({namespace:o});break;case"solana":this.rpcProviders[r]=new nle({namespace:o});break;case"cosmos":this.rpcProviders[r]=new ole({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Vce({namespace:o});break;case"cip34":this.rpcProviders[r]=new dle({namespace:o});break;case"elrond":this.rpcProviders[r]=new gle({namespace:o});break;case"multiversx":this.rpcProviders[r]=new ble({namespace:o});break;case"near":this.rpcProviders[r]=new Ele({namespace:o});break;case"tezos":this.rpcProviders[r]=new Ale({namespace:o});break;default:this.rpcProviders[r]=new Sle({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Sl(o)&&this.events.emit("accountsChanged",o.map(KP))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Kh(o),l=ex(o)!==ex(a)?`${c}:${ex(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=nx(db({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",nx(db({},$r("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ho.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[b7]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=fb(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Kh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Kh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(KP);if(!Sl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${lb}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${lb}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${lb}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(lb)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}},Uf=null;const Ws={getSIWX(){return he.state.siwx},async initializeIfEnabled(t=J.getActiveCaipAddress()){const e=he.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(J.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(he.state.remoteFeatures?.emailCapture){const o=J.getAccountData(r)?.user;await xt.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Uf&&await Uf,(await e.getSessions(`${r}:${n}`,i)).length)return;await xt.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Ne._getClient()?.disconnect().catch(console.error),Ve.reset("Connect"),Cc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=he.state.siwx,e=Pe.getPlainAddress(J.getActiveCaipAddress()),r=Lp(),n=Ne._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();xe.getConnectorId(r.chainNamespace)===ae.CONNECTOR_ID.AUTH&&Ve.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),J.setLastConnectedSIWECaipNetwork(r),xt.close(),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!xt.state.open||Ve.state.view==="ApproveTransaction")&&await xt.open({view:"SIWXSignMessage"}),Cc.showError("Error signing message"),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=J.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");n&&n.length>0?await J.switchActiveNetwork(r):await Ne.disconnect()}else await Ne.disconnect()}else xt.close();xt.close(),Dt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=J.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=he.state.siwx;let r=t?.address;if(!r){const i=J.getActiveCaipAddress();r=Pe.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=J.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Ve.state.view==="ApproveTransaction",r=Ve.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=Ws.getSIWX(),o=Lp();if(!s||!i.includes(ae.CHAIN.EVM)||he.state.remoteFeatures?.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await Ws.addEmbeddedWalletSession(l,u.message,u.signature),J.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Uf)return Uf;const n=Ws.getSIWX();return n?(Uf=n.addSession({data:t,message:e,signature:r}).finally(()=>{Uf=null}),Uf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=Ws.getSIWX(),i=Lp(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:Lp()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Cc.showLoading("Authenticating...",{autoClose:!1}),Me.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&J.setLastConnectedSIWECaipNetwork(i),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ws.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ws.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Cc.hide()}}return!0},getSIWXEventProperties(){const t=J.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:J.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Is(t)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Tt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:ae.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},xc={ConnectorExplorerIds:{[ae.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ae.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ae.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Tt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Tt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Tt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Tt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Tt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Tt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Tt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Tt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Tt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Tt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Tt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Tt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[ae.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ae.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ae.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ae.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ae.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ae.CONNECTOR_ID.COINBASE]:"Coinbase",[ae.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ae.CONNECTOR_ID.LEDGER]:"Ledger",[ae.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ae.CONNECTOR_ID.INJECTED]:"INJECTED",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ae.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ae.CONNECTOR_ID.AUTH]:"AUTH",[Tt.CONNECTOR_TYPE_AUTH]:"AUTH"}},Ln={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Tt.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=J.state.activeChain;return ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>xe.getConnectorId(e)===ae.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return ae.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},kle=new AbortController,Ai={EmbeddedWalletAbortController:kle,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${zh()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},Mle={createLogger(t,e="error"){const r=M0({level:e}),{logger:n}=KN({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},Ule="rpc.walletconnect.org";function i6(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const ix=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Rh={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===Ule}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ae.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ae.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return ix.includes(e)?i6(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(d=>d.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:xc.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Rh.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(Vy(i.url,i.config))}),ix.includes(t.caipNetworkId)&&n.push(Vy(i6(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(Vy(i))}),XT(n)},extendWagmiTransports(t,e,r){if(ix.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return XT([r,Vy(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ae.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=be.getActiveCaipNetworkId(),r=J.getAllRequestedCaipNetworks(),n=Array.from(J.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},bw={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},os=gr({providers:{...bw},providerIds:{...bw}}),dt={state:os,subscribeKey(t,e){return Fi(os,t,e)},subscribe(t){return fi(os,()=>{t(os)})},subscribeProviders(t){return fi(os.providers,()=>t(os.providers))},setProvider(t,e){t&&e&&(os.providers[t]=vd(e))},getProvider(t){if(t)return os.providers[t]},setProviderId(t,e){e&&(os.providerIds[t]=e)},getProviderId(t){if(t)return os.providerIds[t]},reset(){os.providers={...bw},os.providerIds={...bw}},resetChain(t){os.providers[t]=void 0,os.providerIds[t]=void 0}},s6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},si={set(t,e){qs.isClient&&localStorage.setItem(`${$e.STORAGE_KEY}${t}`,e)},get(t){return qs.isClient?localStorage.getItem(`${$e.STORAGE_KEY}${t}`):null},delete(t,e){qs.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${$e.STORAGE_KEY}${t}`))}},hb=30*1e3,qs={checkIfAllowedToTriggerEmail(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hb){const r=Math.ceil((hb-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<hb)return Math.ceil((hb-e)/1e3)}return 0},checkIfRequestExists(t){return jn.NOT_SAFE_RPC_METHODS.includes(t.method)||jn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(s6.transactionHash)||t?.match(s6.signedMessage))?$e.RPC_RESPONSE_TYPE_TX:$e.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return jn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var jt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(jt||(jt={}));var tC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(tC||(tC={}));const Re=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ru=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},Ee=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$le=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Xa extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Xa.create=t=>new Xa(t);const gm=(t,e)=>{let r;switch(t.code){case Ee.invalid_type:t.received===Re.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ee.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ee.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=e.defaultError,jt.assertNever(t)}return{message:r}};let I7=gm;function Lle(t){I7=t}function _w(){return I7}const ww=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},Fle=[];function Ue(t,e){const r=ww({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,_w(),gm].filter(n=>!!n)});t.common.issues.push(r)}class $i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return rt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return $i.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const rt=Object.freeze({status:"aborted"}),T7=t=>({status:"dirty",value:t}),es=t=>({status:"valid",value:t}),rC=t=>t.status==="aborted",nC=t=>t.status==="dirty",mm=t=>t.status==="valid",Ew=t=>typeof Promise<"u"&&t instanceof Promise;var ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ze||(ze={}));class Fc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const o6=(t,e)=>{if(mm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Xa(t.common.issues);return this._error=r,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class ct{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ru(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ru(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $i,ctx:{common:e.parent.common,data:e.data,parsedType:Ru(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ew(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ru(e)},s=this._parseSync({data:e,path:i.path,parent:i});return o6(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ru(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Ew(i)?i:Promise.resolve(i));return o6(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ec({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Il.create(this,this._def)}nullable(){return Rd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this,this._def)}promise(){return C0.create(this,this._def)}or(e){return wm.create([this,e],this._def)}and(e){return Em.create(this,e,this._def)}transform(e){return new ec({...ot(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Nm({...ot(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new P7({typeName:Xe.ZodBranded,type:this,...ot(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Cw({...ot(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ey.create(this,e)}readonly(){return Sw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ble=/^c[^\s-]{8,}$/i,jle=/^[a-z][a-z0-9]*$/,Hle=/^[0-9A-HJKMNP-TV-Z]{26}$/,Wle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qle=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sx;const Gle=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Kle=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Vle=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Jle(t,e){return!!((e==="v4"||!e)&&Gle.test(t)||(e==="v6"||!e)&&Kle.test(t))}class Ba extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.string,received:s.parsedType}),rt}const n=new $i;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")qle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"email",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")sx||(sx=new RegExp(zle,"u")),sx.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Wle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Ble.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")jle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Hle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ue(i,{validation:"url",code:Ee.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Vle(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Jle(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),n.dirty()):jt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ee.invalid_string,...ze.errToObj(n)})}_addCheck(e){return new Ba({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ze.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...ze.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ze.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ze.errToObj(r)})}nonempty(e){return this.min(1,ze.errToObj(e))}trim(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ba({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ba.create=t=>{var e;return new Ba({checks:[],typeName:Xe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};function Yle(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Gu extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.number,received:s.parsedType}),rt}let n;const i=new $i;for(const s of this._def.checks)s.kind==="int"?jt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Yle(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_finite,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Gu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Gu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Gu.create=t=>new Gu({checks:[],typeName:Xe.ZodNumber,coerce:t?.coerce||!1,...ot(t)});class Ku extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Re.bigint){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.bigint,received:s.parsedType}),rt}let n;const i=new $i;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Ku({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Ku({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ku.create=t=>{var e;return new Ku({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};class ym extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.boolean,received:n.parsedType}),rt}return es(e.data)}}ym.create=t=>new ym({typeName:Xe.ZodBoolean,coerce:t?.coerce||!1,...ot(t)});class Id extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.date,received:s.parsedType}),rt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_date}),rt}const n=new $i;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):jt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Id({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Id.create=t=>new Id({checks:[],coerce:t?.coerce||!1,typeName:Xe.ZodDate,...ot(t)});class vw extends ct{_parse(e){if(this._getType(e)!==Re.symbol){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.symbol,received:n.parsedType}),rt}return es(e.data)}}vw.create=t=>new vw({typeName:Xe.ZodSymbol,...ot(t)});class bm extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.undefined,received:n.parsedType}),rt}return es(e.data)}}bm.create=t=>new bm({typeName:Xe.ZodUndefined,...ot(t)});class _m extends ct{_parse(e){if(this._getType(e)!==Re.null){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.null,received:n.parsedType}),rt}return es(e.data)}}_m.create=t=>new _m({typeName:Xe.ZodNull,...ot(t)});class A0 extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return es(e.data)}}A0.create=t=>new A0({typeName:Xe.ZodAny,...ot(t)});class gd extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return es(e.data)}}gd.create=t=>new gd({typeName:Xe.ZodUnknown,...ot(t)});class $l extends ct{_parse(e){const r=this._getOrReturnCtx(e);return Ue(r,{code:Ee.invalid_type,expected:Re.never,received:r.parsedType}),rt}}$l.create=t=>new $l({typeName:Xe.ZodNever,...ot(t)});class xw extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.void,received:n.parsedType}),rt}return es(e.data)}}xw.create=t=>new xw({typeName:Xe.ZodVoid,...ot(t)});class Qa extends ct{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Re.array)return Ue(r,{code:Ee.invalid_type,expected:Re.array,received:r.parsedType}),rt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ue(r,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ue(r,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ue(r,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Fc(r,o,r.path,a)))).then(o=>$i.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Fc(r,o,r.path,a)));return $i.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Qa({...this._def,minLength:{value:e,message:ze.toString(r)}})}max(e,r){return new Qa({...this._def,maxLength:{value:e,message:ze.toString(r)}})}length(e,r){return new Qa({...this._def,exactLength:{value:e,message:ze.toString(r)}})}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ot(e)});function Ph(t){if(t instanceof zr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Il.create(Ph(n))}return new zr({...t._def,shape:()=>e})}else return t instanceof Qa?new Qa({...t._def,type:Ph(t.element)}):t instanceof Il?Il.create(Ph(t.unwrap())):t instanceof Rd?Rd.create(Ph(t.unwrap())):t instanceof Bc?Bc.create(t.items.map(e=>Ph(e))):t}class zr extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=jt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Re.object){const l=this._getOrReturnCtx(e);return Ue(l,{code:Ee.invalid_type,expected:Re.object,received:l.parsedType}),rt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof $l&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Fc(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof $l){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(Ue(i,{code:Ee.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Fc(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>$i.mergeObjectSync(n,l)):$i.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ze.errToObj,new zr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ze.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new zr({...this._def,unknownKeys:"strip"})}passthrough(){return new zr({...this._def,unknownKeys:"passthrough"})}extend(e){return new zr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new zr({...this._def,catchall:e})}pick(e){const r={};return jt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new zr({...this._def,shape:()=>r})}omit(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new zr({...this._def,shape:()=>r})}deepPartial(){return Ph(this)}partial(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new zr({...this._def,shape:()=>r})}required(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Il;)s=s._def.innerType;r[n]=s}}),new zr({...this._def,shape:()=>r})}keyof(){return R7(jt.objectKeys(this.shape))}}zr.create=(t,e)=>new zr({shape:()=>t,unknownKeys:"strip",catchall:$l.create(),typeName:Xe.ZodObject,...ot(e)});zr.strictCreate=(t,e)=>new zr({shape:()=>t,unknownKeys:"strict",catchall:$l.create(),typeName:Xe.ZodObject,...ot(e)});zr.lazycreate=(t,e)=>new zr({shape:t,unknownKeys:"strip",catchall:$l.create(),typeName:Xe.ZodObject,...ot(e)});class wm extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Xa(a.ctx.common.issues));return Ue(r,{code:Ee.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Xa(c));return Ue(r,{code:Ee.invalid_union,unionErrors:a}),rt}}get options(){return this._def.options}}wm.create=(t,e)=>new wm({options:t,typeName:Xe.ZodUnion,...ot(e)});const Kb=t=>t instanceof xm?Kb(t.schema):t instanceof ec?Kb(t.innerType()):t instanceof Am?[t.value]:t instanceof Vu?t.options:t instanceof Cm?Object.keys(t.enum):t instanceof Nm?Kb(t._def.innerType):t instanceof bm?[void 0]:t instanceof _m?[null]:null;class W1 extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Ue(r,{code:Ee.invalid_type,expected:Re.object,received:r.parsedType}),rt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ue(r,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Kb(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new W1({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ot(n)})}}function iC(t,e){const r=Ru(t),n=Ru(e);if(t===e)return{valid:!0,data:t};if(r===Re.object&&n===Re.object){const i=jt.objectKeys(e),s=jt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=iC(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=iC(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Re.date&&n===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Em extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(rC(s)||rC(o))return rt;const a=iC(s.value,o.value);return a.valid?((nC(s)||nC(o))&&r.dirty(),{status:r.value,value:a.data}):(Ue(n,{code:Ee.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Em.create=(t,e,r)=>new Em({left:t,right:e,typeName:Xe.ZodIntersection,...ot(r)});class Bc extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.array)return Ue(n,{code:Ee.invalid_type,expected:Re.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Ue(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Ue(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Fc(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>$i.mergeArray(r,o)):$i.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Bc({...this._def,rest:e})}}Bc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bc({items:t,typeName:Xe.ZodTuple,rest:null,...ot(e)})};class vm extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.object)return Ue(n,{code:Ee.invalid_type,expected:Re.object,received:n.parsedType}),rt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Fc(n,a,n.path,a)),value:o._parse(new Fc(n,n.data[a],n.path,a))});return n.common.async?$i.mergeObjectAsync(r,i):$i.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ct?new vm({keyType:e,valueType:r,typeName:Xe.ZodRecord,...ot(n)}):new vm({keyType:Ba.create(),valueType:e,typeName:Xe.ZodRecord,...ot(r)})}}class Aw extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.map)return Ue(n,{code:Ee.invalid_type,expected:Re.map,received:n.parsedType}),rt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Fc(n,a,n.path,[l,"key"])),value:s._parse(new Fc(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}Aw.create=(t,e,r)=>new Aw({valueType:e,keyType:t,typeName:Xe.ZodMap,...ot(r)});class Td extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.set)return Ue(n,{code:Ee.invalid_type,expected:Re.set,received:n.parsedType}),rt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ue(n,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ue(n,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return rt;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new Fc(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Td({...this._def,minSize:{value:e,message:ze.toString(r)}})}max(e,r){return new Td({...this._def,maxSize:{value:e,message:ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Td.create=(t,e)=>new Td({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ot(e)});class n0 extends ct{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.function)return Ue(r,{code:Ee.invalid_type,expected:Re.function,received:r.parsedType}),rt;function n(a,c){return ww({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_w(),gm].filter(l=>!!l),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return ww({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,_w(),gm].filter(l=>!!l),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof C0){const a=this;return es(async function(...c){const l=new Xa([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(i(f,h)),l})})}else{const a=this;return es(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Xa([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new Xa([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new n0({...this._def,args:Bc.create(e).rest(gd.create())})}returns(e){return new n0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new n0({args:e||Bc.create([]).rest(gd.create()),returns:r||gd.create(),typeName:Xe.ZodFunction,...ot(n)})}}class xm extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xm.create=(t,e)=>new xm({getter:t,typeName:Xe.ZodLazy,...ot(e)});class Am extends ct{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ue(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Am.create=(t,e)=>new Am({value:t,typeName:Xe.ZodLiteral,...ot(e)});function R7(t,e){return new Vu({values:t,typeName:Xe.ZodEnum,...ot(e)})}class Vu extends ct{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{expected:jt.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),rt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),rt}return es(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Vu.create(e)}exclude(e){return Vu.create(this.options.filter(r=>!e.includes(r)))}}Vu.create=R7;class Cm extends ct{_parse(e){const r=jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const i=jt.objectValues(r);return Ue(n,{expected:jt.joinValues(i),received:n.parsedType,code:Ee.invalid_type}),rt}if(r.indexOf(e.data)===-1){const i=jt.objectValues(r);return Ue(n,{received:n.data,code:Ee.invalid_enum_value,options:i}),rt}return es(e.data)}get enum(){return this._def.values}}Cm.create=(t,e)=>new Cm({values:t,typeName:Xe.ZodNativeEnum,...ot(e)});class C0 extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ue(r,{code:Ee.invalid_type,expected:Re.promise,received:r.parsedType}),rt;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return es(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}C0.create=(t,e)=>new C0({type:t,typeName:Xe.ZodPromise,...ot(e)});class ec extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ue(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mm(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>mm(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);jt.assertNever(i)}}ec.create=(t,e,r)=>new ec({schema:t,typeName:Xe.ZodEffects,effect:e,...ot(r)});ec.createWithPreprocess=(t,e,r)=>new ec({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...ot(r)});class Il extends ct{_parse(e){return this._getType(e)===Re.undefined?es(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Il.create=(t,e)=>new Il({innerType:t,typeName:Xe.ZodOptional,...ot(e)});class Rd extends ct{_parse(e){return this._getType(e)===Re.null?es(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rd.create=(t,e)=>new Rd({innerType:t,typeName:Xe.ZodNullable,...ot(e)});class Nm extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Nm.create=(t,e)=>new Nm({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class Cw extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ew(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Cw.create=(t,e)=>new Cw({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class Nw extends ct{_parse(e){if(this._getType(e)!==Re.nan){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.nan,received:n.parsedType}),rt}return{status:"valid",value:e.data}}}Nw.create=t=>new Nw({typeName:Xe.ZodNaN,...ot(t)});const Xle=Symbol("zod_brand");class P7 extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ey extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),T7(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Ey({in:e,out:r,typeName:Xe.ZodPipeline})}}class Sw extends ct{_parse(e){const r=this._def.innerType._parse(e);return mm(r)&&(r.value=Object.freeze(r.value)),r}}Sw.create=(t,e)=>new Sw({innerType:t,typeName:Xe.ZodReadonly,...ot(e)});const O7=(t,e={},r)=>t?A0.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):A0.create(),Qle={object:zr.lazycreate};var Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const Zle=(t,e={message:`Input not instance of ${t.name}`})=>O7(r=>r instanceof t,e),D7=Ba.create,k7=Gu.create,eue=Nw.create,tue=Ku.create,M7=ym.create,rue=Id.create,nue=vw.create,iue=bm.create,sue=_m.create,oue=A0.create,aue=gd.create,cue=$l.create,lue=xw.create,uue=Qa.create,fue=zr.create,due=zr.strictCreate,hue=wm.create,pue=W1.create,gue=Em.create,mue=Bc.create,yue=vm.create,bue=Aw.create,_ue=Td.create,wue=n0.create,Eue=xm.create,vue=Am.create,xue=Vu.create,Aue=Cm.create,Cue=C0.create,a6=ec.create,Nue=Il.create,Sue=Rd.create,Iue=ec.createWithPreprocess,Tue=Ey.create,Rue=()=>D7().optional(),Pue=()=>k7().optional(),Oue=()=>M7().optional(),Due={string:(t=>Ba.create({...t,coerce:!0})),number:(t=>Gu.create({...t,coerce:!0})),boolean:(t=>ym.create({...t,coerce:!0})),bigint:(t=>Ku.create({...t,coerce:!0})),date:(t=>Id.create({...t,coerce:!0}))},kue=rt;var j=Object.freeze({__proto__:null,defaultErrorMap:gm,setErrorMap:Lle,getErrorMap:_w,makeIssue:ww,EMPTY_PATH:Fle,addIssueToContext:Ue,ParseStatus:$i,INVALID:rt,DIRTY:T7,OK:es,isAborted:rC,isDirty:nC,isValid:mm,isAsync:Ew,get util(){return jt},get objectUtil(){return tC},ZodParsedType:Re,getParsedType:Ru,ZodType:ct,ZodString:Ba,ZodNumber:Gu,ZodBigInt:Ku,ZodBoolean:ym,ZodDate:Id,ZodSymbol:vw,ZodUndefined:bm,ZodNull:_m,ZodAny:A0,ZodUnknown:gd,ZodNever:$l,ZodVoid:xw,ZodArray:Qa,ZodObject:zr,ZodUnion:wm,ZodDiscriminatedUnion:W1,ZodIntersection:Em,ZodTuple:Bc,ZodRecord:vm,ZodMap:Aw,ZodSet:Td,ZodFunction:n0,ZodLazy:xm,ZodLiteral:Am,ZodEnum:Vu,ZodNativeEnum:Cm,ZodPromise:C0,ZodEffects:ec,ZodTransformer:ec,ZodOptional:Il,ZodNullable:Rd,ZodDefault:Nm,ZodCatch:Cw,ZodNaN:Nw,BRAND:Xle,ZodBranded:P7,ZodPipeline:Ey,ZodReadonly:Sw,custom:O7,Schema:ct,ZodSchema:ct,late:Qle,get ZodFirstPartyTypeKind(){return Xe},coerce:Due,any:oue,array:uue,bigint:tue,boolean:M7,date:rue,discriminatedUnion:pue,effect:a6,enum:xue,function:wue,instanceof:Zle,intersection:gue,lazy:Eue,literal:vue,map:bue,nan:eue,nativeEnum:Aue,never:cue,null:sue,nullable:Sue,number:k7,object:fue,oboolean:Oue,onumber:Pue,optional:Nue,ostring:Rue,pipeline:Tue,preprocess:Iue,promise:Cue,record:yue,set:_ue,strictObject:due,string:D7,symbol:nue,transformer:a6,tuple:mue,undefined:iue,union:hue,unknown:aue,void:lue,NEVER:kue,ZodIssueCode:Ee,quotelessJson:$le,ZodError:Xa});const Vr=j.object({message:j.string()});function Oe(t){return j.literal($e[t])}const q1=j.object({serializedMessage:j.string().optional(),accountAddress:j.string(),chainId:j.string(),notBefore:j.string().optional(),domain:j.string(),uri:j.string(),version:j.string(),nonce:j.string(),statement:j.string().optional(),resources:j.array(j.string()).optional(),requestId:j.string().optional(),issuedAt:j.string().optional(),expirationTime:j.string().optional()});j.object({accessList:j.array(j.string()),blockHash:j.string().nullable(),blockNumber:j.string().nullable(),chainId:j.string().or(j.number()),from:j.string(),gas:j.string(),hash:j.string(),input:j.string().nullable(),maxFeePerGas:j.string(),maxPriorityFeePerGas:j.string(),nonce:j.string(),r:j.string(),s:j.string(),to:j.string(),transactionIndex:j.string().nullable(),type:j.string(),v:j.string(),value:j.string()});const Mue=j.object({chainId:j.string().or(j.number()),rpcUrl:j.optional(j.string())}),Uue=j.object({email:j.string().email()}),$ue=j.object({otp:j.string()}),Lue=j.object({uri:j.string(),preferredAccountType:j.optional(j.string()),chainId:j.optional(j.string().or(j.number())),siwxMessage:j.optional(q1),rpcUrl:j.optional(j.string())}),Fue=j.object({chainId:j.optional(j.string().or(j.number())),preferredAccountType:j.optional(j.string()),socialUri:j.optional(j.string()),siwxMessage:j.optional(q1),rpcUrl:j.optional(j.string())}),Bue=j.object({provider:j.enum(["google","github","apple","facebook","x","discord"])}),jue=j.object({email:j.string().email()}),Hue=j.object({otp:j.string()}),Wue=j.object({otp:j.string()}),que=j.object({themeMode:j.optional(j.enum(["light","dark"])),themeVariables:j.optional(j.record(j.string(),j.string().or(j.number()))),w3mThemeVariables:j.optional(j.record(j.string(),j.string()))}),zue=j.object({metadata:j.object({name:j.string(),description:j.string(),url:j.string(),icons:j.array(j.string())}).optional(),sdkVersion:j.string().optional(),sdkType:j.string().optional(),projectId:j.string()}),Gue=j.object({type:j.string()}),Kue=j.object({action:j.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Vue=j.object({url:j.string()}),Jue=j.object({userName:j.string()}),Yue=j.object({email:j.string().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:j.string().optional().nullable(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(q1)}),Xue=j.object({action:j.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Que=j.object({email:j.string().email().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),smartAccountDeployed:j.optional(j.boolean()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(q1)}),Zue=j.object({uri:j.string()}),efe=j.object({isConnected:j.boolean()}),tfe=j.object({chainId:j.string().or(j.number())}),rfe=j.object({chainId:j.string().or(j.number())}),nfe=j.object({newEmail:j.string().email()}),ife=j.object({smartAccountEnabledNetworks:j.array(j.number())});j.object({address:j.string(),isDeployed:j.boolean()});const sfe=j.object({version:j.string().optional()}),ofe=j.object({type:j.string(),address:j.string()}),afe=j.any(),cfe=j.object({method:j.literal("eth_accounts")}),lfe=j.object({method:j.literal("eth_blockNumber")}),ufe=j.object({method:j.literal("eth_call"),params:j.array(j.any())}),ffe=j.object({method:j.literal("eth_chainId")}),dfe=j.object({method:j.literal("eth_estimateGas"),params:j.array(j.any())}),hfe=j.object({method:j.literal("eth_feeHistory"),params:j.array(j.any())}),pfe=j.object({method:j.literal("eth_gasPrice")}),gfe=j.object({method:j.literal("eth_getAccount"),params:j.array(j.any())}),mfe=j.object({method:j.literal("eth_getBalance"),params:j.array(j.any())}),yfe=j.object({method:j.literal("eth_getBlockByHash"),params:j.array(j.any())}),bfe=j.object({method:j.literal("eth_getBlockByNumber"),params:j.array(j.any())}),_fe=j.object({method:j.literal("eth_getBlockReceipts"),params:j.array(j.any())}),wfe=j.object({method:j.literal("eth_getBlockTransactionCountByHash"),params:j.array(j.any())}),Efe=j.object({method:j.literal("eth_getBlockTransactionCountByNumber"),params:j.array(j.any())}),vfe=j.object({method:j.literal("eth_getCode"),params:j.array(j.any())}),xfe=j.object({method:j.literal("eth_getFilterChanges"),params:j.array(j.any())}),Afe=j.object({method:j.literal("eth_getFilterLogs"),params:j.array(j.any())}),Cfe=j.object({method:j.literal("eth_getLogs"),params:j.array(j.any())}),Nfe=j.object({method:j.literal("eth_getProof"),params:j.array(j.any())}),Sfe=j.object({method:j.literal("eth_getStorageAt"),params:j.array(j.any())}),Ife=j.object({method:j.literal("eth_getTransactionByBlockHashAndIndex"),params:j.array(j.any())}),Tfe=j.object({method:j.literal("eth_getTransactionByBlockNumberAndIndex"),params:j.array(j.any())}),Rfe=j.object({method:j.literal("eth_getTransactionByHash"),params:j.array(j.any())}),Pfe=j.object({method:j.literal("eth_getTransactionCount"),params:j.array(j.any())}),Ofe=j.object({method:j.literal("eth_getTransactionReceipt"),params:j.array(j.any())}),Dfe=j.object({method:j.literal("eth_getUncleCountByBlockHash"),params:j.array(j.any())}),kfe=j.object({method:j.literal("eth_getUncleCountByBlockNumber"),params:j.array(j.any())}),Mfe=j.object({method:j.literal("eth_maxPriorityFeePerGas")}),Ufe=j.object({method:j.literal("eth_newBlockFilter")}),$fe=j.object({method:j.literal("eth_newFilter"),params:j.array(j.any())}),Lfe=j.object({method:j.literal("eth_newPendingTransactionFilter")}),Ffe=j.object({method:j.literal("eth_sendRawTransaction"),params:j.array(j.any())}),Bfe=j.object({method:j.literal("eth_syncing"),params:j.array(j.any())}),jfe=j.object({method:j.literal("eth_uninstallFilter"),params:j.array(j.any())}),c6=j.object({method:j.literal("personal_sign"),params:j.array(j.any())}),Hfe=j.object({method:j.literal("eth_signTypedData_v4"),params:j.array(j.any())}),Wfe=j.object({method:j.literal("eth_sendTransaction"),params:j.array(j.any())}),qfe=j.object({method:j.literal("solana_signMessage"),params:j.object({message:j.string(),pubkey:j.string()})}),zfe=j.object({method:j.literal("solana_signTransaction"),params:j.object({transaction:j.string()})}),Gfe=j.object({method:j.literal("solana_signAllTransactions"),params:j.object({transactions:j.array(j.string())})}),Kfe=j.object({method:j.literal("solana_signAndSendTransaction"),params:j.object({transaction:j.string(),options:j.object({skipPreflight:j.boolean().optional(),preflightCommitment:j.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:j.number().optional(),minContextSlot:j.number().optional()}).optional()})}),Vfe=j.object({method:j.literal("wallet_sendCalls"),params:j.array(j.object({chainId:j.string().or(j.number()).optional(),from:j.string().optional(),version:j.string().optional(),capabilities:j.any().optional(),calls:j.array(j.object({to:j.string().startsWith("0x"),data:j.string().startsWith("0x").optional(),value:j.string().optional()}))}))}),Jfe=j.object({method:j.literal("wallet_getCallsStatus"),params:j.array(j.string())}),Yfe=j.object({method:j.literal("wallet_getCapabilities"),params:j.array(j.string().or(j.number()).optional()).optional()}),Xfe=j.object({method:j.literal("wallet_grantPermissions"),params:j.array(j.any())}),Qfe=j.object({method:j.literal("wallet_revokePermissions"),params:j.any()}),Zfe=j.object({method:j.literal("wallet_getAssets"),params:j.any()}),l6=j.object({token:j.string()}),De=j.object({id:j.string().optional()}),ox={appEvent:De.extend({type:Oe("APP_SWITCH_NETWORK"),payload:Mue}).or(De.extend({type:Oe("APP_CONNECT_EMAIL"),payload:Uue})).or(De.extend({type:Oe("APP_CONNECT_DEVICE")})).or(De.extend({type:Oe("APP_CONNECT_OTP"),payload:$ue})).or(De.extend({type:Oe("APP_CONNECT_SOCIAL"),payload:Lue})).or(De.extend({type:Oe("APP_GET_FARCASTER_URI")})).or(De.extend({type:Oe("APP_CONNECT_FARCASTER")})).or(De.extend({type:Oe("APP_GET_USER"),payload:j.optional(Fue)})).or(De.extend({type:Oe("APP_GET_SOCIAL_REDIRECT_URI"),payload:Bue})).or(De.extend({type:Oe("APP_SIGN_OUT")})).or(De.extend({type:Oe("APP_IS_CONNECTED"),payload:j.optional(l6)})).or(De.extend({type:Oe("APP_GET_CHAIN_ID")})).or(De.extend({type:Oe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(De.extend({type:Oe("APP_INIT_SMART_ACCOUNT")})).or(De.extend({type:Oe("APP_SET_PREFERRED_ACCOUNT"),payload:Gue})).or(De.extend({type:Oe("APP_RPC_REQUEST"),payload:c6.or(Zfe).or(cfe).or(lfe).or(ufe).or(ffe).or(dfe).or(hfe).or(pfe).or(gfe).or(mfe).or(yfe).or(bfe).or(_fe).or(wfe).or(Efe).or(vfe).or(xfe).or(Afe).or(Cfe).or(Nfe).or(Sfe).or(Ife).or(Tfe).or(Rfe).or(Pfe).or(Ofe).or(Dfe).or(kfe).or(Mfe).or(Ufe).or($fe).or(Lfe).or(Ffe).or(Bfe).or(jfe).or(c6).or(Hfe).or(Wfe).or(qfe).or(zfe).or(Gfe).or(Kfe).or(Jfe).or(Vfe).or(Yfe).or(Xfe).or(Qfe).and(j.object({chainId:j.string().or(j.number()).optional(),chainNamespace:j.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:j.string().optional()}))})).or(De.extend({type:Oe("APP_UPDATE_EMAIL"),payload:jue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Hue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Wue})).or(De.extend({type:Oe("APP_SYNC_THEME"),payload:que})).or(De.extend({type:Oe("APP_SYNC_DAPP_DATA"),payload:zue})).or(De.extend({type:Oe("APP_RELOAD")})).or(De.extend({type:Oe("APP_RPC_ABORT")})),frameEvent:De.extend({type:Oe("FRAME_SWITCH_NETWORK_ERROR"),payload:Vr}).or(De.extend({type:Oe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:rfe})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Kue})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Vue})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Jue})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Yue})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_USER_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_USER_SUCCESS"),payload:Que})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Zue})).or(De.extend({type:Oe("FRAME_SIGN_OUT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SIGN_OUT_SUCCESS")})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_SUCCESS"),payload:efe})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:tfe})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_SUCCESS"),payload:afe})).or(De.extend({type:Oe("FRAME_SESSION_UPDATE"),payload:l6})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Xue})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:nfe})).or(De.extend({type:Oe("FRAME_SYNC_THEME_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SYNC_THEME_SUCCESS")})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:ife})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:ofe})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_READY"),payload:sfe})).or(De.extend({type:Oe("FRAME_RELOAD_ERROR"),payload:Vr})).or(De.extend({type:Oe("FRAME_RELOAD_SUCCESS")}))};function ax(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function ede({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=ae.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(sq);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",aq),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class tde{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=ae.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:f}){if(!ax($e.FRAME_EVENT_KEY,f))return;const d=ox.frameEvent.safeParse(f);if(!d.success){console.warn("W3mFrame: invalid frame event",d.error.message);return}d.data?.id===a&&(c(d.data),window.removeEventListener("message",u))}qs.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{qs.isClient&&window.addEventListener("message",({data:c})=>{if(!ax($e.FRAME_EVENT_KEY,c))return;const l=ox.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{qs.isClient&&window.addEventListener("message",({data:c})=>{if(!ax($e.APP_EVENT_KEY,c))return;const l=ox.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(qs.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(qs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),qs.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=ede({projectId:e,chainId:n,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class rde{constructor(e){const r=M0({level:oq}),{logger:n,chunkLoggerController:i}=KN({opts:r});this.logger=Bi(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class nde{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new rde(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(r);this.w3mFrame=new tde({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!si.get($e.EMAIL_LOGIN_USED_KEY)}getEmail(){return si.get($e.EMAIL)}getUsername(){return si.get($e.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:$e.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{qs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:$e.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){try{return this.appEvent({type:$e.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:$e.APP_CONNECT_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:$e.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:$e.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:$e.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:$e.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){try{return this.appEvent({type:$e.APP_SYNC_THEME,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){try{return this.appEvent({type:$e.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:$e.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:$e.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){if(e?.socialUri)try{await this.init();const r=this.getRpcUrl(e.chainId),n=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:r}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting social"),r}else try{const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.getUser({chainId:r,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(r)});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async getUser(e){try{await this.init();const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.appEvent({type:$e.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){try{await this.init();const i=this.getRpcUrl(r),s=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:$e.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:$e.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const r=this.getRpcUrl(e),n=await this.appEvent({type:$e.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(n.chainId),n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error switching network"),r}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const n=setTimeout(()=>{r()},3e3);await this.appEvent({type:$e.APP_SIGN_OUT}),clearTimeout(n),r()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const r=e;try{if(jn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const n=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(n)?.id;r.chainNamespace=n,r.chainId=i,r.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:$e.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(s,r),s}catch(n){throw this.rpcErrorHandler?.(n,r),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_ERROR&&e(),r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:jn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:r})=>{jn.SAFE_RPC_METHODS.includes(r)||e.abort(),await this.appEvent({type:$e.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let r,n;function i(c){return c.replace("@w3m-app/","")}const s=[$e.APP_SYNC_DAPP_DATA,$e.APP_SYNC_THEME,$e.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[$e.APP_CONNECT_EMAIL,$e.APP_CONNECT_DEVICE,$e.APP_CONNECT_OTP,$e.APP_CONNECT_SOCIAL,$e.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const f=new AbortController;if(o==="RPC_REQUEST"){const h=e;this.openRpcRequests.set(u,{...h.payload,abortController:f})}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const d=(h,m)=>{h.id===u&&(m?.logger.info?.({framEvent:h,id:u},"Received frame response"),this.openRpcRequests.delete(h.id),h.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&c(h.payload),c(void 0)):h.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&l(new Error(h.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,h=>d(h,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){si.set($e.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){si.set($e.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&si.set($e.EMAIL,e),si.set($e.EMAIL_LOGIN_USED_KEY,"true"),si.delete($e.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){si.delete($e.EMAIL_LOGIN_USED_KEY),si.delete($e.EMAIL),si.delete($e.LAST_USED_CHAIN_KEY),si.delete($e.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&si.set($e.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=si.get($e.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){si.set($e.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=Ki.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r);return(e?n.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):n[0])?.rpcUrls.default.http?.[0]}}class gg{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){return gg.instance||(gg.instance=new nde({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!he.state.remoteFeatures?.emailCapture})),gg.instance}}var u6={};const ide={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof u6<"u"?u6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},sC={filterOutDuplicatesByRDNS(t){const e=he.state.enableEIP6963?xe.state.connectors:[],r=be.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Pe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=xe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=be.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=xe.state,{featuredWalletIds:r}=he.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||he.state.features?.connectMethodsOrder,n=e||xe.state.connectors;if(r)return r;const{injected:i,announced:s}=Vb.getConnectorsByType(n,We.state.recommended,We.state.featured),o=i.filter(Vb.showConnector),a=s.filter(Vb.showConnector);return o.length||a.length?["wallet","email","social"]:ide.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&We.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&We.state.excludedWallets.some(n=>Ln.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},Vb={getConnectorsByType(t,e,r){const{customWallets:n}=he.state,i=be.getRecentWallets(),s=sC.filterOutDuplicateWallets(e),o=sC.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&We.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&We.state.excludedWallets.some(i=>Ln.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Pe.isMobile()||Pe.isMobile()&&!e&&!Ne.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(J.state.chains.values()).some(r=>xe.getConnectorId(r.namespace)===ae.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=he.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:he.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),d=new Set(f.map(g=>g.type)),h=c.filter(g=>d.has(g)).map(g=>({type:g,isEnabled:!0})),m=f.filter(({type:g})=>!h.some(({type:w})=>w===g));return Array.from(new Set([...h,...m].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Pe.isMobile())return{accounts:[],chainId:void 0};if(t.id===ae.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jb=globalThis,xS=Jb.ShadowRoot&&(Jb.ShadyCSS===void 0||Jb.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,AS=Symbol(),f6=new WeakMap;let U7=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==AS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(xS&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=f6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&f6.set(r,e))}return e}toString(){return this.cssText}};const pa=t=>new U7(typeof t=="string"?t:t+"",void 0,AS),Pu=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new U7(r,t,AS)},sde=(t,e)=>{if(xS)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),i=Jb.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},d6=xS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return pa(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ode,defineProperty:ade,getOwnPropertyDescriptor:cde,getOwnPropertyNames:lde,getOwnPropertySymbols:ude,getPrototypeOf:fde}=Object,z1=globalThis,h6=z1.trustedTypes,dde=h6?h6.emptyScript:"",hde=z1.reactiveElementPolyfillSupport,mg=(t,e)=>t,oC={toAttribute(t,e){switch(e){case Boolean:t=t?dde:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},$7=(t,e)=>!ode(t,e),p6={attribute:!0,type:String,converter:oC,reflect:!1,useDefault:!1,hasChanged:$7};Symbol.metadata??=Symbol("metadata"),z1.litPropertyMetadata??=new WeakMap;let Oh=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=p6){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&ade(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=cde(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??p6}static _$Ei(){if(this.hasOwnProperty(mg("elementProperties")))return;const e=fde(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(mg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(mg("properties"))){const r=this.properties,n=[...lde(r),...ude(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(d6(i))}else e!==void 0&&r.push(d6(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return sde(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:oC).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:oC;this._$Em=i;const a=o.fromAttribute(r,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??$7)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Oh.elementStyles=[],Oh.shadowRootOptions={mode:"open"},Oh[mg("elementProperties")]=new Map,Oh[mg("finalized")]=new Map,hde?.({ReactiveElement:Oh}),(z1.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const CS=globalThis,Iw=CS.trustedTypes,g6=Iw?Iw.createPolicy("lit-html",{createHTML:t=>t}):void 0,L7="$lit$",Ou=`lit$${Math.random().toFixed(9).slice(2)}$`,F7="?"+Ou,pde=`<${F7}>`,Pd=document,Sm=()=>Pd.createComment(""),Im=t=>t===null||typeof t!="object"&&typeof t!="function",NS=Array.isArray,gde=t=>NS(t)||typeof t?.[Symbol.iterator]=="function",cx=`[ 	
\f\r]`,xp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,m6=/-->/g,y6=/>/g,$f=RegExp(`>|${cx}(?:([^\\s"'>=/]+)(${cx}*=${cx}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),b6=/'/g,_6=/"/g,B7=/^(?:script|style|textarea|title)$/i,j7=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),TMe=j7(1),RMe=j7(2),N0=Symbol.for("lit-noChange"),Kn=Symbol.for("lit-nothing"),w6=new WeakMap,ad=Pd.createTreeWalker(Pd,129);function H7(t,e){if(!NS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return g6!==void 0?g6.createHTML(e):e}const mde=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=xp;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===xp?u[1]==="!--"?o=m6:u[1]!==void 0?o=y6:u[2]!==void 0?(B7.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=$f):u[3]!==void 0&&(o=$f):o===$f?u[0]===">"?(o=i??xp,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?$f:u[3]==='"'?_6:b6):o===_6||o===b6?o=$f:o===m6||o===y6?o=xp:(o=$f,i=void 0);const h=o===$f&&t[a+1].startsWith("/>")?" ":"";s+=o===xp?c+pde:f>=0?(n.push(l),c.slice(0,f)+L7+c.slice(f)+Ou+h):c+Ou+(f===-2?a:h)}return[H7(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let aC=class W7{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=mde(e,r);if(this.el=W7.createElement(l,n),ad.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=ad.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(L7)){const d=u[o++],h=i.getAttribute(f).split(Ou),m=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:m[2],strings:h,ctor:m[1]==="."?bde:m[1]==="?"?_de:m[1]==="@"?wde:G1}),i.removeAttribute(f)}else f.startsWith(Ou)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(B7.test(i.tagName)){const f=i.textContent.split(Ou),d=f.length-1;if(d>0){i.textContent=Iw?Iw.emptyScript:"";for(let h=0;h<d;h++)i.append(f[h],Sm()),ad.nextNode(),c.push({type:2,index:++s});i.append(f[d],Sm())}}}else if(i.nodeType===8)if(i.data===F7)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Ou,f+1))!==-1;)c.push({type:7,index:s}),f+=Ou.length-1}s++}}static createElement(e,r){const n=Pd.createElement("template");return n.innerHTML=e,n}};function S0(t,e,r=t,n){if(e===N0)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=Im(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=S0(t,i._$AS(t,e.values),i,n)),e}class yde{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??Pd).importNode(r,!0);ad.currentNode=i;let s=ad.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new vy(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new Ede(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=ad.nextNode(),o++)}return ad.currentNode=Pd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class vy{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Kn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=S0(this,e,r),Im(e)?e===Kn||e==null||e===""?(this._$AH!==Kn&&this._$AR(),this._$AH=Kn):e!==this._$AH&&e!==N0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):gde(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Kn&&Im(this._$AH)?this._$AA.nextSibling.data=e:this.T(Pd.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=aC.createElement(H7(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new yde(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=w6.get(e.strings);return r===void 0&&w6.set(e.strings,r=new aC(e)),r}k(e){NS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new vy(this.O(Sm()),this.O(Sm()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class G1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Kn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Kn}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=S0(this,e,r,0),o=!Im(e)||e!==this._$AH&&e!==N0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=S0(this,a[n+c],r,c),l===N0&&(l=this._$AH[c]),o||=!Im(l)||l!==this._$AH[c],l===Kn?e=Kn:e!==Kn&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class bde extends G1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Kn?void 0:e}}class _de extends G1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Kn)}}class wde extends G1{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=S0(this,e,r,0)??Kn)===N0)return;const n=this._$AH,i=e===Kn&&n!==Kn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Kn&&(n===Kn||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Ede{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){S0(this,e)}}const vde=CS.litHtmlPolyfillSupport;vde?.(aC,vy),(CS.litHtmlVersions??=[]).push("3.3.1");const xde=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new vy(e.insertBefore(Sm(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SS=globalThis;class Yb extends Oh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=xde(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return N0}}Yb._$litElement$=!0,Yb.finalized=!0,SS.litElementHydrateSupport?.({LitElement:Yb});const Ade=SS.litElementPolyfillSupport;Ade?.({LitElement:Yb});(SS.litElementVersions??=[]).push("4.2.1");const Cde={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},Tw={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Nde={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Sde={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Ide={regular:"KHTeka",mono:"KHTekaMono"},Tde={regular:"400",medium:"500"},Rde={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Pde={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Ode={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Dde={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},cC={colors:Cde,fontFamily:Ide,fontWeight:Tde,textSize:Rde,typography:Pde,tokens:{core:Tw.core,theme:Tw.dark},borderRadius:Nde,spacing:Sde,durations:Dde,easings:Ode},E6="--apkt",ll={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${E6}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${E6}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...cC,tokens:{...cC.tokens,theme:t==="light"?Tw.light:Tw.dark}},{cssVariables:n}=ll.createCSSVariables(r),i=ll.assignCSSVariables(n,r),s=ll.generateW3MVariables(e),o=ll.generateW3MOverrides(e),a=ll.generateScaledVariables(e),c=ll.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=ll.applyColorMixToVariables(e,l),f={...l,...u};return`:root {${Object.entries(f).map(([h,m])=>`${h}:${m.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:kde}=ll.createCSSVariables(cC);function PMe(t,...e){return Pu(t,...e.map(r=>pa(typeof r=="function"?r(kde):r)))}let Yf,cd,Sc,Ma,Rw;const al={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function Pw(t,e="dark"){Yf&&document.head.removeChild(Yf),Yf=document.createElement("style"),Yf.textContent=ll.createRootStyles(e,t),document.head.appendChild(Yf)}function OMe(t,e="dark"){if(Rw=t,cd=document.createElement("style"),Sc=document.createElement("style"),Ma=document.createElement("style"),cd.textContent=i0(t).core.cssText,Sc.textContent=i0(t).dark.cssText,Ma.textContent=i0(t).light.cssText,document.head.appendChild(cd),document.head.appendChild(Sc),document.head.appendChild(Ma),Pw(t,e),lC(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(al)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}lC(e)}function lC(t="dark"){Sc&&Ma&&Yf&&(t==="light"?(Pw(Rw,t),Sc.removeAttribute("media"),Ma.media="enabled"):(Pw(Rw,t),Ma.removeAttribute("media"),Sc.media="enabled"))}function Mde(t){if(Rw=t,cd&&Sc&&Ma&&(cd.textContent=i0(t).core.cssText,Sc.textContent=i0(t).dark.cssText,Ma.textContent=i0(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];cd.textContent=cd.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Sc.textContent=Sc.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Ma.textContent=Ma.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(Yf){const e=Ma?.media==="enabled"?"light":"dark";Pw(t,e)}}function i0(t){const e=!!t?.["--w3m-font-family"];return{core:Pu`
      ${e?Pu``:Pu`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-300-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${pa(al["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${pa(al["KHTeka-400-woff2"])}) format('woff2'),
                url(${pa(al["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Pu`
      :root {
      }
    `,light:Pu`
      :root {
      }
    `}}const DMe=Pu`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,kMe=Pu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,s0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([s0.getAddresses(t),s0.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:s0.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[xc.NetworkImageIds[e.id]]}]})}},_h={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function Ju(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const v6=Ju({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),x6=Ju({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Ju({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Ju({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Ju({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Ju({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Ude={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Tl={getMethodsByChainNamespace(t){return Ude[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case v6.caipNetworkId:u.chains.push(v6.deprecatedCaipNetworkId);break;case x6.caipNetworkId:u.chains.push(x6.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await sg.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=Tl.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(f=>{const d=c.find(g=>g.includes(`${e}:${l}:${f}`));if(!d)return;const{chainId:h,chainNamespace:m}=Ki.parseCaipAddress(d);return{address:f,chainId:h,chainNamespace:m}}).filter(f=>f!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>Ki.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class $de{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case ae.CHAIN.EVM:await this.syncEVMConnections(e);break;case ae.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case ae.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Tl.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await Vb.fetchProviderData(a);if(c.length>0&&l){const u=r.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),a.provider&&a.id!==ae.CONNECTOR_ID.AUTH&&a.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Tl.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const d=Tl.getWalletConnectAccounts(n,this.namespace);d.length>0&&s({connectorId:a.id,accounts:d.map(h=>({address:h.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(d=>Pe.createAccount(ae.CHAIN.BITCOIN,d.address,d.purpose||"payment",d.publicKey,d.path));if(u&&u.length>1&&(u=[{namespace:ae.CHAIN.BITCOIN,publicKey:u[_h.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[_h.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[_h.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:ae.CHAIN.BITCOIN,publicKey:u[_h.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[_h.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[_h.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(d=>d.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(d=>({address:d.address,type:d.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>Ln.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>Ln.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Ln.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>Ln.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>Ln.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const xl={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class IS{constructor({provider:e,namespace:r}){this.id=ae.CONNECTOR_ID.WALLET_CONNECT,this.name=xc.ConnectorNamesMap[ae.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=xc.ConnectorImageIds[ae.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=J.getCaipNetworks.bind(J),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=he.state.universalProviderConfigOverride,i=Tl.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Ws.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:Lde})}}const Lde=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Fde=[ae.CONNECTOR_ID.AUTH,ae.CONNECTOR_ID.WALLET_CONNECT];class q7{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getConnectorId=r=>xe.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new $de({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:ae.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ae.CONNECTOR_ID.AUTH,type:"AUTH",name:ae.CONNECTOR_NAMES.AUTH,provider:e,imageId:xc.ConnectorImageIds[ae.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!Ln.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){Me.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=Is(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof IS);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=Pe.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Pe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=Pe.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&Ln.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=Pe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Ln.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?s0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),Ln.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(Fde.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class Bde extends q7{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new IS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>Pe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&It.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Me.state.balanceLoading&&e.chainId===J.state.activeCaipNetwork?.id)return{balance:Me.state.balance||"0.00",symbol:Me.state.balanceSymbol||""};const i=(await Me.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return J.state.activeCaipNetwork?.chainNamespace===ae.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:F0.encode(new TextEncoder().encode(n)),pubkey:i}},J.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},J.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ae.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:HT(r.id)}]})}catch(i){if(i.code===xl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===xl.ERROR_INVALID_CHAIN_ID||i.code===xl.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===xl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:HT(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const jde=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],pb={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?It.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},Hde={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=pb[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=pb[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return pb[t].processApi(e)},processFallbackFeature(t,e){return pb[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await We.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?It.DEFAULT_REMOTE_FEATURES:It.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of jde){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),It.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ai.open({debugMessage:Ai.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class Wde{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=J.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=J.getNetworkData(r)?.caipNetwork;return s||J.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return J.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getActiveChainNamespace=()=>J.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{J.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>J.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>J.state.activeChain===r||!r?J.state.activeCaipAddress:J.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{Ke.setClientId(r)},this.getProvider=r=>dt.getProvider(r),this.getProviderType=r=>dt.getProviderId(r),this.getPreferredAccountType=r=>Is(r),this.setCaipAddress=(r,n)=>{Me.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{Me.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Me.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Me.setProfileImage(r,n)},this.setUser=(r,n)=>{Me.setUser(r,n)},this.resetAccount=r=>{Me.resetAccount(r)},this.setCaipNetwork=r=>{J.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{J.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{Me.setStatus(r,n),xe.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>J.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...xe.state.allConnectors,...r];xe.setConnectors(n)},this.setConnections=(r,n)=>{be.setConnections(r,n),Ne.setConnections(r,n)},this.fetchIdentity=r=>Ke.fetchIdentity(r),this.getReownName=r=>sg.getNamesForAddress(r),this.getConnectors=()=>xe.getConnectors(),this.getConnectorImage=r=>NM.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?rw.getConnectionsData(r).connections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?rw.getConnectionsData(r).recentConnections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Ne.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}be.deleteAddressFromConnection(r),Ne.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=dt.getProviderId(n),s=r?{...r,type:i}:void 0;Me.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!J.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Me.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Me.removeAddressLabel(r,n)},this.getAddress=r=>J.state.activeChain===r||!r?Me.state.address:J.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>J.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{J.resetNetwork(r)},this.addConnector=r=>{xe.addConnector(r)},this.resetWcConnection=()=>{Ne.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Me.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Me.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{J.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{he.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),he.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await Hde.fetchRemoteFeatures(e),he.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&l2.setOnrampProviders(this.remoteFeatures.onramp),(he.state.remoteFeatures?.email||Array.isArray(he.state.remoteFeatures?.socials)&&he.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),he.state.features?.reownAuthentication||he.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await Gn(async()=>{const{ReownAuthentication:i}=await import("./features-DQqvQXko.js");return{ReownAuthentication:i}},[],import.meta.url),n=he.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),he.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await We.fetchAllowedOrigins();if(!Pe.isClient())return;const r=window.location.origin;Tl.isOriginAllowed(r,e,xl.DEFAULT_ALLOWED_ANCESTORS)||ai.open(Ai.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ai.open(Ai.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ai.open({displayMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,Dt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ys.setThemeMode(e.themeMode),e.themeVariables&&ys.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");J.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&J.setActiveCaipNetwork(r)}initializeConnectionController(e){Ne.initialize(e.adapters??[]),Ne.setWcBasic(e.basic??!1)}initializeConnectorController(){xe.initialize(this.chainNamespaces)}initializeProjectSettings(e){he.setProjectId(e.projectId),he.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){he.setDebug(e.debug!==!1),he.setEnableWalletConnect(e.enableWalletConnect!==!1),he.setEnableWalletGuide(e.enableWalletGuide!==!1),he.setEnableWallets(e.enableWallets!==!1),he.setEIP6963Enabled(e.enableEIP6963!==!1),he.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),he.setEnableReconnect(e.enableReconnect!==!1),he.setEnableAuthLogger(e.enableAuthLogger!==!1),he.setCustomRpcUrls(e.customRpcUrls),he.setEnableEmbedded(e.enableEmbedded),he.setAllWallets(e.allWallets),he.setIncludeWalletIds(e.includeWalletIds),he.setExcludeWalletIds(e.excludeWalletIds),he.setFeaturedWalletIds(e.featuredWalletIds),he.setTokens(e.tokens),he.setTermsConditionsUrl(e.termsConditionsUrl),he.setPrivacyPolicyUrl(e.privacyPolicyUrl),he.setCustomWallets(e.customWallets),he.setFeatures(e.features),he.setAllowUnsupportedChain(e.allowUnsupportedChain),he.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),he.setPreferUniversalLinks(e.experimental_preferUniversalLinks),he.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),he.setMetadata(e.metadata),he.setDisableAppend(e.disableAppend),he.setEnableEmbedded(e.enableEmbedded),he.setSIWX(e.siwx),this.features=he.state.features??{},!e.projectId){ai.open(Ai.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===ae.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");he.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Pe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Rh.getUnsupportedNetwork(`${r}:${e}`);J.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Rh.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Rh.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Rh.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?Rh.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(J.state.chains.get(e)?.accountState?.caipAddress||!he.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=J.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=Ne.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),be.setConnectedNamespaces([...J.state.chains.keys()]),await this.syncWalletConnectAccount(),await Ws.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=J.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||J.state.activeChain,o=xe.getConnectorId(s),a=r===ae.CONNECTOR_ID.AUTH||o===ae.CONNECTOR_ID.AUTH,c=r===ae.CONNECTOR_ID.WALLET_CONNECT||o===ae.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(J.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const f=u.map(async m=>{const g=xe.getConnectorId(m),b=await this.disconnectNamespace(m,r||g);b&&(a&&be.deleteConnectedSocialProvider(),b.connections.forEach(w=>{be.addDisconnectedConnectorId(w.connectorId,m)})),i&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),d=await Promise.allSettled(f);St.resetSend(),Ne.resetWcConnection(),Ws.getSIWX()?.signOutOnDisconnect&&await Ws.clearSessions(),xe.setFilterByNamespace(void 0),Ne.syncStorageConnections();const h=d.filter(m=>m.status==="rejected");if(h.length>0)throw new Error(h.map(m=>m.reason.message).join(", "));Dt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=J.state.activeChain,n=this.getAdapter(J.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:Me.state.address,provider:dt.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(It.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=dt.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===ae.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=dt.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=J.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Me.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Me.state.profileImage||!1},getEnsAddress:async e=>await Tl.resolveReownName(e),writeContract:async e=>{const r=J.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=dt.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!Me.state.address||this.updateNativeBalance(Me.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ne.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=J.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===Tt.CONNECTOR_TYPE_AUTH&&ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>xe.getConnectorId(f)===ae.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return be.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),be.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===Tt.CONNECTOR_TYPE_AUTH,i=Ln.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=J.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=dt.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=dt.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(be.addConnectedNamespace(c),be.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){ai.warn(Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(dt.getProviderId(J.state.activeChain)===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=dt.getProvider(r),s=dt.getProviderId(r);if(e.chainNamespace===J.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Tt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Ki.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new Bde({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=be.getConnectionStatus();he.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(be.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=J.state.activeChain===e,c=J.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(Ne.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=Me.state.address,s=J.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=J.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=J.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),be.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Ne.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Pe.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===ae.CHAIN.EVM&&Pe.isSafeApp()&&xe.setConnectorId(ae.CONNECTOR_ID.SAFE,e);const r=xe.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ae.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ae.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};J.resetAccount(r),J.resetNetwork(r),be.removeConnectedNamespace(r);const i=Array.from(J.state.chains.keys());(r?[r]:i).forEach(o=>be.addDisconnectedConnectorId(xe.getConnectorId(o)||"",o)),xe.removeConnectorId(r),dt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&xt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=be.getConnections()[e]??[];return{hasDisconnected:be.isConnectorDisconnected(i,e),hasConnected:o.some(a=>Ln.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=xe.getConnectorId(e),i=this.getCaipNetwork(e),o=xe.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=J.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=Ki.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=Ki.validateCaipAddress(a),{chainId:l,address:u}=Ki.parseCaipAddress(c);if(dt.setProviderId(n,Tt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&J.state.activeCaipNetwork&&i.namespace!==ae.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:J.state.activeCaipNetwork});dt.setProvider(n,f)}else dt.setProvider(n,this.universalProvider);xe.setConnectorId(ae.CONNECTOR_ID.WALLET_CONNECT,n),be.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await J.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){dt.setProviderId(i,e),dt.setProvider(i,r),xe.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===J.state.activeChain,n=J.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=be.getActiveNetworkProps(),c=s||a,l=J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME,u=J.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),d=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!f&&!d){const m=this.getApprovedCaipNetworkIds()||[],g=m.find(w=>Ki.parseCaipNetworkId(w)?.chainId===c.toString()),b=m.find(w=>Ki.parseCaipNetworkId(w)?.chainNamespace===o);f=this.getCaipNetworks().find(w=>w.caipNetworkId===g),d=this.getCaipNetworks().find(w=>w.caipNetworkId===b||"deprecatedCaipNetworkId"in w&&w.deprecatedCaipNetworkId===b)}const h=f||d;h?.chainNamespace===J.state.activeChain?he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME?J.showUnsupportedChainUI():this.setCaipNetwork(h):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),Ln.isLowerCaseMatch(i,Me.state.address)||this.syncAccountInfo(i,h?.id,o),r?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=xe.getConnectorId(e),n=dt.getProviderId(e);if(n===Tt.CONNECTOR_TYPE_ANNOUNCED||n===Tt.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const i=dt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===ae.CONNECTOR_ID.COINBASE_SDK||r===ae.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!EM.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=J.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=Mle.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};he.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await Dle.init(r),he.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Tl.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Ne.setUri(r)},onConnect:r=>{const{address:n}=Pe.getAccount(r[0]);Ne.finalizeWcConnection(n)},onDisconnect:()=>{J.state.noAdapters&&this.resetAccount(e),Ne.resetWcConnection()},onChainChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Pe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Dt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Ai.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Ai.ALERT_ERRORS[o];a&&(ai.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&Ne.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return xt.open({...e,data:{swap:e.arguments}})}return xt.open(e)}async close(){await this.injectModalUi(),xt.close()}setLoading(e,r){xt.setLoading(e,r)}async disconnect(e){await Ne.disconnect({namespace:e})}getSIWX(){return he.state.siwx}getError(){return""}getChainId(){return J.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){ai.open(Ai.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await J.switchActiveNetwork(r)}getWalletProvider(){return J.state.activeChain?dt.state.providers[J.state.activeChain]:null}getWalletProviderType(){return dt.getProviderId(J.state.activeChain)}subscribeProviders(e){return dt.subscribeProviders(e)}getThemeMode(){return ys.state.themeMode}getThemeVariables(){return ys.state.themeVariables}setThemeMode(e){ys.setThemeMode(e),lC(ys.state.themeMode)}setTermsConditionsUrl(e){he.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){he.setPrivacyPolicyUrl(e)}setThemeVariables(e){ys.setThemeVariables(e),Mde(ys.state.themeVariables)}subscribeTheme(e){return ys.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Ne.subscribe(e):(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?J.state.chains.get(e)?.accountState?.connectedWalletInfo:Me.state.connectedWalletInfo}getAccount(e){const r=e||J.state.activeChain,n=xe.getAuthConnector(r),i=J.getAccountData(r),s=be.getConnectedConnectorId(J.state.activeChain),o=Ne.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>Pe.createAccount(r,l,u||"eoa",f)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:Pe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===ae.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Is(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?J.subscribeChainProp("accountState",n,r):J.subscribe(n),xe.subscribe(n)}subscribeNetwork(e){return J.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?Me.subscribeKey("connectedWalletInfo",e,r):Me.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Me.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){J.subscribeKey("activeCaipNetwork",e)}getState(){return Fa.state}getRemoteFeatures(){return he.state.remoteFeatures}subscribeState(e){return Fa.subscribe(e)}subscribeRemoteFeatures(e){return he.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Cc.showError(e)}showSuccessMessage(e){Cc.showSuccess(e)}getEvent(){return{...Dt.state}}subscribeEvents(e){return Dt.subscribe(e)}replace(e){Ve.replace(e)}redirect(e){Ve.push(e)}popTransactionStack(e){Ve.popTransactionStack(e)}isOpen(){return xt.state.open}isTransactionStackEmpty(){return Ve.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){he.setFeatures(e)}updateRemoteFeatures(e){he.setRemoteFeatures(e)}updateOptions(e){const n={...he.state||{},...e};he.setOptions(n)}setConnectMethodsOrder(e){he.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){he.setWalletFeaturesOrder(e)}setCollapseWallets(e){he.setCollapseWallets(e)}setSocialsOrder(e){he.setSocialsOrder(e)}getConnectMethodsOrder(){return sC.getConnectOrderMethod(he.state.features,xe.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||J.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&J.removeNetwork(e,r)}}let A6=!1;class qde extends Wde{async onAuthProviderConnected(e){const r=Ln.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await Ws.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===ae.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=he.state.defaultAccountTypes[r],s=Is(r),o=e.preferredAccountType||s||i;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Me.state.user||{},...u},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{qs.checkIfRequestExists(r)?qs.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(jn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(jn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const i=qs.checkIfRequestIsSafe(n),s=Me.state.address,o=J.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=J.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const i=J.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,i)})}async syncAuthConnectorTheme(e){if(!e)return;const r=ys.getSnapshot(),n=he.getSnapshot();await Promise.all([e.syncDappData({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:jg(r.themeVariables,r.themeMode)})])}async syncAuthConnector(e,r){const n=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),i=r===J.state.activeChain;if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername();this.setUser({...Me.state?.user||{},username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),r&&n&&i){const l=await e.getSmartAccountEnabledNetworks();if(J.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],r),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:ae.CONNECTOR_ID.AUTH,info:{name:ae.CONNECTOR_ID.AUTH},type:Tt.CONNECTOR_TYPE_AUTH,provider:e,chainId:J.getNetworkData(r)?.caipNetwork?.id,chain:r}),this.setStatus("connected",r);const u=be.getConnectedSocialProvider();u?Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Me.state.address,properties:{provider:u,reconnect:!0}}):Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Me.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),be.removeConnectedNamespace(r))}this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){try{if(!Pe.isTelegram())return;const r=be.getTelegramSocialProvider();if(!r||!Pe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Me.setSocialProvider(r,e),await this.authProvider?.init();const s=xe.getAuthConnector();r&&s&&(this.setLoading(!0,e),await Ne.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),be.setConnectedSocialProvider(r),be.removeTelegramSocialProvider(),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){if(!ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=n||i,a=Ln.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=gg.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Ai.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?ai.open(Ai.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?ai.open(Ai.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&ai.open(Ai.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>Lp(l),getCaipNetworks:l=>J.getCaipNetworks(l)}),Fa.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===J.state.activeChain&&he.state.enableReconnect;he.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&We.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const r=J.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(n);if(n===r&&i){const o=this.getAdapter(n),a=dt.getProvider(n),c=dt.getProviderId(n);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=dt.getProviderId(r)===Tt.CONNECTOR_TYPE_AUTH,c=dt.getProviderId(n),l=c===Tt.CONNECTOR_TYPE_AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{J.state.activeChain=e.chainNamespace,i?await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:ae.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Tt.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===Tt.CONNECTOR_TYPE_WALLET_CONNECT){if(!J.state.noAdapters){const f=this.getAdapter(n),d=dt.getProvider(n),h=dt.getProviderId(n);await f?.switchNetwork({caipNetwork:e,provider:d,providerType:h})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Fa.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){const i=`${n}:${r}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=xe.getConnectorId(n)===ae.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,n):(this.setProfileName(a,n),this.setProfileImage(c,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=dt.getProviderId(e);if(r===Tt.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=be.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Pe.isClient()&&!A6)try{const e={...It.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Pe.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!he.state.disableAppend&&!he.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}A6=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Pe.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(Gn(()=>import("./embedded-wallet-MIpNV_aw.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),r.email&&n.push(Gn(()=>import("./email-bQbGq4M3.js"),__vite__mapDeps([15,3,16,13,7,12,5,6,11,17,9]),import.meta.url)),r.socials&&n.push(Gn(()=>import("./socials-CYUkK9W_.js"),__vite__mapDeps([18,3,5,19,6,20,12,21,11,7,22,4,23]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(Gn(()=>import("./swaps-BdSrMdlU.js"),__vite__mapDeps([24,3,11,7,12,5,25,26,27,23,28,4,9,6]),import.meta.url)),e.send&&n.push(Gn(()=>import("./send-DsI19_mT.js"),__vite__mapDeps([29,3,11,7,12,5,6,30,13,28,4,23,27,9,31,32,33]),import.meta.url)),e.receive&&n.push(Gn(()=>import("./receive-BBUuCNyD.js"),__vite__mapDeps([34,3,5,4,22]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(Gn(()=>import("./onramp-OMlvJPEI.js"),__vite__mapDeps([35,3,5,36,7,19,6,4,37,38,13,30,11,12,21,39,9]),import.meta.url)),r.payWithExchange&&n.push(Gn(()=>import("./pay-with-exchange-YYXXyr4Q.js"),__vite__mapDeps([40,3,11,7,10,4,5,36,23,39,12,9,6,13,31,32]),import.meta.url)),r.activity&&n.push(Gn(()=>import("./transactions-BZUIiGtj.js"),__vite__mapDeps([41,3,42,12,5,13,4,23]),import.meta.url)),(e.pay||r.payments)&&n.push(Gn(()=>import("./index-CkA__7xx.js"),__vite__mapDeps([43,3,5,11,7,44,4,12,10,36,32,21]),import.meta.url)),r.emailCapture&&n.push(Gn(()=>import("./data-capture-CLCXVRt7.js"),__vite__mapDeps([45,3,16,13,7,46]),import.meta.url)),await Promise.all([...n,Gn(()=>import("./index-D5ZI2STU.js"),__vite__mapDeps([47,3,5,4,7,33,12,48,38,13,30,8,10,36,11,44,42,23,31,25,26,32,6,9,17,19,20,21,22,14,37]),import.meta.url),Gn(()=>import("./w3m-modal-NaPd-0zy.js"),__vite__mapDeps([49,3,5,10,4,8,7,12,26,48,38,13,30,27]),import.meta.url)])}}function z7(t){const e=At(t?.namespace||J.state.activeChain),r=At(J.state.chains),n=At({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){const l=be.getConnectedConnectorId(c),u=c?xe.getAuthConnector(c):void 0,f=c||J.state.activeChain,d=f?a.get(f)?.accountState:void 0;n.value.address=Pe.getPlainAddress(d?.caipAddress),n.value.caipAddress=d?.caipAddress,n.value.status=d?.status,n.value.isConnected=!!d?.caipAddress,n.value.embeddedWalletInfo=u&&l===ae.CONNECTOR_ID.AUTH?{user:d?.user,authProvider:d?.socialProvider??"email",accountType:Is(f),isSmartAccountDeployed:!!d?.smartAccountDeployed}:void 0}const s=J.subscribeKey("activeChain",a=>{e.value=t?.namespace||a,i(r.value,e.value)}),o=J.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return lf(()=>{i(r.value,e.value)}),Fd(()=>{o(),s()}),n}let Xb;function zde(t){t&&(Xb=t)}function C6(t){const e=At(dt.state.providers[t]),r=At(dt.state.providerIds[t]),n=dt.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return Fd(()=>{n?.()}),Bl({walletProvider:e,walletProviderType:r})}function Gde(){if(!Xb)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await Xb?.open(r)}async function e(){await Xb?.close()}return Bl({open:t,close:e})}const Kde="1.8.1";let gb;function Vde(t){return gb||(gb=new qde({...t,sdkVersion:Pe.generateSdkVersion(t.adapters??[],"html",Kde)}),zde(gb)),gb}var Qb={exports:{}};const Jde={},Yde=Object.freeze(Object.defineProperty({__proto__:null,default:Jde},Symbol.toStringTag,{value:"Module"})),Xde=Kr(Yde);var Qde=Qb.exports,N6;function Zde(){return N6||(N6=1,(function(t){(function(e,r){function n(C,p){if(!C)throw new Error(p||"Assertion failed")}function i(C,p){C.super_=p;var y=function(){};y.prototype=p.prototype,C.prototype=new y,C.prototype.constructor=C}function s(C,p,y){if(s.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&((p==="le"||p==="be")&&(y=p,p=10),this._init(C||0,p||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Xde.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,y){return p.cmp(y)>0?p:y},s.min=function(p,y){return p.cmp(y)<0?p:y},s.prototype._init=function(p,y,_){if(typeof p=="number")return this._initNumber(p,y,_);if(typeof p=="object")return this._initArray(p,y,_);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),p=p.toString().replace(/\s+/g,"");var A=0;p[0]==="-"&&(A++,this.negative=1),A<p.length&&(y===16?this._parseHex(p,A,_):(this._parseBase(p,y,A),_==="le"&&this._initArray(this.toArray(),y,_)))},s.prototype._initNumber=function(p,y,_){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),y,_)},s.prototype._initArray=function(p,y,_){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I,U,B=0;if(_==="be")for(A=p.length-1,I=0;A>=0;A-=3)U=p[A]|p[A-1]<<8|p[A-2]<<16,this.words[I]|=U<<B&67108863,this.words[I+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);else if(_==="le")for(A=0,I=0;A<p.length;A+=3)U=p[A]|p[A+1]<<8|p[A+2]<<16,this.words[I]|=U<<B&67108863,this.words[I+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,I++);return this._strip()};function a(C,p){var y=C.charCodeAt(p);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+C)}function c(C,p,y){var _=a(C,y);return y-1>=p&&(_|=a(C,y-1)<<4),_}s.prototype._parseHex=function(p,y,_){this.length=Math.ceil((p.length-y)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I=0,U=0,B;if(_==="be")for(A=p.length-1;A>=y;A-=2)B=c(p,y,A)<<I,this.words[U]|=B&67108863,I>=18?(I-=18,U+=1,this.words[U]|=B>>>26):I+=8;else{var R=p.length-y;for(A=R%2===0?y+1:y;A<p.length;A+=2)B=c(p,y,A)<<I,this.words[U]|=B&67108863,I>=18?(I-=18,U+=1,this.words[U]|=B>>>26):I+=8}this._strip()};function l(C,p,y,_){for(var A=0,I=0,U=Math.min(C.length,y),B=p;B<U;B++){var R=C.charCodeAt(B)-48;A*=_,R>=49?I=R-49+10:R>=17?I=R-17+10:I=R,n(R>=0&&I<_,"Invalid character"),A+=I}return A}s.prototype._parseBase=function(p,y,_){this.words=[0],this.length=1;for(var A=0,I=1;I<=67108863;I*=y)A++;A--,I=I/y|0;for(var U=p.length-_,B=U%A,R=Math.min(U,U-B)+_,E=0,L=_;L<R;L+=A)E=l(p,L,L+A,y),this.imuln(I),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(B!==0){var G=1;for(E=l(p,L,p.length,y),L=0;L<B;L++)G*=y;this.imuln(G),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var y=0;y<this.length;y++)p.words[y]=this.words[y];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(C,p){C.words=p.words,C.length=p.length,C.negative=p.negative,C.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,y){p=p||10,y=y|0||1;var _;if(p===16||p==="hex"){_="";for(var A=0,I=0,U=0;U<this.length;U++){var B=this.words[U],R=((B<<A|I)&16777215).toString(16);I=B>>>24-A&16777215,A+=2,A>=26&&(A-=26,U--),I!==0||U!==this.length-1?_=d[6-R.length]+R+_:_=R+_}for(I!==0&&(_=I.toString(16)+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(p===(p|0)&&p>=2&&p<=36){var E=h[p],L=m[p];_="";var G=this.clone();for(G.negative=0;!G.isZero();){var T=G.modrn(L).toString(p);G=G.idivn(L),G.isZero()?_=T+_:_=d[E-T.length]+T+_}for(this.isZero()&&(_="0"+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,y){return this.toArrayLike(o,p,y)}),s.prototype.toArray=function(p,y){return this.toArrayLike(Array,p,y)};var g=function(p,y){return p.allocUnsafe?p.allocUnsafe(y):new p(y)};s.prototype.toArrayLike=function(p,y,_){this._strip();var A=this.byteLength(),I=_||Math.max(1,A);n(A<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var U=g(p,I),B=y==="le"?"LE":"BE";return this["_toArrayLike"+B](U,A),U},s.prototype._toArrayLikeLE=function(p,y){for(var _=0,A=0,I=0,U=0;I<this.length;I++){var B=this.words[I]<<U|A;p[_++]=B&255,_<p.length&&(p[_++]=B>>8&255),_<p.length&&(p[_++]=B>>16&255),U===6?(_<p.length&&(p[_++]=B>>24&255),A=0,U=0):(A=B>>>24,U+=2)}if(_<p.length)for(p[_++]=A;_<p.length;)p[_++]=0},s.prototype._toArrayLikeBE=function(p,y){for(var _=p.length-1,A=0,I=0,U=0;I<this.length;I++){var B=this.words[I]<<U|A;p[_--]=B&255,_>=0&&(p[_--]=B>>8&255),_>=0&&(p[_--]=B>>16&255),U===6?(_>=0&&(p[_--]=B>>24&255),A=0,U=0):(A=B>>>24,U+=2)}if(_>=0)for(p[_--]=A;_>=0;)p[_--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var y=p,_=0;return y>=4096&&(_+=13,y>>>=13),y>=64&&(_+=7,y>>>=7),y>=8&&(_+=4,y>>>=4),y>=2&&(_+=2,y>>>=2),_+y},s.prototype._zeroBits=function(p){if(p===0)return 26;var y=p,_=0;return(y&8191)===0&&(_+=13,y>>>=13),(y&127)===0&&(_+=7,y>>>=7),(y&15)===0&&(_+=4,y>>>=4),(y&3)===0&&(_+=2,y>>>=2),(y&1)===0&&_++,_},s.prototype.bitLength=function(){var p=this.words[this.length-1],y=this._countBits(p);return(this.length-1)*26+y};function b(C){for(var p=new Array(C.bitLength()),y=0;y<p.length;y++){var _=y/26|0,A=y%26;p[y]=C.words[_]>>>A&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,y=0;y<this.length;y++){var _=this._zeroBits(this.words[y]);if(p+=_,_!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]|p.words[y];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var y;this.length>p.length?y=p:y=this;for(var _=0;_<y.length;_++)this.words[_]=this.words[_]&p.words[_];return this.length=y.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var y,_;this.length>p.length?(y=this,_=p):(y=p,_=this);for(var A=0;A<_.length;A++)this.words[A]=y.words[A]^_.words[A];if(this!==y)for(;A<y.length;A++)this.words[A]=y.words[A];return this.length=y.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var y=Math.ceil(p/26)|0,_=p%26;this._expand(y),_>0&&y--;for(var A=0;A<y;A++)this.words[A]=~this.words[A]&67108863;return _>0&&(this.words[A]=~this.words[A]&67108863>>26-_),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,y){n(typeof p=="number"&&p>=0);var _=p/26|0,A=p%26;return this._expand(_+1),y?this.words[_]=this.words[_]|1<<A:this.words[_]=this.words[_]&~(1<<A),this._strip()},s.prototype.iadd=function(p){var y;if(this.negative!==0&&p.negative===0)return this.negative=0,y=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,y=this.isub(p),p.negative=1,y._normSign();var _,A;this.length>p.length?(_=this,A=p):(_=p,A=this);for(var I=0,U=0;U<A.length;U++)y=(_.words[U]|0)+(A.words[U]|0)+I,this.words[U]=y&67108863,I=y>>>26;for(;I!==0&&U<_.length;U++)y=(_.words[U]|0)+I,this.words[U]=y&67108863,I=y>>>26;if(this.length=_.length,I!==0)this.words[this.length]=I,this.length++;else if(_!==this)for(;U<_.length;U++)this.words[U]=_.words[U];return this},s.prototype.add=function(p){var y;return p.negative!==0&&this.negative===0?(p.negative=0,y=this.sub(p),p.negative^=1,y):p.negative===0&&this.negative!==0?(this.negative=0,y=p.sub(this),this.negative=1,y):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var y=this.iadd(p);return p.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var _=this.cmp(p);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,I;_>0?(A=this,I=p):(A=p,I=this);for(var U=0,B=0;B<I.length;B++)y=(A.words[B]|0)-(I.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;for(;U!==0&&B<A.length;B++)y=(A.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;if(U===0&&B<A.length&&A!==this)for(;B<A.length;B++)this.words[B]=A.words[B];return this.length=Math.max(this.length,B),A!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function w(C,p,y){y.negative=p.negative^C.negative;var _=C.length+p.length|0;y.length=_,_=_-1|0;var A=C.words[0]|0,I=p.words[0]|0,U=A*I,B=U&67108863,R=U/67108864|0;y.words[0]=B;for(var E=1;E<_;E++){for(var L=R>>>26,G=R&67108863,T=Math.min(E,p.length-1),V=Math.max(0,E-C.length+1);V<=T;V++){var K=E-V|0;A=C.words[K]|0,I=p.words[V]|0,U=A*I+G,L+=U/67108864|0,G=U&67108863}y.words[E]=G|0,R=L|0}return R!==0?y.words[E]=R|0:y.length--,y._strip()}var x=function(p,y,_){var A=p.words,I=y.words,U=_.words,B=0,R,E,L,G=A[0]|0,T=G&8191,V=G>>>13,K=A[1]|0,X=K&8191,Q=K>>>13,ie=A[2]|0,le=ie&8191,H=ie>>>13,Y=A[3]|0,W=Y&8191,Z=Y>>>13,fe=A[4]|0,oe=fe&8191,ge=fe>>>13,we=A[5]|0,q=we&8191,z=we>>>13,ne=A[6]|0,se=ne&8191,pe=ne>>>13,me=A[7]|0,ee=me&8191,ce=me>>>13,ke=A[8]|0,Le=ke&8191,Ge=ke>>>13,Fr=A[9]|0,nt=Fr&8191,Rt=Fr>>>13,Xo=I[0]|0,lt=Xo&8191,pt=Xo>>>13,ic=I[1]|0,Zt=ic&8191,mr=ic>>>13,wf=I[2]|0,yr=wf&8191,br=wf>>>13,Ef=I[3]|0,_r=Ef&8191,wr=Ef>>>13,vf=I[4]|0,Er=vf&8191,vr=vf>>>13,xf=I[5]|0,xr=xf&8191,Ar=xf>>>13,Af=I[6]|0,Cr=Af&8191,Nr=Af>>>13,Cf=I[7]|0,Sr=Cf&8191,Ir=Cf>>>13,Nf=I[8]|0,Tr=Nf&8191,Rr=Nf>>>13,Sf=I[9]|0,Pr=Sf&8191,Or=Sf>>>13;_.negative=p.negative^y.negative,_.length=19,R=Math.imul(T,lt),E=Math.imul(T,pt),E=E+Math.imul(V,lt)|0,L=Math.imul(V,pt);var Kl=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Kl>>>26)|0,Kl&=67108863,R=Math.imul(X,lt),E=Math.imul(X,pt),E=E+Math.imul(Q,lt)|0,L=Math.imul(Q,pt),R=R+Math.imul(T,Zt)|0,E=E+Math.imul(T,mr)|0,E=E+Math.imul(V,Zt)|0,L=L+Math.imul(V,mr)|0;var Vl=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Vl>>>26)|0,Vl&=67108863,R=Math.imul(le,lt),E=Math.imul(le,pt),E=E+Math.imul(H,lt)|0,L=Math.imul(H,pt),R=R+Math.imul(X,Zt)|0,E=E+Math.imul(X,mr)|0,E=E+Math.imul(Q,Zt)|0,L=L+Math.imul(Q,mr)|0,R=R+Math.imul(T,yr)|0,E=E+Math.imul(T,br)|0,E=E+Math.imul(V,yr)|0,L=L+Math.imul(V,br)|0;var Jl=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Jl>>>26)|0,Jl&=67108863,R=Math.imul(W,lt),E=Math.imul(W,pt),E=E+Math.imul(Z,lt)|0,L=Math.imul(Z,pt),R=R+Math.imul(le,Zt)|0,E=E+Math.imul(le,mr)|0,E=E+Math.imul(H,Zt)|0,L=L+Math.imul(H,mr)|0,R=R+Math.imul(X,yr)|0,E=E+Math.imul(X,br)|0,E=E+Math.imul(Q,yr)|0,L=L+Math.imul(Q,br)|0,R=R+Math.imul(T,_r)|0,E=E+Math.imul(T,wr)|0,E=E+Math.imul(V,_r)|0,L=L+Math.imul(V,wr)|0;var Yl=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Yl>>>26)|0,Yl&=67108863,R=Math.imul(oe,lt),E=Math.imul(oe,pt),E=E+Math.imul(ge,lt)|0,L=Math.imul(ge,pt),R=R+Math.imul(W,Zt)|0,E=E+Math.imul(W,mr)|0,E=E+Math.imul(Z,Zt)|0,L=L+Math.imul(Z,mr)|0,R=R+Math.imul(le,yr)|0,E=E+Math.imul(le,br)|0,E=E+Math.imul(H,yr)|0,L=L+Math.imul(H,br)|0,R=R+Math.imul(X,_r)|0,E=E+Math.imul(X,wr)|0,E=E+Math.imul(Q,_r)|0,L=L+Math.imul(Q,wr)|0,R=R+Math.imul(T,Er)|0,E=E+Math.imul(T,vr)|0,E=E+Math.imul(V,Er)|0,L=L+Math.imul(V,vr)|0;var Xl=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Xl>>>26)|0,Xl&=67108863,R=Math.imul(q,lt),E=Math.imul(q,pt),E=E+Math.imul(z,lt)|0,L=Math.imul(z,pt),R=R+Math.imul(oe,Zt)|0,E=E+Math.imul(oe,mr)|0,E=E+Math.imul(ge,Zt)|0,L=L+Math.imul(ge,mr)|0,R=R+Math.imul(W,yr)|0,E=E+Math.imul(W,br)|0,E=E+Math.imul(Z,yr)|0,L=L+Math.imul(Z,br)|0,R=R+Math.imul(le,_r)|0,E=E+Math.imul(le,wr)|0,E=E+Math.imul(H,_r)|0,L=L+Math.imul(H,wr)|0,R=R+Math.imul(X,Er)|0,E=E+Math.imul(X,vr)|0,E=E+Math.imul(Q,Er)|0,L=L+Math.imul(Q,vr)|0,R=R+Math.imul(T,xr)|0,E=E+Math.imul(T,Ar)|0,E=E+Math.imul(V,xr)|0,L=L+Math.imul(V,Ar)|0;var RE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(RE>>>26)|0,RE&=67108863,R=Math.imul(se,lt),E=Math.imul(se,pt),E=E+Math.imul(pe,lt)|0,L=Math.imul(pe,pt),R=R+Math.imul(q,Zt)|0,E=E+Math.imul(q,mr)|0,E=E+Math.imul(z,Zt)|0,L=L+Math.imul(z,mr)|0,R=R+Math.imul(oe,yr)|0,E=E+Math.imul(oe,br)|0,E=E+Math.imul(ge,yr)|0,L=L+Math.imul(ge,br)|0,R=R+Math.imul(W,_r)|0,E=E+Math.imul(W,wr)|0,E=E+Math.imul(Z,_r)|0,L=L+Math.imul(Z,wr)|0,R=R+Math.imul(le,Er)|0,E=E+Math.imul(le,vr)|0,E=E+Math.imul(H,Er)|0,L=L+Math.imul(H,vr)|0,R=R+Math.imul(X,xr)|0,E=E+Math.imul(X,Ar)|0,E=E+Math.imul(Q,xr)|0,L=L+Math.imul(Q,Ar)|0,R=R+Math.imul(T,Cr)|0,E=E+Math.imul(T,Nr)|0,E=E+Math.imul(V,Cr)|0,L=L+Math.imul(V,Nr)|0;var PE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(PE>>>26)|0,PE&=67108863,R=Math.imul(ee,lt),E=Math.imul(ee,pt),E=E+Math.imul(ce,lt)|0,L=Math.imul(ce,pt),R=R+Math.imul(se,Zt)|0,E=E+Math.imul(se,mr)|0,E=E+Math.imul(pe,Zt)|0,L=L+Math.imul(pe,mr)|0,R=R+Math.imul(q,yr)|0,E=E+Math.imul(q,br)|0,E=E+Math.imul(z,yr)|0,L=L+Math.imul(z,br)|0,R=R+Math.imul(oe,_r)|0,E=E+Math.imul(oe,wr)|0,E=E+Math.imul(ge,_r)|0,L=L+Math.imul(ge,wr)|0,R=R+Math.imul(W,Er)|0,E=E+Math.imul(W,vr)|0,E=E+Math.imul(Z,Er)|0,L=L+Math.imul(Z,vr)|0,R=R+Math.imul(le,xr)|0,E=E+Math.imul(le,Ar)|0,E=E+Math.imul(H,xr)|0,L=L+Math.imul(H,Ar)|0,R=R+Math.imul(X,Cr)|0,E=E+Math.imul(X,Nr)|0,E=E+Math.imul(Q,Cr)|0,L=L+Math.imul(Q,Nr)|0,R=R+Math.imul(T,Sr)|0,E=E+Math.imul(T,Ir)|0,E=E+Math.imul(V,Sr)|0,L=L+Math.imul(V,Ir)|0;var OE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(OE>>>26)|0,OE&=67108863,R=Math.imul(Le,lt),E=Math.imul(Le,pt),E=E+Math.imul(Ge,lt)|0,L=Math.imul(Ge,pt),R=R+Math.imul(ee,Zt)|0,E=E+Math.imul(ee,mr)|0,E=E+Math.imul(ce,Zt)|0,L=L+Math.imul(ce,mr)|0,R=R+Math.imul(se,yr)|0,E=E+Math.imul(se,br)|0,E=E+Math.imul(pe,yr)|0,L=L+Math.imul(pe,br)|0,R=R+Math.imul(q,_r)|0,E=E+Math.imul(q,wr)|0,E=E+Math.imul(z,_r)|0,L=L+Math.imul(z,wr)|0,R=R+Math.imul(oe,Er)|0,E=E+Math.imul(oe,vr)|0,E=E+Math.imul(ge,Er)|0,L=L+Math.imul(ge,vr)|0,R=R+Math.imul(W,xr)|0,E=E+Math.imul(W,Ar)|0,E=E+Math.imul(Z,xr)|0,L=L+Math.imul(Z,Ar)|0,R=R+Math.imul(le,Cr)|0,E=E+Math.imul(le,Nr)|0,E=E+Math.imul(H,Cr)|0,L=L+Math.imul(H,Nr)|0,R=R+Math.imul(X,Sr)|0,E=E+Math.imul(X,Ir)|0,E=E+Math.imul(Q,Sr)|0,L=L+Math.imul(Q,Ir)|0,R=R+Math.imul(T,Tr)|0,E=E+Math.imul(T,Rr)|0,E=E+Math.imul(V,Tr)|0,L=L+Math.imul(V,Rr)|0;var DE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(DE>>>26)|0,DE&=67108863,R=Math.imul(nt,lt),E=Math.imul(nt,pt),E=E+Math.imul(Rt,lt)|0,L=Math.imul(Rt,pt),R=R+Math.imul(Le,Zt)|0,E=E+Math.imul(Le,mr)|0,E=E+Math.imul(Ge,Zt)|0,L=L+Math.imul(Ge,mr)|0,R=R+Math.imul(ee,yr)|0,E=E+Math.imul(ee,br)|0,E=E+Math.imul(ce,yr)|0,L=L+Math.imul(ce,br)|0,R=R+Math.imul(se,_r)|0,E=E+Math.imul(se,wr)|0,E=E+Math.imul(pe,_r)|0,L=L+Math.imul(pe,wr)|0,R=R+Math.imul(q,Er)|0,E=E+Math.imul(q,vr)|0,E=E+Math.imul(z,Er)|0,L=L+Math.imul(z,vr)|0,R=R+Math.imul(oe,xr)|0,E=E+Math.imul(oe,Ar)|0,E=E+Math.imul(ge,xr)|0,L=L+Math.imul(ge,Ar)|0,R=R+Math.imul(W,Cr)|0,E=E+Math.imul(W,Nr)|0,E=E+Math.imul(Z,Cr)|0,L=L+Math.imul(Z,Nr)|0,R=R+Math.imul(le,Sr)|0,E=E+Math.imul(le,Ir)|0,E=E+Math.imul(H,Sr)|0,L=L+Math.imul(H,Ir)|0,R=R+Math.imul(X,Tr)|0,E=E+Math.imul(X,Rr)|0,E=E+Math.imul(Q,Tr)|0,L=L+Math.imul(Q,Rr)|0,R=R+Math.imul(T,Pr)|0,E=E+Math.imul(T,Or)|0,E=E+Math.imul(V,Pr)|0,L=L+Math.imul(V,Or)|0;var kE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(kE>>>26)|0,kE&=67108863,R=Math.imul(nt,Zt),E=Math.imul(nt,mr),E=E+Math.imul(Rt,Zt)|0,L=Math.imul(Rt,mr),R=R+Math.imul(Le,yr)|0,E=E+Math.imul(Le,br)|0,E=E+Math.imul(Ge,yr)|0,L=L+Math.imul(Ge,br)|0,R=R+Math.imul(ee,_r)|0,E=E+Math.imul(ee,wr)|0,E=E+Math.imul(ce,_r)|0,L=L+Math.imul(ce,wr)|0,R=R+Math.imul(se,Er)|0,E=E+Math.imul(se,vr)|0,E=E+Math.imul(pe,Er)|0,L=L+Math.imul(pe,vr)|0,R=R+Math.imul(q,xr)|0,E=E+Math.imul(q,Ar)|0,E=E+Math.imul(z,xr)|0,L=L+Math.imul(z,Ar)|0,R=R+Math.imul(oe,Cr)|0,E=E+Math.imul(oe,Nr)|0,E=E+Math.imul(ge,Cr)|0,L=L+Math.imul(ge,Nr)|0,R=R+Math.imul(W,Sr)|0,E=E+Math.imul(W,Ir)|0,E=E+Math.imul(Z,Sr)|0,L=L+Math.imul(Z,Ir)|0,R=R+Math.imul(le,Tr)|0,E=E+Math.imul(le,Rr)|0,E=E+Math.imul(H,Tr)|0,L=L+Math.imul(H,Rr)|0,R=R+Math.imul(X,Pr)|0,E=E+Math.imul(X,Or)|0,E=E+Math.imul(Q,Pr)|0,L=L+Math.imul(Q,Or)|0;var ME=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(ME>>>26)|0,ME&=67108863,R=Math.imul(nt,yr),E=Math.imul(nt,br),E=E+Math.imul(Rt,yr)|0,L=Math.imul(Rt,br),R=R+Math.imul(Le,_r)|0,E=E+Math.imul(Le,wr)|0,E=E+Math.imul(Ge,_r)|0,L=L+Math.imul(Ge,wr)|0,R=R+Math.imul(ee,Er)|0,E=E+Math.imul(ee,vr)|0,E=E+Math.imul(ce,Er)|0,L=L+Math.imul(ce,vr)|0,R=R+Math.imul(se,xr)|0,E=E+Math.imul(se,Ar)|0,E=E+Math.imul(pe,xr)|0,L=L+Math.imul(pe,Ar)|0,R=R+Math.imul(q,Cr)|0,E=E+Math.imul(q,Nr)|0,E=E+Math.imul(z,Cr)|0,L=L+Math.imul(z,Nr)|0,R=R+Math.imul(oe,Sr)|0,E=E+Math.imul(oe,Ir)|0,E=E+Math.imul(ge,Sr)|0,L=L+Math.imul(ge,Ir)|0,R=R+Math.imul(W,Tr)|0,E=E+Math.imul(W,Rr)|0,E=E+Math.imul(Z,Tr)|0,L=L+Math.imul(Z,Rr)|0,R=R+Math.imul(le,Pr)|0,E=E+Math.imul(le,Or)|0,E=E+Math.imul(H,Pr)|0,L=L+Math.imul(H,Or)|0;var UE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(UE>>>26)|0,UE&=67108863,R=Math.imul(nt,_r),E=Math.imul(nt,wr),E=E+Math.imul(Rt,_r)|0,L=Math.imul(Rt,wr),R=R+Math.imul(Le,Er)|0,E=E+Math.imul(Le,vr)|0,E=E+Math.imul(Ge,Er)|0,L=L+Math.imul(Ge,vr)|0,R=R+Math.imul(ee,xr)|0,E=E+Math.imul(ee,Ar)|0,E=E+Math.imul(ce,xr)|0,L=L+Math.imul(ce,Ar)|0,R=R+Math.imul(se,Cr)|0,E=E+Math.imul(se,Nr)|0,E=E+Math.imul(pe,Cr)|0,L=L+Math.imul(pe,Nr)|0,R=R+Math.imul(q,Sr)|0,E=E+Math.imul(q,Ir)|0,E=E+Math.imul(z,Sr)|0,L=L+Math.imul(z,Ir)|0,R=R+Math.imul(oe,Tr)|0,E=E+Math.imul(oe,Rr)|0,E=E+Math.imul(ge,Tr)|0,L=L+Math.imul(ge,Rr)|0,R=R+Math.imul(W,Pr)|0,E=E+Math.imul(W,Or)|0,E=E+Math.imul(Z,Pr)|0,L=L+Math.imul(Z,Or)|0;var $E=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+($E>>>26)|0,$E&=67108863,R=Math.imul(nt,Er),E=Math.imul(nt,vr),E=E+Math.imul(Rt,Er)|0,L=Math.imul(Rt,vr),R=R+Math.imul(Le,xr)|0,E=E+Math.imul(Le,Ar)|0,E=E+Math.imul(Ge,xr)|0,L=L+Math.imul(Ge,Ar)|0,R=R+Math.imul(ee,Cr)|0,E=E+Math.imul(ee,Nr)|0,E=E+Math.imul(ce,Cr)|0,L=L+Math.imul(ce,Nr)|0,R=R+Math.imul(se,Sr)|0,E=E+Math.imul(se,Ir)|0,E=E+Math.imul(pe,Sr)|0,L=L+Math.imul(pe,Ir)|0,R=R+Math.imul(q,Tr)|0,E=E+Math.imul(q,Rr)|0,E=E+Math.imul(z,Tr)|0,L=L+Math.imul(z,Rr)|0,R=R+Math.imul(oe,Pr)|0,E=E+Math.imul(oe,Or)|0,E=E+Math.imul(ge,Pr)|0,L=L+Math.imul(ge,Or)|0;var LE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(LE>>>26)|0,LE&=67108863,R=Math.imul(nt,xr),E=Math.imul(nt,Ar),E=E+Math.imul(Rt,xr)|0,L=Math.imul(Rt,Ar),R=R+Math.imul(Le,Cr)|0,E=E+Math.imul(Le,Nr)|0,E=E+Math.imul(Ge,Cr)|0,L=L+Math.imul(Ge,Nr)|0,R=R+Math.imul(ee,Sr)|0,E=E+Math.imul(ee,Ir)|0,E=E+Math.imul(ce,Sr)|0,L=L+Math.imul(ce,Ir)|0,R=R+Math.imul(se,Tr)|0,E=E+Math.imul(se,Rr)|0,E=E+Math.imul(pe,Tr)|0,L=L+Math.imul(pe,Rr)|0,R=R+Math.imul(q,Pr)|0,E=E+Math.imul(q,Or)|0,E=E+Math.imul(z,Pr)|0,L=L+Math.imul(z,Or)|0;var FE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(FE>>>26)|0,FE&=67108863,R=Math.imul(nt,Cr),E=Math.imul(nt,Nr),E=E+Math.imul(Rt,Cr)|0,L=Math.imul(Rt,Nr),R=R+Math.imul(Le,Sr)|0,E=E+Math.imul(Le,Ir)|0,E=E+Math.imul(Ge,Sr)|0,L=L+Math.imul(Ge,Ir)|0,R=R+Math.imul(ee,Tr)|0,E=E+Math.imul(ee,Rr)|0,E=E+Math.imul(ce,Tr)|0,L=L+Math.imul(ce,Rr)|0,R=R+Math.imul(se,Pr)|0,E=E+Math.imul(se,Or)|0,E=E+Math.imul(pe,Pr)|0,L=L+Math.imul(pe,Or)|0;var BE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(BE>>>26)|0,BE&=67108863,R=Math.imul(nt,Sr),E=Math.imul(nt,Ir),E=E+Math.imul(Rt,Sr)|0,L=Math.imul(Rt,Ir),R=R+Math.imul(Le,Tr)|0,E=E+Math.imul(Le,Rr)|0,E=E+Math.imul(Ge,Tr)|0,L=L+Math.imul(Ge,Rr)|0,R=R+Math.imul(ee,Pr)|0,E=E+Math.imul(ee,Or)|0,E=E+Math.imul(ce,Pr)|0,L=L+Math.imul(ce,Or)|0;var jE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(jE>>>26)|0,jE&=67108863,R=Math.imul(nt,Tr),E=Math.imul(nt,Rr),E=E+Math.imul(Rt,Tr)|0,L=Math.imul(Rt,Rr),R=R+Math.imul(Le,Pr)|0,E=E+Math.imul(Le,Or)|0,E=E+Math.imul(Ge,Pr)|0,L=L+Math.imul(Ge,Or)|0;var HE=(B+R|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(HE>>>26)|0,HE&=67108863,R=Math.imul(nt,Pr),E=Math.imul(nt,Or),E=E+Math.imul(Rt,Pr)|0,L=Math.imul(Rt,Or);var WE=(B+R|0)+((E&8191)<<13)|0;return B=(L+(E>>>13)|0)+(WE>>>26)|0,WE&=67108863,U[0]=Kl,U[1]=Vl,U[2]=Jl,U[3]=Yl,U[4]=Xl,U[5]=RE,U[6]=PE,U[7]=OE,U[8]=DE,U[9]=kE,U[10]=ME,U[11]=UE,U[12]=$E,U[13]=LE,U[14]=FE,U[15]=BE,U[16]=jE,U[17]=HE,U[18]=WE,B!==0&&(U[19]=B,_.length++),_};Math.imul||(x=w);function S(C,p,y){y.negative=p.negative^C.negative,y.length=C.length+p.length;for(var _=0,A=0,I=0;I<y.length-1;I++){var U=A;A=0;for(var B=_&67108863,R=Math.min(I,p.length-1),E=Math.max(0,I-C.length+1);E<=R;E++){var L=I-E,G=C.words[L]|0,T=p.words[E]|0,V=G*T,K=V&67108863;U=U+(V/67108864|0)|0,K=K+B|0,B=K&67108863,U=U+(K>>>26)|0,A+=U>>>26,U&=67108863}y.words[I]=B,_=U,U=A}return _!==0?y.words[I]=_:y.length--,y._strip()}function D(C,p,y){return S(C,p,y)}s.prototype.mulTo=function(p,y){var _,A=this.length+p.length;return this.length===10&&p.length===10?_=x(this,p,y):A<63?_=w(this,p,y):A<1024?_=S(this,p,y):_=D(this,p,y),_},s.prototype.mul=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),this.mulTo(p,y)},s.prototype.mulf=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),D(this,p,y)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var y=p<0;y&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var _=0,A=0;A<this.length;A++){var I=(this.words[A]|0)*p,U=(I&67108863)+(_&67108863);_>>=26,_+=I/67108864|0,_+=U>>>26,this.words[A]=U&67108863}return _!==0&&(this.words[A]=_,this.length++),this.length=p===0?1:this.length,y?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var y=b(p);if(y.length===0)return new s(1);for(var _=this,A=0;A<y.length&&y[A]===0;A++,_=_.sqr());if(++A<y.length)for(var I=_.sqr();A<y.length;A++,I=I.sqr())y[A]!==0&&(_=_.mul(I));return _},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var y=p%26,_=(p-y)/26,A=67108863>>>26-y<<26-y,I;if(y!==0){var U=0;for(I=0;I<this.length;I++){var B=this.words[I]&A,R=(this.words[I]|0)-B<<y;this.words[I]=R|U,U=B>>>26-y}U&&(this.words[I]=U,this.length++)}if(_!==0){for(I=this.length-1;I>=0;I--)this.words[I+_]=this.words[I];for(I=0;I<_;I++)this.words[I]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,y,_){n(typeof p=="number"&&p>=0);var A;y?A=(y-y%26)/26:A=0;var I=p%26,U=Math.min((p-I)/26,this.length),B=67108863^67108863>>>I<<I,R=_;if(A-=U,A=Math.max(0,A),R){for(var E=0;E<U;E++)R.words[E]=this.words[E];R.length=U}if(U!==0)if(this.length>U)for(this.length-=U,E=0;E<this.length;E++)this.words[E]=this.words[E+U];else this.words[0]=0,this.length=1;var L=0;for(E=this.length-1;E>=0&&(L!==0||E>=A);E--){var G=this.words[E]|0;this.words[E]=L<<26-I|G>>>I,L=G&B}return R&&L!==0&&(R.words[R.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,y,_){return n(this.negative===0),this.iushrn(p,y,_)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,_=(p-y)/26,A=1<<y;if(this.length<=_)return!1;var I=this.words[_];return!!(I&A)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,_=(p-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(y!==0&&_++,this.length=Math.min(_,this.length),y!==0){var A=67108863^67108863>>>y<<y;this.words[this.length-1]&=A}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,y,_){var A=p.length+_,I;this._expand(A);var U,B=0;for(I=0;I<p.length;I++){U=(this.words[I+_]|0)+B;var R=(p.words[I]|0)*y;U-=R&67108863,B=(U>>26)-(R/67108864|0),this.words[I+_]=U&67108863}for(;I<this.length-_;I++)U=(this.words[I+_]|0)+B,B=U>>26,this.words[I+_]=U&67108863;if(B===0)return this._strip();for(n(B===-1),B=0,I=0;I<this.length;I++)U=-(this.words[I]|0)+B,B=U>>26,this.words[I]=U&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,y){var _=this.length-p.length,A=this.clone(),I=p,U=I.words[I.length-1]|0,B=this._countBits(U);_=26-B,_!==0&&(I=I.ushln(_),A.iushln(_),U=I.words[I.length-1]|0);var R=A.length-I.length,E;if(y!=="mod"){E=new s(null),E.length=R+1,E.words=new Array(E.length);for(var L=0;L<E.length;L++)E.words[L]=0}var G=A.clone()._ishlnsubmul(I,1,R);G.negative===0&&(A=G,E&&(E.words[R]=1));for(var T=R-1;T>=0;T--){var V=(A.words[I.length+T]|0)*67108864+(A.words[I.length+T-1]|0);for(V=Math.min(V/U|0,67108863),A._ishlnsubmul(I,V,T);A.negative!==0;)V--,A.negative=0,A._ishlnsubmul(I,1,T),A.isZero()||(A.negative^=1);E&&(E.words[T]=V)}return E&&E._strip(),A._strip(),y!=="div"&&_!==0&&A.iushrn(_),{div:E||null,mod:A}},s.prototype.divmod=function(p,y,_){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var A,I,U;return this.negative!==0&&p.negative===0?(U=this.neg().divmod(p,y),y!=="mod"&&(A=U.div.neg()),y!=="div"&&(I=U.mod.neg(),_&&I.negative!==0&&I.iadd(p)),{div:A,mod:I}):this.negative===0&&p.negative!==0?(U=this.divmod(p.neg(),y),y!=="mod"&&(A=U.div.neg()),{div:A,mod:U.mod}):(this.negative&p.negative)!==0?(U=this.neg().divmod(p.neg(),y),y!=="div"&&(I=U.mod.neg(),_&&I.negative!==0&&I.isub(p)),{div:U.div,mod:I}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?y==="div"?{div:this.divn(p.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,y)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var y=this.divmod(p);if(y.mod.isZero())return y.div;var _=y.div.negative!==0?y.mod.isub(p):y.mod,A=p.ushrn(1),I=p.andln(1),U=_.cmp(A);return U<0||I===1&&U===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var _=(1<<26)%p,A=0,I=this.length-1;I>=0;I--)A=(_*A+(this.words[I]|0))%p;return y?-A:A},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var _=0,A=this.length-1;A>=0;A--){var I=(this.words[A]|0)+_*67108864;this.words[A]=I/p|0,_=I%p}return this._strip(),y?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var y=this,_=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var A=new s(1),I=new s(0),U=new s(0),B=new s(1),R=0;y.isEven()&&_.isEven();)y.iushrn(1),_.iushrn(1),++R;for(var E=_.clone(),L=y.clone();!y.isZero();){for(var G=0,T=1;(y.words[0]&T)===0&&G<26;++G,T<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(E),I.isub(L)),A.iushrn(1),I.iushrn(1);for(var V=0,K=1;(_.words[0]&K)===0&&V<26;++V,K<<=1);if(V>0)for(_.iushrn(V);V-- >0;)(U.isOdd()||B.isOdd())&&(U.iadd(E),B.isub(L)),U.iushrn(1),B.iushrn(1);y.cmp(_)>=0?(y.isub(_),A.isub(U),I.isub(B)):(_.isub(y),U.isub(A),B.isub(I))}return{a:U,b:B,gcd:_.iushln(R)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var y=this,_=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var A=new s(1),I=new s(0),U=_.clone();y.cmpn(1)>0&&_.cmpn(1)>0;){for(var B=0,R=1;(y.words[0]&R)===0&&B<26;++B,R<<=1);if(B>0)for(y.iushrn(B);B-- >0;)A.isOdd()&&A.iadd(U),A.iushrn(1);for(var E=0,L=1;(_.words[0]&L)===0&&E<26;++E,L<<=1);if(E>0)for(_.iushrn(E);E-- >0;)I.isOdd()&&I.iadd(U),I.iushrn(1);y.cmp(_)>=0?(y.isub(_),A.isub(I)):(_.isub(y),I.isub(A))}var G;return y.cmpn(1)===0?G=A:G=I,G.cmpn(0)<0&&G.iadd(p),G},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var y=this.clone(),_=p.clone();y.negative=0,_.negative=0;for(var A=0;y.isEven()&&_.isEven();A++)y.iushrn(1),_.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;_.isEven();)_.iushrn(1);var I=y.cmp(_);if(I<0){var U=y;y=_,_=U}else if(I===0||_.cmpn(1)===0)break;y.isub(_)}while(!0);return _.iushln(A)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var y=p%26,_=(p-y)/26,A=1<<y;if(this.length<=_)return this._expand(_+1),this.words[_]|=A,this;for(var I=A,U=_;I!==0&&U<this.length;U++){var B=this.words[U]|0;B+=I,I=B>>>26,B&=67108863,this.words[U]=B}return I!==0&&(this.words[U]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var y=p<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var _;if(this.length>1)_=1;else{y&&(p=-p),n(p<=67108863,"Number is too big");var A=this.words[0]|0;_=A===p?0:A<p?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var y=this.ucmp(p);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var y=0,_=this.length-1;_>=0;_--){var A=this.words[_]|0,I=p.words[_]|0;if(A!==I){A<I?y=-1:A>I&&(y=1);break}}return y},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new $(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var O={k256:null,p224:null,p192:null,p25519:null};function k(C,p){this.name=C,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},k.prototype.ireduce=function(p){var y=p,_;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),_=y.bitLength();while(_>this.n);var A=_<this.n?-1:y.ucmp(this.p);return A===0?(y.words[0]=0,y.length=1):A>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},k.prototype.split=function(p,y){p.iushrn(this.n,0,y)},k.prototype.imulK=function(p){return p.imul(this.k)};function F(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,k),F.prototype.split=function(p,y){for(var _=4194303,A=Math.min(p.length,9),I=0;I<A;I++)y.words[I]=p.words[I];if(y.length=A,p.length<=9){p.words[0]=0,p.length=1;return}var U=p.words[9];for(y.words[y.length++]=U&_,I=10;I<p.length;I++){var B=p.words[I]|0;p.words[I-10]=(B&_)<<4|U>>>22,U=B}U>>>=22,p.words[I-10]=U,U===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var y=0,_=0;_<p.length;_++){var A=p.words[_]|0;y+=A*977,p.words[_]=y&67108863,y=A*64+(y/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function N(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(N,k);function v(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(v,k);function M(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(M,k),M.prototype.imulK=function(p){for(var y=0,_=0;_<p.length;_++){var A=(p.words[_]|0)*19+y,I=A&67108863;A>>>=26,p.words[_]=I,y=A}return y!==0&&(p.words[p.length++]=y),p},s._prime=function(p){if(O[p])return O[p];var y;if(p==="k256")y=new F;else if(p==="p224")y=new N;else if(p==="p192")y=new v;else if(p==="p25519")y=new M;else throw new Error("Unknown prime "+p);return O[p]=y,y};function $(C){if(typeof C=="string"){var p=s._prime(C);this.m=p.p,this.prime=p}else n(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,y){n((p.negative|y.negative)===0,"red works only with positives"),n(p.red&&p.red===y.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,y){this._verify2(p,y);var _=p.add(y);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},$.prototype.iadd=function(p,y){this._verify2(p,y);var _=p.iadd(y);return _.cmp(this.m)>=0&&_.isub(this.m),_},$.prototype.sub=function(p,y){this._verify2(p,y);var _=p.sub(y);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},$.prototype.isub=function(p,y){this._verify2(p,y);var _=p.isub(y);return _.cmpn(0)<0&&_.iadd(this.m),_},$.prototype.shl=function(p,y){return this._verify1(p),this.imod(p.ushln(y))},$.prototype.imul=function(p,y){return this._verify2(p,y),this.imod(p.imul(y))},$.prototype.mul=function(p,y){return this._verify2(p,y),this.imod(p.mul(y))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(p,_)}for(var A=this.m.subn(1),I=0;!A.isZero()&&A.andln(1)===0;)I++,A.iushrn(1);n(!A.isZero());var U=new s(1).toRed(this),B=U.redNeg(),R=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,R).cmp(B)!==0;)E.redIAdd(B);for(var L=this.pow(E,A),G=this.pow(p,A.addn(1).iushrn(1)),T=this.pow(p,A),V=I;T.cmp(U)!==0;){for(var K=T,X=0;K.cmp(U)!==0;X++)K=K.redSqr();n(X<V);var Q=this.pow(L,new s(1).iushln(V-X-1));G=G.redMul(Q),L=Q.redSqr(),T=T.redMul(L),V=X}return G},$.prototype.invm=function(p){var y=p._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},$.prototype.pow=function(p,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return p.clone();var _=4,A=new Array(1<<_);A[0]=new s(1).toRed(this),A[1]=p;for(var I=2;I<A.length;I++)A[I]=this.mul(A[I-1],p);var U=A[0],B=0,R=0,E=y.bitLength()%26;for(E===0&&(E=26),I=y.length-1;I>=0;I--){for(var L=y.words[I],G=E-1;G>=0;G--){var T=L>>G&1;if(U!==A[0]&&(U=this.sqr(U)),T===0&&B===0){R=0;continue}B<<=1,B|=T,R++,!(R!==_&&(I!==0||G!==0))&&(U=this.mul(U,A[B]),R=0,B=0)}E=26}return U},$.prototype.convertTo=function(p){var y=p.umod(this.m);return y===p?y.clone():y},$.prototype.convertFrom=function(p){var y=p.clone();return y.red=null,y},s.mont=function(p){return new P(p)};function P(C){$.call(this,C),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(P,$),P.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},P.prototype.convertFrom=function(p){var y=this.imod(p.mul(this.rinv));return y.red=null,y},P.prototype.imul=function(p,y){if(p.isZero()||y.isZero())return p.words[0]=0,p.length=1,p;var _=p.imul(y),A=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=_.isub(A).iushrn(this.shift),U=I;return I.cmp(this.m)>=0?U=I.isub(this.m):I.cmpn(0)<0&&(U=I.iadd(this.m)),U._forceRed(this)},P.prototype.mul=function(p,y){if(p.isZero()||y.isZero())return new s(0)._forceRed(this);var _=p.mul(y),A=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=_.isub(A).iushrn(this.shift),U=I;return I.cmp(this.m)>=0?U=I.isub(this.m):I.cmpn(0)<0&&(U=I.iadd(this.m)),U._forceRed(this)},P.prototype.invm=function(p){var y=this.imod(p._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,Qde)})(Qb)),Qb.exports}var ehe=Zde();const te=Ts(ehe),the="logger/5.8.0";let S6=!1,I6=!1;const Zb={debug:1,default:2,info:2,warning:3,error:4,off:5};let T6=Zb.default,lx=null;function rhe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const R6=rhe();var uC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(uC||(uC={}));var ga;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ga||(ga={}));const P6="0123456789abcdef";let re=class bn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Zb[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(T6>Zb[n])&&console.log.apply(console,r)}debug(...e){this._log(bn.levels.DEBUG,e)}info(...e){this._log(bn.levels.INFO,e)}warn(...e){this._log(bn.levels.WARNING,e)}makeError(e,r,n){if(I6)return this.makeError("censored error",r,{});r||(r=bn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=P6[l[f]>>4],u+=P6[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ga.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ga.CALL_EXCEPTION:case ga.INSUFFICIENT_FUNDS:case ga.MISSING_NEW:case ga.NONCE_EXPIRED:case ga.REPLACEMENT_UNDERPRICED:case ga.TRANSACTION_REPLACED:case ga.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,bn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){R6&&this.throwError("platform missing String.prototype.normalize",bn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:R6})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,bn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,bn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,bn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",bn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",bn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",bn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return lx||(lx=new bn(the)),lx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),S6){if(!e)return;this.globalLogger().throwError("error censorship permanent",bn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}I6=!!e,S6=!!r}static setLogLevel(e){const r=Zb[e.toLowerCase()];if(r==null){bn.globalLogger().warn("invalid log level - "+e);return}T6=r}static from(e){return new bn(e)}};re.errors=ga;re.levels=uC;const nhe="bytes/5.8.0",Jr=new re(nhe);function G7(t){return!!t.toHexString}function o0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return o0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function K1(t){return ht(t)&&!(t.length%2)||q0(t)}function O6(t){return typeof t=="number"&&t==t&&t%1===0}function q0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!O6(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!O6(r)||r<0||r>=256)return!1}return!0}function de(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),o0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),G7(t)&&(t=t.toHexString()),ht(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Jr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return o0(new Uint8Array(n))}return q0(t)?o0(new Uint8Array(t)):Jr.throwArgumentError("invalid arrayify value","value",t)}function zt(t){const e=t.map(i=>de(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),o0(n)}function Rl(t){let e=de(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function e_(t,e){t=de(t),t.length>e&&Jr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),o0(r)}function ht(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const ux="0123456789abcdef";function ye(t,e){if(e||(e={}),typeof t=="number"){Jr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=ux[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),G7(t))return t.toHexString();if(ht(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Jr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(q0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=ux[(i&240)>>4]+ux[i&15]}return r}return Jr.throwArgumentError("invalid hexlify value","value",t)}function Od(t){if(typeof t!="string")t=ye(t);else if(!ht(t)||t.length%2)return null;return(t.length-2)/2}function pn(t,e,r){return typeof t!="string"?t=ye(t):(!ht(t)||t.length%2)&&Jr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Vi(t){let e="0x";return t.forEach(r=>{e+=ye(r).substring(2)}),e}function TS(t){const e=ihe(ye(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function ihe(t){typeof t!="string"&&(t=ye(t)),ht(t)||Jr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function ir(t,e){for(typeof t!="string"?t=ye(t):ht(t)||Jr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Jr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function z0(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(K1(t)){let r=de(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64))):r.length===65?(e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64)),e.v=r[64]):Jr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Jr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ye(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=e_(de(e._vs),32);e._vs=ye(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Jr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ye(i);e.s==null?e.s=o:e.s!==o&&Jr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Jr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Jr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ht(e.r)?Jr.throwArgumentError("signature missing or invalid r","signature",t):e.r=ir(e.r,32),e.s==null||!ht(e.s)?Jr.throwArgumentError("signature missing or invalid s","signature",t):e.s=ir(e.s,32);const r=de(e.s);r[0]>=128&&Jr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ye(r);e._vs&&(ht(e._vs)||Jr.throwArgumentError("signature invalid _vs","signature",t),e._vs=ir(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Jr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function D6(t){return t=z0(t),ye(zt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const K7="bignumber/5.8.0";var Ow=te.BN;const ul=new re(K7),fx={},k6=9007199254740991;function she(t){return t!=null&&(ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||ht(t)||typeof t=="bigint"||q0(t))}let M6=!1,ve=class sa{constructor(e,r){e!==fx&&ul.throwError("cannot call constructor directly; use BigNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return as(gt(this).fromTwos(e))}toTwos(e){return as(gt(this).toTwos(e))}abs(){return this._hex[0]==="-"?sa.from(this._hex.substring(1)):this}add(e){return as(gt(this).add(gt(e)))}sub(e){return as(gt(this).sub(gt(e)))}div(e){return sa.from(e).isZero()&&lo("division-by-zero","div"),as(gt(this).div(gt(e)))}mul(e){return as(gt(this).mul(gt(e)))}mod(e){const r=gt(e);return r.isNeg()&&lo("division-by-zero","mod"),as(gt(this).umod(r))}pow(e){const r=gt(e);return r.isNeg()&&lo("negative-power","pow"),as(gt(this).pow(r))}and(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","and"),as(gt(this).and(r))}or(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","or"),as(gt(this).or(r))}xor(e){const r=gt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","xor"),as(gt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&lo("negative-width","mask"),as(gt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&lo("negative-width","shl"),as(gt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&lo("negative-width","shr"),as(gt(this).shrn(e))}eq(e){return gt(this).eq(gt(e))}lt(e){return gt(this).lt(gt(e))}lte(e){return gt(this).lte(gt(e))}gt(e){return gt(this).gt(gt(e))}gte(e){return gt(this).gte(gt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return gt(this).isZero()}toNumber(){try{return gt(this).toNumber()}catch{lo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ul.throwError("this platform does not support BigInt",re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?M6||(M6=!0,ul.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ul.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",re.errors.UNEXPECTED_ARGUMENT,{}):ul.throwError("BigNumber.toString does not accept parameters",re.errors.UNEXPECTED_ARGUMENT,{})),gt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof sa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new sa(fx,Tm(e)):e.match(/^-?[0-9]+$/)?new sa(fx,Tm(new Ow(e))):ul.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&lo("underflow","BigNumber.from",e),(e>=k6||e<=-k6)&&lo("overflow","BigNumber.from",e),sa.from(String(e));const r=e;if(typeof r=="bigint")return sa.from(r.toString());if(q0(r))return sa.from(ye(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return sa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ht(n)||n[0]==="-"&&ht(n.substring(1))))return sa.from(n)}return ul.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Tm(t){if(typeof t!="string")return Tm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ul.throwArgumentError("invalid hex","value",t),t=Tm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function as(t){return ve.from(Tm(t))}function gt(t){const e=ve.from(t).toHexString();return e[0]==="-"?new Ow("-"+e.substring(3),16):new Ow(e.substring(2),16)}function lo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ul.throwError(t,re.errors.NUMERIC_FAULT,n)}function ohe(t){return new Ow(t,36).toString(16)}const Ji=new re(K7),yg={},V7=ve.from(0),J7=ve.from(-1);function Y7(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Ji.throwError(t,re.errors.NUMERIC_FAULT,i)}let bg="0";for(;bg.length<256;)bg+=bg;function RS(t){if(typeof t!="number")try{t=ve.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+bg.substring(0,t):Ji.throwArgumentError("invalid decimal size","decimals",t)}function t_(t,e){e==null&&(e=0);const r=RS(e);t=ve.from(t);const n=t.lt(V7);n&&(t=t.mul(J7));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function hc(t,e){e==null&&(e=0);const r=RS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Ji.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Ji.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Ji.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Y7("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=ve.from(s),c=ve.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(J7)),l}class a0{constructor(e,r,n,i){e!==yg&&Ji.throwError("cannot use FixedFormat constructor; use FixedFormat.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=RS(i),Object.freeze(this)}static from(e){if(e instanceof a0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Ji.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Ji.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Ji.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Ji.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new a0(yg,r,n,i)}}class oi{constructor(e,r,n,i){e!==yg&&Ji.throwError("cannot use FixedNumber constructor; use FixedNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ji.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=hc(this._value,this.format.decimals),n=hc(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(U6.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(U6.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Ji.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+bg.substring(0,e),this.format),i=ahe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ji.throwArgumentError("invalid byte width","width",e);const r=ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return ir(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!she(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(t_(e,r),a0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=a0.from(r),i=hc(e,n.decimals);!n.signed&&i.lt(V7)&&Y7("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=ir(s,n.width/8));const o=t_(i,n.decimals);return new oi(yg,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=a0.from(r);if(de(e).length>n.width/8)throw new Error("overflow");let i=ve.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=t_(i,n.decimals);return new oi(yg,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(q0(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==re.errors.INVALID_ARGUMENT)throw n}return Ji.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const U6=oi.from(1),ahe=oi.from("0.5"),che="properties/5.8.0";var lhe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Dw=new re(che);function ue(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Cs(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function rn(t){return lhe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function X7(t,e){(!t||typeof t!="object")&&Dw.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Dw.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Fn(t){const e={};for(const r in t)e[r]=t[r];return e}const uhe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Q7(t){if(t==null||uhe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Q7(n))return!1}return!0}return Dw.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function fhe(t){if(Q7(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Ll(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ue(e,r,Ll(n))}return e}return Dw.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Ll(t){return fhe(t)}let Zs=class{constructor(e){for(const r in e)this[r]=Ll(e[r])}};const xy="abi/5.8.0",Ct=new re(xy),Dd={};let $6={calldata:!0,memory:!0,storage:!0},dhe={calldata:!0,memory:!0};function mb(t,e){if(t==="bytes"||t==="string"){if($6[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&dhe[e])return!0;return($6[e]||e==="payable")&&Ct.throwArgumentError("invalid modifier","name",e),!1}function hhe(t,e){let r=t;function n(a){Ct.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=$h(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),mb(o.type,o.name)&&(o.name=""),o.type=$h(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),mb(o.type,o.name)&&(o.name=""),o.type=$h(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=$h(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):mb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Ct.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):mb(o.type,o.name)&&(o.name=""),s.type=$h(s.type),s}function r_(t,e){for(let r in e)ue(t,r,e[r])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),phe=new RegExp(/^(.*)\[([0-9]*)\]$/);let kc=class mu{constructor(e,r){e!==Dd&&Ct.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),r_(this,r);let n=this.type.match(phe);n?r_(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:mu.fromObject({type:n[1],components:this.components}),baseType:"array"}):r_(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):r+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Bt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?mu.fromString(e,r):mu.fromObject(e)}static fromObject(e){return mu.isParamType(e)?e:new mu(Dd,{name:e.name||null,type:$h(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(mu.fromObject):null})}static fromString(e,r){function n(i){return mu.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(hhe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function Rm(t,e){return mhe(t).map(r=>kc.fromString(r,e))}let V1=class Hp{constructor(e,r){e!==Dd&&Ct.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),r_(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Hp.isFragment(e)?e:typeof e=="string"?Hp.fromString(e):Hp.fromObject(e)}static fromObject(e){if(Hp.isFragment(e))return e;switch(e.type){case"function":return Mw.fromObject(e);case"event":return fC.fromObject(e);case"constructor":return kw.fromObject(e);case"error":return F6.fromObject(e);case"fallback":case"receive":return null}return Ct.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?fC.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Mw.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?kw.fromString(e.trim()):e.split(" ")[0]==="error"?F6.fromString(e.substring(5).trim()):Ct.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},fC=class Dh extends V1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Dh.fromString(e):Dh.fromObject(e)}static fromObject(e){if(Dh.isEventFragment(e))return e;e.type!=="event"&&Ct.throwArgumentError("invalid event object","value",e);const r={name:Pm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(kc.fromObject):[],type:"event"};return new Dh(Dd,r)}static fromString(e){let r=e.match(Om);r||Ct.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ct.warn("unknown modifier: "+i)}}),Dh.fromObject({name:r[1].trim(),anonymous:n,inputs:Rm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function Z7(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ct.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ct.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function e$(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function t$(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ct.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ct.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ct.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e}let kw=class kh extends V1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&Ct.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?kh.fromString(e):kh.fromObject(e)}static fromObject(e){if(kh.isConstructorFragment(e))return e;e.type!=="constructor"&&Ct.throwArgumentError("invalid constructor object","value",e);let r=t$(e);r.constant&&Ct.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(kc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new kh(Dd,n)}static fromString(e){let r={type:"constructor"};e=Z7(e,r);let n=e.match(Om);return(!n||n[1].trim()!=="constructor")&&Ct.throwArgumentError("invalid constructor string","value",e),r.inputs=Rm(n[2].trim(),!1),e$(n[3].trim(),r),kh.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},Mw=class Mh extends kw{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Mh.fromString(e):Mh.fromObject(e)}static fromObject(e){if(Mh.isFunctionFragment(e))return e;e.type!=="function"&&Ct.throwArgumentError("invalid function object","value",e);let r=t$(e);const n={type:e.type,name:Pm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(kc.fromObject):[],outputs:e.outputs?e.outputs.map(kc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Mh(Dd,n)}static fromString(e){let r={type:"function"};e=Z7(e,r);let n=e.split(" returns ");n.length>2&&Ct.throwArgumentError("invalid function string","value",e);let i=n[0].match(Om);if(i||Ct.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Pm(r.name),r.inputs=Rm(i[2],!1),e$(i[3].trim(),r),n.length>1){let s=n[1].match(Om);(s[1].trim()!=""||s[3].trim()!="")&&Ct.throwArgumentError("unexpected tokens","value",e),r.outputs=Rm(s[2],!1)}else r.outputs=[];return Mh.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function L6(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ct.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let F6=class Uh extends V1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Uh.fromString(e):Uh.fromObject(e)}static fromObject(e){if(Uh.isErrorFragment(e))return e;e.type!=="error"&&Ct.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Pm(e.name),inputs:e.inputs?e.inputs.map(kc.fromObject):[]};return L6(new Uh(Dd,r))}static fromString(e){let r={type:"error"},n=e.match(Om);return n||Ct.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Pm(r.name),r.inputs=Rm(n[2],!1),L6(Uh.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function $h(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ghe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Pm(t){return(!t||!t.match(ghe))&&Ct.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Om=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function mhe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ct.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const PS=new re(xy);function yhe(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let Hl=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){PS.throwArgumentError(e,this.localName,r)}},dC=class{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Vi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(zt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=zt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&PS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=zt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},bhe=class hC{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):hC.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:PS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new hC(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}};var dx={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var B6;function _he(){return B6||(B6=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Oa:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],w=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var D=function(T,V,K){return function(X){return new E(T,V,T).update(X)[K]()}},O=function(T,V,K){return function(X,Q){return new E(T,V,Q).update(X)[K]()}},k=function(T,V,K){return function(X,Q,ie,le){return p["cshake"+T].update(X,Q,ie,le)[K]()}},F=function(T,V,K){return function(X,Q,ie,le){return p["kmac"+T].update(X,Q,ie,le)[K]()}},N=function(T,V,K,X){for(var Q=0;Q<x.length;++Q){var ie=x[Q];T[ie]=V(K,X,ie)}return T},v=function(T,V){var K=D(T,V,"hex");return K.create=function(){return new E(T,V,T)},K.update=function(X){return K.create().update(X)},N(K,D,T,V)},M=function(T,V){var K=O(T,V,"hex");return K.create=function(X){return new E(T,V,X)},K.update=function(X,Q){return K.create(Q).update(X)},N(K,O,T,V)},$=function(T,V){var K=S[T],X=k(T,V,"hex");return X.create=function(Q,ie,le){return!ie&&!le?p["shake"+T].create(Q):new E(T,V,Q).bytepad([ie,le],K)},X.update=function(Q,ie,le,H){return X.create(ie,le,H).update(Q)},N(X,k,T,V)},P=function(T,V){var K=S[T],X=F(T,V,"hex");return X.create=function(Q,ie,le){return new L(T,V,ie).bytepad(["KMAC",le],K).bytepad([Q],K)},X.update=function(Q,ie,le,H){return X.create(Q,le,H).update(ie)},N(X,F,T,V)},C=[{name:"keccak",padding:d,bits:b,createMethod:v},{name:"sha3",padding:h,bits:b,createMethod:v},{name:"shake",padding:u,bits:w,createMethod:M},{name:"cshake",padding:f,bits:w,createMethod:$},{name:"kmac",padding:f,bits:w,createMethod:P}],p={},y=[],_=0;_<C.length;++_)for(var A=C[_],I=A.bits,U=0;U<I.length;++U){var B=A.name+"_"+I[U];if(y.push(B),p[B]=A.createMethod(I[U],A.padding),A.name!=="sha3"){var R=A.name+I[U];y.push(R),p[R]=p[B]}}function E(T,V,K){this.blocks=[],this.s=[],this.padding=V,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}E.prototype.update=function(T){if(this.finalized)throw new Error(r);var V,K=typeof T;if(K!=="string"){if(K==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);V=!0}for(var X=this.blocks,Q=this.byteCount,ie=T.length,le=this.blockCount,H=0,Y=this.s,W,Z;H<ie;){if(this.reset)for(this.reset=!1,X[0]=this.block,W=1;W<le+1;++W)X[W]=0;if(V)for(W=this.start;H<ie&&W<Q;++H)X[W>>2]|=T[H]<<m[W++&3];else for(W=this.start;H<ie&&W<Q;++H)Z=T.charCodeAt(H),Z<128?X[W>>2]|=Z<<m[W++&3]:Z<2048?(X[W>>2]|=(192|Z>>6)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):Z<55296||Z>=57344?(X[W>>2]|=(224|Z>>12)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):(Z=65536+((Z&1023)<<10|T.charCodeAt(++H)&1023),X[W>>2]|=(240|Z>>18)<<m[W++&3],X[W>>2]|=(128|Z>>12&63)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]);if(this.lastByteIndex=W,W>=Q){for(this.start=W-Q,this.block=X[le],W=0;W<le;++W)Y[W]^=X[W];G(Y),this.reset=!0}else this.start=W}return this},E.prototype.encode=function(T,V){var K=T&255,X=1,Q=[K];for(T=T>>8,K=T&255;K>0;)Q.unshift(K),T=T>>8,K=T&255,++X;return V?Q.push(X):Q.unshift(X),this.update(Q),Q.length},E.prototype.encodeString=function(T){var V,K=typeof T;if(K!=="string"){if(K==="object"){if(T===null)throw new Error(e);if(c&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!c||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);V=!0}var X=0,Q=T.length;if(V)X=Q;else for(var ie=0;ie<T.length;++ie){var le=T.charCodeAt(ie);le<128?X+=1:le<2048?X+=2:le<55296||le>=57344?X+=3:(le=65536+((le&1023)<<10|T.charCodeAt(++ie)&1023),X+=4)}return X+=this.encode(X*8),this.update(T),X},E.prototype.bytepad=function(T,V){for(var K=this.encode(V),X=0;X<T.length;++X)K+=this.encodeString(T[X]);var Q=V-K%V,ie=[];return ie.length=Q,this.update(ie),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,V=this.lastByteIndex,K=this.blockCount,X=this.s;if(T[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(T[0]=T[K],V=1;V<K+1;++V)T[V]=0;for(T[K-1]|=2147483648,V=0;V<K;++V)X[V]^=T[V];G(X)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var T=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le="",H;ie<K;){for(Q=0;Q<T&&ie<K;++Q,++ie)H=V[Q],le+=l[H>>4&15]+l[H&15]+l[H>>12&15]+l[H>>8&15]+l[H>>20&15]+l[H>>16&15]+l[H>>28&15]+l[H>>24&15];ie%T===0&&(G(V),Q=0)}return X&&(H=V[Q],le+=l[H>>4&15]+l[H&15],X>1&&(le+=l[H>>12&15]+l[H>>8&15]),X>2&&(le+=l[H>>20&15]+l[H>>16&15])),le},E.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=this.outputBits>>3,H;X?H=new ArrayBuffer(K+1<<2):H=new ArrayBuffer(le);for(var Y=new Uint32Array(H);ie<K;){for(Q=0;Q<T&&ie<K;++Q,++ie)Y[ie]=V[Q];ie%T===0&&G(V)}return X&&(Y[Q]=V[Q],H=H.slice(0,le)),H},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var T=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=[],H,Y;ie<K;){for(Q=0;Q<T&&ie<K;++Q,++ie)H=ie<<2,Y=V[Q],le[H]=Y&255,le[H+1]=Y>>8&255,le[H+2]=Y>>16&255,le[H+3]=Y>>24&255;ie%T===0&&G(V)}return X&&(H=ie<<2,Y=V[Q],le[H]=Y&255,X>1&&(le[H+1]=Y>>8&255),X>2&&(le[H+2]=Y>>16&255)),le};function L(T,V,K){E.call(this,T,V,K)}L.prototype=new E,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var G=function(T){var V,K,X,Q,ie,le,H,Y,W,Z,fe,oe,ge,we,q,z,ne,se,pe,me,ee,ce,ke,Le,Ge,Fr,nt,Rt,Xo,lt,pt,ic,Zt,mr,wf,yr,br,Ef,_r,wr,vf,Er,vr,xf,xr,Ar,Af,Cr,Nr,Cf,Sr,Ir,Nf,Tr,Rr,Sf,Pr,Or,Kl,Vl,Jl,Yl,Xl;for(X=0;X<48;X+=2)Q=T[0]^T[10]^T[20]^T[30]^T[40],ie=T[1]^T[11]^T[21]^T[31]^T[41],le=T[2]^T[12]^T[22]^T[32]^T[42],H=T[3]^T[13]^T[23]^T[33]^T[43],Y=T[4]^T[14]^T[24]^T[34]^T[44],W=T[5]^T[15]^T[25]^T[35]^T[45],Z=T[6]^T[16]^T[26]^T[36]^T[46],fe=T[7]^T[17]^T[27]^T[37]^T[47],oe=T[8]^T[18]^T[28]^T[38]^T[48],ge=T[9]^T[19]^T[29]^T[39]^T[49],V=oe^(le<<1|H>>>31),K=ge^(H<<1|le>>>31),T[0]^=V,T[1]^=K,T[10]^=V,T[11]^=K,T[20]^=V,T[21]^=K,T[30]^=V,T[31]^=K,T[40]^=V,T[41]^=K,V=Q^(Y<<1|W>>>31),K=ie^(W<<1|Y>>>31),T[2]^=V,T[3]^=K,T[12]^=V,T[13]^=K,T[22]^=V,T[23]^=K,T[32]^=V,T[33]^=K,T[42]^=V,T[43]^=K,V=le^(Z<<1|fe>>>31),K=H^(fe<<1|Z>>>31),T[4]^=V,T[5]^=K,T[14]^=V,T[15]^=K,T[24]^=V,T[25]^=K,T[34]^=V,T[35]^=K,T[44]^=V,T[45]^=K,V=Y^(oe<<1|ge>>>31),K=W^(ge<<1|oe>>>31),T[6]^=V,T[7]^=K,T[16]^=V,T[17]^=K,T[26]^=V,T[27]^=K,T[36]^=V,T[37]^=K,T[46]^=V,T[47]^=K,V=Z^(Q<<1|ie>>>31),K=fe^(ie<<1|Q>>>31),T[8]^=V,T[9]^=K,T[18]^=V,T[19]^=K,T[28]^=V,T[29]^=K,T[38]^=V,T[39]^=K,T[48]^=V,T[49]^=K,we=T[0],q=T[1],Ar=T[11]<<4|T[10]>>>28,Af=T[10]<<4|T[11]>>>28,Rt=T[20]<<3|T[21]>>>29,Xo=T[21]<<3|T[20]>>>29,Vl=T[31]<<9|T[30]>>>23,Jl=T[30]<<9|T[31]>>>23,Er=T[40]<<18|T[41]>>>14,vr=T[41]<<18|T[40]>>>14,mr=T[2]<<1|T[3]>>>31,wf=T[3]<<1|T[2]>>>31,z=T[13]<<12|T[12]>>>20,ne=T[12]<<12|T[13]>>>20,Cr=T[22]<<10|T[23]>>>22,Nr=T[23]<<10|T[22]>>>22,lt=T[33]<<13|T[32]>>>19,pt=T[32]<<13|T[33]>>>19,Yl=T[42]<<2|T[43]>>>30,Xl=T[43]<<2|T[42]>>>30,Tr=T[5]<<30|T[4]>>>2,Rr=T[4]<<30|T[5]>>>2,yr=T[14]<<6|T[15]>>>26,br=T[15]<<6|T[14]>>>26,se=T[25]<<11|T[24]>>>21,pe=T[24]<<11|T[25]>>>21,Cf=T[34]<<15|T[35]>>>17,Sr=T[35]<<15|T[34]>>>17,ic=T[45]<<29|T[44]>>>3,Zt=T[44]<<29|T[45]>>>3,Le=T[6]<<28|T[7]>>>4,Ge=T[7]<<28|T[6]>>>4,Sf=T[17]<<23|T[16]>>>9,Pr=T[16]<<23|T[17]>>>9,Ef=T[26]<<25|T[27]>>>7,_r=T[27]<<25|T[26]>>>7,me=T[36]<<21|T[37]>>>11,ee=T[37]<<21|T[36]>>>11,Ir=T[47]<<24|T[46]>>>8,Nf=T[46]<<24|T[47]>>>8,xf=T[8]<<27|T[9]>>>5,xr=T[9]<<27|T[8]>>>5,Fr=T[18]<<20|T[19]>>>12,nt=T[19]<<20|T[18]>>>12,Or=T[29]<<7|T[28]>>>25,Kl=T[28]<<7|T[29]>>>25,wr=T[38]<<8|T[39]>>>24,vf=T[39]<<8|T[38]>>>24,ce=T[48]<<14|T[49]>>>18,ke=T[49]<<14|T[48]>>>18,T[0]=we^~z&se,T[1]=q^~ne&pe,T[10]=Le^~Fr&Rt,T[11]=Ge^~nt&Xo,T[20]=mr^~yr&Ef,T[21]=wf^~br&_r,T[30]=xf^~Ar&Cr,T[31]=xr^~Af&Nr,T[40]=Tr^~Sf&Or,T[41]=Rr^~Pr&Kl,T[2]=z^~se&me,T[3]=ne^~pe&ee,T[12]=Fr^~Rt&lt,T[13]=nt^~Xo&pt,T[22]=yr^~Ef&wr,T[23]=br^~_r&vf,T[32]=Ar^~Cr&Cf,T[33]=Af^~Nr&Sr,T[42]=Sf^~Or&Vl,T[43]=Pr^~Kl&Jl,T[4]=se^~me&ce,T[5]=pe^~ee&ke,T[14]=Rt^~lt&ic,T[15]=Xo^~pt&Zt,T[24]=Ef^~wr&Er,T[25]=_r^~vf&vr,T[34]=Cr^~Cf&Ir,T[35]=Nr^~Sr&Nf,T[44]=Or^~Vl&Yl,T[45]=Kl^~Jl&Xl,T[6]=me^~ce&we,T[7]=ee^~ke&q,T[16]=lt^~ic&Le,T[17]=pt^~Zt&Ge,T[26]=wr^~Er&mr,T[27]=vf^~vr&wf,T[36]=Cf^~Ir&xf,T[37]=Sr^~Nf&xr,T[46]=Vl^~Yl&Tr,T[47]=Jl^~Xl&Rr,T[8]=ce^~we&z,T[9]=ke^~q&ne,T[18]=ic^~Le&Fr,T[19]=Zt^~Ge&nt,T[28]=Er^~mr&yr,T[29]=vr^~wf&br,T[38]=Ir^~xf&Ar,T[39]=Nf^~xr&Af,T[48]=Yl^~Tr&Sf,T[49]=Xl^~Rr&Pr,T[0]^=g[X],T[1]^=g[X+1]};if(a)t.exports=p;else for(_=0;_<y.length;++_)i[y[_]]=p[y[_]]})()})(dx)),dx.exports}var whe=_he();const G0=Ts(whe);function qt(t){return"0x"+G0.keccak_256(de(t))}const Ehe="rlp/5.8.0",yc=new re(Ehe);function j6(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function H6(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function r$(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(r$(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=j6(n.length);return i.unshift(247+i.length),i.concat(n)}K1(t)||yc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(de(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=j6(e.length);return r.unshift(183+r.length),r.concat(e)}function I0(t){return ye(r$(t))}function W6(t,e,r,n){const i=[];for(;r<e+1+n;){const s=n$(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&yc.throwError("child data too short",re.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function n$(t,e){if(t.length===0&&yc.throwError("data too short",re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&yc.throwError("data short segment too short",re.errors.BUFFER_OVERRUN,{});const n=H6(t,e+1,r);return e+1+r+n>t.length&&yc.throwError("data long segment too short",re.errors.BUFFER_OVERRUN,{}),W6(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{}),W6(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const n=H6(t,e+1,r);e+1+r+n>t.length&&yc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const i=ye(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&yc.throwError("data too short",re.errors.BUFFER_OVERRUN,{});const n=ye(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ye(t[e])}}function OS(t){const e=de(t),r=n$(e,0);return r.consumed!==e.length&&yc.throwArgumentError("invalid rlp data","data",t),r.result}const vhe="address/5.8.0",Jh=new re(vhe);function q6(t){ht(t,20)||Jh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=de(qt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const xhe=9007199254740991;function Ahe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const DS={};for(let t=0;t<10;t++)DS[String(t)]=String(t);for(let t=0;t<26;t++)DS[String.fromCharCode(65+t)]=String(10+t);const z6=Math.floor(Ahe(xhe));function Che(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>DS[n]).join("");for(;e.length>=z6;){let n=e.substring(0,z6);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Jt(t){let e=null;if(typeof t!="string"&&Jh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=q6(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Jh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Che(t)&&Jh.throwArgumentError("bad icap checksum","address",t),e=ohe(t.substring(4));e.length<40;)e="0"+e;e=q6("0x"+e)}else Jh.throwArgumentError("invalid address","address",t);return e}function i$(t){let e=null;try{e=Jt(t.from)}catch{Jh.throwArgumentError("missing from address","transaction",t)}const r=Rl(de(ve.from(t.nonce).toHexString()));return Jt(pn(qt(I0([e,r])),12))}let Nhe=class extends Hl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Jt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Jt(ir(e.readValue().toHexString(),20))}},She=class extends Hl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const Yh=new re(xy);function s$(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Yh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Yh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Yh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Yh.throwArgumentError("types/value length mismatch","tuple",r);let i=new dC(t.wordSize),s=new dC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function o$(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let Ihe=class extends Hl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Yh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return s$(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Yh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new She(this.coder));return e.coerce(this.name,o$(e,n))}},The=class extends Hl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},a$=class extends Hl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},Rhe=class extends a${constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}},Phe=class extends Hl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}},Ohe=class extends Hl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Dhe="0x0000000000000000000000000000000000000000",c$=ve.from(-1),kS=ve.from(0),l$=ve.from(1),u$=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),khe="0x0000000000000000000000000000000000000000000000000000000000000000";let Mhe=class extends Hl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=u$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(l$).mul(c$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(kS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const Uhe="strings/5.8.0",f$=new re(Uhe);var Fl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Fl||(Fl={}));var Ls;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ls||(Ls={}));function $he(t,e,r,n,i){return f$.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function d$(t,e,r,n,i){if(t===Ls.BAD_PREFIX||t===Ls.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Ls.OVERRUN?r.length-e-1:0}function Lhe(t,e,r,n,i){return t===Ls.OVERLONG?(n.push(i),0):(n.push(65533),d$(t,e,r))}const Fhe=Object.freeze({error:$he,ignore:d$,replace:Lhe});function h$(t,e){e==null&&(e=Fhe.error),t=de(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Ls.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ls.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ls.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Ls.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Ls.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ls.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ls.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Xr(t,e=Fl.current){e!=Fl.current&&(f$.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return de(r)}function Bhe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function K0(t,e){return Bhe(h$(t,e))}function jhe(t,e=Fl.current){return h$(Xr(t,e))}let Hhe=class extends a${constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Xr(r))}decode(e){return K0(super.decode(e))}},yb=class extends Hl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return s$(e,this.coders,r)}decode(e){return e.coerce(this.name,o$(e,this.coders))}};const bb=new re(xy),Whe=new RegExp(/^bytes([0-9]*)$/),qhe=new RegExp(/^(u?int)([0-9]*)$/);let zhe=class{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Nhe(e.name);case"bool":return new The(e.name);case"string":return new Hhe(e.name);case"bytes":return new Rhe(e.name);case"array":return new Ihe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new yb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Ohe(e.name)}let r=e.type.match(qhe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&bb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Mhe(n/8,r[1]==="int",e.name)}if(r=e.type.match(Whe),r){let n=parseInt(r[1]);return(n===0||n>32)&&bb.throwArgumentError("invalid bytes length","param",e),new Phe(n,e.name)}return bb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new bhe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new dC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(kc.from(i)));return new yb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&bb.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(kc.from(o))),i=new yb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(kc.from(o)));return new yb(i,"_").decode(this._getReader(de(r),n))}};const Ghe=new zhe;function ja(t){return qt(Xr(t))}const p$="hash/5.8.0";function g$(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return de(e)}function m$(t){t=de(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function y$(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function Khe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Vhe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let O=1;O<n;O++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let O=0;O<f;O++)b=b<<1|u();let w=[],x=0,S=d;for(;;){let O=Math.floor(((b-x+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;O<s[M]?F=M:k=M}if(k==0)break;w.push(k);let N=x+Math.floor(S*s[k]/i),v=x+Math.floor(S*s[k+1]/i)-1;for(;((N^v)&h)==0;)b=b<<1&g|u(),N=N<<1&g,v=v<<1&g|1;for(;N&~v&m;)b=b&h|b<<1&g>>>1|u(),N=N<<1^h,v=(v^h)<<1|h|1;x=N,S=1+v-N}let D=n-4;return w.map(O=>{switch(O-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return O-1}})}function Jhe(t){let e=0;return()=>t[e++]}function Yhe(t){return Jhe(Vhe(t))}function Xhe(t){return t&1?~t>>1:t>>1}function Qhe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function G6(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Zhe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Xhe(e());return r}function Uw(t,e){let r=G6(t(),t),n=t(),i=G6(n,t),s=Qhe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function e0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r0e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(n0e(r,t))}return Khe(y$(e))}function t0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function b$(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Zhe(t,r).forEach((s,o)=>n[o].push(s));return n}function r0e(t,e){let r=1+e(),n=e(),i=t0e(e),s=b$(i.length,1+t,e);return y$(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function n0e(t,e){let r=1+e();return b$(r,1+t,e).map(i=>[i[0],i.slice(1)])}function i0e(t){let e=Uw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Uw(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function s0e(){return Yhe(g$("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const J1=s0e(),o0e=new Set(Uw(J1)),a0e=new Set(Uw(J1)),c0e=e0e(J1),l0e=i0e(J1),K6=45,V6=95;function _$(t){return jhe(t)}function u0e(t){return t.filter(e=>e!=65039)}function w$(t){for(let e of t.split(".")){let r=_$(e);try{for(let n=r.lastIndexOf(V6)-1;n>=0;n--)if(r[n]!==V6)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===K6&&r[3]===K6)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function f0e(t){return w$(d0e(t,u0e))}function d0e(t,e){let r=_$(t).reverse(),n=[];for(;r.length;){let i=p0e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(o0e.has(s)){n.push(s);continue}if(a0e.has(s))continue;let o=c0e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return w$(h0e(String.fromCodePoint(...n)))}function h0e(t){return t.normalize("NFC")}function p0e(t,e){var r;let n=l0e,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const g0e=new re(p$),E$=new Uint8Array(32);E$.fill(0);function J6(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function v$(t){const e=Xr(f0e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(J6(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(J6(e.slice(n))),r}function n_(t){typeof t!="string"&&g0e.throwArgumentError("invalid ENS name; not a string","name",t);let e=E$;const r=v$(t);for(;r.length;)e=qt(zt([e,qt(r.pop())]));return ye(e)}function m0e(t){return ye(zt(v$(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const y0e=`Ethereum Signed Message:
`;function x$(t){return typeof t=="string"&&(t=Xr(t)),qt(zt([Xr(y0e),Xr(String(t.length)),t]))}var b0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Wr=new re(p$),A$=new Uint8Array(32);A$.fill(0);const _0e=ve.from(-1),C$=ve.from(0),N$=ve.from(1),w0e=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function E0e(t){const e=de(t),r=e.length%32;return r?Vi([e,A$.slice(r)]):ye(e)}const v0e=ir(N$.toHexString(),32),x0e=ir(C$.toHexString(),32),Y6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},hx=["name","version","chainId","verifyingContract","salt"];function X6(t){return function(e){return typeof e!="string"&&Wr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const A0e={name:X6("name"),version:X6("version"),chainId:function(t){try{return ve.from(t).toString()}catch{}return Wr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Jt(t).toLowerCase()}catch{}return Wr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=de(t);if(e.length!==32)throw new Error("bad length");return ye(e)}catch{}return Wr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function px(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Wr.throwArgumentError("invalid numeric width","type",t);const i=w0e.mask(r?n-1:n),s=r?i.add(N$).mul(_0e):C$;return function(o){const a=ve.from(o);return(a.lt(s)||a.gt(i))&&Wr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),ir(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Wr.throwArgumentError("invalid bytes width","type",t),function(n){return de(n).length!==r&&Wr.throwArgumentError(`invalid length for ${t}`,"value",n),E0e(n)}}}switch(t){case"address":return function(e){return ir(Jt(e),32)};case"bool":return function(e){return e?v0e:x0e};case"bytes":return function(e){return qt(e)};case"string":return function(e){return ja(e)}}return null}function Q6(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let Dm=class oa{constructor(e){ue(this,"types",Object.freeze(Ll(e))),ue(this,"_encoderCache",{}),ue(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Wr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Wr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!px(u)&&(n[u]||Wr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Wr.throwArgumentError("missing primary type","types",e):s.length>1&&Wr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ue(this,"primaryType",s[0]);function o(a,c){c[a]&&Wr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Q6(a,e[a])+c.map(l=>Q6(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=px(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Wr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(qt)),qt(Vi(c))}}const n=this.types[e];if(n){const i=ja(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?qt(l):l});return o.unshift(i),Vi(o)}}return Wr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Wr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(px(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Wr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Wr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new oa(e)}static getPrimaryType(e){return oa.from(e).primaryType}static hashStruct(e,r,n){return oa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Y6[n];i||Wr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>hx.indexOf(n.name)-hx.indexOf(i.name)),oa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Vi(["0x1901",oa.hashDomain(e),oa.from(r).hash(n)])}static hash(e,r,n){return qt(oa.encode(e,r,n))}static resolveNames(e,r,n,i){return b0e(this,void 0,void 0,function*(){e=Fn(e);const s={};e.verifyingContract&&!ht(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=oa.from(r);o.visit(n,(a,c)=>(a==="address"&&!ht(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){oa.hashDomain(e);const i={},s=[];hx.forEach(c=>{const l=e[c];l!=null&&(i[c]=A0e[c](l),s.push({name:c,type:Y6[c]}))});const o=oa.from(r),a=Fn(r);return a.EIP712Domain?Wr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return ye(de(l));if(c.match(/^u?int/))return ve.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Wr.throwArgumentError("invalid string","value",l),l}return Wr.throwArgumentError("unsupported type","type",c)})}}};const Br=new re(xy);let C0e=class extends Zs{},N0e=class extends Zs{},S0e=class extends Zs{},pC=class extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}};const I0e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Z6(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let eO=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>V1.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Cs(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Br.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Br.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",kw.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&Br.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Ghe}static getAddress(e){return Jt(e)}static getSighash(e){return pn(ja(e.format()),0,4)}static getEventTopic(e){return ja(e.format())}getFunction(e){if(ht(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Br.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching function","name",n):i.length>1&&Br.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[Mw.fromString(e).format()];return r||Br.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ht(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Br.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching event","name",n):i.length>1&&Br.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[fC.fromString(e).format()];return r||Br.throwArgumentError("no matching event","signature",e),r}getError(e){if(ht(e)){const n=Cs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Br.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Br.throwArgumentError("no matching error","name",n):i.length>1&&Br.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[Mw.fromString(e).format()];return r||Br.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Cs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Cs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Br.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Br.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=I0e[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Br.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Br.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?ja(o):s.type==="bytes"?qt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),ir(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Br.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Br.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Br.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(ja(c));else if(o.type==="bytes")n.push(qt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ht(n[0],32)||n[0].toLowerCase()!==d)&&Br.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(kc.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,zt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new pC({_isIndexed:!0,hash:null});else if(o[h])l[h]=new pC({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw Z6(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw Z6(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new N0e({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new C0e({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new S0e({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const T0e="abstract-provider/5.8.0";var R0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const P0e=new re(T0e);class O0e extends Zs{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Ay{constructor(){P0e.checkAbstract(new.target,Ay),ue(this,"_isProvider",!0)}getFeeData(){return R0e(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield rn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const D0e="abstract-signer/5.8.0";var ta=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const mo=new re(D0e),k0e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],M0e=[re.errors.INSUFFICIENT_FUNDS,re.errors.NONCE_EXPIRED,re.errors.REPLACEMENT_UNDERPRICED];class V0{constructor(){mo.checkAbstract(new.target,V0),ue(this,"_isSigner",!0)}getBalance(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ta(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield rn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return ta(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield rn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return ta(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)k0e.indexOf(n)===-1&&mo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Fn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&mo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return ta(this,void 0,void 0,function*(){const r=yield rn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>ta(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&mo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?mo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&mo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&mo.throwError("network does not support EIP-1559",re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):mo.throwError("failed to get consistent fee data",re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(M0e.indexOf(i.code)>=0)throw i;return mo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&mo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield rn(r)})}_checkProvider(e){this.provider||mo.throwError("missing provider",re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class MS extends V0{constructor(e,r){super(),ue(this,"address",e),ue(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{mo.throwError(e,re.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new MS(this.address,e)}}var gx={},tr={},mx,tO;function Cy(){if(tO)return mx;tO=1,mx=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},mx}var _b={exports:{}},rO;function U0e(){return rO||(rO=1,typeof Object.create=="function"?_b.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_b.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),_b.exports}var nO;function jc(){if(nO)return tr;nO=1;var t=Cy(),e=U0e();tr.inherits=e;function r(P,C){return(P.charCodeAt(C)&64512)!==55296||C<0||C+1>=P.length?!1:(P.charCodeAt(C+1)&64512)===56320}function n(P,C){if(Array.isArray(P))return P.slice();if(!P)return[];var p=[];if(typeof P=="string")if(C){if(C==="hex")for(P=P.replace(/[^a-z0-9]+/ig,""),P.length%2!==0&&(P="0"+P),_=0;_<P.length;_+=2)p.push(parseInt(P[_]+P[_+1],16))}else for(var y=0,_=0;_<P.length;_++){var A=P.charCodeAt(_);A<128?p[y++]=A:A<2048?(p[y++]=A>>6|192,p[y++]=A&63|128):r(P,_)?(A=65536+((A&1023)<<10)+(P.charCodeAt(++_)&1023),p[y++]=A>>18|240,p[y++]=A>>12&63|128,p[y++]=A>>6&63|128,p[y++]=A&63|128):(p[y++]=A>>12|224,p[y++]=A>>6&63|128,p[y++]=A&63|128)}else for(_=0;_<P.length;_++)p[_]=P[_]|0;return p}tr.toArray=n;function i(P){for(var C="",p=0;p<P.length;p++)C+=a(P[p].toString(16));return C}tr.toHex=i;function s(P){var C=P>>>24|P>>>8&65280|P<<8&16711680|(P&255)<<24;return C>>>0}tr.htonl=s;function o(P,C){for(var p="",y=0;y<P.length;y++){var _=P[y];C==="little"&&(_=s(_)),p+=c(_.toString(16))}return p}tr.toHex32=o;function a(P){return P.length===1?"0"+P:P}tr.zero2=a;function c(P){return P.length===7?"0"+P:P.length===6?"00"+P:P.length===5?"000"+P:P.length===4?"0000"+P:P.length===3?"00000"+P:P.length===2?"000000"+P:P.length===1?"0000000"+P:P}tr.zero8=c;function l(P,C,p,y){var _=p-C;t(_%4===0);for(var A=new Array(_/4),I=0,U=C;I<A.length;I++,U+=4){var B;y==="big"?B=P[U]<<24|P[U+1]<<16|P[U+2]<<8|P[U+3]:B=P[U+3]<<24|P[U+2]<<16|P[U+1]<<8|P[U],A[I]=B>>>0}return A}tr.join32=l;function u(P,C){for(var p=new Array(P.length*4),y=0,_=0;y<P.length;y++,_+=4){var A=P[y];C==="big"?(p[_]=A>>>24,p[_+1]=A>>>16&255,p[_+2]=A>>>8&255,p[_+3]=A&255):(p[_+3]=A>>>24,p[_+2]=A>>>16&255,p[_+1]=A>>>8&255,p[_]=A&255)}return p}tr.split32=u;function f(P,C){return P>>>C|P<<32-C}tr.rotr32=f;function d(P,C){return P<<C|P>>>32-C}tr.rotl32=d;function h(P,C){return P+C>>>0}tr.sum32=h;function m(P,C,p){return P+C+p>>>0}tr.sum32_3=m;function g(P,C,p,y){return P+C+p+y>>>0}tr.sum32_4=g;function b(P,C,p,y,_){return P+C+p+y+_>>>0}tr.sum32_5=b;function w(P,C,p,y){var _=P[C],A=P[C+1],I=y+A>>>0,U=(I<y?1:0)+p+_;P[C]=U>>>0,P[C+1]=I}tr.sum64=w;function x(P,C,p,y){var _=C+y>>>0,A=(_<C?1:0)+P+p;return A>>>0}tr.sum64_hi=x;function S(P,C,p,y){var _=C+y;return _>>>0}tr.sum64_lo=S;function D(P,C,p,y,_,A,I,U){var B=0,R=C;R=R+y>>>0,B+=R<C?1:0,R=R+A>>>0,B+=R<A?1:0,R=R+U>>>0,B+=R<U?1:0;var E=P+p+_+I+B;return E>>>0}tr.sum64_4_hi=D;function O(P,C,p,y,_,A,I,U){var B=C+y+A+U;return B>>>0}tr.sum64_4_lo=O;function k(P,C,p,y,_,A,I,U,B,R){var E=0,L=C;L=L+y>>>0,E+=L<C?1:0,L=L+A>>>0,E+=L<A?1:0,L=L+U>>>0,E+=L<U?1:0,L=L+R>>>0,E+=L<R?1:0;var G=P+p+_+I+B+E;return G>>>0}tr.sum64_5_hi=k;function F(P,C,p,y,_,A,I,U,B,R){var E=C+y+A+U+R;return E>>>0}tr.sum64_5_lo=F;function N(P,C,p){var y=C<<32-p|P>>>p;return y>>>0}tr.rotr64_hi=N;function v(P,C,p){var y=P<<32-p|C>>>p;return y>>>0}tr.rotr64_lo=v;function M(P,C,p){return P>>>p}tr.shr64_hi=M;function $(P,C,p){var y=P<<32-p|C>>>p;return y>>>0}return tr.shr64_lo=$,tr}var yx={},iO;function Ny(){if(iO)return yx;iO=1;var t=jc(),e=Cy();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return yx.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},yx}var Lf={},fc={},sO;function S$(){if(sO)return fc;sO=1;var t=jc(),e=t.rotr32;function r(u,f,d,h){if(u===0)return n(f,d,h);if(u===1||u===3)return s(f,d,h);if(u===2)return i(f,d,h)}fc.ft_1=r;function n(u,f,d){return u&f^~u&d}fc.ch32=n;function i(u,f,d){return u&f^u&d^f&d}fc.maj32=i;function s(u,f,d){return u^f^d}fc.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}fc.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}fc.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}fc.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return fc.g1_256=l,fc}var bx,oO;function $0e(){if(oO)return bx;oO=1;var t=jc(),e=Ny(),r=S$(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),bx=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,d){for(var h=this.W,m=0;m<16;m++)h[m]=f[d+m];for(;m<h.length;m++)h[m]=n(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);var g=this.h[0],b=this.h[1],w=this.h[2],x=this.h[3],S=this.h[4];for(m=0;m<h.length;m++){var D=~~(m/20),O=s(n(g,5),o(D,b,w,x),S,h[m],c[D]);S=x,x=w,w=n(b,30),b=g,g=O}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],w),this.h[3]=i(this.h[3],x),this.h[4]=i(this.h[4],S)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},bx}var _x,aO;function I$(){if(aO)return _x;aO=1;var t=jc(),e=Ny(),r=S$(),n=Cy(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(g,h),_x=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(w,x){for(var S=this.W,D=0;D<16;D++)S[D]=w[x+D];for(;D<S.length;D++)S[D]=s(d(S[D-2]),S[D-7],f(S[D-15]),S[D-16]);var O=this.h[0],k=this.h[1],F=this.h[2],N=this.h[3],v=this.h[4],M=this.h[5],$=this.h[6],P=this.h[7];for(n(this.k.length===S.length),D=0;D<S.length;D++){var C=o(P,u(v),a(v,M,$),this.k[D],S[D]),p=i(l(O),c(O,k,F));P=$,$=M,M=v,v=i(N,C),N=F,F=k,k=O,O=i(C,p)}this.h[0]=i(this.h[0],O),this.h[1]=i(this.h[1],k),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],v),this.h[5]=i(this.h[5],M),this.h[6]=i(this.h[6],$),this.h[7]=i(this.h[7],P)},g.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},_x}var wx,cO;function L0e(){if(cO)return wx;cO=1;var t=jc(),e=I$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),wx=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},wx}var Ex,lO;function T$(){if(lO)return Ex;lO=1;var t=jc(),e=Ny(),r=Cy(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,m=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(b,m),Ex=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(p,y){for(var _=this.W,A=0;A<32;A++)_[A]=p[y+A];for(;A<_.length;A+=2){var I=$(_[A-4],_[A-3]),U=P(_[A-4],_[A-3]),B=_[A-14],R=_[A-13],E=v(_[A-30],_[A-29]),L=M(_[A-30],_[A-29]),G=_[A-32],T=_[A-31];_[A]=u(I,U,B,R,E,L,G,T),_[A+1]=f(I,U,B,R,E,L,G,T)}},b.prototype._update=function(p,y){this._prepareBlock(p,y);var _=this.W,A=this.h[0],I=this.h[1],U=this.h[2],B=this.h[3],R=this.h[4],E=this.h[5],L=this.h[6],G=this.h[7],T=this.h[8],V=this.h[9],K=this.h[10],X=this.h[11],Q=this.h[12],ie=this.h[13],le=this.h[14],H=this.h[15];r(this.k.length===_.length);for(var Y=0;Y<_.length;Y+=2){var W=le,Z=H,fe=F(T,V),oe=N(T,V),ge=w(T,V,K,X,Q),we=x(T,V,K,X,Q,ie),q=this.k[Y],z=this.k[Y+1],ne=_[Y],se=_[Y+1],pe=d(W,Z,fe,oe,ge,we,q,z,ne,se),me=h(W,Z,fe,oe,ge,we,q,z,ne,se);W=O(A,I),Z=k(A,I),fe=S(A,I,U,B,R),oe=D(A,I,U,B,R,E);var ee=c(W,Z,fe,oe),ce=l(W,Z,fe,oe);le=Q,H=ie,Q=K,ie=X,K=T,X=V,T=c(L,G,pe,me),V=l(G,G,pe,me),L=R,G=E,R=U,E=B,U=A,B=I,A=c(pe,me,ee,ce),I=l(pe,me,ee,ce)}a(this.h,0,A,I),a(this.h,2,U,B),a(this.h,4,R,E),a(this.h,6,L,G),a(this.h,8,T,V),a(this.h,10,K,X),a(this.h,12,Q,ie),a(this.h,14,le,H)},b.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function w(C,p,y,_,A){var I=C&y^~C&A;return I<0&&(I+=4294967296),I}function x(C,p,y,_,A,I){var U=p&_^~p&I;return U<0&&(U+=4294967296),U}function S(C,p,y,_,A){var I=C&y^C&A^y&A;return I<0&&(I+=4294967296),I}function D(C,p,y,_,A,I){var U=p&_^p&I^_&I;return U<0&&(U+=4294967296),U}function O(C,p){var y=n(C,p,28),_=n(p,C,2),A=n(p,C,7),I=y^_^A;return I<0&&(I+=4294967296),I}function k(C,p){var y=i(C,p,28),_=i(p,C,2),A=i(p,C,7),I=y^_^A;return I<0&&(I+=4294967296),I}function F(C,p){var y=n(C,p,14),_=n(C,p,18),A=n(p,C,9),I=y^_^A;return I<0&&(I+=4294967296),I}function N(C,p){var y=i(C,p,14),_=i(C,p,18),A=i(p,C,9),I=y^_^A;return I<0&&(I+=4294967296),I}function v(C,p){var y=n(C,p,1),_=n(C,p,8),A=s(C,p,7),I=y^_^A;return I<0&&(I+=4294967296),I}function M(C,p){var y=i(C,p,1),_=i(C,p,8),A=o(C,p,7),I=y^_^A;return I<0&&(I+=4294967296),I}function $(C,p){var y=n(C,p,19),_=n(p,C,29),A=s(C,p,6),I=y^_^A;return I<0&&(I+=4294967296),I}function P(C,p){var y=i(C,p,19),_=i(p,C,29),A=o(C,p,6),I=y^_^A;return I<0&&(I+=4294967296),I}return Ex}var vx,uO;function F0e(){if(uO)return vx;uO=1;var t=jc(),e=T$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),vx=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},vx}var fO;function B0e(){return fO||(fO=1,Lf.sha1=$0e(),Lf.sha224=L0e(),Lf.sha256=I$(),Lf.sha384=F0e(),Lf.sha512=T$()),Lf}var xx={},dO;function j0e(){if(dO)return xx;dO=1;var t=jc(),e=Ny(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),xx.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(b,w){for(var x=this.h[0],S=this.h[1],D=this.h[2],O=this.h[3],k=this.h[4],F=x,N=S,v=D,M=O,$=k,P=0;P<80;P++){var C=n(r(s(x,c(P,S,D,O),b[f[P]+w],l(P)),h[P]),k);x=k,k=O,O=r(D,10),D=S,S=C,C=n(r(s(F,c(79-P,N,v,M),b[d[P]+w],u(P)),m[P]),$),F=$,$=M,M=r(v,10),v=N,N=C}C=i(this.h[1],D,M),this.h[1]=i(this.h[2],O,$),this.h[2]=i(this.h[3],k,F),this.h[3]=i(this.h[4],x,N),this.h[4]=i(this.h[0],S,v),this.h[0]=C},a.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(g,b,w,x){return g<=15?b^w^x:g<=31?b&w|~b&x:g<=47?(b|~w)^x:g<=63?b&x|w&~x:b^(w|~x)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return xx}var Ax,hO;function H0e(){if(hO)return Ax;hO=1;var t=jc(),e=Cy();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Ax=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Ax}var pO;function W0e(){return pO||(pO=1,(function(t){var e=t;e.utils=jc(),e.common=Ny(),e.sha=B0e(),e.ripemd=j0e(),e.hmac=H0e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(gx)),gx}var q0e=W0e();const Ye=Ts(q0e);function J0(t,e,r){return r={path:e,exports:{},require:function(n,i){return z0e(n,i??r.path)}},t(r,r.exports),r.exports}function z0e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var US=R$;function R$(t,e){if(!t)throw new Error(e||"Assertion failed")}R$.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ha=J0(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),eo=J0(function(t,e){var r=e;r.assert=US,r.toArray=Ha.toArray,r.zero2=Ha.zero2,r.toHex=Ha.toHex,r.encode=Ha.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===b+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),$w=eo.getNAF,G0e=eo.getJSF,Lw=eo.assert;function ff(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Vd=ff;ff.prototype.point=function(){throw new Error("Not implemented")};ff.prototype.validate=function(){throw new Error("Not implemented")};ff.prototype._fixedNafMul=function(e,r){Lw(e.precomputed);var n=e._getDoubles(),i=$w(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};ff.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=$w(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Lw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};ff.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=$w(n[m],o[m],this._bitLength),c[g]=$w(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=G0e(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,D=x[1][f]|0;c[m][f]=w[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Wo(t,e){this.curve=t,this.type=e,this.precomputed=null}ff.BasePoint=Wo;Wo.prototype.eq=function(){throw new Error("Not implemented")};Wo.prototype.validate=function(){return this.curve.validate(this)};ff.prototype.decodePoint=function(e,r){e=eo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Lw(e[e.length-1]%2===0):e[0]===7&&Lw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Wo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Wo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Wo.prototype.encode=function(e,r){return eo.encode(this._encode(r),e)};Wo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Wo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Wo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Wo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Wo.prototype._getBeta=function(){return null};Wo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var $S=J0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),K0e=eo.assert;function qo(t){Vd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$S(qo,Vd);var V0e=qo;qo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],K0e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};qo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};qo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++b===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=D}h=w.neg(),m=x;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};qo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};qo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};qo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};qo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Xn(t,e,r,n){Vd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$S(Xn,Vd.BasePoint);qo.prototype.point=function(e,r,n){return new Xn(this,e,r,n)};qo.prototype.pointFromJSON=function(e,r){return Xn.fromJSON(this,e,r)};Xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xn.prototype.isInfinity=function(){return this.inf};Xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xn.prototype.getX=function(){return this.x.fromRed()};Xn.prototype.getY=function(){return this.y.fromRed()};Xn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function gi(t,e,r,n){Vd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$S(gi,Vd.BasePoint);qo.prototype.jpoint=function(e,r,n){return new gi(this,e,r,n)};gi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};gi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};gi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};gi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};gi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(b),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};gi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};gi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};gi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};gi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};gi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};gi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};gi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};gi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};gi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};gi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var i_=J0(function(t,e){var r=e;r.base=Vd,r.short=V0e,r.mont=null,r.edwards=null}),s_=J0(function(t,e){var r=e,n=eo.assert;function i(a){a.type==="short"?this.curve=new i_.short(a):a.type==="edwards"?this.curve=new i_.edwards(a):this.curve=new i_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Yu(t){if(!(this instanceof Yu))return new Yu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ha.toArray(t.entropy,t.entropyEnc||"hex"),r=Ha.toArray(t.nonce,t.nonceEnc||"hex"),n=Ha.toArray(t.pers,t.persEnc||"hex");US(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var P$=Yu;Yu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Yu.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};Yu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Yu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ha.toArray(e,r),n=Ha.toArray(n,i),US(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Yu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ha.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ha.encode(o,r)};var gC=eo.assert;function Di(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var LS=Di;Di.fromPublic=function(e,r,n){return r instanceof Di?r:new Di(e,{pub:r,pubEnc:n})};Di.fromPrivate=function(e,r,n){return r instanceof Di?r:new Di(e,{priv:r,privEnc:n})};Di.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Di.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Di.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Di.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Di.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?gC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&gC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Di.prototype.derive=function(e){return e.validate()||gC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Di.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Di.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Di.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var J0e=eo.assert;function Y1(t,e){if(t instanceof Y1)return t;this._importDER(t,e)||(J0e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var X1=Y1;function Y0e(){this.place=0}function Cx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function gO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Y1.prototype._importDER=function(e,r){e=eo.toArray(e,r);var n=new Y0e;if(e[n.place++]!==48)return!1;var i=Cx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Cx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Cx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function Nx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Y1.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=gO(r),n=gO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Nx(i,r.length),i=i.concat(r),i.push(2),Nx(i,n.length);var s=i.concat(n),o=[48];return Nx(o,s.length),o=o.concat(s),eo.encode(o,e)};var X0e=(function(){throw new Error("unsupported")}),Xf=eo.assert;function Uo(t){if(!(this instanceof Uo))return new Uo(t);typeof t=="string"&&(Xf(Object.prototype.hasOwnProperty.call(s_,t),"Unknown curve "+t),t=s_[t]),t instanceof s_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Q0e=Uo;Uo.prototype.keyPair=function(e){return new LS(this,e)};Uo.prototype.keyFromPrivate=function(e,r){return LS.fromPrivate(this,e,r)};Uo.prototype.keyFromPublic=function(e,r){return LS.fromPublic(this,e,r)};Uo.prototype.genKeyPair=function(e){e||(e={});for(var r=new P$({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||X0e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Uo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Uo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){Xf(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Xf(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Xf((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Xf(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Xf(new te(c).eq(e),"Can not sign message");for(var l=new P$({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),w^=1),new X1({r:g,s:b,recoveryParam:w})}}}}}};Uo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new X1(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Uo.prototype.recoverPubKey=function(t,e,r,n){Xf((3&r)===r,"The recovery param is more than two bits"),e=new X1(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Uo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new X1(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Z0e=J0(function(t,e){var r=e;r.version="6.6.1",r.utils=eo,r.rand=(function(){throw new Error("unsupported")}),r.curve=i_,r.curves=s_,r.ec=Q0e,r.eddsa=null}),epe=Z0e.ec;const tpe="signing-key/5.8.0",mC=new re(tpe);let Sx=null;function Cu(){return Sx||(Sx=new epe("secp256k1")),Sx}let c0=class{constructor(e){ue(this,"curve","secp256k1"),ue(this,"privateKey",ye(e)),Od(this.privateKey)!==32&&mC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Cu().keyFromPrivate(de(this.privateKey));ue(this,"publicKey","0x"+r.getPublic(!1,"hex")),ue(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ue(this,"_isSigningKey",!0)}_addPoint(e){const r=Cu().keyFromPublic(de(this.publicKey)),n=Cu().keyFromPublic(de(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Cu().keyFromPrivate(de(this.privateKey)),n=de(e);n.length!==32&&mC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return z0({recoveryParam:i.recoveryParam,r:ir("0x"+i.r.toString(16),32),s:ir("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Cu().keyFromPrivate(de(this.privateKey)),n=Cu().keyFromPublic(de(O$(e)));return ir("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function rpe(t,e){const r=z0(e),n={r:de(r.r),s:de(r.s)};return"0x"+Cu().recoverPubKey(de(t),n,r.recoveryParam).encode("hex",!1)}function O$(t,e){const r=de(t);return r.length===32?new c0(r).publicKey:r.length===33?"0x"+Cu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ye(r):mC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const npe="transactions/5.8.0",Ri=new re(npe);var mO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(mO||(mO={}));function FS(t){return t==="0x"?null:Jt(t)}function Si(t){return t==="0x"?kS:ve.from(t)}const ipe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],spe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Pl(t){const e=O$(t);return Jt(pn(qt(pn(e,1)),12))}function Q1(t,e){return Pl(rpe(de(t),e))}function Fs(t,e){const r=Rl(ve.from(t).toHexString());return r.length>32&&Ri.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Ix(t,e){return{address:Jt(t),storageKeys:(e||[]).map((r,n)=>(Od(r)!==32&&Ri.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Y0(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Ri.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Ix(r[0],r[1])):Ix(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Ix(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function D$(t){return Y0(t).map(e=>[e.address,e.storageKeys])}function k$(t,e){if(t.gasPrice!=null){const n=ve.from(t.gasPrice),i=ve.from(t.maxFeePerGas||0);n.eq(i)||Ri.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Fs(t.chainId||0,"chainId"),Fs(t.nonce||0,"nonce"),Fs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fs(t.maxFeePerGas||0,"maxFeePerGas"),Fs(t.gasLimit||0,"gasLimit"),t.to!=null?Jt(t.to):"0x",Fs(t.value||0,"value"),t.data||"0x",D$(t.accessList||[])];if(e){const n=z0(e);r.push(Fs(n.recoveryParam,"recoveryParam")),r.push(Rl(n.r)),r.push(Rl(n.s))}return Vi(["0x02",I0(r)])}function M$(t,e){const r=[Fs(t.chainId||0,"chainId"),Fs(t.nonce||0,"nonce"),Fs(t.gasPrice||0,"gasPrice"),Fs(t.gasLimit||0,"gasLimit"),t.to!=null?Jt(t.to):"0x",Fs(t.value||0,"value"),t.data||"0x",D$(t.accessList||[])];if(e){const n=z0(e);r.push(Fs(n.recoveryParam,"recoveryParam")),r.push(Rl(n.r)),r.push(Rl(n.s))}return Vi(["0x01",I0(r)])}function ope(t,e){X7(t,spe);const r=[];ipe.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=de(ye(a,c)),o.length&&a.length!==o.length&&a.length>0&&Ri.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Rl(a),a.length>o.maxLength&&Ri.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(ye(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Ri.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!K1(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(ye(n)),r.push("0x"),r.push("0x")),!e)return I0(r);const i=z0(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(ye(s)),r.push(Rl(de(i.r))),r.push(Rl(de(i.s))),I0(r)}function yO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Ri.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),ope(t,e);switch(t.type){case 1:return M$(t,e);case 2:return k$(t,e)}return Ri.throwError(`unsupported transaction type: ${t.type}`,re.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function U$(t,e,r){try{const n=Si(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Ri.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=ir(e[1],32),t.s=ir(e[2],32);try{const n=qt(r(t));t.from=Q1(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function ape(t){const e=OS(t.slice(1));e.length!==9&&e.length!==12&&Ri.throwArgumentError("invalid component count for transaction type: 2","payload",ye(t));const r=Si(e[2]),n=Si(e[3]),i={type:2,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Si(e[4]),to:FS(e[5]),value:Si(e[6]),data:e[7],accessList:Y0(e[8])};return e.length===9||(i.hash=qt(t),U$(i,e.slice(9),k$)),i}function cpe(t){const e=OS(t.slice(1));e.length!==8&&e.length!==11&&Ri.throwArgumentError("invalid component count for transaction type: 1","payload",ye(t));const r={type:1,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),gasPrice:Si(e[2]),gasLimit:Si(e[3]),to:FS(e[4]),value:Si(e[5]),data:e[6],accessList:Y0(e[7])};return e.length===8||(r.hash=qt(t),U$(r,e.slice(8),M$)),r}function lpe(t){const e=OS(t);e.length!==9&&e.length!==6&&Ri.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Si(e[0]).toNumber(),gasPrice:Si(e[1]),gasLimit:Si(e[2]),to:FS(e[3]),value:Si(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ve.from(e[6]).toNumber()}catch{return r}if(r.r=ir(e[7],32),r.s=ir(e[8],32),ve.from(r.r).isZero()&&ve.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ye(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=qt(I0(i));try{r.from=Q1(s,{r:ye(r.r),s:ye(r.s),recoveryParam:n})}catch{}r.hash=qt(t)}return r.type=null,r}function upe(t){const e=de(t);if(e[0]>127)return lpe(e);switch(e[0]){case 1:return cpe(e);case 2:return ape(e)}return Ri.throwError(`unsupported transaction type: ${e[0]}`,re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const fpe="contracts/5.7.0";var kd=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const nn=new re(fpe);function Fw(t,e){return kd(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&nn.throwArgumentError("invalid address or ENS name","name",r);try{return Jt(r)}catch{}t||nn.throwError("a provider or signer is needed to resolve ENS names",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&nn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function o_(t,e,r){return kd(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>o_(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield Fw(t,e):r.type==="tuple"?yield o_(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>o_(t,n,r.arrayChildren))):Promise.reject(nn.makeError("invalid value for array",re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Z1(t,e,r){return kd(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Fn(r.pop())),nn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=rn({override:Fw(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>kd(this,void 0,void 0,function*(){return Jt(l.signer)!==l.override&&nn.throwError("Contract with a Signer cannot override from",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=Fw(t.provider,n.from));const i=yield rn({args:o_(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:rn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ve.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ve.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ve.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ve.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ve.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Y0(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=de(s);for(let f=0;f<u.length;f++)l+=4,u[f]&&(l+=64);o.gasLimit=ve.from(e.gas).add(l)}if(a.value){const l=ve.from(a.value);!l.isZero()&&!e.payable&&nn.throwError("non-payable method cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Fn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&nn.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function dpe(t,e){return function(...r){return Z1(t,e,r)}}function hpe(t,e){const r=t.signer||t.provider;return function(...n){return kd(this,void 0,void 0,function*(){r||nn.throwError("estimate require a provider or signer",re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Z1(t,e,n);return yield r.estimateGas(i)})}}function ppe(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Ll(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function $$(t,e,r){const n=t.signer||t.provider;return function(...i){return kd(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Fn(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield Z1(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===re.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function gpe(t,e){return function(...r){return kd(this,void 0,void 0,function*(){t.signer||nn.throwError("sending a transaction requires a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Z1(t,e,r),i=yield t.signer.sendTransaction(n);return ppe(t,i),i})}}function bO(t,e,r){return e.constant?$$(t,e,r):gpe(t,e)}function L$(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class km{constructor(e,r){ue(this,"tag",e),ue(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class mpe extends km{constructor(){super("error",null)}}class _O extends km{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&nn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(L$(s),s),ue(this,"address",e),ue(this,"interface",r),ue(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=yhe(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class wO extends km{constructor(e,r){super("*",{address:e}),ue(this,"address",e),ue(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class ype{constructor(e,r,n){ue(this,"interface",Cs(new.target,"getInterface")(r)),n==null?(ue(this,"provider",null),ue(this,"signer",null)):V0.isSigner(n)?(ue(this,"provider",n.provider||null),ue(this,"signer",n)):Ay.isProvider(n)?(ue(this,"provider",n),ue(this,"signer",null)):nn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ue(this,"callStatic",{}),ue(this,"estimateGas",{}),ue(this,"functions",{}),ue(this,"populateTransaction",{}),ue(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ue(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ue(this.filters,a,this.filters[c[0]]):nn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ue(this,"_runningEvents",{}),ue(this,"_wrappedEmits",{}),e==null&&nn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ue(this,"address",e),this.provider)ue(this,"resolvedAddress",Fw(this.provider,e));else try{ue(this,"resolvedAddress",Promise.resolve(Jt(e)))}catch{nn.throwError("provider is required to use ENS name as contract address",re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){nn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ue(this,o,bO(this,a,!0)),this.functions[o]==null&&ue(this.functions,o,bO(this,a,!1)),this.callStatic[o]==null&&ue(this.callStatic,o,$$(this,a,!0)),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,dpe(this,a)),this.estimateGas[o]==null&&ue(this.estimateGas,o,hpe(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ue(this,o,this[c])}catch{}this.functions[o]==null&&ue(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ue(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ue(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return i$(e)}static getInterface(e){return eO.isInterface(e)?e:new eO(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&nn.throwError("contract not deployed",re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||nn.throwError("sending a transactions require a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Fn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&nn.throwError("cannot override "+n,re.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new MS(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ue(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return pC.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new mpe);if(e==="event")return this._normalizeRunningEvent(new km("event",null));if(e==="*")return this._normalizeRunningEvent(new wO(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new _O(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new _O(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new km(L$(r),r))}return this._normalizeRunningEvent(new wO(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Ll(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||nn.throwError("events require a provider or a signer with a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Fn(i.filter);return typeof r=="string"&&ht(r,32)?(n!=null&&nn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Lh extends ype{}let F$=class{constructor(e){ue(this,"alphabet",e),ue(this,"base",e.length),ue(this,"_alphabetMap",{}),ue(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=de(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return de(new Uint8Array(r.reverse()))}};new F$("abcdefghijklmnopqrstuvwxyz234567");const Mm=new F$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Um;(function(t){t.sha256="sha256",t.sha512="sha512"})(Um||(Um={}));const bpe="sha2/5.8.0",_pe=new re(bpe);function wpe(t){return"0x"+Ye.ripemd160().update(de(t)).digest("hex")}function Xu(t){return"0x"+Ye.sha256().update(de(t)).digest("hex")}function Bw(t,e,r){return Um[t]||_pe.throwError("unsupported algorithm "+t,re.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],de(e)).update(de(r)).digest("hex")}function Sy(t,e,r,n,i){t=de(t),e=de(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=de(Bw(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=de(Bw(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(de(u).slice(0,m),h)}return ye(a)}const Epe="wordlists/5.8.0",vpe=new re(Epe);let BS=class B${constructor(e){vpe.checkAbstract(new.target,B$),ue(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return ja(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const xpe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let _g=null;function EO(t){if(_g==null&&(_g=xpe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),BS.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw _g=null,new Error("BIP39 Wordlist for en (English) FAILED")}let Ape=class extends BS{constructor(){super("en")}getWord(e){return EO(this),_g[e]}getWordIndex(e){return EO(this),_g.indexOf(e)}};const j$=new Ape;BS.register(j$);const vO={en:j$},Cpe="hdnode/5.8.0",jw=new re(Cpe),Npe=ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Spe=Xr("Bitcoin seed"),Ap=2147483648;function H$(t){return(1<<t)-1<<8-t}function Ipe(t){return(1<<t)-1}function wb(t){return ir(ye(t),32)}function xO(t){return Mm.encode(zt([t,pn(Xu(Xu(t)),0,4)]))}function jS(t){if(t==null)return vO.en;if(typeof t=="string"){const e=vO[t];return e==null&&jw.throwArgumentError("unknown locale","wordlist",t),e}return t}const wh={},Qu="m/44'/60'/0'/0/0";let T0=class yu{constructor(e,r,n,i,s,o,a,c){if(e!==wh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new c0(r);ue(this,"privateKey",l.privateKey),ue(this,"publicKey",l.compressedPublicKey)}else ue(this,"privateKey",null),ue(this,"publicKey",ye(n));ue(this,"parentFingerprint",i),ue(this,"fingerprint",pn(wpe(Xu(this.publicKey)),0,4)),ue(this,"address",Pl(this.publicKey)),ue(this,"chainCode",s),ue(this,"index",o),ue(this,"depth",a),c==null?(ue(this,"mnemonic",null),ue(this,"path",null)):typeof c=="string"?(ue(this,"mnemonic",null),ue(this,"path",c)):(ue(this,"mnemonic",c),ue(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return xO(zt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ye(this.depth),this.parentFingerprint,ir(ye(this.index),4),this.chainCode,this.privateKey!=null?zt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new yu(wh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Ap));const n=new Uint8Array(37);if(e&Ap){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(de(this.privateKey),1),r&&(r+="'")}else n.set(de(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=de(Bw(Um.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=wb(ve.from(s).add(this.privateKey).mod(Npe)):c=new c0(ye(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new yu(wh,a,c,this.fingerprint,wb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Ap)throw new Error("invalid path index - "+s);n=n._derive(Ap+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Ap)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=de(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=de(Bw(Um.sha512,Spe,n));return new yu(wh,wb(i.slice(0,32)),null,"0x00000000",wb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=jS(n),e=eE(HS(e,n),n),yu._fromSeed(Tpe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return yu._fromSeed(e,null)}static fromExtendedKey(e){const r=Mm.decode(e);(r.length!==82||xO(r.slice(0,78))!==e)&&jw.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ye(r.slice(5,9)),s=parseInt(ye(r.slice(9,13)).substring(2),16),o=ye(r.slice(13,45)),a=r.slice(45,78);switch(ye(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new yu(wh,null,ye(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new yu(wh,ye(a.slice(1)),null,i,o,s,n,null)}return jw.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Tpe(t,e){e||(e="");const r=Xr("mnemonic"+e,Fl.NFKD);return Sy(Xr(t,Fl.NFKD),r,2048,64,"sha512")}function HS(t,e){e=jS(e),jw.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=de(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=H$(o);if((de(Xu(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ye(n.slice(0,s/8))}function eE(t,e){if(e=jS(e),t=de(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Ipe(8-n)),n+=3);const i=t.length/4,s=de(Xu(t))[0]&H$(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const Rpe="random/5.8.0",yC=new re(Rpe);function Ppe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const AO=Ppe();let a_=AO.crypto||AO.msCrypto;(!a_||!a_.getRandomValues)&&(yC.warn("WARNING: Missing strong random number source"),a_={getRandomValues:function(t){return yC.throwError("no secure random source avaialble",re.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Al(t){(t<=0||t>1024||t%1||t!=t)&&yC.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return a_.getRandomValues(e),de(e)}var Tx={exports:{}},CO;function Ope(){return CO||(CO=1,(function(t,e){(function(r){function n(R){return parseInt(R)===R}function i(R){if(!n(R.length))return!1;for(var E=0;E<R.length;E++)if(!n(R[E])||R[E]<0||R[E]>255)return!1;return!0}function s(R,E){if(R.buffer&&ArrayBuffer.isView(R)&&R.name==="Uint8Array")return E&&(R.slice?R=R.slice():R=Array.prototype.slice.call(R)),R;if(Array.isArray(R)){if(!i(R))throw new Error("Array contains invalid value: "+R);return new Uint8Array(R)}if(n(R.length)&&i(R))return new Uint8Array(R);throw new Error("unsupported array-like object")}function o(R){return new Uint8Array(R)}function a(R,E,L,G,T){(G!=null||T!=null)&&(R.slice?R=R.slice(G,T):R=Array.prototype.slice.call(R,G,T)),E.set(R,L)}var c=(function(){function R(L){var G=[],T=0;for(L=encodeURI(L);T<L.length;){var V=L.charCodeAt(T++);V===37?(G.push(parseInt(L.substr(T,2),16)),T+=2):G.push(V)}return s(G)}function E(L){for(var G=[],T=0;T<L.length;){var V=L[T];V<128?(G.push(String.fromCharCode(V)),T++):V>191&&V<224?(G.push(String.fromCharCode((V&31)<<6|L[T+1]&63)),T+=2):(G.push(String.fromCharCode((V&15)<<12|(L[T+1]&63)<<6|L[T+2]&63)),T+=3)}return G.join("")}return{toBytes:R,fromBytes:E}})(),l=(function(){function R(G){for(var T=[],V=0;V<G.length;V+=2)T.push(parseInt(G.substr(V,2),16));return T}var E="0123456789abcdef";function L(G){for(var T=[],V=0;V<G.length;V++){var K=G[V];T.push(E[(K&240)>>4]+E[K&15])}return T.join("")}return{toBytes:R,fromBytes:L}})(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],w=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],x=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],O=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],F=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],N=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],v=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M(R){for(var E=[],L=0;L<R.length;L+=4)E.push(R[L]<<24|R[L+1]<<16|R[L+2]<<8|R[L+3]);return E}var $=function(R){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(R,!0)}),this._prepare()};$.prototype._prepare=function(){var R=u[this.key.length];if(R==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var E=0;E<=R;E++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(R+1)*4,G=this.key.length/4,T=M(this.key),V,E=0;E<G;E++)V=E>>2,this._Ke[V][E%4]=T[E],this._Kd[R-V][E%4]=T[E];for(var K=0,X=G,Q;X<L;){if(Q=T[G-1],T[0]^=d[Q>>16&255]<<24^d[Q>>8&255]<<16^d[Q&255]<<8^d[Q>>24&255]^f[K]<<24,K+=1,G!=8)for(var E=1;E<G;E++)T[E]^=T[E-1];else{for(var E=1;E<G/2;E++)T[E]^=T[E-1];Q=T[G/2-1],T[G/2]^=d[Q&255]^d[Q>>8&255]<<8^d[Q>>16&255]<<16^d[Q>>24&255]<<24;for(var E=G/2+1;E<G;E++)T[E]^=T[E-1]}for(var E=0,ie,le;E<G&&X<L;)ie=X>>2,le=X%4,this._Ke[ie][le]=T[E],this._Kd[R-ie][le]=T[E++],X++}for(var ie=1;ie<R;ie++)for(var le=0;le<4;le++)Q=this._Kd[ie][le],this._Kd[ie][le]=k[Q>>24&255]^F[Q>>16&255]^N[Q>>8&255]^v[Q&255]},$.prototype.encrypt=function(R){if(R.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var E=this._Ke.length-1,L=[0,0,0,0],G=M(R),T=0;T<4;T++)G[T]^=this._Ke[0][T];for(var V=1;V<E;V++){for(var T=0;T<4;T++)L[T]=m[G[T]>>24&255]^g[G[(T+1)%4]>>16&255]^b[G[(T+2)%4]>>8&255]^w[G[(T+3)%4]&255]^this._Ke[V][T];G=L.slice()}for(var K=o(16),X,T=0;T<4;T++)X=this._Ke[E][T],K[4*T]=(d[G[T]>>24&255]^X>>24)&255,K[4*T+1]=(d[G[(T+1)%4]>>16&255]^X>>16)&255,K[4*T+2]=(d[G[(T+2)%4]>>8&255]^X>>8)&255,K[4*T+3]=(d[G[(T+3)%4]&255]^X)&255;return K},$.prototype.decrypt=function(R){if(R.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var E=this._Kd.length-1,L=[0,0,0,0],G=M(R),T=0;T<4;T++)G[T]^=this._Kd[0][T];for(var V=1;V<E;V++){for(var T=0;T<4;T++)L[T]=x[G[T]>>24&255]^S[G[(T+3)%4]>>16&255]^D[G[(T+2)%4]>>8&255]^O[G[(T+1)%4]&255]^this._Kd[V][T];G=L.slice()}for(var K=o(16),X,T=0;T<4;T++)X=this._Kd[E][T],K[4*T]=(h[G[T]>>24&255]^X>>24)&255,K[4*T+1]=(h[G[(T+3)%4]>>16&255]^X>>16)&255,K[4*T+2]=(h[G[(T+2)%4]>>8&255]^X>>8)&255,K[4*T+3]=(h[G[(T+1)%4]&255]^X)&255;return K};var P=function(R){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(R)};P.prototype.encrypt=function(R){if(R=s(R),R.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(R.length),L=o(16),G=0;G<R.length;G+=16)a(R,L,0,G,G+16),L=this._aes.encrypt(L),a(L,E,G);return E},P.prototype.decrypt=function(R){if(R=s(R),R.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(R.length),L=o(16),G=0;G<R.length;G+=16)a(R,L,0,G,G+16),L=this._aes.decrypt(L),a(L,E,G);return E};var C=function(R,E){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(E,!0),this._aes=new $(R)};C.prototype.encrypt=function(R){if(R=s(R),R.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(R.length),L=o(16),G=0;G<R.length;G+=16){a(R,L,0,G,G+16);for(var T=0;T<16;T++)L[T]^=this._lastCipherblock[T];this._lastCipherblock=this._aes.encrypt(L),a(this._lastCipherblock,E,G)}return E},C.prototype.decrypt=function(R){if(R=s(R),R.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(R.length),L=o(16),G=0;G<R.length;G+=16){a(R,L,0,G,G+16),L=this._aes.decrypt(L);for(var T=0;T<16;T++)E[G+T]=L[T]^this._lastCipherblock[T];a(R,this._lastCipherblock,0,G,G+16)}return E};var p=function(R,E,L){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=s(E,!0),this._aes=new $(R)};p.prototype.encrypt=function(R){if(R.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var E=s(R,!0),L,G=0;G<E.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)E[G+T]^=L[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(E,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return E},p.prototype.decrypt=function(R){if(R.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var E=s(R,!0),L,G=0;G<E.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var T=0;T<this.segmentSize;T++)E[G+T]^=L[T];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(R,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return E};var y=function(R,E){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(E,!0),this._lastPrecipherIndex=16,this._aes=new $(R)};y.prototype.encrypt=function(R){for(var E=s(R,!0),L=0;L<E.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),E[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return E},y.prototype.decrypt=y.prototype.encrypt;var _=function(R){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");R!==0&&!R&&(R=1),typeof R=="number"?(this._counter=o(16),this.setValue(R)):this.setBytes(R)};_.prototype.setValue=function(R){if(typeof R!="number"||parseInt(R)!=R)throw new Error("invalid counter value (must be an integer)");for(var E=15;E>=0;--E)this._counter[E]=R%256,R=R>>8},_.prototype.setBytes=function(R){if(R=s(R,!0),R.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=R},_.prototype.increment=function(){for(var R=15;R>=0;R--)if(this._counter[R]===255)this._counter[R]=0;else{this._counter[R]++;break}};var A=function(R,E){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",E instanceof _||(E=new _(E)),this._counter=E,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(R)};A.prototype.encrypt=function(R){for(var E=s(R,!0),L=0;L<E.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),E[L]^=this._remainingCounter[this._remainingCounterIndex++];return E},A.prototype.decrypt=A.prototype.encrypt;function I(R){R=s(R,!0);var E=16-R.length%16,L=o(R.length+E);a(R,L);for(var G=R.length;G<L.length;G++)L[G]=E;return L}function U(R){if(R=s(R,!0),R.length<16)throw new Error("PKCS#7 invalid length");var E=R[R.length-1];if(E>16)throw new Error("PKCS#7 padding byte out of range");for(var L=R.length-E,G=0;G<E;G++)if(R[L+G]!==E)throw new Error("PKCS#7 invalid padding byte");var T=o(L);return a(R,T,0,0,L),T}var B={AES:$,Counter:_,ModeOfOperation:{ecb:P,cbc:C,cfb:p,ofb:y,ctr:A},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:I,strip:U}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=B})()})(Tx)),Tx.exports}var Dpe=Ope();const gn=Ts(Dpe),W$="json-wallets/5.8.0";function md(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Cp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function WS(t){return typeof t=="string"?Xr(t,Fl.NFKC):de(t)}function sn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function kpe(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Mpe=new re(W$);let Upe=class extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function q$(t,e){const r=JSON.parse(t);e=WS(e);const n=Jt(sn(r,"ethaddr")),i=md(sn(r,"encseed"));(!i||i.length%16!==0)&&Mpe.throwArgumentError("invalid encseed","json",t);const s=de(Sy(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new gn.ModeOfOperation.cbc(s,o),l=gn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Xr(u),d=qt(f);return new Upe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function z$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function G$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var Rx={exports:{}},NO;function $pe(){return NO||(NO=1,(function(t,e){(function(r){function i(g){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let w=1779033703,x=3144134277,S=1013904242,D=2773480762,O=1359893119,k=2600822924,F=528734635,N=1541459225;const v=new Uint32Array(64);function M(A){let I=0,U=A.length;for(;U>=64;){let B=w,R=x,E=S,L=D,G=O,T=k,V=F,K=N,X,Q,ie,le,H;for(Q=0;Q<16;Q++)ie=I+Q*4,v[Q]=(A[ie]&255)<<24|(A[ie+1]&255)<<16|(A[ie+2]&255)<<8|A[ie+3]&255;for(Q=16;Q<64;Q++)X=v[Q-2],le=(X>>>17|X<<15)^(X>>>19|X<<13)^X>>>10,X=v[Q-15],H=(X>>>7|X<<25)^(X>>>18|X<<14)^X>>>3,v[Q]=(le+v[Q-7]|0)+(H+v[Q-16]|0)|0;for(Q=0;Q<64;Q++)le=(((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&T^~G&V)|0)+(K+(b[Q]+v[Q]|0)|0)|0,H=((B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10))+(B&R^B&E^R&E)|0,K=V,V=T,T=G,G=L+le|0,L=E,E=R,R=B,B=le+H|0;w=w+B|0,x=x+R|0,S=S+E|0,D=D+L|0,O=O+G|0,k=k+T|0,F=F+V|0,N=N+K|0,I+=64,U-=64}}M(g);let $,P=g.length%64,C=g.length/536870912|0,p=g.length<<3,y=P<56?56:120,_=g.slice(g.length-P,g.length);for(_.push(128),$=P+1;$<y;$++)_.push(0);return _.push(C>>>24&255),_.push(C>>>16&255),_.push(C>>>8&255),_.push(C>>>0&255),_.push(p>>>24&255),_.push(p>>>16&255),_.push(p>>>8&255),_.push(p>>>0&255),M(_),[w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255]}function s(g,b,w){g=g.length<=64?g:i(g);const x=64+b.length+4,S=new Array(x),D=new Array(64);let O,k=[];for(O=0;O<64;O++)S[O]=54;for(O=0;O<g.length;O++)S[O]^=g[O];for(O=0;O<b.length;O++)S[64+O]=b[O];for(O=x-4;O<x;O++)S[O]=0;for(O=0;O<64;O++)D[O]=92;for(O=0;O<g.length;O++)D[O]^=g[O];function F(){for(let N=x-1;N>=x-4;N--){if(S[N]++,S[N]<=255)return;S[N]=0}}for(;w>=32;)F(),k=k.concat(i(D.concat(i(S)))),w-=32;return w>0&&(F(),k=k.concat(i(D.concat(i(S))).slice(0,w))),k}function o(g,b,w,x,S){let D;for(u(g,(2*w-1)*16,S,0,16),D=0;D<2*w;D++)l(g,D*16,S,16),c(S,x),u(S,0,g,b+D*16,16);for(D=0;D<w;D++)u(g,b+D*2*16,g,D*16,16);for(D=0;D<w;D++)u(g,b+(D*2+1)*16,g,(D+w)*16,16)}function a(g,b){return g<<b|g>>>32-b}function c(g,b){u(g,0,b,0,16);for(let w=8;w>0;w-=2)b[4]^=a(b[0]+b[12],7),b[8]^=a(b[4]+b[0],9),b[12]^=a(b[8]+b[4],13),b[0]^=a(b[12]+b[8],18),b[9]^=a(b[5]+b[1],7),b[13]^=a(b[9]+b[5],9),b[1]^=a(b[13]+b[9],13),b[5]^=a(b[1]+b[13],18),b[14]^=a(b[10]+b[6],7),b[2]^=a(b[14]+b[10],9),b[6]^=a(b[2]+b[14],13),b[10]^=a(b[6]+b[2],18),b[3]^=a(b[15]+b[11],7),b[7]^=a(b[3]+b[15],9),b[11]^=a(b[7]+b[3],13),b[15]^=a(b[11]+b[7],18),b[1]^=a(b[0]+b[3],7),b[2]^=a(b[1]+b[0],9),b[3]^=a(b[2]+b[1],13),b[0]^=a(b[3]+b[2],18),b[6]^=a(b[5]+b[4],7),b[7]^=a(b[6]+b[5],9),b[4]^=a(b[7]+b[6],13),b[5]^=a(b[4]+b[7],18),b[11]^=a(b[10]+b[9],7),b[8]^=a(b[11]+b[10],9),b[9]^=a(b[8]+b[11],13),b[10]^=a(b[9]+b[8],18),b[12]^=a(b[15]+b[14],7),b[13]^=a(b[12]+b[15],9),b[14]^=a(b[13]+b[12],13),b[15]^=a(b[14]+b[13],18);for(let w=0;w<16;++w)g[w]+=b[w]}function l(g,b,w,x){for(let S=0;S<x;S++)w[S]^=g[b+S]}function u(g,b,w,x,S){for(;S--;)w[x++]=g[b++]}function f(g){if(!g||typeof g.length!="number")return!1;for(let b=0;b<g.length;b++){const w=g[b];if(typeof w!="number"||w%1||w<0||w>=256)return!1}return!0}function d(g,b){if(typeof g!="number"||g%1)throw new Error("invalid "+b);return g}function h(g,b,w,x,S,D,O){if(w=d(w,"N"),x=d(x,"r"),S=d(S,"p"),D=d(D,"dkLen"),w===0||(w&w-1)!==0)throw new Error("N must be power of 2");if(w>2147483647/128/x)throw new Error("N too large");if(x>2147483647/128/S)throw new Error("r too large");if(!f(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!f(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let k=s(g,b,S*128*x);const F=new Uint32Array(S*32*x);for(let G=0;G<F.length;G++){const T=G*4;F[G]=(k[T+3]&255)<<24|(k[T+2]&255)<<16|(k[T+1]&255)<<8|(k[T+0]&255)<<0}const N=new Uint32Array(64*x),v=new Uint32Array(32*x*w),M=32*x,$=new Uint32Array(16),P=new Uint32Array(16),C=S*w*2;let p=0,y=null,_=!1,A=0,I=0,U,B;const R=O?parseInt(1e3/x):4294967295,E=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(_)return O(new Error("cancelled"),p/C);let G;switch(A){case 0:B=I*32*x,u(F,B,N,0,M),A=1,U=0;case 1:G=w-U,G>R&&(G=R);for(let V=0;V<G;V++)u(N,0,v,(U+V)*M,M),o(N,M,x,$,P);if(U+=G,p+=G,O){const V=parseInt(1e3*p/C);if(V!==y){if(_=O(null,p/C),_)break;y=V}}if(U<w)break;U=0,A=2;case 2:G=w-U,G>R&&(G=R);for(let V=0;V<G;V++){const K=(2*x-1)*16,X=N[K]&w-1;l(v,X*M,N,M),o(N,M,x,$,P)}if(U+=G,p+=G,O){const V=parseInt(1e3*p/C);if(V!==y){if(_=O(null,p/C),_)break;y=V}}if(U<w)break;if(u(N,0,F,B,M),I++,I<S){A=0;break}k=[];for(let V=0;V<F.length;V++)k.push(F[V]>>0&255),k.push(F[V]>>8&255),k.push(F[V]>>16&255),k.push(F[V]>>24&255);const T=s(g,k,D);return O&&O(null,1,T),T}O&&E(L)};if(!O)for(;;){const G=L();if(G!=null)return G}L()}const m={scrypt:function(g,b,w,x,S,D,O){return new Promise(function(k,F){let N=0;O&&O(0),h(g,b,w,x,S,D,function(v,M,$){if(v)F(v);else if($)O&&N!==1&&O(1),k(new Uint8Array($));else if(O&&M!==N)return N=M,O(M)})})},syncScrypt:function(g,b,w,x,S,D){return new Uint8Array(h(g,b,w,x,S,D))}};t.exports=m})()})(Rx)),Rx.exports}var Lpe=$pe();const X0=Ts(Lpe);var Fpe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const bC=new re(W$);function SO(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let Bpe=class extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function jpe(t,e,r){if(sn(t,"crypto/cipher")==="aes-128-ctr"){const i=md(sn(t,"crypto/cipherparams/iv")),s=new gn.Counter(i),o=new gn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function K$(t,e){const r=md(sn(t,"crypto/ciphertext"));if(ye(qt(zt([e.slice(16,32),r]))).substring(2)!==sn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=jpe(t,e.slice(0,16),r);i||bC.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Pl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Jt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(sn(t,"x-ethers/version")==="0.1"){const c=md(sn(t,"x-ethers/mnemonicCiphertext")),l=md(sn(t,"x-ethers/mnemonicCounter")),u=new gn.Counter(l),f=new gn.ModeOfOperation.ctr(s,u),d=sn(t,"x-ethers/path")||Qu,h=sn(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=eE(m,h),b=T0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Bpe(a)}function V$(t,e,r,n,i){return de(Sy(t,e,r,n,i))}function Hpe(t,e,r,n,i){return Promise.resolve(V$(t,e,r,n,i))}function J$(t,e,r,n,i){const s=WS(e),o=sn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return bC.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=md(sn(t,"crypto/kdfparams/salt")),l=parseInt(sn(t,"crypto/kdfparams/n")),u=parseInt(sn(t,"crypto/kdfparams/r")),f=parseInt(sn(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=md(sn(t,"crypto/kdfparams/salt"));let l=null;const u=sn(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(sn(t,"crypto/kdfparams/c")),d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return bC.throwArgumentError("unsupported key-derivation function","kdf",o)}function Wpe(t,e){const r=JSON.parse(t),n=J$(r,e,V$,X0.syncScrypt);return K$(r,n)}function qpe(t,e,r){return Fpe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield J$(n,e,Hpe,X0.scrypt,r);return K$(n,i)})}function zpe(t,e,r,n){try{if(Jt(t.address)!==Pl(t.privateKey))throw new Error("address/privateKey mismatch");if(SO(t)){const b=t.mnemonic;if(T0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||Qu).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=WS(e);let o=null,a=null,c=null;if(SO(t)){const b=t.mnemonic;o=de(HS(b.phrase,b.locale||"en")),a=b.path||Qu,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Al(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Al(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Al(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),X0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const w=b.slice(0,16),x=b.slice(16,32),S=b.slice(32,64),D=new gn.Counter(f),O=new gn.ModeOfOperation.ctr(w,D),k=de(O.encrypt(i)),F=qt(zt([x,k])),N={address:t.address.substring(2).toLowerCase(),id:kpe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=Al(16),M=new gn.Counter(v),$=new gn.ModeOfOperation.ctr(S,M),P=de($.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Cp(C.getUTCMonth()+1,2)+"-"+Cp(C.getUTCDate(),2)+"T"+Cp(C.getUTCHours(),2)+"-"+Cp(C.getUTCMinutes(),2)+"-"+Cp(C.getUTCSeconds(),2)+".0Z";N["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+N.address,mnemonicCounter:ye(v).substring(2),mnemonicCiphertext:ye(P).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(N)})}function Gpe(t,e,r){if(z$(t)){r&&r(0);const n=q$(t,e);return r&&r(1),Promise.resolve(n)}return G$(t)?qpe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Kpe(t,e){if(z$(t))return q$(t,e);if(G$(t))return Wpe(t,e);throw new Error("invalid JSON wallet")}const Vpe="wallet/5.7.0";var IO=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Eh=new re(Vpe);function Jpe(t){return t!=null&&ht(t.privateKey,32)&&t.address!=null}function Ype(t){const e=t.mnemonic;return e&&e.phrase}class Qf extends V0{constructor(e,r){if(super(),Jpe(e)){const n=new c0(e.privateKey);if(ue(this,"_signingKey",()=>n),ue(this,"address",Pl(this.publicKey)),this.address!==Jt(e.address)&&Eh.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Ype(e)){const i=e.mnemonic;ue(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Qu,locale:i.locale||"en"}));const s=this.mnemonic,o=T0.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Pl(o.privateKey)!==this.address&&Eh.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ue(this,"_mnemonic",()=>null)}else{if(c0.isSigningKey(e))e.curve!=="secp256k1"&&Eh.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ue(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new c0(e);ue(this,"_signingKey",()=>n)}ue(this,"_mnemonic",()=>null),ue(this,"address",Pl(this.publicKey))}r&&!Ay.isProvider(r)&&Eh.throwArgumentError("invalid provider","provider",r),ue(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Qf(this,e)}signTransaction(e){return rn(e).then(r=>{r.from!=null&&(Jt(r.from)!==this.address&&Eh.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(qt(yO(r)));return yO(r,n)})}signMessage(e){return IO(this,void 0,void 0,function*(){return D6(this._signingKey().signDigest(x$(e)))})}_signTypedData(e,r,n){return IO(this,void 0,void 0,function*(){const i=yield Dm.resolveNames(e,r,n,s=>(this.provider==null&&Eh.throwError("cannot resolve ENS names without a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return D6(this._signingKey().signDigest(Dm.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),zpe(this,e,r,n)}static createRandom(e){let r=Al(16);e||(e={}),e.extraEntropy&&(r=de(pn(qt(zt([r,e.extraEntropy])),0,16)));const n=eE(r,e.locale);return Qf.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Gpe(e,r,n).then(i=>new Qf(i))}static fromEncryptedJsonSync(e,r){return new Qf(Kpe(e,r))}static fromMnemonic(e,r,n){return r||(r=Qu),new Qf(T0.fromMnemonic(e,null,n).derivePath(r))}}function Xpe(t,e){return Q1(x$(t),e)}function Qpe(t,e,r,n){return Q1(Dm.hash(t,e,r),n)}const Zpe=Object.freeze(Object.defineProperty({__proto__:null,Wallet:Qf,verifyMessage:Xpe,verifyTypedData:Qpe},Symbol.toStringTag,{value:"Module"})),ege="networks/5.8.0",TO=new re(ege);function tge(t){return t&&typeof t.renetwork=="function"}function ma(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return ma(r)},e}function Hw(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Hw(t,n)},r}const RO={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ma("homestead")},PO={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ma("ropsten")},OO={chainId:63,name:"classicMordor",_defaultProvider:Hw("https://www.ethercluster.com/mordor","classicMordor")},Eb={unspecified:{chainId:0,name:"unspecified"},homestead:RO,mainnet:RO,morden:{chainId:2,name:"morden"},ropsten:PO,testnet:PO,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ma("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ma("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ma("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ma("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ma("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Hw("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:OO,classicTestnet:OO,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Hw("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ma("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ma("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ma("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function rge(t){if(t==null)return null;if(typeof t=="number"){for(const n in Eb){const i=Eb[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Eb[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Eb[t.name];if(!e)return typeof t.chainId!="number"&&TO.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&TO.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(tge(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const nge="web/5.8.0";var ige=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function sge(t,e){return ige(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:de(new Uint8Array(i))}})}var oge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const aa=new re(nge);function DO(t){return new Promise(e=>{setTimeout(e,t)})}function uu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(K1(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return K0(t)}catch{}return ye(t)}return t}function age(t){return Xr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function cge(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;aa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;aa.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&aa.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&aa.throwError("basic authentication requires a secure https url",re.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+m$(Xr(w))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Fn(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?g$(h[3]):age(h[3])};let x=w.body;return r&&(x=r(w.body,w)),Promise.resolve(x)}catch(w){aa.throwError("processing response error",re.errors.SERVER_ERROR,{body:uu(h[1],h[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const x=a[w];m[x.key]=x.value}),l.headers=m;const g=(function(){let w=null;return{promise:new Promise(function(D,O){f&&(w=setTimeout(()=>{w!=null&&(w=null,O(aa.makeError("timeout",re.errors.TIMEOUT,{requestBody:uu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}})(),b=(function(){return oge(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let x=null;try{if(x=yield sge(c,l),w<n){if(x.statusCode===301||x.statusCode===302){const D=x.headers.location||"";if(l.method==="GET"&&D.match(/^https:/)){c=x.headers.location;continue}}else if(x.statusCode===429){let D=!0;if(i&&(D=yield i(w,c)),D){let O=0;const k=x.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?O=parseInt(k)*1e3:O=s*parseInt(String(Math.random()*Math.pow(2,w))),yield DO(O);continue}}}}catch(D){x=D.response,x==null&&(g.cancel(),aa.throwError("missing response",re.errors.SERVER_ERROR,{requestBody:uu(l.body,m["content-type"]),requestMethod:l.method,serverError:D,url:c}))}let S=x.body;if(u&&x.statusCode===304?S=null:!o&&(x.statusCode<200||x.statusCode>=300)&&(g.cancel(),aa.throwError("bad response",re.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:uu(S,x.headers?x.headers["content-type"]:null),requestBody:uu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const D=yield r(S,x);return g.cancel(),D}catch(D){if(D.throttleRetry&&w<n){let O=!0;if(i&&(O=yield i(w,c)),O){const k=s*parseInt(String(Math.random()*Math.pow(2,w)));yield DO(k);continue}}g.cancel(),aa.throwError("processing response error",re.errors.SERVER_ERROR,{body:uu(S,x.headers?x.headers["content-type"]:null),error:D,requestBody:uu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return aa.throwError("failed response",re.errors.SERVER_ERROR,{requestBody:uu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function qS(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(K0(s))}catch(c){aa.throwError("invalid JSON",re.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Xr(e);const s=typeof t=="string"?{url:t}:Fn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Fn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return cge(t,i,n)}function Wp(t,e){return e||(e={}),e=Fn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}var Px,kO;function lge(){if(kO)return Px;kO=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(g){var b=g>>25;return(g&33554431)<<5^-(b>>0&1)&996825010^-(b>>1&1)&642813549^-(b>>2&1)&513874426^-(b>>3&1)&1027748829^-(b>>4&1)&705979059}function s(g){for(var b=1,w=0;w<g.length;++w){var x=g.charCodeAt(w);if(x<33||x>126)return"Invalid prefix ("+g+")";b=i(b)^x>>5}for(b=i(b),w=0;w<g.length;++w){var S=g.charCodeAt(w);b=i(b)^S&31}return b}function o(g,b,w){if(w=w||90,g.length+7+b.length>w)throw new TypeError("Exceeds length limit");g=g.toLowerCase();var x=s(g);if(typeof x=="string")throw new Error(x);for(var S=g+"1",D=0;D<b.length;++D){var O=b[D];if(O>>5!==0)throw new Error("Non 5-bit word");x=i(x)^O,S+=t.charAt(O)}for(D=0;D<6;++D)x=i(x);for(x^=1,D=0;D<6;++D){var k=x>>(5-D)*5&31;S+=t.charAt(k)}return S}function a(g,b){if(b=b||90,g.length<8)return g+" too short";if(g.length>b)return"Exceeds length limit";var w=g.toLowerCase(),x=g.toUpperCase();if(g!==w&&g!==x)return"Mixed-case string "+g;g=w;var S=g.lastIndexOf("1");if(S===-1)return"No separator character for "+g;if(S===0)return"Missing prefix for "+g;var D=g.slice(0,S),O=g.slice(S+1);if(O.length<6)return"Data too short";var k=s(D);if(typeof k=="string")return k;for(var F=[],N=0;N<O.length;++N){var v=O.charAt(N),M=e[v];if(M===void 0)return"Unknown character "+v;k=i(k)^M,!(N+6>=O.length)&&F.push(M)}return k!==1?"Invalid checksum for "+g:{prefix:D,words:F}}function c(){var g=a.apply(null,arguments);if(typeof g=="object")return g}function l(g){var b=a.apply(null,arguments);if(typeof b=="object")return b;throw new Error(b)}function u(g,b,w,x){for(var S=0,D=0,O=(1<<w)-1,k=[],F=0;F<g.length;++F)for(S=S<<b|g[F],D+=b;D>=w;)D-=w,k.push(S>>D&O);if(x)D>0&&k.push(S<<w-D&O);else{if(D>=b)return"Excess padding";if(S<<w-D&O)return"Non-zero padding"}return k}function f(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b}function d(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b;throw new Error(b)}function h(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b}function m(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b;throw new Error(b)}return Px={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:f,toWords:d,fromWordsUnsafe:h,fromWords:m},Px}var uge=lge();const MO=Ts(uge),tE="providers/5.7.2",Np=new re(tE);class Fe{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:Fe.allowNull(this.accessList.bind(this),null),blockHash:Fe.allowNull(o,null),blockNumber:Fe.allowNull(c,null),transactionIndex:Fe.allowNull(c,null),confirmations:Fe.allowNull(c,null),from:r,gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),gasLimit:n,to:Fe.allowNull(r,null),value:n,nonce:c,data:s,r:Fe.allowNull(this.uint256),s:Fe.allowNull(this.uint256),v:Fe.allowNull(c),creates:Fe.allowNull(r,null),raw:Fe.allowNull(s)},e.transactionRequest={from:Fe.allowNull(r),nonce:Fe.allowNull(c),gasLimit:Fe.allowNull(n),gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),to:Fe.allowNull(r),value:Fe.allowNull(n),data:Fe.allowNull(u),type:Fe.allowNull(c),accessList:Fe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Fe.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Fe.allowNull(this.address,null),from:Fe.allowNull(this.address,null),contractAddress:Fe.allowNull(r,null),transactionIndex:c,root:Fe.allowNull(a),gasUsed:n,logsBloom:Fe.allowNull(s),blockHash:o,transactionHash:o,logs:Fe.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Fe.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Fe.allowNull(n),status:Fe.allowNull(c),type:l},e.block={hash:Fe.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Fe.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Fe.allowNull(r),extraData:s,transactions:Fe.allowNull(Fe.arrayOf(o)),baseFeePerGas:Fe.allowNull(n)},e.blockWithTransactions=Fn(e.block),e.blockWithTransactions.transactions=Fe.allowNull(Fe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Fe.allowNull(i,void 0),toBlock:Fe.allowNull(i,void 0),blockHash:Fe.allowNull(o,void 0),address:Fe.allowNull(r,void 0),topics:Fe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Fe.allowNull(c),blockHash:Fe.allowNull(o),transactionIndex:c,removed:Fe.allowNull(this.boolean.bind(this)),address:r,data:Fe.allowFalsish(s,"0x"),topics:Fe.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Y0(e||[])}number(e){return e==="0x"?0:ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ve.from(e).toNumber()}bigNumber(e){return ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),ht(e))?e.toLowerCase():Np.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Jt(e)}callAddress(e){if(!ht(e,32))return null;const r=Jt(pn(e,12));return r===Dhe?null:r}contractAddress(e){return i$(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||ht(e))return TS(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Od(n)!==32?Np.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ve.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!ht(e))throw new Error("invalid uint256");return ir(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Fe.check(r,e);return i._difficulty=n==null?null:ve.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Fe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Fe.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;ht(n)&&(n=ve.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),ht(n)&&(n=ve.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return upe(e)}receiptLog(e){return Fe.check(this.formats.receiptLog,e)}receipt(e){const r=Fe.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ve.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Np.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Np.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Np.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Fe.check(this.formats.filter,e)}filterLog(e){return Fe.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var et=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ut=new re(tE),fge=10;function UO(t){return t==null?"null":(Od(t)!==32&&ut.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function $O(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[UO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return UO(e)}).join("&")}function dge(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function vh(t){if(typeof t=="string"){if(t=t.toLowerCase(),Od(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+$O(t);if(O0e.isForkEvent(t))throw ut.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+$O(t.topics||[])}throw new Error("invalid event - "+t)}function Sp(){return new Date().getTime()}function LO(t){return new Promise(e=>{setTimeout(e,t)})}const hge=["block","network","pending","poll"];let pge=class{constructor(e,r,n){ue(this,"tag",e),ue(this,"listener",r),ue(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=dge(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||hge.indexOf(this.tag)>=0}};const gge={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ox(t){return ir(ve.from(t).toHexString(),32)}function FO(t){return Mm.encode(zt([t,pn(Xu(Xu(t)),0,4)]))}const Y$=new RegExp("^(ipfs)://(.*)$","i"),BO=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Y$,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function c_(t,e){try{return K0($m(t,e))}catch{}return null}function $m(t,e){if(t==="0x")return null;const r=ve.from(pn(t,e,e+32)).toNumber(),n=ve.from(pn(t,r,r+32)).toNumber();return pn(t,r+32,r+32+n)}function Dx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ut.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function jO(t){const e=de(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function mge(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function X$(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=de(t[n]);e[n]=jO(r),e.push(jO(i.length)),e.push(mge(i)),r+=32+Math.ceil(i.length/32)*32}return Vi(e)}class HO{constructor(e,r,n,i){ue(this,"provider",e),ue(this,"name",n),ue(this,"address",e.formatter.address(r)),ue(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ve.from(e).eq(1)).catch(e=>{if(e.code===re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return et(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Vi([e,n_(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Vi(["0x9061b923",X$([m0e(this.name),n.data])]));try{let s=yield this.provider.call(n);return de(s).length%32===4&&ut.throwError("resolver threw error",re.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=$m(s,0)),s}catch(s){if(s.code===re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return et(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?$m(n,0):null})}_getAddress(e,r){const n=gge[String(e)];if(n==null&&ut.throwError(`unsupported coin type: ${e}`,re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=de(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return FO(zt([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return FO(zt([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=MO.toWords(i.slice(2));return a.unshift(o),MO.encode(n.prefix,a)}}return null}getAddress(e){return et(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===khe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===re.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Ox(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ut.throwError("invalid or unsupported coin data",re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return et(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<BO.length;n++){const i=r.match(BO[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:Dx(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=ir(ve.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Vi(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=ve.from(yield this.provider.call({to:l,data:Vi(["0x00fdd58e",ir(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const f={to:this.provider.formatter.address(c[0]),data:Vi([o,u])};let d=c_(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),s==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=Dx(d)),e.push({type:"metadata-url",content:d});const h=yield qS(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(Y$)==null)return null;e.push({type:"url-ipfs",content:m}),m=Dx(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return et(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Mm.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Mm.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+m$("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return ut.throwError("invalid or unsupported content hash data",re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return et(this,void 0,void 0,function*(){let r=Xr(e);r=zt([Ox(64),Ox(r.length),r]),r.length%32!==0&&(r=zt([r,ir("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ye(r));return n==null||n==="0x"?null:K0(n)})}}let kx=null,yge=1;class bge extends Ay{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ue(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Cs(new.target,"getNetwork")(e);r?(ue(this,"_network",r),this.emit("network",r,null)):ut.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return et(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ut.throwError("no network detected",re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ue(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Wp(()=>this._ready().then(e=>e,e=>{if(!(e.code===re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return kx==null&&(kx=new Fe),kx}static getNetwork(e){return rge(e??"homestead")}ccipReadFetch(e,r,n){return et(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield qS({url:l,errorPassThrough:!0},u,(h,m)=>(h.status=m.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return ut.throwError(`response not found during CCIP fetch: ${d}`,re.errors.SERVER_ERROR,{url:c,errorMessage:d});o.push(d)}return ut.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,re.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return et(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Sp()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Sp(),n=rn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Sp();return i=ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return et(this,void 0,void 0,function*(){const e=yge++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ut.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ut.makeError("network block skew detected",re.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return et(this,void 0,void 0,function*(){return ut.throwError("provider does not support network detection",re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return et(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield LO(0),this._network;const n=ut.makeError("underlying network changed",re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Sp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Sp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return et(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return et(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||u()||o(d)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const m=g=>et(this,void 0,void 0,function*(){l||(yield LO(1e3),this.getTransactionCount(i.from).then(b=>et(this,void 0,void 0,function*(){if(!l){if(b<=i.nonce)d=g;else{{const w=yield this.getTransaction(e);if(w&&w.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=g;){if(l)return;const w=yield this.getBlockWithTransactions(h);for(let x=0;x<w.transactions.length;x++){const S=w.transactions[x];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(l)return;const D=yield this.waitForTransaction(S.hash,r);if(u())return;let O="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?O="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(O="cancelled"),a(ut.makeError("transaction was replaced",re.errors.TRANSACTION_REPLACED,{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:this._wrapTransaction(S),hash:e,receipt:D}));return}}h++}}l||this.once("block",m)}}),b=>{l||this.once("block",m)}))});if(l)return;this.once("block",m),c.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{u()||a(ut.makeError("timeout exceeded",re.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),c.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return et(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return et(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ve.from(e)}catch(r){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ve.from(i)}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ve.from(i).toNumber()}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ye(i)}catch(s){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return et(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>TS(o))}),s=yield this.perform("getStorageAt",i);try{return ye(s)}catch(o){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Od(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ut.throwError("Transaction hash mismatch from Provider.sendTransaction.",re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>et(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&ut.throwError("transaction failed",re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ye(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return et(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ve.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ye(s):null))}),this.formatter.transactionRequest(yield rn(n))})}_getFilter(e){return et(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield rn(r))})}_call(e,r,n){return et(this,void 0,void 0,function*(){n>=fge&&ut.throwError("CCIP read exceeded maximum redirections",re.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Od(s)%32===4)try{const o=pn(s,4),a=pn(o,0,32);ve.from(a).eq(i)||ut.throwError("CCIP Read sender did not match",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=ve.from(pn(o,32,64)).toNumber(),u=ve.from(pn(o,l,l+32)).toNumber(),f=pn(o,l+32);for(let w=0;w<u;w++){const x=c_(f,w*32);x==null&&ut.throwError("CCIP Read contained corrupt URL string",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(x)}const d=$m(o,64);ve.from(pn(o,100,128)).isZero()||ut.throwError("CCIP Read callback selector included junk",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=pn(o,96,100),m=$m(o,128),g=yield this.ccipReadFetch(e,d,c);g==null&&ut.throwError("CCIP Read disabled or provided no URLs",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const b={to:i,data:Vi([h,X$([g,m])])};return this._call(b,r,n+1)}catch(o){if(o.code===re.errors.SERVER_ERROR)throw o}try{return ye(s)}catch(o){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ve.from(n)}catch(i){return ut.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return et(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ut.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ut.throwError("ENS name not configured",re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(ht(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),ht(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ut.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Wp(()=>et(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Wp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Wp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Fe.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return et(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return et(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ut.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return et(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new HO(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return et(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||ut.throwError("network does not support ENS",re.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+n_(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return et(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(ht(e))throw n}typeof e!="string"&&ut.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return et(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=c_(yield this.call({to:n,data:"0x691f3431"+n_(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return et(this,void 0,void 0,function*(){let r=null;if(ht(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new HO(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a}try{const a=c_(yield this.call({to:o,data:"0x691f3431"+n_(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ut.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new pge(vh(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=vh(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=vh(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=vh(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=vh(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=vh(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var fl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const dn=new re(tE),_ge=["call","estimateGas"];function wg(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=ht(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=wg(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return wg(JSON.parse(t),e)}catch{}return null}function Q$(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=wg(e,!0);if(s)return s.data;dn.throwError("missing revert data in call exception; Transaction reverted without a reason string",re.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=wg(e.body,!1);s==null&&(s=wg(e,!1)),s&&dn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&dn.throwError("insufficient funds for intrinsic transaction cost",re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&dn.throwError("nonce has already been used",re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&dn.throwError("replacement fee too low",re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&dn.throwError("legacy pre-eip-155 transactions not supported",re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),_ge.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&dn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function WO(t){return new Promise(function(e){setTimeout(e,t)})}function wge(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Ip(t){return t&&t.toLowerCase()}const _C={};class Z$ extends V0{constructor(e,r,n){if(super(),e!==_C)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ue(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ue(this,"_address",this.provider.formatter.address(n)),ue(this,"_index",null)):typeof n=="number"?(ue(this,"_index",n),ue(this,"_address",null)):dn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return dn.throwError("cannot alter JSON-RPC Signer connection",re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ege(_C,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&dn.throwError("unknown account #"+this._index,re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Fn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Fn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>fl(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&dn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),rn({tx:rn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&dn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&dn.throwError("user rejected transaction",re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),Q$("sendTransaction",o,s)))})}signTransaction(e){return dn.throwError("signing transactions is unsupported",re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return fl(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Wp(()=>fl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return fl(this,void 0,void 0,function*(){const r=typeof e=="string"?Xr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ye(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&dn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return fl(this,void 0,void 0,function*(){const r=typeof e=="string"?Xr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ye(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&dn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return fl(this,void 0,void 0,function*(){const i=yield Dm.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Dm.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&dn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return fl(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Ege extends Z${sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const vge={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ww extends bge{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Cs(this.constructor,"defaultUrl")()),typeof e=="string"?ue(this,"connection",Object.freeze({url:e})):ue(this,"connection",Object.freeze(Fn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return fl(this,void 0,void 0,function*(){yield WO(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Cs(this.constructor,"getNetwork");try{return r(ve.from(e).toNumber())}catch(n){return dn.throwError("could not detect network",re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return dn.throwError("could not detect network",re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new Z$(_C,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ll(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=qS(this.connection,JSON.stringify(n),wge).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ip(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ip(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Ip(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ip(r.address),ir(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Cs(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Cs(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Ip(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return fl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Fn(r),r.transaction=Fn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&dn.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return Q$(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return WO(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Fn(vge);if(r)for(const s in r)r[s]&&(n[s]=!0);X7(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=TS(ve.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ye(e[s]))}),e.accessList&&(i.accessList=Y0(e.accessList)),i}}const qO=new re(tE);let xge=1;function zO(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:xge++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Ll(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function Age(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ll(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Eg extends Ww{constructor(e,r){e==null&&qO.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=Age(e)):e.sendAsync?i=zO(e,e.sendAsync.bind(e)):e.send?i=zO(e,e.send.bind(e)):qO.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ue(this,"jsonRpcFetchFunc",i),ue(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const Iy="abi/5.7.0",Nt=new re(Iy),Md={};let GO={calldata:!0,memory:!0,storage:!0},Cge={calldata:!0,memory:!0};function vb(t,e){if(t==="bytes"||t==="string"){if(GO[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Cge[e])return!0;return(GO[e]||e==="payable")&&Nt.throwArgumentError("invalid modifier","name",e),!1}function Nge(t,e){let r=t;function n(a){Nt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Fh(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),vb(o.type,o.name)&&(o.name=""),o.type=Fh(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),vb(o.type,o.name)&&(o.name=""),o.type=Fh(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Fh(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):vb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Nt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):vb(o.type,o.name)&&(o.name=""),s.type=Fh(s.type),s}function l_(t,e){for(let r in e)ue(t,r,e[r])}const kt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Sge=new RegExp(/^(.*)\[([0-9]*)\]$/);class $n{constructor(e,r){e!==Md&&Nt.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),l_(this,r);let n=this.type.match(Sge);n?l_(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:$n.fromObject({type:n[1],components:this.components}),baseType:"array"}):l_(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==kt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===kt.full?", ":",")+")"):r+=this.type,e!==kt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===kt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?$n.fromString(e,r):$n.fromObject(e)}static fromObject(e){return $n.isParamType(e)?e:new $n(Md,{name:e.name||null,type:Fh(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map($n.fromObject):null})}static fromString(e,r){function n(i){return $n.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Nge(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Lm(t,e){return Tge(t).map(r=>$n.fromString(r,e))}class Ic{constructor(e,r){e!==Md&&Nt.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),l_(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Ic.isFragment(e)?e:typeof e=="string"?Ic.fromString(e):Ic.fromObject(e)}static fromObject(e){if(Ic.isFragment(e))return e;switch(e.type){case"function":return $a.fromObject(e);case"event":return Ac.fromObject(e);case"constructor":return Ua.fromObject(e);case"error":return El.fromObject(e);case"fallback":case"receive":return null}return Nt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ac.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?$a.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Ua.fromString(e.trim()):e.split(" ")[0]==="error"?El.fromString(e.substring(5).trim()):Nt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ac extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Ac.fromString(e):Ac.fromObject(e)}static fromObject(e){if(Ac.isEventFragment(e))return e;e.type!=="event"&&Nt.throwArgumentError("invalid event object","value",e);const r={name:Fm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map($n.fromObject):[],type:"event"};return new Ac(Md,r)}static fromString(e){let r=e.match(Bm);r||Nt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Nt.warn("unknown modifier: "+i)}}),Ac.fromObject({name:r[1].trim(),anonymous:n,inputs:Lm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function eL(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Nt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Nt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function tL(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function rL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Nt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Nt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Nt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e}class Ua extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===kt.sighash&&Nt.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?Ua.fromString(e):Ua.fromObject(e)}static fromObject(e){if(Ua.isConstructorFragment(e))return e;e.type!=="constructor"&&Nt.throwArgumentError("invalid constructor object","value",e);let r=rL(e);r.constant&&Nt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map($n.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Ua(Md,n)}static fromString(e){let r={type:"constructor"};e=eL(e,r);let n=e.match(Bm);return(!n||n[1].trim()!=="constructor")&&Nt.throwArgumentError("invalid constructor string","value",e),r.inputs=Lm(n[2].trim(),!1),tL(n[3].trim(),r),Ua.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class $a extends Ua{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?$a.fromString(e):$a.fromObject(e)}static fromObject(e){if($a.isFunctionFragment(e))return e;e.type!=="function"&&Nt.throwArgumentError("invalid function object","value",e);let r=rL(e);const n={type:e.type,name:Fm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map($n.fromObject):[],outputs:e.outputs?e.outputs.map($n.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new $a(Md,n)}static fromString(e){let r={type:"function"};e=eL(e,r);let n=e.split(" returns ");n.length>2&&Nt.throwArgumentError("invalid function string","value",e);let i=n[0].match(Bm);if(i||Nt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Fm(r.name),r.inputs=Lm(i[2],!1),tL(i[3].trim(),r),n.length>1){let s=n[1].match(Bm);(s[1].trim()!=""||s[3].trim()!="")&&Nt.throwArgumentError("unexpected tokens","value",e),r.outputs=Lm(s[2],!1)}else r.outputs=[];return $a.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function KO(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Nt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class El extends Ic{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?El.fromString(e):El.fromObject(e)}static fromObject(e){if(El.isErrorFragment(e))return e;e.type!=="error"&&Nt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Fm(e.name),inputs:e.inputs?e.inputs.map($n.fromObject):[]};return KO(new El(Md,r))}static fromString(e){let r={type:"error"},n=e.match(Bm);return n||Nt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Fm(r.name),r.inputs=Lm(n[2],!1),KO(El.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Fh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Ige=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Fm(t){return(!t||!t.match(Ige))&&Nt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Bm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Tge(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Nt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const zS=new re(Iy);function Rge(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Wl{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){zS.throwArgumentError(e,this.localName,r)}}class wC{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Vi(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(zt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=zt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&zS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=zt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class qw{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):qw.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:zS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new qw(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}}class Pge extends Wl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Jt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Jt(ir(e.readValue().toHexString(),20))}}class Oge extends Wl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Xh=new re(Iy);function nL(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Xh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Xh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Xh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Xh.throwArgumentError("types/value length mismatch","tuple",r);let i=new wC(t.wordSize),s=new wC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function iL(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Dge extends Wl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Xh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return nL(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Xh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Oge(this.coder));return e.coerce(this.name,iL(e,n))}}class kge extends Wl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class sL extends Wl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Mge extends sL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}}class Uge extends Wl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}}class $ge extends Wl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Lge extends Wl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=u$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(l$).mul(c$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(kS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Fge extends sL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Xr(r))}decode(e){return K0(super.decode(e))}}class xb extends Wl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return nL(e,this.coders,r)}decode(e){return e.coerce(this.name,iL(e,this.coders))}}const Ab=new re(Iy),Bge=new RegExp(/^bytes([0-9]*)$/),jge=new RegExp(/^(u?int)([0-9]*)$/);class oL{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Pge(e.name);case"bool":return new kge(e.name);case"string":return new Fge(e.name);case"bytes":return new Mge(e.name);case"array":return new Dge(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new xb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new $ge(e.name)}let r=e.type.match(jge);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Ab.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Lge(n/8,r[1]==="int",e.name)}if(r=e.type.match(Bge),r){let n=parseInt(r[1]);return(n===0||n>32)&&Ab.throwArgumentError("invalid bytes length","param",e),new Uge(n,e.name)}return Ab.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new qw(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new wC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder($n.from(i)));return new xb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Ab.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder($n.from(o))),i=new xb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder($n.from(o)));return new xb(i,"_").decode(this._getReader(de(r),n))}}const aL=new oL,jr=new re(Iy);class cL extends Zs{}class lL extends Zs{}class Hge extends Zs{}class EC extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}}const Wge={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function VO(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class qge{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>Ic.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Cs(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){jr.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){jr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",Ua.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=kt.full),e===kt.sighash&&jr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===kt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return aL}static getAddress(e){return Jt(e)}static getSighash(e){return pn(ja(e.format()),0,4)}static getEventTopic(e){return ja(e.format())}getFunction(e){if(ht(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];jr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching function","name",n):i.length>1&&jr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[$a.fromString(e).format()];return r||jr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(ht(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];jr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching event","name",n):i.length>1&&jr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Ac.fromString(e).format()];return r||jr.throwArgumentError("no matching event","signature",e),r}getError(e){if(ht(e)){const n=Cs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}jr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching error","name",n):i.length>1&&jr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[$a.fromString(e).format()];return r||jr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Cs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Cs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(zt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=Wge[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return jr.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&jr.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?ja(o):s.type==="bytes"?qt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),ir(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&jr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?jr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&jr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(ja(c));else if(o.type==="bytes")n.push(qt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!ht(n[0],32)||n[0].toLowerCase()!==d)&&jr.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push($n.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,zt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new EC({_isIndexed:!0,hash:null});else if(o[h])l[h]=new EC({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw VO(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw VO(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new lL({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new cL({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Hge({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const zge=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:oL,ConstructorFragment:Ua,ErrorFragment:El,EventFragment:Ac,FormatTypes:kt,Fragment:Ic,FunctionFragment:$a,Indexed:EC,Interface:qge,LogDescription:cL,ParamType:$n,TransactionDescription:lL,checkResultErrors:Rge,defaultAbiCoder:aL},Symbol.toStringTag,{value:"Module"})),Gge="logger/5.8.0";let JO=!1,YO=!1;const u_={debug:1,default:2,info:2,warning:3,error:4,off:5};let XO=u_.default,Mx=null;function Kge(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const QO=Kge();var vC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(vC||(vC={}));var ya;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ya||(ya={}));const ZO="0123456789abcdef";let Wa=class _n{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();u_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(XO>u_[n])&&console.log.apply(console,r)}debug(...e){this._log(_n.levels.DEBUG,e)}info(...e){this._log(_n.levels.INFO,e)}warn(...e){this._log(_n.levels.WARNING,e)}makeError(e,r,n){if(YO)return this.makeError("censored error",r,{});r||(r=_n.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=ZO[l[f]>>4],u+=ZO[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ya.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ya.CALL_EXCEPTION:case ya.INSUFFICIENT_FUNDS:case ya.MISSING_NEW:case ya.NONCE_EXPIRED:case ya.REPLACEMENT_UNDERPRICED:case ya.TRANSACTION_REPLACED:case ya.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,_n.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){QO&&this.throwError("platform missing String.prototype.normalize",_n.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:QO})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,_n.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,_n.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",_n.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Mx||(Mx=new _n(Gge)),Mx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),JO){if(!e)return;this.globalLogger().throwError("error censorship permanent",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}YO=!!e,JO=!!r}static setLogLevel(e){const r=u_[e.toLowerCase()];if(r==null){_n.globalLogger().warn("invalid log level - "+e);return}XO=r}static from(e){return new _n(e)}};Wa.errors=ya;Wa.levels=vC;const Vge="bytes/5.8.0",yd=new Wa(Vge);function uL(t){return!!t.toHexString}function vg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return vg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Jge(t){return Zu(t)&&!(t.length%2)||rE(t)}function e5(t){return typeof t=="number"&&t==t&&t%1===0}function rE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!e5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!e5(r)||r<0||r>=256)return!1}return!0}function Q0(t,e){if(e||(e={}),typeof t=="number"){yd.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),vg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uL(t)&&(t=t.toHexString()),Zu(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":yd.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return vg(new Uint8Array(n))}return rE(t)?vg(new Uint8Array(t)):yd.throwArgumentError("invalid arrayify value","value",t)}function Yge(t){const e=t.map(i=>Q0(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),vg(n)}function Xge(t){let e=Q0(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Zu(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Ux="0123456789abcdef";function nE(t,e){if(e||(e={}),typeof t=="number"){yd.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Ux[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uL(t))return t.toHexString();if(Zu(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":yd.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(rE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Ux[(i&240)>>4]+Ux[i&15]}return r}return yd.throwArgumentError("invalid hexlify value","value",t)}function t5(t){if(typeof t!="string")t=nE(t);else if(!Zu(t)||t.length%2)return null;return(t.length-2)/2}function fL(t,e,r){return typeof t!="string"?t=nE(t):(!Zu(t)||t.length%2)&&yd.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}const Qge="bignumber/5.8.0";var jm=te.BN;const dl=new Wa(Qge),$x={},r5=9007199254740991;let n5=!1,GS=class ca{constructor(e,r){e!==$x&&dl.throwError("cannot call constructor directly; use BigNumber.from",Wa.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return cs(mt(this).fromTwos(e))}toTwos(e){return cs(mt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ca.from(this._hex.substring(1)):this}add(e){return cs(mt(this).add(mt(e)))}sub(e){return cs(mt(this).sub(mt(e)))}div(e){return ca.from(e).isZero()&&uo("division-by-zero","div"),cs(mt(this).div(mt(e)))}mul(e){return cs(mt(this).mul(mt(e)))}mod(e){const r=mt(e);return r.isNeg()&&uo("division-by-zero","mod"),cs(mt(this).umod(r))}pow(e){const r=mt(e);return r.isNeg()&&uo("negative-power","pow"),cs(mt(this).pow(r))}and(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","and"),cs(mt(this).and(r))}or(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","or"),cs(mt(this).or(r))}xor(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","xor"),cs(mt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&uo("negative-width","mask"),cs(mt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&uo("negative-width","shl"),cs(mt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&uo("negative-width","shr"),cs(mt(this).shrn(e))}eq(e){return mt(this).eq(mt(e))}lt(e){return mt(this).lt(mt(e))}lte(e){return mt(this).lte(mt(e))}gt(e){return mt(this).gt(mt(e))}gte(e){return mt(this).gte(mt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return mt(this).isZero()}toNumber(){try{return mt(this).toNumber()}catch{uo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return dl.throwError("this platform does not support BigInt",Wa.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?n5||(n5=!0,dl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?dl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Wa.errors.UNEXPECTED_ARGUMENT,{}):dl.throwError("BigNumber.toString does not accept parameters",Wa.errors.UNEXPECTED_ARGUMENT,{})),mt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ca)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ca($x,Hm(e)):e.match(/^-?[0-9]+$/)?new ca($x,Hm(new jm(e))):dl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&uo("underflow","BigNumber.from",e),(e>=r5||e<=-r5)&&uo("overflow","BigNumber.from",e),ca.from(String(e));const r=e;if(typeof r=="bigint")return ca.from(r.toString());if(rE(r))return ca.from(nE(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ca.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Zu(n)||n[0]==="-"&&Zu(n.substring(1))))return ca.from(n)}return dl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Hm(t){if(typeof t!="string")return Hm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&dl.throwArgumentError("invalid hex","value",t),t=Hm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function cs(t){return GS.from(Hm(t))}function mt(t){const e=GS.from(t).toHexString();return e[0]==="-"?new jm("-"+e.substring(3),16):new jm(e.substring(2),16)}function uo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),dl.throwError(t,Wa.errors.NUMERIC_FAULT,n)}function Zge(t){return new jm(t,36).toString(16)}function eme(t){return new jm(t,16).toString(36)}function KS(t){return"0x"+G0.keccak_256(Q0(t))}const tme="rlp/5.8.0",rme=new Wa(tme);function i5(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function dL(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(dL(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=i5(n.length);return i.unshift(247+i.length),i.concat(n)}Jge(t)||rme.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Q0(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=i5(e.length);return r.unshift(183+r.length),r.concat(e)}function nme(t){return nE(dL(t))}const ime="address/5.7.0",ku=new Wa(ime);function s5(t){Zu(t,20)||ku.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Q0(KS(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const sme=9007199254740991;function ome(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const VS={};for(let t=0;t<10;t++)VS[String(t)]=String(t);for(let t=0;t<26;t++)VS[String.fromCharCode(65+t)]=String(10+t);const o5=Math.floor(ome(sme));function hL(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>VS[n]).join("");for(;e.length>=o5;){let n=e.substring(0,o5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function ef(t){let e=null;if(typeof t!="string"&&ku.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=s5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&ku.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==hL(t)&&ku.throwArgumentError("bad icap checksum","address",t),e=Zge(t.substring(4));e.length<40;)e="0"+e;e=s5("0x"+e)}else ku.throwArgumentError("invalid address","address",t);return e}function ame(t){try{return ef(t),!0}catch{}return!1}function cme(t){let e=eme(ef(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+hL("XE00"+e)+e}function lme(t){let e=null;try{e=ef(t.from)}catch{ku.throwArgumentError("missing from address","transaction",t)}const r=Xge(Q0(GS.from(t.nonce).toHexString()));return ef(fL(KS(nme([e,r])),12))}function ume(t,e,r){return t5(e)!==32&&ku.throwArgumentError("salt must be 32 bytes","salt",e),t5(r)!==32&&ku.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ef(fL(KS(Yge(["0xff",ef(t),e,r])),12))}const fme=Object.freeze(Object.defineProperty({__proto__:null,getAddress:ef,getContractAddress:lme,getCreate2Address:ume,getIcapAddress:cme,isAddress:ame},Symbol.toStringTag,{value:"Module"})),dme="logger/5.8.0";let a5=!1,c5=!1;const f_={debug:1,default:2,info:2,warning:3,error:4,off:5};let l5=f_.default,Lx=null;function hme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const u5=hme();var xC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xC||(xC={}));var ba;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ba||(ba={}));const f5="0123456789abcdef";let JS=class wn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();f_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(l5>f_[n])&&console.log.apply(console,r)}debug(...e){this._log(wn.levels.DEBUG,e)}info(...e){this._log(wn.levels.INFO,e)}warn(...e){this._log(wn.levels.WARNING,e)}makeError(e,r,n){if(c5)return this.makeError("censored error",r,{});r||(r=wn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=f5[l[f]>>4],u+=f5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ba.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ba.CALL_EXCEPTION:case ba.INSUFFICIENT_FUNDS:case ba.MISSING_NEW:case ba.NONCE_EXPIRED:case ba.REPLACEMENT_UNDERPRICED:case ba.TRANSACTION_REPLACED:case ba.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,wn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){u5&&this.throwError("platform missing String.prototype.normalize",wn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,wn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,wn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",wn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Lx||(Lx=new wn(dme)),Lx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a5){if(!e)return;this.globalLogger().throwError("error censorship permanent",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c5=!!e,a5=!!r}static setLogLevel(e){const r=f_[e.toLowerCase()];if(r==null){wn.globalLogger().warn("invalid log level - "+e);return}l5=r}static from(e){return new wn(e)}};JS.errors=ba;JS.levels=xC;const pme="bytes/5.8.0",Fx=new JS(pme);function gme(t){return!!t.toHexString}function d_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return d_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function d5(t){return typeof t=="number"&&t==t&&t%1===0}function mme(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!d5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!d5(r)||r<0||r>=256)return!1}return!0}function pL(t,e){if(e||(e={}),typeof t=="number"){Fx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),d_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gme(t)&&(t=t.toHexString()),yme(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Fx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return d_(new Uint8Array(n))}return mme(t)?d_(new Uint8Array(t)):Fx.throwArgumentError("invalid arrayify value","value",t)}function yme(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function bme(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return pL(e)}function _me(t){t=pL(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const wme=Object.freeze(Object.defineProperty({__proto__:null,decode:bme,encode:_me},Symbol.toStringTag,{value:"Module"})),Eme="logger/5.8.0";let h5=!1,p5=!1;const h_={debug:1,default:2,info:2,warning:3,error:4,off:5};let g5=h_.default,Bx=null;function vme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m5=vme();var AC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(AC||(AC={}));var _a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(_a||(_a={}));const y5="0123456789abcdef";let YS=class En{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();h_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g5>h_[n])&&console.log.apply(console,r)}debug(...e){this._log(En.levels.DEBUG,e)}info(...e){this._log(En.levels.INFO,e)}warn(...e){this._log(En.levels.WARNING,e)}makeError(e,r,n){if(p5)return this.makeError("censored error",r,{});r||(r=En.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y5[l[f]>>4],u+=y5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case _a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case _a.CALL_EXCEPTION:case _a.INSUFFICIENT_FUNDS:case _a.MISSING_NEW:case _a.NONCE_EXPIRED:case _a.REPLACEMENT_UNDERPRICED:case _a.TRANSACTION_REPLACED:case _a.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,En.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m5&&this.throwError("platform missing String.prototype.normalize",En.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,En.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,En.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",En.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Bx||(Bx=new En(Eme)),Bx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h5){if(!e)return;this.globalLogger().throwError("error censorship permanent",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p5=!!e,h5=!!r}static setLogLevel(e){const r=h_[e.toLowerCase()];if(r==null){En.globalLogger().warn("invalid log level - "+e);return}g5=r}static from(e){return new En(e)}};YS.errors=_a;YS.levels=AC;const xme="bytes/5.8.0",jx=new YS(xme);function Ame(t){return!!t.toHexString}function p_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return p_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function b5(t){return typeof t=="number"&&t==t&&t%1===0}function Cme(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!b5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!b5(r)||r<0||r>=256)return!1}return!0}function _5(t,e){if(e||(e={}),typeof t=="number"){jx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),p_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ame(t)&&(t=t.toHexString()),Nme(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":jx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return p_(new Uint8Array(n))}return Cme(t)?p_(new Uint8Array(t)):jx.throwArgumentError("invalid arrayify value","value",t)}function Nme(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Cb(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let XS=class{constructor(e){Cb(this,"alphabet",e),Cb(this,"base",e.length),Cb(this,"_alphabetMap",{}),Cb(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=_5(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return _5(new Uint8Array(r.reverse()))}};const Sme=new XS("abcdefghijklmnopqrstuvwxyz234567"),Ime=new XS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Tme=Object.freeze(Object.defineProperty({__proto__:null,Base32:Sme,Base58:Ime,BaseX:XS},Symbol.toStringTag,{value:"Module"})),Rme="logger/5.8.0";let w5=!1,E5=!1;const g_={debug:1,default:2,info:2,warning:3,error:4,off:5};let v5=g_.default,Hx=null;function Pme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const x5=Pme();var CC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(CC||(CC={}));var wa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(wa||(wa={}));const A5="0123456789abcdef";let QS=class vn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();g_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(v5>g_[n])&&console.log.apply(console,r)}debug(...e){this._log(vn.levels.DEBUG,e)}info(...e){this._log(vn.levels.INFO,e)}warn(...e){this._log(vn.levels.WARNING,e)}makeError(e,r,n){if(E5)return this.makeError("censored error",r,{});r||(r=vn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=A5[l[f]>>4],u+=A5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case wa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case wa.CALL_EXCEPTION:case wa.INSUFFICIENT_FUNDS:case wa.MISSING_NEW:case wa.NONCE_EXPIRED:case wa.REPLACEMENT_UNDERPRICED:case wa.TRANSACTION_REPLACED:case wa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,vn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){x5&&this.throwError("platform missing String.prototype.normalize",vn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:x5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,vn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,vn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",vn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Hx||(Hx=new vn(Rme)),Hx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w5){if(!e)return;this.globalLogger().throwError("error censorship permanent",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}E5=!!e,w5=!!r}static setLogLevel(e){const r=g_[e.toLowerCase()];if(r==null){vn.globalLogger().warn("invalid log level - "+e);return}v5=r}static from(e){return new vn(e)}};QS.errors=wa;QS.levels=CC;const Ome="bytes/5.7.0",Yr=new QS(Ome);function gL(t){return!!t.toHexString}function l0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return l0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function mL(t){return To(t)&&!(t.length%2)||iE(t)}function C5(t){return typeof t=="number"&&t==t&&t%1===0}function iE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!C5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!C5(r)||r<0||r>=256)return!1}return!0}function bd(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),l0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t)&&(t=t.toHexString()),To(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Yr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return l0(new Uint8Array(n))}return iE(t)?l0(new Uint8Array(t)):Yr.throwArgumentError("invalid arrayify value","value",t)}function yL(t){const e=t.map(i=>bd(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),l0(n)}function Dme(t){let e=bd(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function bL(t,e){t=bd(t),t.length>e&&Yr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),l0(r)}function To(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Wx="0123456789abcdef";function ci(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Wx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t))return t.toHexString();if(To(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(iE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Wx[(i&240)>>4]+Wx[i&15]}return r}return Yr.throwArgumentError("invalid hexlify value","value",t)}function kme(t){if(typeof t!="string")t=ci(t);else if(!To(t)||t.length%2)return null;return(t.length-2)/2}function Mme(t,e,r){return typeof t!="string"?t=ci(t):(!To(t)||t.length%2)&&Yr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ume(t){let e="0x";return t.forEach(r=>{e+=ci(r).substring(2)}),e}function $me(t){const e=_L(ci(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function _L(t){typeof t!="string"&&(t=ci(t)),To(t)||Yr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function m_(t,e){for(typeof t!="string"?t=ci(t):To(t)||Yr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Yr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function wL(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(mL(t)){let r=bd(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64))):r.length===65?(e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64)),e.v=r[64]):Yr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Yr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ci(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=bL(bd(e._vs),32);e._vs=ci(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Yr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ci(i);e.s==null?e.s=o:e.s!==o&&Yr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Yr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Yr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!To(e.r)?Yr.throwArgumentError("signature missing or invalid r","signature",t):e.r=m_(e.r,32),e.s==null||!To(e.s)?Yr.throwArgumentError("signature missing or invalid s","signature",t):e.s=m_(e.s,32);const r=bd(e.s);r[0]>=128&&Yr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ci(r);e._vs&&(To(e._vs)||Yr.throwArgumentError("signature invalid _vs","signature",t),e._vs=m_(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Yr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Lme(t){return t=wL(t),ci(yL([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Fme=Object.freeze(Object.defineProperty({__proto__:null,arrayify:bd,concat:yL,hexConcat:Ume,hexDataLength:kme,hexDataSlice:Mme,hexStripZeros:_L,hexValue:$me,hexZeroPad:m_,hexlify:ci,isBytes:iE,isBytesLike:mL,isHexString:To,joinSignature:Lme,splitSignature:wL,stripZeros:Dme,zeroPad:bL},Symbol.toStringTag,{value:"Module"})),Bme="logger/5.8.0";let N5=!1,S5=!1;const y_={debug:1,default:2,info:2,warning:3,error:4,off:5};let I5=y_.default,qx=null;function jme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const T5=jme();var NC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(NC||(NC={}));var Ea;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ea||(Ea={}));const R5="0123456789abcdef";let Ns=class xn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();y_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(I5>y_[n])&&console.log.apply(console,r)}debug(...e){this._log(xn.levels.DEBUG,e)}info(...e){this._log(xn.levels.INFO,e)}warn(...e){this._log(xn.levels.WARNING,e)}makeError(e,r,n){if(S5)return this.makeError("censored error",r,{});r||(r=xn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=R5[l[f]>>4],u+=R5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ea.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ea.CALL_EXCEPTION:case Ea.INSUFFICIENT_FUNDS:case Ea.MISSING_NEW:case Ea.NONCE_EXPIRED:case Ea.REPLACEMENT_UNDERPRICED:case Ea.TRANSACTION_REPLACED:case Ea.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,xn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){T5&&this.throwError("platform missing String.prototype.normalize",xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,xn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,xn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return qx||(qx=new xn(Bme)),qx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),N5){if(!e)return;this.globalLogger().throwError("error censorship permanent",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S5=!!e,N5=!!r}static setLogLevel(e){const r=y_[e.toLowerCase()];if(r==null){xn.globalLogger().warn("invalid log level - "+e);return}I5=r}static from(e){return new xn(e)}};Ns.errors=Ea;Ns.levels=NC;const Hme="bytes/5.8.0",Lu=new Ns(Hme);function EL(t){return!!t.toHexString}function xg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return xg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function P5(t){return typeof t=="number"&&t==t&&t%1===0}function ZS(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!P5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!P5(r)||r<0||r>=256)return!1}return!0}function Hc(t,e){if(e||(e={}),typeof t=="number"){Lu.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),xg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),EL(t)&&(t=t.toHexString()),tf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Lu.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return xg(new Uint8Array(n))}return ZS(t)?xg(new Uint8Array(t)):Lu.throwArgumentError("invalid arrayify value","value",t)}function eI(t){const e=t.map(i=>Hc(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),xg(n)}function tf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const zx="0123456789abcdef";function df(t,e){if(e||(e={}),typeof t=="number"){Lu.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=zx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),EL(t))return t.toHexString();if(tf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Lu.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ZS(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=zx[(i&240)>>4]+zx[i&15]}return r}return Lu.throwArgumentError("invalid hexlify value","value",t)}function b_(t){let e="0x";return t.forEach(r=>{e+=df(r).substring(2)}),e}function zw(t,e){for(typeof t!="string"?t=df(t):tf(t)||Lu.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Lu.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function La(t){return"0x"+G0.keccak_256(Hc(t))}const Wme="bignumber/5.8.0";var Gw=te.BN;const hl=new Ns(Wme),Gx={},O5=9007199254740991;let D5=!1,ql=class la{constructor(e,r){e!==Gx&&hl.throwError("cannot call constructor directly; use BigNumber.from",Ns.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ls(yt(this).fromTwos(e))}toTwos(e){return ls(yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?la.from(this._hex.substring(1)):this}add(e){return ls(yt(this).add(yt(e)))}sub(e){return ls(yt(this).sub(yt(e)))}div(e){return la.from(e).isZero()&&fo("division-by-zero","div"),ls(yt(this).div(yt(e)))}mul(e){return ls(yt(this).mul(yt(e)))}mod(e){const r=yt(e);return r.isNeg()&&fo("division-by-zero","mod"),ls(yt(this).umod(r))}pow(e){const r=yt(e);return r.isNeg()&&fo("negative-power","pow"),ls(yt(this).pow(r))}and(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","and"),ls(yt(this).and(r))}or(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","or"),ls(yt(this).or(r))}xor(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","xor"),ls(yt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&fo("negative-width","mask"),ls(yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fo("negative-width","shl"),ls(yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fo("negative-width","shr"),ls(yt(this).shrn(e))}eq(e){return yt(this).eq(yt(e))}lt(e){return yt(this).lt(yt(e))}lte(e){return yt(this).lte(yt(e))}gt(e){return yt(this).gt(yt(e))}gte(e){return yt(this).gte(yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return yt(this).isZero()}toNumber(){try{return yt(this).toNumber()}catch{fo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hl.throwError("this platform does not support BigInt",Ns.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?D5||(D5=!0,hl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ns.errors.UNEXPECTED_ARGUMENT,{}):hl.throwError("BigNumber.toString does not accept parameters",Ns.errors.UNEXPECTED_ARGUMENT,{})),yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof la)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new la(Gx,Wm(e)):e.match(/^-?[0-9]+$/)?new la(Gx,Wm(new Gw(e))):hl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&fo("underflow","BigNumber.from",e),(e>=O5||e<=-O5)&&fo("overflow","BigNumber.from",e),la.from(String(e));const r=e;if(typeof r=="bigint")return la.from(r.toString());if(ZS(r))return la.from(df(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return la.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(tf(n)||n[0]==="-"&&tf(n.substring(1))))return la.from(n)}return hl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Wm(t){if(typeof t!="string")return Wm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&hl.throwArgumentError("invalid hex","value",t),t=Wm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ls(t){return ql.from(Wm(t))}function yt(t){const e=ql.from(t).toHexString();return e[0]==="-"?new Gw("-"+e.substring(3),16):new Gw(e.substring(2),16)}function fo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),hl.throwError(t,Ns.errors.NUMERIC_FAULT,n)}function qme(t){return new Gw(t,36).toString(16)}const zme="strings/5.8.0",vL=new Ns(zme);var qm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(qm||(qm={}));var Bs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Bs||(Bs={}));function Gme(t,e,r,n,i){return vL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function xL(t,e,r,n,i){if(t===Bs.BAD_PREFIX||t===Bs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Bs.OVERRUN?r.length-e-1:0}function Kme(t,e,r,n,i){return t===Bs.OVERLONG?(n.push(i),0):(n.push(65533),xL(t,e,r))}const Vme=Object.freeze({error:Gme,ignore:xL,replace:Kme});function AL(t,e){e==null&&(e=Vme.error),t=Hc(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Bs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Bs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Bs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Bs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Bs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Bs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Bs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function u0(t,e=qm.current){e!=qm.current&&(vL.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Hc(r)}function Jme(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Yme(t,e){return Jme(AL(t,e))}function Xme(t,e=qm.current){return AL(u0(t,e))}function tI(t){return La(u0(t))}const CL="hash/5.7.0";function Qme(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Hc(e)}function NL(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function Zme(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function eye(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let O=1;O<n;O++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let O=0;O<f;O++)b=b<<1|u();let w=[],x=0,S=d;for(;;){let O=Math.floor(((b-x+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;O<s[M]?F=M:k=M}if(k==0)break;w.push(k);let N=x+Math.floor(S*s[k]/i),v=x+Math.floor(S*s[k+1]/i)-1;for(;((N^v)&h)==0;)b=b<<1&g|u(),N=N<<1&g,v=v<<1&g|1;for(;N&~v&m;)b=b&h|b<<1&g>>>1|u(),N=N<<1^h,v=(v^h)<<1|h|1;x=N,S=1+v-N}let D=n-4;return w.map(O=>{switch(O-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return O-1}})}function tye(t){let e=0;return()=>t[e++]}function rye(t){return tye(eye(t))}function nye(t){return t&1?~t>>1:t>>1}function iye(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function k5(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function sye(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=nye(e());return r}function Kw(t,e){let r=k5(t(),t),n=t(),i=k5(n,t),s=iye(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function oye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(cye(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(lye(r,t))}return Zme(NL(e))}function aye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function SL(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)sye(t,r).forEach((s,o)=>n[o].push(s));return n}function cye(t,e){let r=1+e(),n=e(),i=aye(e),s=SL(i.length,1+t,e);return NL(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function lye(t,e){let r=1+e();return SL(r,1+t,e).map(i=>[i[0],i.slice(1)])}function uye(t){let e=Kw(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Kw(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function fye(){return rye(Qme("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const sE=fye(),dye=new Set(Kw(sE)),hye=new Set(Kw(sE)),pye=oye(sE),gye=uye(sE),M5=45,U5=95;function IL(t){return Xme(t)}function mye(t){return t.filter(e=>e!=65039)}function TL(t){for(let e of t.split(".")){let r=IL(e);try{for(let n=r.lastIndexOf(U5)-1;n>=0;n--)if(r[n]!==U5)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===M5&&r[3]===M5)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function yye(t){return TL(bye(t,mye))}function bye(t,e){let r=IL(t).reverse(),n=[];for(;r.length;){let i=wye(r);if(i){n.push(...e(i));continue}let s=r.pop();if(dye.has(s)){n.push(s);continue}if(hye.has(s))continue;let o=pye[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return TL(_ye(String.fromCodePoint(...n)))}function _ye(t){return t.normalize("NFC")}function wye(t,e){var r;let n=gye,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const Eye=new Ns(CL),RL=new Uint8Array(32);RL.fill(0);function $5(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function oE(t){const e=u0(yye(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push($5(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push($5(e.slice(n))),r}function vye(t){return oE(t).map(e=>Yme(e)).join(".")}function xye(t){try{return oE(t).length!==0}catch{}return!1}function Aye(t){typeof t!="string"&&Eye.throwArgumentError("invalid ENS name; not a string","name",t);let e=RL;const r=oE(t);for(;r.length;)e=La(eI([e,La(r.pop())]));return df(e)}function Cye(t){return df(eI(oE(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const PL=`Ethereum Signed Message:
`;function Nye(t){return typeof t=="string"&&(t=u0(t)),La(eI([u0(PL),u0(String(t.length)),t]))}const Sye="address/5.8.0",qp=new Ns(Sye);function L5(t){tf(t,20)||qp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Hc(La(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Iye=9007199254740991;function Tye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const rI={};for(let t=0;t<10;t++)rI[String(t)]=String(t);for(let t=0;t<26;t++)rI[String.fromCharCode(65+t)]=String(10+t);const F5=Math.floor(Tye(Iye));function Rye(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>rI[n]).join("");for(;e.length>=F5;){let n=e.substring(0,F5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function OL(t){let e=null;if(typeof t!="string"&&qp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=L5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&qp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Rye(t)&&qp.throwArgumentError("bad icap checksum","address",t),e=qme(t.substring(4));e.length<40;)e="0"+e;e=L5("0x"+e)}else qp.throwArgumentError("invalid address","address",t);return e}const Pye="properties/5.8.0",DL=new Ns(Pye);function zp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function B5(t){const e={};for(const r in t)e[r]=t[r];return e}const Oye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function kL(t){if(t==null||Oye[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!kL(n))return!1}return!0}return DL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Dye(t){if(kL(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>SC(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&zp(e,r,SC(n))}return e}return DL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function SC(t){return Dye(t)}var kye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qr=new Ns(CL),ML=new Uint8Array(32);ML.fill(0);const Mye=ql.from(-1),UL=ql.from(0),$L=ql.from(1),Uye=ql.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $ye(t){const e=Hc(t),r=e.length%32;return r?b_([e,ML.slice(r)]):df(e)}const Lye=zw($L.toHexString(),32),Fye=zw(UL.toHexString(),32),j5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Kx=["name","version","chainId","verifyingContract","salt"];function H5(t){return function(e){return typeof e!="string"&&qr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Bye={name:H5("name"),version:H5("version"),chainId:function(t){try{return ql.from(t).toString()}catch{}return qr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return OL(t).toLowerCase()}catch{}return qr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Hc(t);if(e.length!==32)throw new Error("bad length");return df(e)}catch{}return qr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Vx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qr.throwArgumentError("invalid numeric width","type",t);const i=Uye.mask(r?n-1:n),s=r?i.add($L).mul(Mye):UL;return function(o){const a=ql.from(o);return(a.lt(s)||a.gt(i))&&qr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),zw(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&qr.throwArgumentError("invalid bytes width","type",t),function(n){return Hc(n).length!==r&&qr.throwArgumentError(`invalid length for ${t}`,"value",n),$ye(n)}}}switch(t){case"address":return function(e){return zw(OL(e),32)};case"bool":return function(e){return e?Lye:Fye};case"bytes":return function(e){return La(e)};case"string":return function(e){return tI(e)}}return null}function W5(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class wo{constructor(e){zp(this,"types",Object.freeze(SC(e))),zp(this,"_encoderCache",{}),zp(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&qr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Vx(u)&&(n[u]||qr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?qr.throwArgumentError("missing primary type","types",e):s.length>1&&qr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),zp(this,"primaryType",s[0]);function o(a,c){c[a]&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=W5(a,e[a])+c.map(l=>W5(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Vx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(La)),La(b_(c))}}const n=this.types[e];if(n){const i=tI(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?La(l):l});return o.unshift(i),b_(o)}}return qr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||qr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return La(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Vx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):qr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new wo(e)}static getPrimaryType(e){return wo.from(e).primaryType}static hashStruct(e,r,n){return wo.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=j5[n];i||qr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Kx.indexOf(n.name)-Kx.indexOf(i.name)),wo.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return b_(["0x1901",wo.hashDomain(e),wo.from(r).hash(n)])}static hash(e,r,n){return La(wo.encode(e,r,n))}static resolveNames(e,r,n,i){return kye(this,void 0,void 0,function*(){e=B5(e);const s={};e.verifyingContract&&!tf(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=wo.from(r);o.visit(n,(a,c)=>(a==="address"&&!tf(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){wo.hashDomain(e);const i={},s=[];Kx.forEach(c=>{const l=e[c];l!=null&&(i[c]=Bye[c](l),s.push({name:c,type:j5[c]}))});const o=wo.from(r),a=B5(r);return a.EIP712Domain?qr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return df(Hc(l));if(c.match(/^u?int/))return ql.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&qr.throwArgumentError("invalid string","value",l),l}return qr.throwArgumentError("unsupported type","type",c)})}}}const jye=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:wo,dnsEncode:Cye,ensNormalize:vye,hashMessage:Nye,id:tI,isValidName:xye,messagePrefix:PL,namehash:Aye},Symbol.toStringTag,{value:"Module"})),Hye="logger/5.8.0";let q5=!1,z5=!1;const __={debug:1,default:2,info:2,warning:3,error:4,off:5};let G5=__.default,Jx=null;function Wye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const K5=Wye();var IC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(IC||(IC={}));var va;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(va||(va={}));const V5="0123456789abcdef";let Oi=class An{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();__[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(G5>__[n])&&console.log.apply(console,r)}debug(...e){this._log(An.levels.DEBUG,e)}info(...e){this._log(An.levels.INFO,e)}warn(...e){this._log(An.levels.WARNING,e)}makeError(e,r,n){if(z5)return this.makeError("censored error",r,{});r||(r=An.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=V5[l[f]>>4],u+=V5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case va.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case va.CALL_EXCEPTION:case va.INSUFFICIENT_FUNDS:case va.MISSING_NEW:case va.NONCE_EXPIRED:case va.REPLACEMENT_UNDERPRICED:case va.TRANSACTION_REPLACED:case va.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,An.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){K5&&this.throwError("platform missing String.prototype.normalize",An.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:K5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,An.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,An.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",An.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Jx||(Jx=new An(Hye)),Jx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),q5){if(!e)return;this.globalLogger().throwError("error censorship permanent",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}z5=!!e,q5=!!r}static setLogLevel(e){const r=__[e.toLowerCase()];if(r==null){An.globalLogger().warn("invalid log level - "+e);return}G5=r}static from(e){return new An(e)}};Oi.errors=va;Oi.levels=IC;const qye="bytes/5.8.0",en=new Oi(qye);function LL(t){return!!t.toHexString}function f0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return f0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function zye(t){return Ro(t)&&!(t.length%2)||aE(t)}function J5(t){return typeof t=="number"&&t==t&&t%1===0}function aE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!J5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!J5(r)||r<0||r>=256)return!1}return!0}function wt(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),f0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),LL(t)&&(t=t.toHexString()),Ro(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":en.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return f0(new Uint8Array(n))}return aE(t)?f0(new Uint8Array(t)):en.throwArgumentError("invalid arrayify value","value",t)}function TC(t){const e=t.map(i=>wt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),f0(n)}function Gye(t,e){t=wt(t),t.length>e&&en.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),f0(r)}function Ro(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Yx="0123456789abcdef";function ar(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Yx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),LL(t))return t.toHexString();if(Ro(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":en.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(aE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Yx[(i&240)>>4]+Yx[i&15]}return r}return en.throwArgumentError("invalid hexlify value","value",t)}function Kye(t){if(typeof t!="string")t=ar(t);else if(!Ro(t)||t.length%2)return null;return(t.length-2)/2}function Vw(t,e,r){return typeof t!="string"?t=ar(t):(!Ro(t)||t.length%2)&&en.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Fu(t,e){for(typeof t!="string"?t=ar(t):Ro(t)||en.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&en.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Vye(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(zye(t)){let r=wt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ar(r.slice(0,32)),e.s=ar(r.slice(32,64))):r.length===65?(e.r=ar(r.slice(0,32)),e.s=ar(r.slice(32,64)),e.v=r[64]):en.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:en.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ar(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Gye(wt(e._vs),32);e._vs=ar(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&en.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ar(i);e.s==null?e.s=o:e.s!==o&&en.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?en.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&en.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ro(e.r)?en.throwArgumentError("signature missing or invalid r","signature",t):e.r=Fu(e.r,32),e.s==null||!Ro(e.s)?en.throwArgumentError("signature missing or invalid s","signature",t):e.s=Fu(e.s,32);const r=wt(e.s);r[0]>=128&&en.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ar(r);e._vs&&(Ro(e._vs)||en.throwArgumentError("signature invalid _vs","signature",t),e._vs=Fu(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&en.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function ur(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class FL{constructor(e){ur(this,"alphabet",e),ur(this,"base",e.length),ur(this,"_alphabetMap",{}),ur(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=wt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return wt(new Uint8Array(r.reverse()))}}new FL("abcdefghijklmnopqrstuvwxyz234567");const BL=new FL("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Jye="bignumber/5.8.0";var Jw=te.BN;const pl=new Oi(Jye),Xx={},Y5=9007199254740991;let X5=!1,cE=class ua{constructor(e,r){e!==Xx&&pl.throwError("cannot call constructor directly; use BigNumber.from",Oi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return us(bt(this).fromTwos(e))}toTwos(e){return us(bt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ua.from(this._hex.substring(1)):this}add(e){return us(bt(this).add(bt(e)))}sub(e){return us(bt(this).sub(bt(e)))}div(e){return ua.from(e).isZero()&&ho("division-by-zero","div"),us(bt(this).div(bt(e)))}mul(e){return us(bt(this).mul(bt(e)))}mod(e){const r=bt(e);return r.isNeg()&&ho("division-by-zero","mod"),us(bt(this).umod(r))}pow(e){const r=bt(e);return r.isNeg()&&ho("negative-power","pow"),us(bt(this).pow(r))}and(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","and"),us(bt(this).and(r))}or(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","or"),us(bt(this).or(r))}xor(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","xor"),us(bt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ho("negative-width","mask"),us(bt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ho("negative-width","shl"),us(bt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ho("negative-width","shr"),us(bt(this).shrn(e))}eq(e){return bt(this).eq(bt(e))}lt(e){return bt(this).lt(bt(e))}lte(e){return bt(this).lte(bt(e))}gt(e){return bt(this).gt(bt(e))}gte(e){return bt(this).gte(bt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return bt(this).isZero()}toNumber(){try{return bt(this).toNumber()}catch{ho("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return pl.throwError("this platform does not support BigInt",Oi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?X5||(X5=!0,pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Oi.errors.UNEXPECTED_ARGUMENT,{}):pl.throwError("BigNumber.toString does not accept parameters",Oi.errors.UNEXPECTED_ARGUMENT,{})),bt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ua)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ua(Xx,zm(e)):e.match(/^-?[0-9]+$/)?new ua(Xx,zm(new Jw(e))):pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ho("underflow","BigNumber.from",e),(e>=Y5||e<=-Y5)&&ho("overflow","BigNumber.from",e),ua.from(String(e));const r=e;if(typeof r=="bigint")return ua.from(r.toString());if(aE(r))return ua.from(ar(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ua.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ro(n)||n[0]==="-"&&Ro(n.substring(1))))return ua.from(n)}return pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function zm(t){if(typeof t!="string")return zm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&pl.throwArgumentError("invalid hex","value",t),t=zm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function us(t){return cE.from(zm(t))}function bt(t){const e=cE.from(t).toHexString();return e[0]==="-"?new Jw("-"+e.substring(3),16):new Jw(e.substring(2),16)}function ho(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),pl.throwError(t,Oi.errors.NUMERIC_FAULT,n)}function Yye(t){return new Jw(t,36).toString(16)}const Xye="strings/5.8.0",Qye=new Oi(Xye);var R0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(R0||(R0={}));var Q5;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Q5||(Q5={}));function Yw(t,e=R0.current){e!=R0.current&&(Qye.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return wt(r)}var Gm;(function(t){t.sha256="sha256",t.sha512="sha512"})(Gm||(Gm={}));const Zye="sha2/5.8.0",ebe=new Oi(Zye);function tbe(t){return"0x"+Ye.ripemd160().update(wt(t)).digest("hex")}function Km(t){return"0x"+Ye.sha256().update(wt(t)).digest("hex")}function Xw(t,e,r){return Gm[t]||ebe.throwError("unsupported algorithm "+t,Oi.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],wt(e)).update(wt(r)).digest("hex")}function rbe(t,e,r,n,i){t=wt(t),e=wt(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=wt(Xw(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=wt(Xw(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(wt(u).slice(0,m),h)}return ar(a)}function Z0(t,e,r){return r={path:e,exports:{},require:function(n,i){return nbe(n,i??r.path)}},t(r,r.exports),r.exports}function nbe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var nI=jL;function jL(t,e){if(!t)throw new Error(e||"Assertion failed")}jL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var qa=Z0(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),to=Z0(function(t,e){var r=e;r.assert=nI,r.toArray=qa.toArray,r.zero2=qa.zero2,r.toHex=qa.toHex,r.encode=qa.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===b+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),Qw=to.getNAF,ibe=to.getJSF,Zw=to.assert;function hf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Jd=hf;hf.prototype.point=function(){throw new Error("Not implemented")};hf.prototype.validate=function(){throw new Error("Not implemented")};hf.prototype._fixedNafMul=function(e,r){Zw(e.precomputed);var n=e._getDoubles(),i=Qw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};hf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Qw(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];Zw(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};hf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=Qw(n[m],o[m],this._bitLength),c[g]=Qw(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=ibe(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,D=x[1][f]|0;c[m][f]=w[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function zo(t,e){this.curve=t,this.type=e,this.precomputed=null}hf.BasePoint=zo;zo.prototype.eq=function(){throw new Error("Not implemented")};zo.prototype.validate=function(){return this.curve.validate(this)};hf.prototype.decodePoint=function(e,r){e=to.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Zw(e[e.length-1]%2===0):e[0]===7&&Zw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};zo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};zo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};zo.prototype.encode=function(e,r){return to.encode(this._encode(r),e)};zo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};zo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};zo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};zo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};zo.prototype._getBeta=function(){return null};zo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var iI=Z0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),sbe=to.assert;function Go(t){Jd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}iI(Go,Jd);var obe=Go;Go.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],sbe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Go.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Go.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++b===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=D}h=w.neg(),m=x;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Go.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Go.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Go.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Go.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Qn(t,e,r,n){Jd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}iI(Qn,Jd.BasePoint);Go.prototype.point=function(e,r,n){return new Qn(this,e,r,n)};Go.prototype.pointFromJSON=function(e,r){return Qn.fromJSON(this,e,r)};Qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qn.prototype.isInfinity=function(){return this.inf};Qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qn.prototype.getX=function(){return this.x.fromRed()};Qn.prototype.getY=function(){return this.y.fromRed()};Qn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mi(t,e,r,n){Jd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}iI(mi,Jd.BasePoint);Go.prototype.jpoint=function(e,r,n){return new mi(this,e,r,n)};mi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};mi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};mi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};mi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(b),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};mi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};mi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};mi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};mi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};mi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};mi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};mi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};mi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var w_=Z0(function(t,e){var r=e;r.base=Jd,r.short=obe,r.mont=null,r.edwards=null}),E_=Z0(function(t,e){var r=e,n=to.assert;function i(a){a.type==="short"?this.curve=new w_.short(a):a.type==="edwards"?this.curve=new w_.edwards(a):this.curve=new w_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function rf(t){if(!(this instanceof rf))return new rf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=qa.toArray(t.entropy,t.entropyEnc||"hex"),r=qa.toArray(t.nonce,t.nonceEnc||"hex"),n=qa.toArray(t.pers,t.persEnc||"hex");nI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var HL=rf;rf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};rf.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};rf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};rf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=qa.toArray(e,r),n=qa.toArray(n,i),nI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};rf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=qa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,qa.encode(o,r)};var RC=to.assert;function ki(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var sI=ki;ki.fromPublic=function(e,r,n){return r instanceof ki?r:new ki(e,{pub:r,pubEnc:n})};ki.fromPrivate=function(e,r,n){return r instanceof ki?r:new ki(e,{priv:r,privEnc:n})};ki.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ki.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ki.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ki.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ki.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?RC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&RC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ki.prototype.derive=function(e){return e.validate()||RC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ki.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ki.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ki.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var abe=to.assert;function lE(t,e){if(t instanceof lE)return t;this._importDER(t,e)||(abe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var uE=lE;function cbe(){this.place=0}function Qx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Z5(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}lE.prototype._importDER=function(e,r){e=to.toArray(e,r);var n=new cbe;if(e[n.place++]!==48)return!1;var i=Qx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Qx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Qx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function Zx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}lE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Z5(r),n=Z5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Zx(i,r.length),i=i.concat(r),i.push(2),Zx(i,n.length);var s=i.concat(n),o=[48];return Zx(o,s.length),o=o.concat(s),to.encode(o,e)};var lbe=(function(){throw new Error("unsupported")}),Zf=to.assert;function $o(t){if(!(this instanceof $o))return new $o(t);typeof t=="string"&&(Zf(Object.prototype.hasOwnProperty.call(E_,t),"Unknown curve "+t),t=E_[t]),t instanceof E_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ube=$o;$o.prototype.keyPair=function(e){return new sI(this,e)};$o.prototype.keyFromPrivate=function(e,r){return sI.fromPrivate(this,e,r)};$o.prototype.keyFromPublic=function(e,r){return sI.fromPublic(this,e,r)};$o.prototype.genKeyPair=function(e){e||(e={});for(var r=new HL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||lbe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};$o.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};$o.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){Zf(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Zf(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Zf((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Zf(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);Zf(new te(c).eq(e),"Can not sign message");for(var l=new HL({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),w^=1),new uE({r:g,s:b,recoveryParam:w})}}}}}};$o.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new uE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};$o.prototype.recoverPubKey=function(t,e,r,n){Zf((3&r)===r,"The recovery param is more than two bits"),e=new uE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};$o.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new uE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var fbe=Z0(function(t,e){var r=e;r.version="6.6.1",r.utils=to,r.rand=(function(){throw new Error("unsupported")}),r.curve=w_,r.curves=E_,r.ec=ube,r.eddsa=null}),dbe=fbe.ec;const hbe="signing-key/5.8.0",PC=new Oi(hbe);let eA=null;function zf(){return eA||(eA=new dbe("secp256k1")),eA}let OC=class{constructor(e){ur(this,"curve","secp256k1"),ur(this,"privateKey",ar(e)),Kye(this.privateKey)!==32&&PC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=zf().keyFromPrivate(wt(this.privateKey));ur(this,"publicKey","0x"+r.getPublic(!1,"hex")),ur(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ur(this,"_isSigningKey",!0)}_addPoint(e){const r=zf().keyFromPublic(wt(this.publicKey)),n=zf().keyFromPublic(wt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=zf().keyFromPrivate(wt(this.privateKey)),n=wt(e);n.length!==32&&PC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Vye({recoveryParam:i.recoveryParam,r:Fu("0x"+i.r.toString(16),32),s:Fu("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=zf().keyFromPrivate(wt(this.privateKey)),n=zf().keyFromPublic(wt(WL(e)));return Fu("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function WL(t,e){const r=wt(t);return r.length===32?new OC(r).publicKey:r.length===33?"0x"+zf().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ar(r):PC.throwArgumentError("invalid public or private key","key","[REDACTED]")}function oI(t){return"0x"+G0.keccak_256(wt(t))}const pbe="address/5.8.0",Gp=new Oi(pbe);function e8(t){Ro(t,20)||Gp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=wt(oI(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const gbe=9007199254740991;function mbe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const aI={};for(let t=0;t<10;t++)aI[String(t)]=String(t);for(let t=0;t<26;t++)aI[String.fromCharCode(65+t)]=String(10+t);const t8=Math.floor(mbe(gbe));function ybe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>aI[n]).join("");for(;e.length>=t8;){let n=e.substring(0,t8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function bbe(t){let e=null;if(typeof t!="string"&&Gp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=e8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Gp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==ybe(t)&&Gp.throwArgumentError("bad icap checksum","address",t),e=Yye(t.substring(4));e.length<40;)e="0"+e;e=e8("0x"+e)}else Gp.throwArgumentError("invalid address","address",t);return e}var r8;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(r8||(r8={}));function _be(t){const e=WL(t);return bbe(Vw(oI(Vw(e,1)),12))}function wbe(t){return oI(Yw(t))}const Ebe="wordlists/5.8.0",vbe=new Oi(Ebe);class Ty{constructor(e){vbe.checkAbstract(new.target,Ty),ur(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return wbe(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const xbe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ag=null;function n8(t){if(Ag==null&&(Ag=xbe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ty.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ag=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Abe extends Ty{constructor(){super("en")}getWord(e){return n8(this),Ag[e]}getWordIndex(e){return n8(this),Ag.indexOf(e)}}const qL=new Abe;Ty.register(qL);const i8={en:qL},Cbe="hdnode/5.7.0",Vm=new Oi(Cbe),Nbe=cE.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Sbe=Yw("Bitcoin seed"),Bh=2147483648;function zL(t){return(1<<t)-1<<8-t}function Ibe(t){return(1<<t)-1}function Nb(t){return Fu(ar(t),32)}function s8(t){return BL.encode(TC([t,Vw(Km(Km(t)),0,4)]))}function cI(t){if(t==null)return i8.en;if(typeof t=="string"){const e=i8[t];return e==null&&Vm.throwArgumentError("unknown locale","wordlist",t),e}return t}const xh={},Tbe="m/44'/60'/0'/0/0";class gl{constructor(e,r,n,i,s,o,a,c){if(e!==xh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new OC(r);ur(this,"privateKey",l.privateKey),ur(this,"publicKey",l.compressedPublicKey)}else ur(this,"privateKey",null),ur(this,"publicKey",ar(n));ur(this,"parentFingerprint",i),ur(this,"fingerprint",Vw(tbe(Km(this.publicKey)),0,4)),ur(this,"address",_be(this.publicKey)),ur(this,"chainCode",s),ur(this,"index",o),ur(this,"depth",a),c==null?(ur(this,"mnemonic",null),ur(this,"path",null)):typeof c=="string"?(ur(this,"mnemonic",null),ur(this,"path",c)):(ur(this,"mnemonic",c),ur(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return s8(TC([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ar(this.depth),this.parentFingerprint,Fu(ar(this.index),4),this.chainCode,this.privateKey!=null?TC(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new gl(xh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Bh));const n=new Uint8Array(37);if(e&Bh){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(wt(this.privateKey),1),r&&(r+="'")}else n.set(wt(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=wt(Xw(Gm.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Nb(cE.from(s).add(this.privateKey).mod(Nbe)):c=new OC(ar(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new gl(xh,a,c,this.fingerprint,Nb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Bh)throw new Error("invalid path index - "+s);n=n._derive(Bh+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Bh)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=wt(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=wt(Xw(Gm.sha512,Sbe,n));return new gl(xh,Nb(i.slice(0,32)),null,"0x00000000",Nb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=cI(n),e=KL(lI(e,n),n),gl._fromSeed(GL(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return gl._fromSeed(e,null)}static fromExtendedKey(e){const r=BL.decode(e);(r.length!==82||s8(r.slice(0,78))!==e)&&Vm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ar(r.slice(5,9)),s=parseInt(ar(r.slice(9,13)).substring(2),16),o=ar(r.slice(13,45)),a=r.slice(45,78);switch(ar(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new gl(xh,null,ar(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new gl(xh,ar(a.slice(1)),null,i,o,s,n,null)}return Vm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function GL(t,e){e||(e="");const r=Yw("mnemonic"+e,R0.NFKD);return rbe(Yw(t,R0.NFKD),r,2048,64,"sha512")}function lI(t,e){e=cI(e),Vm.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=wt(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=zL(o);if((wt(Km(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ar(n.slice(0,s/8))}function KL(t,e){if(e=cI(e),t=wt(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Ibe(8-n)),n+=3);const i=t.length/4,s=wt(Km(t))[0]&zL(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function Rbe(t,e){try{return lI(t,e),!0}catch{}return!1}function Pbe(t){return(typeof t!="number"||t<0||t>=Bh||t%1)&&Vm.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const Obe=Object.freeze(Object.defineProperty({__proto__:null,HDNode:gl,defaultPath:Tbe,entropyToMnemonic:KL,getAccountPath:Pbe,isValidMnemonic:Rbe,mnemonicToEntropy:lI,mnemonicToSeed:GL},Symbol.toStringTag,{value:"Module"})),VL="json-wallets/5.7.0";function _d(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Tp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function uI(t){return typeof t=="string"?Xr(t,Fl.NFKC):de(t)}function on(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function Dbe(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const kbe=new re(VL);class Mbe extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function fI(t,e){const r=JSON.parse(t);e=uI(e);const n=Jt(on(r,"ethaddr")),i=_d(on(r,"encseed"));(!i||i.length%16!==0)&&kbe.throwArgumentError("invalid encseed","json",t);const s=de(Sy(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new gn.ModeOfOperation.cbc(s,o),l=gn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Xr(u),d=qt(f);return new Mbe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function fE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function dE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Ube(t){if(fE(t))try{return Jt(JSON.parse(t).ethaddr)}catch{return null}if(dE(t))try{return Jt(JSON.parse(t).address)}catch{return null}return null}var $be=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const DC=new re(VL);function o8(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class Lbe extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Fbe(t,e,r){if(on(t,"crypto/cipher")==="aes-128-ctr"){const i=_d(on(t,"crypto/cipherparams/iv")),s=new gn.Counter(i),o=new gn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function JL(t,e){const r=_d(on(t,"crypto/ciphertext"));if(ye(qt(zt([e.slice(16,32),r]))).substring(2)!==on(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Fbe(t,e.slice(0,16),r);i||DC.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Pl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Jt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(on(t,"x-ethers/version")==="0.1"){const c=_d(on(t,"x-ethers/mnemonicCiphertext")),l=_d(on(t,"x-ethers/mnemonicCounter")),u=new gn.Counter(l),f=new gn.ModeOfOperation.ctr(s,u),d=on(t,"x-ethers/path")||Qu,h=on(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=eE(m,h),b=T0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Lbe(a)}function YL(t,e,r,n,i){return de(Sy(t,e,r,n,i))}function Bbe(t,e,r,n,i){return Promise.resolve(YL(t,e,r,n,i))}function XL(t,e,r,n,i){const s=uI(e),o=on(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return DC.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=_d(on(t,"crypto/kdfparams/salt")),l=parseInt(on(t,"crypto/kdfparams/n")),u=parseInt(on(t,"crypto/kdfparams/r")),f=parseInt(on(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=_d(on(t,"crypto/kdfparams/salt"));let l=null;const u=on(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(on(t,"crypto/kdfparams/c")),d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return DC.throwArgumentError("unsupported key-derivation function","kdf",o)}function QL(t,e){const r=JSON.parse(t),n=XL(r,e,YL,X0.syncScrypt);return JL(r,n)}function ZL(t,e,r){return $be(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield XL(n,e,Bbe,X0.scrypt,r);return JL(n,i)})}function jbe(t,e,r,n){try{if(Jt(t.address)!==Pl(t.privateKey))throw new Error("address/privateKey mismatch");if(o8(t)){const b=t.mnemonic;if(T0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||Qu).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=uI(e);let o=null,a=null,c=null;if(o8(t)){const b=t.mnemonic;o=de(HS(b.phrase,b.locale||"en")),a=b.path||Qu,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Al(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Al(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Al(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),X0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const w=b.slice(0,16),x=b.slice(16,32),S=b.slice(32,64),D=new gn.Counter(f),O=new gn.ModeOfOperation.ctr(w,D),k=de(O.encrypt(i)),F=qt(zt([x,k])),N={address:t.address.substring(2).toLowerCase(),id:Dbe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const v=Al(16),M=new gn.Counter(v),$=new gn.ModeOfOperation.ctr(S,M),P=de($.encrypt(o)),C=new Date,p=C.getUTCFullYear()+"-"+Tp(C.getUTCMonth()+1,2)+"-"+Tp(C.getUTCDate(),2)+"T"+Tp(C.getUTCHours(),2)+"-"+Tp(C.getUTCMinutes(),2)+"-"+Tp(C.getUTCSeconds(),2)+".0Z";N["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+N.address,mnemonicCounter:ye(v).substring(2),mnemonicCiphertext:ye(P).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(N)})}function Hbe(t,e,r){if(fE(t)){r&&r(0);const n=fI(t,e);return r&&r(1),Promise.resolve(n)}return dE(t)?ZL(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Wbe(t,e){if(fE(t))return fI(t,e);if(dE(t))return QL(t,e);throw new Error("invalid JSON wallet")}const qbe=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:fI,decryptJsonWallet:Hbe,decryptJsonWalletSync:Wbe,decryptKeystore:ZL,decryptKeystoreSync:QL,encryptKeystore:jbe,getJsonWalletAddress:Ube,isCrowdsaleWallet:fE,isKeystoreWallet:dE},Symbol.toStringTag,{value:"Module"})),zbe="logger/5.8.0";let a8=!1,c8=!1;const v_={debug:1,default:2,info:2,warning:3,error:4,off:5};let l8=v_.default,tA=null;function Gbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const u8=Gbe();var kC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(kC||(kC={}));var xa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xa||(xa={}));const f8="0123456789abcdef";let dI=class Cn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();v_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(l8>v_[n])&&console.log.apply(console,r)}debug(...e){this._log(Cn.levels.DEBUG,e)}info(...e){this._log(Cn.levels.INFO,e)}warn(...e){this._log(Cn.levels.WARNING,e)}makeError(e,r,n){if(c8)return this.makeError("censored error",r,{});r||(r=Cn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=f8[l[f]>>4],u+=f8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xa.CALL_EXCEPTION:case xa.INSUFFICIENT_FUNDS:case xa.MISSING_NEW:case xa.NONCE_EXPIRED:case xa.REPLACEMENT_UNDERPRICED:case xa.TRANSACTION_REPLACED:case xa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Cn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){u8&&this.throwError("platform missing String.prototype.normalize",Cn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Cn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Cn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Cn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return tA||(tA=new Cn(zbe)),tA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c8=!!e,a8=!!r}static setLogLevel(e){const r=v_[e.toLowerCase()];if(r==null){Cn.globalLogger().warn("invalid log level - "+e);return}l8=r}static from(e){return new Cn(e)}};dI.errors=xa;dI.levels=kC;const Kbe="bytes/5.8.0",rA=new dI(Kbe);function Vbe(t){return!!t.toHexString}function x_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return x_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function d8(t){return typeof t=="number"&&t==t&&t%1===0}function Jbe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!d8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!d8(r)||r<0||r>=256)return!1}return!0}function Ybe(t,e){if(e||(e={}),typeof t=="number"){rA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),x_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Vbe(t)&&(t=t.toHexString()),Xbe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":rA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return x_(new Uint8Array(n))}return Jbe(t)?x_(new Uint8Array(t)):rA.throwArgumentError("invalid arrayify value","value",t)}function Xbe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Qbe(t){return"0x"+G0.keccak_256(Ybe(t))}const Zbe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Qbe},Symbol.toStringTag,{value:"Module"})),e_e="logger/5.7.0";let h8=!1,p8=!1;const A_={debug:1,default:2,info:2,warning:3,error:4,off:5};let g8=A_.default,nA=null;function t_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m8=t_e();var e1;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(e1||(e1={}));var xo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xo||(xo={}));const y8="0123456789abcdef";let hI=class Nn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();A_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g8>A_[n])&&console.log.apply(console,r)}debug(...e){this._log(Nn.levels.DEBUG,e)}info(...e){this._log(Nn.levels.INFO,e)}warn(...e){this._log(Nn.levels.WARNING,e)}makeError(e,r,n){if(p8)return this.makeError("censored error",r,{});r||(r=Nn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y8[l[f]>>4],u+=y8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xo.CALL_EXCEPTION:case xo.INSUFFICIENT_FUNDS:case xo.MISSING_NEW:case xo.NONCE_EXPIRED:case xo.REPLACEMENT_UNDERPRICED:case xo.TRANSACTION_REPLACED:case xo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Nn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m8&&this.throwError("platform missing String.prototype.normalize",Nn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Nn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Nn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Nn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return nA||(nA=new Nn(e_e)),nA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p8=!!e,h8=!!r}static setLogLevel(e){const r=A_[e.toLowerCase()];if(r==null){Nn.globalLogger().warn("invalid log level - "+e);return}g8=r}static from(e){return new Nn(e)}};hI.errors=xo;hI.levels=e1;const r_e=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return xo},get LogLevel(){return e1},Logger:hI},Symbol.toStringTag,{value:"Module"})),n_e="logger/5.8.0";let b8=!1,_8=!1;const C_={debug:1,default:2,info:2,warning:3,error:4,off:5};let w8=C_.default,iA=null;function i_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const E8=i_e();var MC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(MC||(MC={}));var Aa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Aa||(Aa={}));const v8="0123456789abcdef";let Ry=class Sn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();C_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(w8>C_[n])&&console.log.apply(console,r)}debug(...e){this._log(Sn.levels.DEBUG,e)}info(...e){this._log(Sn.levels.INFO,e)}warn(...e){this._log(Sn.levels.WARNING,e)}makeError(e,r,n){if(_8)return this.makeError("censored error",r,{});r||(r=Sn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=v8[l[f]>>4],u+=v8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Aa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Aa.CALL_EXCEPTION:case Aa.INSUFFICIENT_FUNDS:case Aa.MISSING_NEW:case Aa.NONCE_EXPIRED:case Aa.REPLACEMENT_UNDERPRICED:case Aa.TRANSACTION_REPLACED:case Aa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Sn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){E8&&this.throwError("platform missing String.prototype.normalize",Sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:E8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Sn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Sn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Sn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return iA||(iA=new Sn(n_e)),iA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),b8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_8=!!e,b8=!!r}static setLogLevel(e){const r=C_[e.toLowerCase()];if(r==null){Sn.globalLogger().warn("invalid log level - "+e);return}w8=r}static from(e){return new Sn(e)}};Ry.errors=Aa;Ry.levels=MC;const s_e="bytes/5.8.0",sA=new Ry(s_e);function o_e(t){return!!t.toHexString}function N_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return N_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function x8(t){return typeof t=="number"&&t==t&&t%1===0}function a_e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!x8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!x8(r)||r<0||r>=256)return!1}return!0}function Jm(t,e){if(e||(e={}),typeof t=="number"){sA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),N_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),o_e(t)&&(t=t.toHexString()),c_e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":sA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return N_(new Uint8Array(n))}return a_e(t)?N_(new Uint8Array(t)):sA.throwArgumentError("invalid arrayify value","value",t)}function c_e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var t1;(function(t){t.sha256="sha256",t.sha512="sha512"})(t1||(t1={}));const l_e="sha2/5.7.0",u_e=new Ry(l_e);function f_e(t){return"0x"+Ye.ripemd160().update(Jm(t)).digest("hex")}function d_e(t){return"0x"+Ye.sha256().update(Jm(t)).digest("hex")}function h_e(t){return"0x"+Ye.sha512().update(Jm(t)).digest("hex")}function p_e(t,e,r){return t1[t]||u_e.throwError("unsupported algorithm "+t,Ry.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],Jm(e)).update(Jm(r)).digest("hex")}const g_e=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return t1},computeHmac:p_e,ripemd160:f_e,sha256:d_e,sha512:h_e},Symbol.toStringTag,{value:"Module"})),m_e="solidity/5.7.0",y_e=new RegExp("^bytes([0-9]+)$"),b_e=new RegExp("^(u?int)([0-9]*)$"),__e=new RegExp("^(.*)\\[([0-9]*)\\]$"),w_e="0000000000000000000000000000000000000000000000000000000000000000",jh=new re(m_e);function eF(t,e,r){switch(t){case"address":return r?e_(e,32):de(e);case"string":return Xr(e);case"bytes":return de(e);case"bool":return e=e?"0x01":"0x00",r?e_(e,32):de(e)}let n=t.match(b_e);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&jh.throwArgumentError("invalid number type","type",t),r&&(i=256),e=ve.from(e).toTwos(i),e_(e,i/8)}if(n=t.match(y_e),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&jh.throwArgumentError("invalid bytes type","type",t),de(e).byteLength!==i&&jh.throwArgumentError(`invalid value for ${t}`,"value",e),r?de((e+w_e).substring(0,66)):e}if(n=t.match(__e),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&jh.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(eF(i,a,!0))}),zt(o)}return jh.throwArgumentError("invalid type","type",t)}function pI(t,e){t.length!=e.length&&jh.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(eF(n,e[i]))}),ye(zt(r))}function E_e(t,e){return qt(pI(t,e))}function v_e(t,e){return Xu(pI(t,e))}const x_e=Object.freeze(Object.defineProperty({__proto__:null,keccak256:E_e,pack:pI,sha256:v_e},Symbol.toStringTag,{value:"Module"})),A_e="logger/5.8.0";let A8=!1,C8=!1;const S_={debug:1,default:2,info:2,warning:3,error:4,off:5};let N8=S_.default,oA=null;function C_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const S8=C_e();var UC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(UC||(UC={}));var Ca;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ca||(Ca={}));const I8="0123456789abcdef";let Py=class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();S_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N8>S_[n])&&console.log.apply(console,r)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,r,n){if(C8)return this.makeError("censored error",r,{});r||(r=In.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=I8[l[f]>>4],u+=I8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ca.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ca.CALL_EXCEPTION:case Ca.INSUFFICIENT_FUNDS:case Ca.MISSING_NEW:case Ca.NONCE_EXPIRED:case Ca.REPLACEMENT_UNDERPRICED:case Ca.TRANSACTION_REPLACED:case Ca.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){S8&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:S8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return oA||(oA=new In(A_e)),oA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),A8){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}C8=!!e,A8=!!r}static setLogLevel(e){const r=S_[e.toLowerCase()];if(r==null){In.globalLogger().warn("invalid log level - "+e);return}N8=r}static from(e){return new In(e)}};Py.errors=Ca;Py.levels=UC;const N_e="bytes/5.8.0",aA=new Py(N_e);function S_e(t){return!!t.toHexString}function I_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return I_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function T8(t){return typeof t=="number"&&t==t&&t%1===0}function I_e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!T8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!T8(r)||r<0||r>=256)return!1}return!0}function T_e(t,e){if(e||(e={}),typeof t=="number"){aA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),I_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),S_e(t)&&(t=t.toHexString()),R_e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":aA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return I_(new Uint8Array(n))}return I_e(t)?I_(new Uint8Array(t)):aA.throwArgumentError("invalid arrayify value","value",t)}function R_e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const P_e="random/5.7.0",$C=new Py(P_e);function O_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const R8=O_e();let T_=R8.crypto||R8.msCrypto;(!T_||!T_.getRandomValues)&&($C.warn("WARNING: Missing strong random number source"),T_={getRandomValues:function(t){return $C.throwError("no secure random source avaialble",Py.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function D_e(t){(t<=0||t>1024||t%1||t!=t)&&$C.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return T_.getRandomValues(e),T_e(e)}function k_e(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const M_e=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:D_e,shuffled:k_e},Symbol.toStringTag,{value:"Module"})),U_e="logger/5.8.0";let P8=!1,O8=!1;const R_={debug:1,default:2,info:2,warning:3,error:4,off:5};let D8=R_.default,cA=null;function $_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const k8=$_e();var LC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(LC||(LC={}));var Na;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Na||(Na={}));const M8="0123456789abcdef";let gI=class Tn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();R_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(D8>R_[n])&&console.log.apply(console,r)}debug(...e){this._log(Tn.levels.DEBUG,e)}info(...e){this._log(Tn.levels.INFO,e)}warn(...e){this._log(Tn.levels.WARNING,e)}makeError(e,r,n){if(O8)return this.makeError("censored error",r,{});r||(r=Tn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=M8[l[f]>>4],u+=M8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Na.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Na.CALL_EXCEPTION:case Na.INSUFFICIENT_FUNDS:case Na.MISSING_NEW:case Na.NONCE_EXPIRED:case Na.REPLACEMENT_UNDERPRICED:case Na.TRANSACTION_REPLACED:case Na.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){k8&&this.throwError("platform missing String.prototype.normalize",Tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:k8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cA||(cA=new Tn(U_e)),cA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),P8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}O8=!!e,P8=!!r}static setLogLevel(e){const r=R_[e.toLowerCase()];if(r==null){Tn.globalLogger().warn("invalid log level - "+e);return}D8=r}static from(e){return new Tn(e)}};gI.errors=Na;gI.levels=LC;const L_e="properties/5.7.0";var F_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const r1=new gI(L_e);function tF(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function B_e(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function j_e(t){return F_e(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function H_e(t,e){(!t||typeof t!="object")&&r1.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||r1.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function W_e(t){const e={};for(const r in t)e[r]=t[r];return e}const q_e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function rF(t){if(t==null||q_e[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!rF(n))return!1}return!0}return r1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function z_e(t){if(rF(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>n1(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&tF(e,r,n1(n))}return e}return r1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function n1(t){return z_e(t)}class G_e{constructor(e){for(const r in e)this[r]=n1(e[r])}}const K_e=Object.freeze(Object.defineProperty({__proto__:null,Description:G_e,checkProperties:H_e,deepCopy:n1,defineReadOnly:tF,getStatic:B_e,resolveProperties:j_e,shallowCopy:W_e},Symbol.toStringTag,{value:"Module"})),V_e="logger/5.8.0";let U8=!1,$8=!1;const P_={debug:1,default:2,info:2,warning:3,error:4,off:5};let L8=P_.default,lA=null;function J_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const F8=J_e();var FC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(FC||(FC={}));var Sa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sa||(Sa={}));const B8="0123456789abcdef";let Co=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();P_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(L8>P_[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if($8)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=B8[l[f]>>4],u+=B8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sa.CALL_EXCEPTION:case Sa.INSUFFICIENT_FUNDS:case Sa.MISSING_NEW:case Sa.NONCE_EXPIRED:case Sa.REPLACEMENT_UNDERPRICED:case Sa.TRANSACTION_REPLACED:case Sa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){F8&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:F8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return lA||(lA=new Rn(V_e)),lA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),U8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$8=!!e,U8=!!r}static setLogLevel(e){const r=P_[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}L8=r}static from(e){return new Rn(e)}};Co.errors=Sa;Co.levels=FC;const Y_e="bytes/5.8.0",d0=new Co(Y_e);function nF(t){return!!t.toHexString}function O_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return O_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function X_e(t){return yI(t)&&!(t.length%2)||mI(t)}function j8(t){return typeof t=="number"&&t==t&&t%1===0}function mI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!j8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!j8(r)||r<0||r>=256)return!1}return!0}function iF(t,e){if(e||(e={}),typeof t=="number"){d0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),O_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),nF(t)&&(t=t.toHexString()),yI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":d0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return O_(new Uint8Array(n))}return mI(t)?O_(new Uint8Array(t)):d0.throwArgumentError("invalid arrayify value","value",t)}function yI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const uA="0123456789abcdef";function D_(t,e){if(e||(e={}),typeof t=="number"){d0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=uA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),nF(t))return t.toHexString();if(yI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":d0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(mI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=uA[(i&240)>>4]+uA[i&15]}return r}return d0.throwArgumentError("invalid hexlify value","value",t)}const Q_e="rlp/5.7.0",bc=new Co(Q_e);function H8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function W8(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function sF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(sF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=H8(n.length);return i.unshift(247+i.length),i.concat(n)}X_e(t)||bc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(iF(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=H8(e.length);return r.unshift(183+r.length),r.concat(e)}function Z_e(t){return D_(sF(t))}function q8(t,e,r,n){const i=[];for(;r<e+1+n;){const s=oF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&bc.throwError("child data too short",Co.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function oF(t,e){if(t.length===0&&bc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&bc.throwError("data short segment too short",Co.errors.BUFFER_OVERRUN,{});const n=W8(t,e+1,r);return e+1+r+n>t.length&&bc.throwError("data long segment too short",Co.errors.BUFFER_OVERRUN,{}),q8(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{}),q8(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const n=W8(t,e+1,r);e+1+r+n>t.length&&bc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const i=D_(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&bc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{});const n=D_(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:D_(t[e])}}function ewe(t){const e=iF(t),r=oF(e,0);return r.consumed!==e.length&&bc.throwArgumentError("invalid rlp data","data",t),r.result}const twe=Object.freeze(Object.defineProperty({__proto__:null,decode:ewe,encode:Z_e},Symbol.toStringTag,{value:"Module"}));function ep(t,e,r){return r={path:e,exports:{},require:function(n,i){return rwe(n,i??r.path)}},t(r,r.exports),r.exports}function rwe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var bI=aF;function aF(t,e){if(!t)throw new Error(e||"Assertion failed")}aF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var za=ep(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),ro=ep(function(t,e){var r=e;r.assert=bI,r.toArray=za.toArray,r.zero2=za.zero2,r.toHex=za.toHex,r.encode=za.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var d=1<<l+1,h=c.clone(),m=0;m<f.length;m++){var g,b=h.andln(d-1);h.isOdd()?(b>(d>>1)-1?g=(d>>1)-b:g=b,h.isubn(g)):g=0,f[m]=g,h.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===b+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),i1=ro.getNAF,nwe=ro.getJSF,s1=ro.assert;function pf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Yd=pf;pf.prototype.point=function(){throw new Error("Not implemented")};pf.prototype.validate=function(){throw new Error("Not implemented")};pf.prototype._fixedNafMul=function(e,r){s1(e.precomputed);var n=e._getDoubles(),i=i1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};pf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=i1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];s1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};pf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=i1(n[m],o[m],this._bitLength),c[g]=i1(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=nwe(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,D=x[1][f]|0;c[m][f]=w[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Ko(t,e){this.curve=t,this.type=e,this.precomputed=null}pf.BasePoint=Ko;Ko.prototype.eq=function(){throw new Error("Not implemented")};Ko.prototype.validate=function(){return this.curve.validate(this)};pf.prototype.decodePoint=function(e,r){e=ro.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?s1(e[e.length-1]%2===0):e[0]===7&&s1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ko.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ko.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ko.prototype.encode=function(e,r){return ro.encode(this._encode(r),e)};Ko.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ko.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ko.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ko.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ko.prototype._getBeta=function(){return null};Ko.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var _I=ep(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),iwe=ro.assert;function Vo(t){Yd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_I(Vo,Yd);var swe=Vo;Vo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],iwe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Vo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Vo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++b===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=D}h=w.neg(),m=x;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Vo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Vo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Vo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Vo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Zn(t,e,r,n){Yd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}_I(Zn,Yd.BasePoint);Vo.prototype.point=function(e,r,n){return new Zn(this,e,r,n)};Vo.prototype.pointFromJSON=function(e,r){return Zn.fromJSON(this,e,r)};Zn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Zn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Zn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Zn.prototype.isInfinity=function(){return this.inf};Zn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Zn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Zn.prototype.getX=function(){return this.x.fromRed()};Zn.prototype.getY=function(){return this.y.fromRed()};Zn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Zn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Zn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Zn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Zn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Zn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yi(t,e,r,n){Yd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_I(yi,Yd.BasePoint);Vo.prototype.jpoint=function(e,r,n){return new yi(this,e,r,n)};yi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};yi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};yi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(b),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};yi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};yi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};yi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};yi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};yi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};yi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var k_=ep(function(t,e){var r=e;r.base=Yd,r.short=swe,r.mont=null,r.edwards=null}),M_=ep(function(t,e){var r=e,n=ro.assert;function i(a){a.type==="short"?this.curve=new k_.short(a):a.type==="edwards"?this.curve=new k_.edwards(a):this.curve=new k_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function nf(t){if(!(this instanceof nf))return new nf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=za.toArray(t.entropy,t.entropyEnc||"hex"),r=za.toArray(t.nonce,t.nonceEnc||"hex"),n=za.toArray(t.pers,t.persEnc||"hex");bI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var cF=nf;nf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};nf.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};nf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};nf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=za.toArray(e,r),n=za.toArray(n,i),bI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};nf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=za.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,za.encode(o,r)};var BC=ro.assert;function Mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var wI=Mi;Mi.fromPublic=function(e,r,n){return r instanceof Mi?r:new Mi(e,{pub:r,pubEnc:n})};Mi.fromPrivate=function(e,r,n){return r instanceof Mi?r:new Mi(e,{priv:r,privEnc:n})};Mi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Mi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mi.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?BC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&BC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Mi.prototype.derive=function(e){return e.validate()||BC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Mi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var owe=ro.assert;function hE(t,e){if(t instanceof hE)return t;this._importDER(t,e)||(owe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var pE=hE;function awe(){this.place=0}function fA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function z8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}hE.prototype._importDER=function(e,r){e=ro.toArray(e,r);var n=new awe;if(e[n.place++]!==48)return!1;var i=fA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=fA(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=fA(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function dA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}hE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=z8(r),n=z8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];dA(i,r.length),i=i.concat(r),i.push(2),dA(i,n.length);var s=i.concat(n),o=[48];return dA(o,s.length),o=o.concat(s),ro.encode(o,e)};var cwe=(function(){throw new Error("unsupported")}),lF=ro.assert;function Lo(t){if(!(this instanceof Lo))return new Lo(t);typeof t=="string"&&(lF(Object.prototype.hasOwnProperty.call(M_,t),"Unknown curve "+t),t=M_[t]),t instanceof M_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var lwe=Lo;Lo.prototype.keyPair=function(e){return new wI(this,e)};Lo.prototype.keyFromPrivate=function(e,r){return wI.fromPrivate(this,e,r)};Lo.prototype.keyFromPublic=function(e,r){return wI.fromPublic(this,e,r)};Lo.prototype.genKeyPair=function(e){e||(e={});for(var r=new cF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||cwe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Lo.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Lo.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new te(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new cF({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var f=i.k?i.k(u):new te(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),m=h.umod(this.n);if(m.cmpn(0)!==0){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var b=(d.getY().isOdd()?1:0)|(h.cmp(m)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new pE({r:m,s:g,recoveryParam:b})}}}}}};Lo.prototype.verify=function(e,r,n,i){e=this._truncateToN(new te(e,16)),n=this.keyFromPublic(n,i),r=new pE(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Lo.prototype.recoverPubKey=function(t,e,r,n){lF((3&r)===r,"The recovery param is more than two bits"),e=new pE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Lo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new pE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var uwe=ep(function(t,e){var r=e;r.version="6.5.4",r.utils=ro,r.rand=(function(){throw new Error("unsupported")}),r.curve=k_,r.curves=M_,r.ec=lwe,r.eddsa=null}),fwe=uwe.ec;const dwe="logger/5.8.0";let G8=!1,K8=!1;const U_={debug:1,default:2,info:2,warning:3,error:4,off:5};let V8=U_.default,hA=null;function hwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const J8=hwe();var jC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(jC||(jC={}));var Ia;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ia||(Ia={}));const Y8="0123456789abcdef";let gE=class Pn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();U_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(V8>U_[n])&&console.log.apply(console,r)}debug(...e){this._log(Pn.levels.DEBUG,e)}info(...e){this._log(Pn.levels.INFO,e)}warn(...e){this._log(Pn.levels.WARNING,e)}makeError(e,r,n){if(K8)return this.makeError("censored error",r,{});r||(r=Pn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=Y8[l[f]>>4],u+=Y8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ia.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ia.CALL_EXCEPTION:case Ia.INSUFFICIENT_FUNDS:case Ia.MISSING_NEW:case Ia.NONCE_EXPIRED:case Ia.REPLACEMENT_UNDERPRICED:case Ia.TRANSACTION_REPLACED:case Ia.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Pn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){J8&&this.throwError("platform missing String.prototype.normalize",Pn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:J8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Pn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Pn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Pn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hA||(hA=new Pn(dwe)),hA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),G8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}K8=!!e,G8=!!r}static setLogLevel(e){const r=U_[e.toLowerCase()];if(r==null){Pn.globalLogger().warn("invalid log level - "+e);return}V8=r}static from(e){return new Pn(e)}};gE.errors=Ia;gE.levels=jC;const pwe="bytes/5.8.0",fn=new gE(pwe);function uF(t){return!!t.toHexString}function Cg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Cg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gwe(t){return Bu(t)&&!(t.length%2)||EI(t)}function X8(t){return typeof t=="number"&&t==t&&t%1===0}function EI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!X8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!X8(r)||r<0||r>=256)return!1}return!0}function zi(t,e){if(e||(e={}),typeof t=="number"){fn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Cg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uF(t)&&(t=t.toHexString()),Bu(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":fn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Cg(new Uint8Array(n))}return EI(t)?Cg(new Uint8Array(t)):fn.throwArgumentError("invalid arrayify value","value",t)}function mwe(t,e){t=zi(t),t.length>e&&fn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Cg(r)}function Bu(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const pA="0123456789abcdef";function $s(t,e){if(e||(e={}),typeof t=="number"){fn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=pA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uF(t))return t.toHexString();if(Bu(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":fn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(EI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=pA[(i&240)>>4]+pA[i&15]}return r}return fn.throwArgumentError("invalid hexlify value","value",t)}function ywe(t){if(typeof t!="string")t=$s(t);else if(!Bu(t)||t.length%2)return null;return(t.length-2)/2}function h0(t,e){for(typeof t!="string"?t=$s(t):Bu(t)||fn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&fn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function fF(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(gwe(t)){let r=zi(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=$s(r.slice(0,32)),e.s=$s(r.slice(32,64))):r.length===65?(e.r=$s(r.slice(0,32)),e.s=$s(r.slice(32,64)),e.v=r[64]):fn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:fn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=$s(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=mwe(zi(e._vs),32);e._vs=$s(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&fn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=$s(i);e.s==null?e.s=o:e.s!==o&&fn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?fn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&fn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Bu(e.r)?fn.throwArgumentError("signature missing or invalid r","signature",t):e.r=h0(e.r,32),e.s==null||!Bu(e.s)?fn.throwArgumentError("signature missing or invalid s","signature",t):e.s=h0(e.s,32);const r=zi(e.s);r[0]>=128&&fn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=$s(r);e._vs&&(Bu(e._vs)||fn.throwArgumentError("signature invalid _vs","signature",t),e._vs=h0(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&fn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Rp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const bwe="signing-key/5.7.0",HC=new gE(bwe);let gA=null;function vc(){return gA||(gA=new fwe("secp256k1")),gA}let dF=class{constructor(e){Rp(this,"curve","secp256k1"),Rp(this,"privateKey",$s(e)),ywe(this.privateKey)!==32&&HC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=vc().keyFromPrivate(zi(this.privateKey));Rp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Rp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Rp(this,"_isSigningKey",!0)}_addPoint(e){const r=vc().keyFromPublic(zi(this.publicKey)),n=vc().keyFromPublic(zi(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=vc().keyFromPrivate(zi(this.privateKey)),n=zi(e);n.length!==32&&HC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return fF({recoveryParam:i.recoveryParam,r:h0("0x"+i.r.toString(16),32),s:h0("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=vc().keyFromPrivate(zi(this.privateKey)),n=vc().keyFromPublic(zi(hF(e)));return h0("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function _we(t,e){const r=fF(e),n={r:zi(r.r),s:zi(r.s)};return"0x"+vc().recoverPubKey(zi(t),n,r.recoveryParam).encode("hex",!1)}function hF(t,e){const r=zi(t);if(r.length===32){const n=new dF(r);return e?"0x"+vc().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?$s(r):"0x"+vc().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+vc().keyFromPublic(r).getPublic(!0,"hex"):$s(r)}return HC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const wwe=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:dF,computePublicKey:hF,recoverPublicKey:_we},Symbol.toStringTag,{value:"Module"})),Ewe="logger/5.8.0";let Q8=!1,Z8=!1;const $_={debug:1,default:2,info:2,warning:3,error:4,off:5};let e4=$_.default,mA=null;function vwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const t4=vwe();var WC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(WC||(WC={}));var Ta;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ta||(Ta={}));const r4="0123456789abcdef";let mE=class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();$_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(e4>$_[n])&&console.log.apply(console,r)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,r,n){if(Z8)return this.makeError("censored error",r,{});r||(r=On.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=r4[l[f]>>4],u+=r4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ta.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ta.CALL_EXCEPTION:case Ta.INSUFFICIENT_FUNDS:case Ta.MISSING_NEW:case Ta.NONCE_EXPIRED:case Ta.REPLACEMENT_UNDERPRICED:case Ta.TRANSACTION_REPLACED:case Ta.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){t4&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:t4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return mA||(mA=new On(Ewe)),mA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q8){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Z8=!!e,Q8=!!r}static setLogLevel(e){const r=$_[e.toLowerCase()];if(r==null){On.globalLogger().warn("invalid log level - "+e);return}e4=r}static from(e){return new On(e)}};mE.errors=Ta;mE.levels=WC;const xwe="bytes/5.8.0",p0=new mE(xwe);function pF(t){return!!t.toHexString}function Ng(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ng(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function n4(t){return typeof t=="number"&&t==t&&t%1===0}function gF(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!n4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!n4(r)||r<0||r>=256)return!1}return!0}function yE(t,e){if(e||(e={}),typeof t=="number"){p0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ng(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pF(t)&&(t=t.toHexString()),mF(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":p0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ng(new Uint8Array(n))}return gF(t)?Ng(new Uint8Array(t)):p0.throwArgumentError("invalid arrayify value","value",t)}function Awe(t){const e=t.map(i=>yE(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ng(n)}function mF(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const yA="0123456789abcdef";function Cwe(t,e){if(e||(e={}),typeof t=="number"){p0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=yA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),pF(t))return t.toHexString();if(mF(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":p0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(gF(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=yA[(i&240)>>4]+yA[i&15]}return r}return p0.throwArgumentError("invalid hexlify value","value",t)}const Nwe="0x0000000000000000000000000000000000000000000000000000000000000000",Swe="strings/5.7.0",yF=new mE(Swe);var Ud;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Ud||(Ud={}));var Es;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Es||(Es={}));function Iwe(t,e,r,n,i){return yF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function bF(t,e,r,n,i){if(t===Es.BAD_PREFIX||t===Es.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Es.OVERRUN?r.length-e-1:0}function Twe(t,e,r,n,i){return t===Es.OVERLONG?(n.push(i),0):(n.push(65533),bF(t,e,r))}const _F=Object.freeze({error:Iwe,ignore:bF,replace:Twe});function vI(t,e){e==null&&(e=_F.error),t=yE(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Es.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Es.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Es.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Es.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Es.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Es.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Es.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function bE(t,e=Ud.current){e!=Ud.current&&(yF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return yE(r)}function bA(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Rwe(t,e){return'"'+vI(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?bA(r):(r-=65536,bA((r>>10&1023)+55296)+bA((r&1023)+56320))}).join("")+'"'}function qC(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function wF(t,e){return qC(vI(t,e))}function zC(t,e=Ud.current){return vI(bE(t,e))}function Pwe(t){const e=bE(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Cwe(Awe([e,Nwe]).slice(0,32))}function Owe(t){const e=yE(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return wF(e.slice(0,r))}function Dwe(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function xI(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function EF(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function AI(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const kwe=EF("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Mwe="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Uwe=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],$we=xI("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Lwe=xI("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Fwe=xI("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Dwe),Bwe=EF("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function jwe(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function Hwe(t){return!!AI(t,kwe)}function Wwe(t){let e=AI(t,Uwe);if(e)return[t+e.s];let r=$we[t];if(r)return r;let n=Lwe[t];if(n)return[t+n[0]];let i=Fwe[t];return i||null}function qwe(t){return!!AI(t,Bwe)}function zwe(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=zC(t);e=jwe(e.map(n=>{if(Mwe.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=Wwe(n);return i||[n]})),e=zC(qC(e),Ud.NFKC),e.forEach(n=>{if(qwe(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(Hwe(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=qC(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const Gwe=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Ud},Utf8ErrorFuncs:_F,get Utf8ErrorReason(){return Es},_toEscapedUtf8String:Rwe,formatBytes32String:Pwe,nameprep:zwe,parseBytes32String:Owe,toUtf8Bytes:bE,toUtf8CodePoints:zC,toUtf8String:wF},Symbol.toStringTag,{value:"Module"})),Kwe="logger/5.8.0";let i4=!1,s4=!1;const L_={debug:1,default:2,info:2,warning:3,error:4,off:5};let o4=L_.default,_A=null;function Vwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const a4=Vwe();var GC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(GC||(GC={}));var Ra;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ra||(Ra={}));const c4="0123456789abcdef";let Lr=class Dn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();L_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(o4>L_[n])&&console.log.apply(console,r)}debug(...e){this._log(Dn.levels.DEBUG,e)}info(...e){this._log(Dn.levels.INFO,e)}warn(...e){this._log(Dn.levels.WARNING,e)}makeError(e,r,n){if(s4)return this.makeError("censored error",r,{});r||(r=Dn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=c4[l[f]>>4],u+=c4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ra.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ra.CALL_EXCEPTION:case Ra.INSUFFICIENT_FUNDS:case Ra.MISSING_NEW:case Ra.NONCE_EXPIRED:case Ra.REPLACEMENT_UNDERPRICED:case Ra.TRANSACTION_REPLACED:case Ra.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Dn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){a4&&this.throwError("platform missing String.prototype.normalize",Dn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:a4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Dn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Dn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Dn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return _A||(_A=new Dn(Kwe)),_A}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}s4=!!e,i4=!!r}static setLogLevel(e){const r=L_[e.toLowerCase()];if(r==null){Dn.globalLogger().warn("invalid log level - "+e);return}o4=r}static from(e){return new Dn(e)}};Lr.errors=Ra;Lr.levels=GC;const Jwe="bytes/5.8.0",tn=new Lr(Jwe);function vF(t){return!!t.toHexString}function Sg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function CI(t){return Po(t)&&!(t.length%2)||_E(t)}function l4(t){return typeof t=="number"&&t==t&&t%1===0}function _E(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!l4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!l4(r)||r<0||r>=256)return!1}return!0}function kr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vF(t)&&(t=t.toHexString()),Po(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":tn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sg(new Uint8Array(n))}return _E(t)?Sg(new Uint8Array(t)):tn.throwArgumentError("invalid arrayify value","value",t)}function ju(t){let e=kr(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Ywe(t,e){t=kr(t),t.length>e&&tn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Sg(r)}function Po(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const wA="0123456789abcdef";function rr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vF(t))return t.toHexString();if(Po(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":tn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_E(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wA[(i&240)>>4]+wA[i&15]}return r}return tn.throwArgumentError("invalid hexlify value","value",t)}function xF(t){if(typeof t!="string")t=rr(t);else if(!Po(t)||t.length%2)return null;return(t.length-2)/2}function u4(t,e,r){return typeof t!="string"?t=rr(t):(!Po(t)||t.length%2)&&tn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function AF(t){let e="0x";return t.forEach(r=>{e+=rr(r).substring(2)}),e}function Mc(t,e){for(typeof t!="string"?t=rr(t):Po(t)||tn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&tn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Oy(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(CI(t)){let r=kr(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=rr(r.slice(0,32)),e.s=rr(r.slice(32,64))):r.length===65?(e.r=rr(r.slice(0,32)),e.s=rr(r.slice(32,64)),e.v=r[64]):tn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:tn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=rr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Ywe(kr(e._vs),32);e._vs=rr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&tn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=rr(i);e.s==null?e.s=o:e.s!==o&&tn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?tn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&tn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Po(e.r)?tn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Mc(e.r,32),e.s==null||!Po(e.s)?tn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Mc(e.s,32);const r=kr(e.s);r[0]>=128&&tn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=rr(r);e._vs&&(Po(e._vs)||tn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Mc(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&tn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const Xwe="bignumber/5.8.0";var o1=te.BN;const ml=new Lr(Xwe),EA={},f4=9007199254740991;let d4=!1,Uc=class fa{constructor(e,r){e!==EA&&ml.throwError("cannot call constructor directly; use BigNumber.from",Lr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return fs(_t(this).fromTwos(e))}toTwos(e){return fs(_t(this).toTwos(e))}abs(){return this._hex[0]==="-"?fa.from(this._hex.substring(1)):this}add(e){return fs(_t(this).add(_t(e)))}sub(e){return fs(_t(this).sub(_t(e)))}div(e){return fa.from(e).isZero()&&po("division-by-zero","div"),fs(_t(this).div(_t(e)))}mul(e){return fs(_t(this).mul(_t(e)))}mod(e){const r=_t(e);return r.isNeg()&&po("division-by-zero","mod"),fs(_t(this).umod(r))}pow(e){const r=_t(e);return r.isNeg()&&po("negative-power","pow"),fs(_t(this).pow(r))}and(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","and"),fs(_t(this).and(r))}or(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","or"),fs(_t(this).or(r))}xor(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","xor"),fs(_t(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&po("negative-width","mask"),fs(_t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&po("negative-width","shl"),fs(_t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&po("negative-width","shr"),fs(_t(this).shrn(e))}eq(e){return _t(this).eq(_t(e))}lt(e){return _t(this).lt(_t(e))}lte(e){return _t(this).lte(_t(e))}gt(e){return _t(this).gt(_t(e))}gte(e){return _t(this).gte(_t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _t(this).isZero()}toNumber(){try{return _t(this).toNumber()}catch{po("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ml.throwError("this platform does not support BigInt",Lr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?d4||(d4=!0,ml.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ml.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Lr.errors.UNEXPECTED_ARGUMENT,{}):ml.throwError("BigNumber.toString does not accept parameters",Lr.errors.UNEXPECTED_ARGUMENT,{})),_t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new fa(EA,Ym(e)):e.match(/^-?[0-9]+$/)?new fa(EA,Ym(new o1(e))):ml.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&po("underflow","BigNumber.from",e),(e>=f4||e<=-f4)&&po("overflow","BigNumber.from",e),fa.from(String(e));const r=e;if(typeof r=="bigint")return fa.from(r.toString());if(_E(r))return fa.from(rr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return fa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Po(n)||n[0]==="-"&&Po(n.substring(1))))return fa.from(n)}return ml.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Ym(t){if(typeof t!="string")return Ym(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&ml.throwArgumentError("invalid hex","value",t),t=Ym(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function fs(t){return Uc.from(Ym(t))}function _t(t){const e=Uc.from(t).toHexString();return e[0]==="-"?new o1("-"+e.substring(3),16):new o1(e.substring(2),16)}function po(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),ml.throwError(t,Lr.errors.NUMERIC_FAULT,n)}function Qwe(t){return new o1(t,36).toString(16)}function $d(t){return"0x"+G0.keccak_256(kr(t))}const Zwe="rlp/5.8.0",_c=new Lr(Zwe);function h4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function p4(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function CF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(CF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=h4(n.length);return i.unshift(247+i.length),i.concat(n)}CI(t)||_c.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(kr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=h4(e.length);return r.unshift(183+r.length),r.concat(e)}function Xm(t){return rr(CF(t))}function g4(t,e,r,n){const i=[];for(;r<e+1+n;){const s=NF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&_c.throwError("child data too short",Lr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function NF(t,e){if(t.length===0&&_c.throwError("data too short",Lr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&_c.throwError("data short segment too short",Lr.errors.BUFFER_OVERRUN,{});const n=p4(t,e+1,r);return e+1+r+n>t.length&&_c.throwError("data long segment too short",Lr.errors.BUFFER_OVERRUN,{}),g4(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&_c.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{}),g4(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&_c.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{});const n=p4(t,e+1,r);e+1+r+n>t.length&&_c.throwError("data array too short",Lr.errors.BUFFER_OVERRUN,{});const i=rr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&_c.throwError("data too short",Lr.errors.BUFFER_OVERRUN,{});const n=rr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:rr(t[e])}}function NI(t){const e=kr(t),r=NF(e,0);return r.consumed!==e.length&&_c.throwArgumentError("invalid rlp data","data",t),r.result}const e1e="address/5.8.0",Kp=new Lr(e1e);function m4(t){Po(t,20)||Kp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=kr($d(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const t1e=9007199254740991;function r1e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const SI={};for(let t=0;t<10;t++)SI[String(t)]=String(t);for(let t=0;t<26;t++)SI[String.fromCharCode(65+t)]=String(10+t);const y4=Math.floor(r1e(t1e));function n1e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>SI[n]).join("");for(;e.length>=y4;){let n=e.substring(0,y4);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Dy(t){let e=null;if(typeof t!="string"&&Kp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=m4(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Kp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==n1e(t)&&Kp.throwArgumentError("bad icap checksum","address",t),e=Qwe(t.substring(4));e.length<40;)e="0"+e;e=m4("0x"+e)}else Kp.throwArgumentError("invalid address","address",t);return e}const i1e=Uc.from(0),s1e="properties/5.8.0",b4=new Lr(s1e);function Pp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function o1e(t,e){(!t||typeof t!="object")&&b4.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||b4.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function tp(t,e,r){return r={path:e,exports:{},require:function(n,i){return a1e(n,i??r.path)}},t(r,r.exports),r.exports}function a1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var II=SF;function SF(t,e){if(!t)throw new Error(e||"Assertion failed")}SF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ga=tp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),no=tp(function(t,e){var r=e;r.assert=II,r.toArray=Ga.toArray,r.zero2=Ga.zero2,r.toHex=Ga.toHex,r.encode=Ga.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var w;(g&1)===0?w=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?w=-g:w=g),u[1].push(w),2*f===b+1&&(f=1-f),2*d===w+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),a1=no.getNAF,c1e=no.getJSF,c1=no.assert;function gf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xd=gf;gf.prototype.point=function(){throw new Error("Not implemented")};gf.prototype.validate=function(){throw new Error("Not implemented")};gf.prototype._fixedNafMul=function(e,r){c1(e.precomputed);var n=e._getDoubles(),i=a1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};gf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=a1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];c1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};gf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=a1(n[m],o[m],this._bitLength),c[g]=a1(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],x=c1e(n[m],n[g]);for(l=Math.max(x[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=x[0][f]|0,D=x[1][f]|0;c[m][f]=w[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var N=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(N=!1);if(!N)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var v=k[f];v!==0&&(v>0?d=a[f][v-1>>1]:v<0&&(d=a[f][-v-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Jo(t,e){this.curve=t,this.type=e,this.precomputed=null}gf.BasePoint=Jo;Jo.prototype.eq=function(){throw new Error("Not implemented")};Jo.prototype.validate=function(){return this.curve.validate(this)};gf.prototype.decodePoint=function(e,r){e=no.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?c1(e[e.length-1]%2===0):e[0]===7&&c1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Jo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Jo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Jo.prototype.encode=function(e,r){return no.encode(this._encode(r),e)};Jo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Jo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Jo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Jo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Jo.prototype._getBeta=function(){return null};Jo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var TI=tp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),l1e=no.assert;function Yo(t){Xd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}TI(Yo,Xd);var u1e=Yo;Yo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],l1e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Yo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Yo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,w,x;n.cmpn(0)!==0;){var S=i.div(n);w=i.sub(S.mul(n)),x=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&w.cmp(r)<0)l=g.neg(),u=s,f=w.neg(),d=x;else if(f&&++b===2)break;g=w,i=n,n=w,a=s,s=x,c=o,o=D}h=w.neg(),m=x;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Yo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Yo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Yo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Yo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ei(t,e,r,n){Xd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}TI(ei,Xd.BasePoint);Yo.prototype.point=function(e,r,n){return new ei(this,e,r,n)};Yo.prototype.pointFromJSON=function(e,r){return ei.fromJSON(this,e,r)};ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ei.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ei.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function bi(t,e,r,n){Xd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}TI(bi,Xd.BasePoint);Yo.prototype.jpoint=function(e,r,n){return new bi(this,e,r,n)};bi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};bi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};bi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};bi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};bi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),w=g.redISub(b),x=m.redMul(w);x=x.redIAdd(x).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};bi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};bi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),w=h.redIAdd(h);w=w.redIAdd(w),w=w.redIAdd(w),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};bi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=m.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};bi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};bi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};bi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};bi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};bi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};bi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var F_=tp(function(t,e){var r=e;r.base=Xd,r.short=u1e,r.mont=null,r.edwards=null}),B_=tp(function(t,e){var r=e,n=no.assert;function i(a){a.type==="short"?this.curve=new F_.short(a):a.type==="edwards"?this.curve=new F_.edwards(a):this.curve=new F_.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function sf(t){if(!(this instanceof sf))return new sf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ga.toArray(t.entropy,t.entropyEnc||"hex"),r=Ga.toArray(t.nonce,t.nonceEnc||"hex"),n=Ga.toArray(t.pers,t.persEnc||"hex");II(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var IF=sf;sf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};sf.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};sf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};sf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ga.toArray(e,r),n=Ga.toArray(n,i),II(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};sf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ga.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ga.encode(o,r)};var KC=no.assert;function Ui(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var RI=Ui;Ui.fromPublic=function(e,r,n){return r instanceof Ui?r:new Ui(e,{pub:r,pubEnc:n})};Ui.fromPrivate=function(e,r,n){return r instanceof Ui?r:new Ui(e,{priv:r,privEnc:n})};Ui.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ui.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ui.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ui.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ui.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?KC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&KC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ui.prototype.derive=function(e){return e.validate()||KC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ui.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ui.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ui.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var f1e=no.assert;function wE(t,e){if(t instanceof wE)return t;this._importDER(t,e)||(f1e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var EE=wE;function d1e(){this.place=0}function vA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function _4(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}wE.prototype._importDER=function(e,r){e=no.toArray(e,r);var n=new d1e;if(e[n.place++]!==48)return!1;var i=vA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=vA(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=vA(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function xA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}wE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=_4(r),n=_4(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];xA(i,r.length),i=i.concat(r),i.push(2),xA(i,n.length);var s=i.concat(n),o=[48];return xA(o,s.length),o=o.concat(s),no.encode(o,e)};var h1e=(function(){throw new Error("unsupported")}),ed=no.assert;function Fo(t){if(!(this instanceof Fo))return new Fo(t);typeof t=="string"&&(ed(Object.prototype.hasOwnProperty.call(B_,t),"Unknown curve "+t),t=B_[t]),t instanceof B_.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var p1e=Fo;Fo.prototype.keyPair=function(e){return new RI(this,e)};Fo.prototype.keyFromPrivate=function(e,r){return RI.fromPrivate(this,e,r)};Fo.prototype.keyFromPublic=function(e,r){return RI.fromPublic(this,e,r)};Fo.prototype.genKeyPair=function(e){e||(e={});for(var r=new IF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||h1e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Fo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Fo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){ed(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ed(e.length>>>0===e.length);for(var s=0;s<e.length;s++)ed((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),ed(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);ed(new te(c).eq(e),"Can not sign message");for(var l=new IF({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var w=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),w^=1),new EE({r:g,s:b,recoveryParam:w})}}}}}};Fo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new EE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Fo.prototype.recoverPubKey=function(t,e,r,n){ed((3&r)===r,"The recovery param is more than two bits"),e=new EE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Fo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new EE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var g1e=tp(function(t,e){var r=e;r.version="6.6.1",r.utils=no,r.rand=(function(){throw new Error("unsupported")}),r.curve=F_,r.curves=B_,r.ec=p1e,r.eddsa=null}),m1e=g1e.ec;const y1e="signing-key/5.8.0",VC=new Lr(y1e);let AA=null;function Nu(){return AA||(AA=new m1e("secp256k1")),AA}class b1e{constructor(e){Pp(this,"curve","secp256k1"),Pp(this,"privateKey",rr(e)),xF(this.privateKey)!==32&&VC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Nu().keyFromPrivate(kr(this.privateKey));Pp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Pp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Pp(this,"_isSigningKey",!0)}_addPoint(e){const r=Nu().keyFromPublic(kr(this.publicKey)),n=Nu().keyFromPublic(kr(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Nu().keyFromPrivate(kr(this.privateKey)),n=kr(e);n.length!==32&&VC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Oy({recoveryParam:i.recoveryParam,r:Mc("0x"+i.r.toString(16),32),s:Mc("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Nu().keyFromPrivate(kr(this.privateKey)),n=Nu().keyFromPublic(kr(TF(e)));return Mc("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function _1e(t,e){const r=Oy(e),n={r:kr(r.r),s:kr(r.s)};return"0x"+Nu().recoverPubKey(kr(t),n,r.recoveryParam).encode("hex",!1)}function TF(t,e){const r=kr(t);return r.length===32?new b1e(r).publicKey:r.length===33?"0x"+Nu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?rr(r):VC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const w1e="transactions/5.7.0",Pi=new Lr(w1e);var JC;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(JC||(JC={}));function PI(t){return t==="0x"?null:Dy(t)}function Ii(t){return t==="0x"?i1e:Uc.from(t)}const E1e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],v1e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function RF(t){const e=TF(t);return Dy(u4($d(u4(e,1)),12))}function OI(t,e){return RF(_1e(kr(t),e))}function js(t,e){const r=ju(Uc.from(t).toHexString());return r.length>32&&Pi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function CA(t,e){return{address:Dy(t),storageKeys:(e||[]).map((r,n)=>(xF(r)!==32&&Pi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function vE(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Pi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),CA(r[0],r[1])):CA(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return CA(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function PF(t){return vE(t).map(e=>[e.address,e.storageKeys])}function OF(t,e){if(t.gasPrice!=null){const n=Uc.from(t.gasPrice),i=Uc.from(t.maxFeePerGas||0);n.eq(i)||Pi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),js(t.maxFeePerGas||0,"maxFeePerGas"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Dy(t.to):"0x",js(t.value||0,"value"),t.data||"0x",PF(t.accessList||[])];if(e){const n=Oy(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(ju(n.r)),r.push(ju(n.s))}return AF(["0x02",Xm(r)])}function DF(t,e){const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.gasPrice||0,"gasPrice"),js(t.gasLimit||0,"gasLimit"),t.to!=null?Dy(t.to):"0x",js(t.value||0,"value"),t.data||"0x",PF(t.accessList||[])];if(e){const n=Oy(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(ju(n.r)),r.push(ju(n.s))}return AF(["0x01",Xm(r)])}function x1e(t,e){o1e(t,v1e);const r=[];E1e.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=kr(rr(a,c)),o.length&&a.length!==o.length&&a.length>0&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=ju(a),a.length>o.maxLength&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(rr(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Pi.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!CI(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(rr(n)),r.push("0x"),r.push("0x")),!e)return Xm(r);const i=Oy(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(rr(s)),r.push(ju(kr(i.r))),r.push(ju(kr(i.s))),Xm(r)}function A1e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Pi.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),x1e(t,e);switch(t.type){case 1:return DF(t,e);case 2:return OF(t,e)}return Pi.throwError(`unsupported transaction type: ${t.type}`,Lr.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function kF(t,e,r){try{const n=Ii(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Pi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Mc(e[1],32),t.s=Mc(e[2],32);try{const n=$d(r(t));t.from=OI(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function C1e(t){const e=NI(t.slice(1));e.length!==9&&e.length!==12&&Pi.throwArgumentError("invalid component count for transaction type: 2","payload",rr(t));const r=Ii(e[2]),n=Ii(e[3]),i={type:2,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ii(e[4]),to:PI(e[5]),value:Ii(e[6]),data:e[7],accessList:vE(e[8])};return e.length===9||(i.hash=$d(t),kF(i,e.slice(9),OF)),i}function N1e(t){const e=NI(t.slice(1));e.length!==8&&e.length!==11&&Pi.throwArgumentError("invalid component count for transaction type: 1","payload",rr(t));const r={type:1,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),gasPrice:Ii(e[2]),gasLimit:Ii(e[3]),to:PI(e[4]),value:Ii(e[5]),data:e[6],accessList:vE(e[7])};return e.length===8||(r.hash=$d(t),kF(r,e.slice(8),DF)),r}function S1e(t){const e=NI(t);e.length!==9&&e.length!==6&&Pi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ii(e[0]).toNumber(),gasPrice:Ii(e[1]),gasLimit:Ii(e[2]),to:PI(e[3]),value:Ii(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Uc.from(e[6]).toNumber()}catch{return r}if(r.r=Mc(e[7],32),r.s=Mc(e[8],32),Uc.from(r.r).isZero()&&Uc.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(rr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=$d(Xm(i));try{r.from=OI(s,{r:rr(r.r),s:rr(r.s),recoveryParam:n})}catch{}r.hash=$d(t)}return r.type=null,r}function I1e(t){const e=kr(t);if(e[0]>127)return S1e(e);switch(e[0]){case 1:return N1e(e);case 2:return C1e(e)}return Pi.throwError(`unsupported transaction type: ${e[0]}`,Lr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const T1e=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return JC},accessListify:vE,computeAddress:RF,parse:I1e,recoverAddress:OI,serialize:A1e},Symbol.toStringTag,{value:"Module"})),R1e="units/5.7.0",MF=new re(R1e),UF=["wei","kwei","mwei","gwei","szabo","finney","ether"];function P1e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&MF.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function DI(t,e){if(typeof e=="string"){const r=UF.indexOf(e);r!==-1&&(e=3*r)}return t_(t,e??18)}function kI(t,e){if(typeof t!="string"&&MF.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=UF.indexOf(e);r!==-1&&(e=3*r)}return hc(t,e??18)}function O1e(t){return DI(t,18)}function D1e(t){return kI(t,18)}const k1e=Object.freeze(Object.defineProperty({__proto__:null,commify:P1e,formatEther:O1e,formatUnits:DI,parseEther:D1e,parseUnits:kI},Symbol.toStringTag,{value:"Module"})),M1e="logger/5.8.0";let w4=!1,E4=!1;const j_={debug:1,default:2,info:2,warning:3,error:4,off:5};let v4=j_.default,NA=null;function U1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const x4=U1e();var YC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(YC||(YC={}));var Pa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Pa||(Pa={}));const A4="0123456789abcdef";class Ft{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();j_[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(v4>j_[n])&&console.log.apply(console,r)}debug(...e){this._log(Ft.levels.DEBUG,e)}info(...e){this._log(Ft.levels.INFO,e)}warn(...e){this._log(Ft.levels.WARNING,e)}makeError(e,r,n){if(E4)return this.makeError("censored error",r,{});r||(r=Ft.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=A4[l[f]>>4],u+=A4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Pa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pa.CALL_EXCEPTION:case Pa.INSUFFICIENT_FUNDS:case Pa.MISSING_NEW:case Pa.NONCE_EXPIRED:case Pa.REPLACEMENT_UNDERPRICED:case Pa.TRANSACTION_REPLACED:case Pa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ft.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){x4&&this.throwError("platform missing String.prototype.normalize",Ft.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:x4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ft.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ft.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ft.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return NA||(NA=new Ft(M1e)),NA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}E4=!!e,w4=!!r}static setLogLevel(e){const r=j_[e.toLowerCase()];if(r==null){Ft.globalLogger().warn("invalid log level - "+e);return}v4=r}static from(e){return new Ft(e)}}Ft.errors=Pa;Ft.levels=YC;const $1e="bytes/5.8.0",g0=new Ft($1e);function $F(t){return!!t.toHexString}function H_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return H_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function L1e(t){return UI(t)&&!(t.length%2)||MI(t)}function C4(t){return typeof t=="number"&&t==t&&t%1===0}function MI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!C4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!C4(r)||r<0||r>=256)return!1}return!0}function ky(t,e){if(e||(e={}),typeof t=="number"){g0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),H_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$F(t)&&(t=t.toHexString()),UI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":g0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return H_(new Uint8Array(n))}return MI(t)?H_(new Uint8Array(t)):g0.throwArgumentError("invalid arrayify value","value",t)}function UI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const SA="0123456789abcdef";function F1e(t,e){if(e||(e={}),typeof t=="number"){g0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=SA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),$F(t))return t.toHexString();if(UI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":g0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(MI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=SA[(i&240)>>4]+SA[i&15]}return r}return g0.throwArgumentError("invalid hexlify value","value",t)}function B1e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ky(e)}function j1e(t){t=ky(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function l1(t){const e={};for(const r in t)e[r]=t[r];return e}const H1e="strings/5.8.0",LF=new Ft(H1e);var u1;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(u1||(u1={}));var Hs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Hs||(Hs={}));function W1e(t,e,r,n,i){return LF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function FF(t,e,r,n,i){if(t===Hs.BAD_PREFIX||t===Hs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Hs.OVERRUN?r.length-e-1:0}function q1e(t,e,r,n,i){return t===Hs.OVERLONG?(n.push(i),0):(n.push(65533),FF(t,e,r))}const z1e=Object.freeze({error:W1e,ignore:FF,replace:q1e});function G1e(t,e){e==null&&(e=z1e.error),t=ky(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Hs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Hs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Hs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Hs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Hs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Hs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Hs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function $I(t,e=u1.current){e!=u1.current&&(LF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ky(r)}function K1e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function BF(t,e){return K1e(G1e(t,e))}const V1e="web/5.7.1";var J1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function Y1e(t,e){return J1e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:ky(new Uint8Array(i))}})}var X1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const da=new Ft(V1e);function N4(t){return new Promise(e=>{setTimeout(e,t)})}function fu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(L1e(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return BF(t)}catch{}return F1e(t)}return t}function Q1e(t){return $I(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function jF(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;da.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;da.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&da.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const w in t.headers)a[w.toLowerCase()]={key:w,value:String(t.headers[w])},["if-none-match","if-modified-since"].indexOf(w.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&da.throwError("basic authentication requires a secure https url",Ft.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const w=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+j1e($I(w))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=l1(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const w={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?B1e(h[3]):Q1e(h[3])};let x=w.body;return r&&(x=r(w.body,w)),Promise.resolve(x)}catch(w){da.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:fu(h[1],h[2]),error:w,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(w=>{const x=a[w];m[x.key]=x.value}),l.headers=m;const g=(function(){let w=null;return{promise:new Promise(function(D,O){f&&(w=setTimeout(()=>{w!=null&&(w=null,O(da.makeError("timeout",Ft.errors.TIMEOUT,{requestBody:fu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){w!=null&&(clearTimeout(w),w=null)}}})(),b=(function(){return X1e(this,void 0,void 0,function*(){for(let w=0;w<n;w++){let x=null;try{if(x=yield Y1e(c,l),w<n){if(x.statusCode===301||x.statusCode===302){const D=x.headers.location||"";if(l.method==="GET"&&D.match(/^https:/)){c=x.headers.location;continue}}else if(x.statusCode===429){let D=!0;if(i&&(D=yield i(w,c)),D){let O=0;const k=x.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?O=parseInt(k)*1e3:O=s*parseInt(String(Math.random()*Math.pow(2,w))),yield N4(O);continue}}}}catch(D){x=D.response,x==null&&(g.cancel(),da.throwError("missing response",Ft.errors.SERVER_ERROR,{requestBody:fu(l.body,m["content-type"]),requestMethod:l.method,serverError:D,url:c}))}let S=x.body;if(u&&x.statusCode===304?S=null:!o&&(x.statusCode<200||x.statusCode>=300)&&(g.cancel(),da.throwError("bad response",Ft.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:fu(S,x.headers?x.headers["content-type"]:null),requestBody:fu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const D=yield r(S,x);return g.cancel(),D}catch(D){if(D.throttleRetry&&w<n){let O=!0;if(i&&(O=yield i(w,c)),O){const k=s*parseInt(String(Math.random()*Math.pow(2,w)));yield N4(k);continue}}g.cancel(),da.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:fu(S,x.headers?x.headers["content-type"]:null),error:D,requestBody:fu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return da.throwError("failed response",Ft.errors.SERVER_ERROR,{requestBody:fu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function Z1e(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(BF(s))}catch(c){da.throwError("invalid JSON",Ft.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=$I(e);const s=typeof t=="string"?{url:t}:l1(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=l1(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return jF(t,i,n)}function eEe(t,e){return e||(e={}),e=l1(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}const tEe=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:jF,fetchJson:Z1e,poll:eEe},Symbol.toStringTag,{value:"Module"}));var Zc={};const rEe=Kr(zge),nEe=Kr(fme),iEe=Kr(wme),sEe=Kr(Tme),oEe=Kr(Fme),aEe=Kr(jye),cEe=Kr(Obe),lEe=Kr(qbe),uEe=Kr(Zbe),fEe=Kr(r_e),S4=Kr(g_e),dEe=Kr(x_e),hEe=Kr(M_e),pEe=Kr(K_e),gEe=Kr(twe),mEe=Kr(wwe),I4=Kr(Gwe),yEe=Kr(T1e),bEe=Kr(k1e),_Ee=Kr(Zpe),wEe=Kr(tEe);var T4;function EEe(){return T4||(T4=1,(function(t){var e=Zc&&Zc.__createBinding||(Object.create?(function($,P,C,p){p===void 0&&(p=C),Object.defineProperty($,p,{enumerable:!0,get:function(){return P[C]}})}):(function($,P,C,p){p===void 0&&(p=C),$[p]=P[C]})),r=Zc&&Zc.__setModuleDefault||(Object.create?(function($,P){Object.defineProperty($,"default",{enumerable:!0,value:P})}):function($,P){$.default=P}),n=Zc&&Zc.__importStar||function($){if($&&$.__esModule)return $;var P={};if($!=null)for(var C in $)C!=="default"&&Object.prototype.hasOwnProperty.call($,C)&&e(P,$,C);return r(P,$),P};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=rEe;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=nEe;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(iEe);t.base64=o;var a=sEe;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=oEe;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=aEe;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=cEe;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var f=lEe;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var d=uEe;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var h=fEe;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=S4;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=dEe;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var b=hEe;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var w=pEe;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return w.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return w.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return w.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return w.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return w.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return w.shallowCopy}});var x=n(gEe);t.RLP=x;var S=mEe;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return S.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return S.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return S.SigningKey}});var D=I4;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return D.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return D.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return D.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return D._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return D.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return D.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return D.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return D.Utf8ErrorFuncs}});var O=yEe;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return O.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return O.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return O.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return O.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return O.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return O.TransactionTypes}});var k=bEe;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return k.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return k.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return k.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return k.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return k.parseUnits}});var F=_Ee;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return F.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return F.verifyTypedData}});var N=wEe;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return N._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return N.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return N.poll}});var v=S4;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return v.SupportedAlgorithm}});var M=I4;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return M.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return M.Utf8ErrorReason}})})(Zc)),Zc}var vEe=EEe();const Ah={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=To(t)?t:ci(bE(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new Eg(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0};return(await(await new Eg(e,n).getSigner(r).sendTransaction(i)).wait())?.blockHash||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new Eg(e,n).getSigner(r),o=new Lh(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>kI(t,e).toBigInt(),formatUnits:DI};class xEe extends q7{constructor(){super({adapterType:ae.ADAPTER_TYPES.ETHERS5,namespace:ae.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){const{SafeProvider:a}=await Gn(async()=>{const{SafeProvider:d}=await import("./SafeProvider-CWLnyy5S.js");return{SafeProvider:d}},__vite__mapDeps([50,51,52]),import.meta.url),{default:c}=await Gn(async()=>{const{default:d}=await import("./index-r8-oEZyN.js");return{default:d}},__vite__mapDeps([53,51]),import.meta.url),l=new c,u=await l.safe.getInfo(),f=new a(u,l);return await f.connect().catch(d=>{console.info("Failed to auto-connect to Safe:",d)}),f}async function s(){try{const{createCoinbaseWalletSDK:a}=await Gn(async()=>{const{createCoinbaseWalletSDK:l}=await import("./index-D2Aw_9mv.js");return{createCoinbaseWalletSDK:l}},__vite__mapDeps([54,52,1]),import.meta.url);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(l=>l.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=n()),e.enableCoinbase!==!1){const a=await s();a&&(o.coinbase=a)}if(Pe.isSafeApp()){const a=await i();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await Ah.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await Ah.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Me.state.address},e.provider,Me.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:r}=Ki.parseCaipAddress(e.caipAddress);return{hash:await Ah.writeContract(e,e.provider,r,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await Ah.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Ah.parseUnits(e.value,e.decimals)}formatUnits(e){return Ah.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(r,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(n=>n!=="metadata"&&n!=="EIP6963").forEach(n=>{const i=n==="coinbase"?"coinbaseWalletSDK":n,s=n===ae.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:xc.ConnectorExplorerIds[i],imageUrl:e?.connectorImages?.[i],name:xc.ConnectorNamesMap[i]||"Unknown",imageId:xc.ConnectorImageIds[i],type:xc.ConnectorTypesMap[i]??"EXTERNAL",info:s?void 0:{rdns:i},chain:this.namespace,chains:[],provider:this.ethersConfig?.[n]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(i=>Ln.isLowerCaseMatch(i.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:r}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(n){return r(n)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=ae.CONNECTOR_ID.WALLET_CONNECT;return Tl.listenWcProvider({universalProvider:e,namespace:ae.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new IS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:ae.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:r,provider:n}=e.detail;if(!this.connectors?.find(s=>s.name===r?.name)){const s=xc.ConnectorTypesMap[ae.CONNECTOR_ID.EIP6963],o=r?.rdns||r?.name||r?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:r?.icon,name:r?.name||"Unknown",provider:n,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(Tt.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(Tt.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:i,socialUri:s}){const o=this.connectors.find(f=>Ln.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}const c=o?.provider;if(!c)throw new Error("Provider not found");let l=[],u;if(n==="AUTH"){const{address:f,accounts:d}=await Ws.authConnectorAuthenticate({authConnector:c,chainNamespace:ae.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:Is("eip155")}),h=this.getCaipNetworks().find(m=>m.id.toString()===i?.toString());l=[f],this.addConnection({connectorId:e,accounts:d?d.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:h,auth:{name:be.getConnectedSocialProvider(),username:be.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),u=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(d=>d.id.toString()===i?.toString());if(u!==i){if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:c,providerType:n})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:l.map(d=>({address:d})),caipNetwork:f}),o.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(i),provider:c,type:n,id:e}}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r?.provider;if(!n||!r)throw new Error("Provider not found");const i=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))};if(e.id===ae.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>Pe.createAccount(ae.CHAIN.EVM,l.address,l.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await Ws.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:ae.CHAIN.EVM,chainId:n,preferredAccountType:Is("eip155")})}async disconnect(e){if(e.id){const r=this.connectors.find(i=>Ln.isLowerCaseMatch(i.id,e.id));if(!r)throw new Error("Connector not found");const n=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(r.type){case Tt.CONNECTOR_TYPE_WALLET_CONNECT:r.provider.session&&r.provider.disconnect();break;case Tt.CONNECTOR_TYPE_AUTH:await r.provider?.disconnect();break;case Tt.CONNECTOR_TYPE_ANNOUNCED:case Tt.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(r.provider);break;default:throw new Error("Unsupported provider type")}return r.id&&(this.removeProviderListeners(r.id),this.deleteConnection(r.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:n?[n]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const i=`${n.caipNetworkId}:${r}`,s=this.balancePromises[i];if(s)return s;const o=be.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new Ww(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(r),u=vEe.formatEther(l);be.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:s0.numberToHexString(r.id)}]})}catch(s){if(s.code===xl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===xl.ERROR_INVALID_CHAIN_ID||s.code===xl.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===xl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await s0.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=dt.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return ef(e.toLowerCase())}catch{return e}}}const AEe=Li({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"DST",description:"DST",url:"",icons:[""]};Ju({id:9e3,caipNetworkId:"eip155:9000",chainNamespace:"eip155",name:"DST test",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://192.168.10.136:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0});const n=Ju({id:7777,caipNetworkId:"eip155:7777",chainNamespace:"eip155",name:"DST",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://bebewallet.com:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0});return Vde({adapters:[new xEe],networks:[n],defaultNetwork:n,metadata:r,projectId:e,features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"dark"}),(i,s)=>{const o=iH("router-view");return fd(),Ub(o)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Hh=typeof document<"u";function HF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function CEe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&HF(t.default)}const Kt=Object.assign;function IA(t,e){const r={};for(const n in e){const i=e[n];r[n]=tc(i)?i.map(t):t(i)}return r}const Ig=()=>{},tc=Array.isArray,WF=/#/g,NEe=/&/g,SEe=/\//g,IEe=/=/g,TEe=/\?/g,qF=/\+/g,REe=/%5B/g,PEe=/%5D/g,zF=/%5E/g,OEe=/%60/g,GF=/%7B/g,DEe=/%7C/g,KF=/%7D/g,kEe=/%20/g;function LI(t){return encodeURI(""+t).replace(DEe,"|").replace(REe,"[").replace(PEe,"]")}function MEe(t){return LI(t).replace(GF,"{").replace(KF,"}").replace(zF,"^")}function XC(t){return LI(t).replace(qF,"%2B").replace(kEe,"+").replace(WF,"%23").replace(NEe,"%26").replace(OEe,"`").replace(GF,"{").replace(KF,"}").replace(zF,"^")}function UEe(t){return XC(t).replace(IEe,"%3D")}function $Ee(t){return LI(t).replace(WF,"%23").replace(TEe,"%3F")}function LEe(t){return t==null?"":$Ee(t).replace(SEe,"%2F")}function Qm(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const FEe=/\/$/,BEe=t=>t.replace(FEe,"");function TA(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=qEe(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:Qm(o)}}function jEe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function R4(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function HEe(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&P0(e.matched[n],r.matched[i])&&VF(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function P0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function VF(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!WEe(t[r],e[r]))return!1;return!0}function WEe(t,e){return tc(t)?P4(t,e):tc(e)?P4(e,t):t===e}function P4(t,e){return tc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function qEe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const du={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zm;(function(t){t.pop="pop",t.push="push"})(Zm||(Zm={}));var Tg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tg||(Tg={}));function zEe(t){if(!t)if(Hh){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),BEe(t)}const GEe=/^[^#]+#/;function KEe(t,e){return t.replace(GEe,"#")+e}function VEe(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const xE=()=>({left:window.scrollX,top:window.scrollY});function JEe(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=VEe(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function O4(t,e){return(history.state?history.state.position-e:-1)+t}const QC=new Map;function YEe(t,e){QC.set(t,e)}function XEe(t){const e=QC.get(t);return QC.delete(t),e}let QEe=()=>location.protocol+"//"+location.host;function JF(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),R4(c,"")}return R4(r,t)+n+i}function ZEe(t,e,r,n){let i=[],s=[],o=null;const a=({state:d})=>{const h=JF(t,location),m=r.value,g=e.value;let b=0;if(d){if(r.value=h,e.value=d,o&&o===m){o=null;return}b=g?d.position-g.position:0}else n(h);i.forEach(w=>{w(r.value,m,{delta:b,type:Zm.pop,direction:b?b>0?Tg.forward:Tg.back:Tg.unknown})})};function c(){o=r.value}function l(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Kt({},d.state,{scroll:xE()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function D4(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?xE():null}}function eve(t){const{history:e,location:r}=window,n={value:JF(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:QEe()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(h){console.error(h),r[u?"replace":"assign"](d)}}function o(c,l){const u=Kt({},e.state,D4(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),n.value=c}function a(c,l){const u=Kt({},i.value,e.state,{forward:c,scroll:xE()});s(u.current,u,!0);const f=Kt({},D4(n.value,c,null),{position:u.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function tve(t){t=zEe(t);const e=eve(t),r=ZEe(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Kt({location:"",base:t,go:n,createHref:KEe.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function rve(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),tve(t)}function nve(t){return typeof t=="string"||t&&typeof t=="object"}function YF(t){return typeof t=="string"||typeof t=="symbol"}const XF=Symbol("");var k4;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(k4||(k4={}));function O0(t,e){return Kt(new Error,{type:t,[XF]:!0},e)}function el(t,e){return t instanceof Error&&XF in t&&(e==null||!!(t.type&e))}const M4="[^/]+?",ive={sensitive:!1,strict:!1,start:!0,end:!0},sve=/[.+*?^${}()[\]/\\]/g;function ove(t,e){const r=Kt({},ive,e),n=[];let i=r.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(sve,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:g,optional:b,regexp:w}=d;s.push({name:m,repeatable:g,optional:b});const x=w||M4;if(x!==M4){h+=10;try{new RegExp(`(${x})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+D.message)}}let S=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(S=b&&l.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),i+=S,h+=20,b&&(h+=-8),g&&(h+=-20),x===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=s[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function c(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:g,optional:b}=h,w=m in l?l[m]:"";if(tc(w)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=tc(w)?w.join("/"):w;if(!x)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function ave(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function QF(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=ave(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(U4(n))return 1;if(U4(i))return-1}return i.length-n.length}function U4(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const cve={type:0,value:""},lve=/[a-zA-Z0-9_]/;function uve(t){if(!t)return[[]];if(t==="/")return[[cve]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:lve.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),i}function fve(t,e,r){const n=ove(uve(t.path),r),i=Kt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function dve(t,e){const r=[],n=new Map;e=B4({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,d,h){const m=!h,g=L4(f);g.aliasOf=h&&h.record;const b=B4(e,f),w=[g];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const O of D)w.push(L4(Kt({},g,{components:h?h.record.components:g.components,path:O,aliasOf:h?h.record:g})))}let x,S;for(const D of w){const{path:O}=D;if(d&&O[0]!=="/"){const k=d.record.path,F=k[k.length-1]==="/"?"":"/";D.path=d.record.path+(O&&F+O)}if(x=fve(D,d,b),h?h.alias.push(x):(S=S||x,S!==x&&S.alias.push(x),m&&f.name&&!F4(x)&&o(f.name)),ZF(x)&&c(x),g.children){const k=g.children;for(let F=0;F<k.length;F++)s(k[F],x,h&&h.children[F])}h=h||x}return S?()=>{o(S)}:Ig}function o(f){if(YF(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const d=gve(f,r);r.splice(d,0,f),f.record.name&&!F4(f)&&n.set(f.record.name,f)}function l(f,d){let h,m={},g,b;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw O0(1,{location:f});b=h.record.name,m=Kt($4(d.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&$4(f.params,h.keys.map(S=>S.name))),g=h.stringify(m)}else if(f.path!=null)g=f.path,h=r.find(S=>S.re.test(g)),h&&(m=h.parse(g),b=h.record.name);else{if(h=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!h)throw O0(1,{location:f,currentLocation:d});b=h.record.name,m=Kt({},d.params,f.params),g=h.stringify(m)}const w=[];let x=h;for(;x;)w.unshift(x.record),x=x.parent;return{name:b,path:g,params:m,matched:w,meta:pve(w)}}t.forEach(f=>s(f));function u(){r.length=0,n.clear()}return{addRoute:s,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function $4(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function L4(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:hve(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function hve(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function F4(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pve(t){return t.reduce((e,r)=>Kt(e,r.meta),{})}function B4(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function gve(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;QF(t,e[s])<0?n=s:r=s+1}const i=mve(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function mve(t){let e=t;for(;e=e.parent;)if(ZF(e)&&QF(t,e)===0)return e}function ZF({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function yve(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(qF," "),o=s.indexOf("="),a=Qm(o<0?s:s.slice(0,o)),c=o<0?null:Qm(s.slice(o+1));if(a in e){let l=e[a];tc(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function j4(t){let e="";for(let r in t){const n=t[r];if(r=UEe(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(tc(n)?n.map(s=>s&&XC(s)):[n&&XC(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function bve(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=tc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const _ve=Symbol(""),H4=Symbol(""),FI=Symbol(""),eB=Symbol(""),ZC=Symbol("");function Op(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Su(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(O0(4,{from:r,to:e})):d instanceof Error?c(d):nve(d)?c(O0(2,{from:e,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(n&&n.instances[i],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function RA(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(HF(c)){const u=(c.__vccOpts||c)[e];u&&s.push(Su(u,r,n,o,a,i))}else{let l=c();s.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=CEe(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Su(h,r,n,o,a,i)()}))}}return s}function W4(t){const e=Js(FI),r=Js(eB),n=hr(()=>{const c=xs(t.to);return e.resolve(c)}),i=hr(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(P0.bind(null,u));if(d>-1)return d;const h=q4(c[l-2]);return l>1&&q4(u)===h&&f[f.length-1].path!==h?f.findIndex(P0.bind(null,c[l-2])):d}),s=hr(()=>i.value>-1&&Ave(r.params,n.value.params)),o=hr(()=>i.value>-1&&i.value===r.matched.length-1&&VF(r.params,n.value.params));function a(c={}){if(xve(c)){const l=e[xs(t.replace)?"replace":"push"](xs(t.to)).catch(Ig);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:hr(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function wve(t){return t.length===1?t[0]:t}const Eve=Li({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:W4,setup(t,{slots:e}){const r=Bl(W4(t)),{options:n}=Js(FI),i=hr(()=>({[z4(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[z4(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&wve(e.default(r));return t.custom?s:oy("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),vve=Eve;function xve(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ave(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!tc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function q4(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const z4=(t,e,r)=>t??e??r,Cve=Li({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Js(ZC),i=hr(()=>t.route||n.value),s=Js(H4,0),o=hr(()=>{let l=xs(s);const{matched:u}=i.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=hr(()=>i.value.matched[o.value]);tg(H4,hr(()=>o.value+1)),tg(_ve,a),tg(ZC,i);const c=At();return Bn(()=>[c.value,a.value,t.name],([l,u,f],[d,h,m])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!P0(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return G4(r.default,{Component:d,route:l});const h=f.props[u],m=h?h===!0?l.params:typeof h=="function"?h(l):h:null,b=oy(d,Kt({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return G4(r.default,{Component:b,route:l})||b}}});function G4(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Nve=Cve;function Sve(t){const e=dve(t.routes,t),r=t.parseQuery||yve,n=t.stringifyQuery||j4,i=t.history,s=Op(),o=Op(),a=Op(),c=PN(du);let l=du;Hh&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=IA.bind(null,K=>""+K),f=IA.bind(null,LEe),d=IA.bind(null,Qm);function h(K,X){let Q,ie;return YF(K)?(Q=e.getRecordMatcher(K),ie=X):ie=K,e.addRoute(ie,Q)}function m(K){const X=e.getRecordMatcher(K);X&&e.removeRoute(X)}function g(){return e.getRoutes().map(K=>K.record)}function b(K){return!!e.getRecordMatcher(K)}function w(K,X){if(X=Kt({},X||c.value),typeof K=="string"){const W=TA(r,K,X.path),Z=e.resolve({path:W.path},X),fe=i.createHref(W.fullPath);return Kt(W,Z,{params:d(Z.params),hash:Qm(W.hash),redirectedFrom:void 0,href:fe})}let Q;if(K.path!=null)Q=Kt({},K,{path:TA(r,K.path,X.path).path});else{const W=Kt({},K.params);for(const Z in W)W[Z]==null&&delete W[Z];Q=Kt({},K,{params:f(W)}),X.params=f(X.params)}const ie=e.resolve(Q,X),le=K.hash||"";ie.params=u(d(ie.params));const H=jEe(n,Kt({},K,{hash:MEe(le),path:ie.path})),Y=i.createHref(H);return Kt({fullPath:H,hash:le,query:n===j4?bve(K.query):K.query||{}},ie,{redirectedFrom:void 0,href:Y})}function x(K){return typeof K=="string"?TA(r,K,c.value.path):Kt({},K)}function S(K,X){if(l!==K)return O0(8,{from:X,to:K})}function D(K){return F(K)}function O(K){return D(Kt(x(K),{replace:!0}))}function k(K){const X=K.matched[K.matched.length-1];if(X&&X.redirect){const{redirect:Q}=X;let ie=typeof Q=="function"?Q(K):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=x(ie):{path:ie},ie.params={}),Kt({query:K.query,hash:K.hash,params:ie.path!=null?{}:K.params},ie)}}function F(K,X){const Q=l=w(K),ie=c.value,le=K.state,H=K.force,Y=K.replace===!0,W=k(Q);if(W)return F(Kt(x(W),{state:typeof W=="object"?Kt({},le,W.state):le,force:H,replace:Y}),X||Q);const Z=Q;Z.redirectedFrom=X;let fe;return!H&&HEe(n,ie,Q)&&(fe=O0(16,{to:Z,from:ie}),R(ie,ie,!0,!1)),(fe?Promise.resolve(fe):M(Z,ie)).catch(oe=>el(oe)?el(oe,2)?oe:B(oe):I(oe,Z,ie)).then(oe=>{if(oe){if(el(oe,2))return F(Kt({replace:Y},x(oe.to),{state:typeof oe.to=="object"?Kt({},le,oe.to.state):le,force:H}),X||Z)}else oe=P(Z,ie,!0,Y,le);return $(Z,ie,oe),oe})}function N(K,X){const Q=S(K,X);return Q?Promise.reject(Q):Promise.resolve()}function v(K){const X=G.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(K):K()}function M(K,X){let Q;const[ie,le,H]=Ive(K,X);Q=RA(ie.reverse(),"beforeRouteLeave",K,X);for(const W of ie)W.leaveGuards.forEach(Z=>{Q.push(Su(Z,K,X))});const Y=N.bind(null,K,X);return Q.push(Y),V(Q).then(()=>{Q=[];for(const W of s.list())Q.push(Su(W,K,X));return Q.push(Y),V(Q)}).then(()=>{Q=RA(le,"beforeRouteUpdate",K,X);for(const W of le)W.updateGuards.forEach(Z=>{Q.push(Su(Z,K,X))});return Q.push(Y),V(Q)}).then(()=>{Q=[];for(const W of H)if(W.beforeEnter)if(tc(W.beforeEnter))for(const Z of W.beforeEnter)Q.push(Su(Z,K,X));else Q.push(Su(W.beforeEnter,K,X));return Q.push(Y),V(Q)}).then(()=>(K.matched.forEach(W=>W.enterCallbacks={}),Q=RA(H,"beforeRouteEnter",K,X,v),Q.push(Y),V(Q))).then(()=>{Q=[];for(const W of o.list())Q.push(Su(W,K,X));return Q.push(Y),V(Q)}).catch(W=>el(W,8)?W:Promise.reject(W))}function $(K,X,Q){a.list().forEach(ie=>v(()=>ie(K,X,Q)))}function P(K,X,Q,ie,le){const H=S(K,X);if(H)return H;const Y=X===du,W=Hh?history.state:{};Q&&(ie||Y?i.replace(K.fullPath,Kt({scroll:Y&&W&&W.scroll},le)):i.push(K.fullPath,le)),c.value=K,R(K,X,Q,Y),B()}let C;function p(){C||(C=i.listen((K,X,Q)=>{if(!T.listening)return;const ie=w(K),le=k(ie);if(le){F(Kt(le,{replace:!0,force:!0}),ie).catch(Ig);return}l=ie;const H=c.value;Hh&&YEe(O4(H.fullPath,Q.delta),xE()),M(ie,H).catch(Y=>el(Y,12)?Y:el(Y,2)?(F(Kt(x(Y.to),{force:!0}),ie).then(W=>{el(W,20)&&!Q.delta&&Q.type===Zm.pop&&i.go(-1,!1)}).catch(Ig),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),I(Y,ie,H))).then(Y=>{Y=Y||P(ie,H,!1),Y&&(Q.delta&&!el(Y,8)?i.go(-Q.delta,!1):Q.type===Zm.pop&&el(Y,20)&&i.go(-1,!1)),$(ie,H,Y)}).catch(Ig)}))}let y=Op(),_=Op(),A;function I(K,X,Q){B(K);const ie=_.list();return ie.length?ie.forEach(le=>le(K,X,Q)):console.error(K),Promise.reject(K)}function U(){return A&&c.value!==du?Promise.resolve():new Promise((K,X)=>{y.add([K,X])})}function B(K){return A||(A=!K,p(),y.list().forEach(([X,Q])=>K?Q(K):X()),y.reset()),K}function R(K,X,Q,ie){const{scrollBehavior:le}=t;if(!Hh||!le)return Promise.resolve();const H=!Q&&XEe(O4(K.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return wd().then(()=>le(K,X,H)).then(Y=>Y&&JEe(Y)).catch(Y=>I(Y,K,X))}const E=K=>i.go(K);let L;const G=new Set,T={currentRoute:c,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:g,resolve:w,options:t,push:D,replace:O,go:E,back:()=>E(-1),forward:()=>E(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:_.add,isReady:U,install(K){const X=this;K.component("RouterLink",vve),K.component("RouterView",Nve),K.config.globalProperties.$router=X,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>xs(c)}),Hh&&!L&&c.value===du&&(L=!0,D(i.location).catch(le=>{}));const Q={};for(const le in du)Object.defineProperty(Q,le,{get:()=>c.value[le],enumerable:!0});K.provide(FI,X),K.provide(eB,Nk(Q)),K.provide(ZC,c);const ie=K.unmount;G.add(K),K.unmount=function(){G.delete(K),G.size<1&&(l=du,C&&C(),C=null,c.value=du,L=!1,A=!1),ie()}}};function V(K){return K.reduce((X,Q)=>X.then(()=>v(Q)),Promise.resolve())}return T}function Ive(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>P0(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>P0(l,c))||i.push(c))}return[r,n,i]}function Tve(){}const zl=Object.assign,tB=typeof window<"u",AE=t=>t!==null&&typeof t=="object",of=t=>t!=null,eN=t=>typeof t=="function",Rve=t=>AE(t)&&eN(t.then)&&eN(t.catch),rB=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),Pve=()=>tB?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function K4(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=AE(n)&&(s=n[i])!=null?s:""}),n}function Ove(t,e,r){return e.reduce((n,i)=>(n[i]=t[i],n),{})}const f1=null,Zi=[Number,String],Cl={type:Boolean,default:!0},Dve=t=>({type:Number,default:t}),Yi=t=>({type:String,default:t});var BI=typeof window<"u",kve=t=>t===window,V4=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),Mve=t=>{const e=xs(t);if(kve(e)){const r=e.innerWidth,n=e.innerHeight;return V4(r,n)}return e?.getBoundingClientRect?e.getBoundingClientRect():V4(0,0)};function nB(t){let e;lf(()=>{t(),wd(()=>{e=!0})}),DN(()=>{e&&t()})}function iB(t,e,r={}){if(!BI)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=f=>{if(o)return;const d=xs(f);d&&!a&&(d.addEventListener(t,e,{capture:s,passive:i}),a=!0)},l=f=>{if(o)return;const d=xs(f);d&&a&&(d.removeEventListener(t,e,s),a=!1)};Fd(()=>l(n)),v1(()=>l(n)),nB(()=>c(n));let u;return Gr(n)&&(u=Bn(n,(f,d)=>{l(d),c(f)})),()=>{u?.(),l(n),o=!0}}var Sb,PA;function Uve(){if(!Sb&&(Sb=At(0),PA=At(0),BI)){const t=()=>{Sb.value=window.innerWidth,PA.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Sb,height:PA}}var $ve=/scroll|auto|overlay/i,Lve=BI?window:void 0;function Fve(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Bve(t,e=Lve){let r=t;for(;r&&r!==e&&Fve(r);){const{overflowY:n}=window.getComputedStyle(r);if($ve.test(n))return r;r=r.parentNode}return e}Pve();const jve=t=>t.stopPropagation();function jI(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&jve(t)}const{width:Hve,height:Wve}=Uve();function ka(t){if(of(t))return rB(t)?`${t}px`:String(t)}function qve(t){if(of(t)){if(Array.isArray(t))return{width:ka(t[0]),height:ka(t[1])};const e=ka(t);return{width:e,height:e}}}function sB(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const zve=/-(\w)/g,oB=t=>t.replace(zve,(e,r)=>r.toUpperCase()),{hasOwnProperty:Gve}=Object.prototype;function Kve(t,e,r){const n=e[r];of(n)&&(!Gve.call(t,r)||!AE(n)?t[r]=n:t[r]=aB(Object(t[r]),n))}function aB(t,e){return Object.keys(e).forEach(r=>{Kve(t,e,r)}),t}var Vve={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const J4=At("zh-CN"),Y4=Bl({"zh-CN":Vve}),Wh={messages(){return Y4[J4.value]},use(t,e){J4.value=t,this.add({[t]:e})},add(t={}){aB(Y4,t)}};var Jve=Wh;function Yve(t){const e=oB(t)+".";return(r,...n)=>{const i=Jve.messages(),s=K4(i,e+r)||K4(i,r);return eN(s)?s(...n):s}}function tN(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+tN(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?tN(t,n):""),""):""}function Xve(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${tN(e,r)}`)}function Gl(t){const e=`van-${t}`;return[e,Xve(e),Yve(e)]}const cB="van-hairline",Qve=`${cB}--bottom`,Zve=`${cB}--surround`,rN="van-haptics-feedback",X4=5;function exe(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);Rve(s)?s.then(o=>{o?r():n&&n()}).catch(i||Tve):s?r():n&&n()}else r()}function mf(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(oB(`-${r}`),t))},t}const lB=Symbol();function txe(t){const e=Js(lB,null);e&&Bn(e,r=>{r&&t()})}const rxe=(t,e)=>{const r=At(),n=()=>{r.value=Mve(t).height};return lf(()=>{wd(n);for(let i=1;i<=3;i++)setTimeout(n,100*i)}),txe(()=>wd(n)),Bn([Hve,Wve],n),r};function nxe(t,e){const r=rxe(t);return n=>je("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function uB(t){const e=Do();e&&zl(e.proxy,t)}const ixe={to:[String,Object],url:String,replace:Boolean};function sxe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function oxe(){const t=Do().proxy;return()=>sxe(t)}const[axe,Q4]=Gl("badge"),cxe={dot:Boolean,max:Zi,tag:Yi("div"),color:String,offset:Array,content:Zi,showZero:Cl,position:Yi("top-right")};var lxe=Li({name:axe,props:cxe,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return of(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:l}=t;if(!a&&r())return e.content?e.content():of(c)&&rB(l)&&+l>+c?`${c}+`:l},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=hr(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof l=="number"?a[f]=ka(f==="top"?l:-l):a[f]=f==="top"?ka(l):i(l),typeof c=="number"?a[d]=ka(d==="left"?c:-c):a[d]=d==="left"?ka(c):i(c)):(a.marginTop=ka(l),a.marginLeft=ka(c))}return a}),o=()=>{if(r()||t.dot)return je("div",{class:Q4([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return je(a,{class:Q4("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const uxe=mf(lxe);let fxe=2e3;const dxe=()=>++fxe,[hxe]=Gl("config-provider"),pxe=Symbol(hxe),[gxe,Z4]=Gl("icon"),mxe=t=>t?.includes("/"),yxe={dot:Boolean,tag:Yi("i"),name:String,size:Zi,badge:Zi,color:String,badgeProps:Object,classPrefix:String};var bxe=Li({name:gxe,props:yxe,setup(t,{slots:e}){const r=Js(pxe,null),n=hr(()=>t.classPrefix||r?.iconPrefix||Z4());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:l}=t,u=mxe(o);return je(uxe,Ed({dot:s,tag:i,class:[n.value,u?"":`${n.value}-${o}`],style:{color:l,fontSize:ka(a)},content:c},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&je("img",{class:Z4("image"),src:o},null)]}})}}});const My=mf(bxe),[_xe,Rg]=Gl("loading"),wxe=Array(12).fill(null).map((t,e)=>je("i",{class:Rg("line",String(e+1))},null)),Exe=je("svg",{class:Rg("circular"),viewBox:"25 25 50 50"},[je("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),vxe={size:Zi,type:Yi("circular"),color:String,vertical:Boolean,textSize:Zi,textColor:String};var xxe=Li({name:_xe,props:vxe,setup(t,{slots:e}){const r=hr(()=>zl({color:t.color},qve(t.size))),n=()=>{const s=t.type==="spinner"?wxe:Exe;return je("span",{class:Rg("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return je("span",{class:Rg("text"),style:{fontSize:ka(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return je("div",{class:Rg([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const fB=mf(xxe),[Axe,Ch]=Gl("button"),Cxe=zl({},ixe,{tag:Yi("button"),text:String,icon:String,type:Yi("default"),size:Yi("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Yi("button"),loadingSize:Zi,loadingText:String,loadingType:String,iconPosition:Yi("left")});var Nxe=Li({name:Axe,props:Cxe,emits:["click"],setup(t,{emit:e,slots:r}){const n=oxe(),i=()=>r.loading?r.loading():je(fB,{size:t.loadingSize,type:t.loadingType,class:Ch("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return je("div",{class:Ch("icon")},[r.icon()]);if(t.icon)return je(My,{name:t.icon,class:Ch("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let l;if(t.loading?l=t.loadingText:l=r.default?r.default():t.text,l)return je("span",{class:Ch("text")},[l])},a=()=>{const{color:l,plain:u}=t;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{t.loading?jI(l):t.disabled||(e("click",l),n())};return()=>{const{tag:l,type:u,size:f,block:d,round:h,plain:m,square:g,loading:b,disabled:w,hairline:x,nativeType:S,iconPosition:D}=t,O=[Ch([u,f,{plain:m,block:d,round:h,square:g,loading:b,disabled:w,hairline:x}]),{[Zve]:x}];return je(l,{type:S,class:O,style:a(),disabled:w,onClick:c},{default:()=>[je("div",{class:Ch("content")},[D==="left"&&s(),o(),D==="right"&&s()])]})}}});const dB=mf(Nxe),Sxe={show:Boolean,zIndex:Zi,overlay:Cl,duration:Zi,teleport:[String,Object],lockScroll:Cl,lazyRender:Cl,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:f1,transitionAppear:Boolean,closeOnClickOverlay:Cl};function Ixe(t,e){return t>e?"horizontal":e>t?"vertical":""}function Txe(){const t=At(0),e=At(0),r=At(0),n=At(0),i=At(0),s=At(0),o=At(""),a=At(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:h=>{const m=h.touches[0];r.value=(m.clientX<0?0:m.clientX)-t.value,n.value=m.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const g=10;(!o.value||i.value<g&&s.value<g)&&(o.value=Ixe(i.value,s.value)),a.value&&(i.value>X4||s.value>X4)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let Dp=0;const eD="van-overflow-hidden";function Rxe(t,e){const r=Txe(),n="01",i="10",s=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=Bve(u.target,t.value),{scrollHeight:h,offsetHeight:m,scrollTop:g}=d;let b="11";g===0?b=m>=h?"00":"01":g+m>=h&&(b="10"),b!=="11"&&r.isVertical()&&!(parseInt(b,2)&parseInt(f,2))&&jI(u,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),Dp||document.body.classList.add(eD),Dp++},a=()=>{Dp&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),Dp--,Dp||document.body.classList.remove(eD))},c=()=>e()&&o(),l=()=>e()&&a();nB(c),v1(l),kN(l),Bn(e,u=>{u?o():a()})}function hB(t){const e=At(!1);return Bn(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const tD=()=>{var t;const{scopeId:e}=((t=Do())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[Pxe,Oxe]=Gl("overlay"),Dxe={show:Boolean,zIndex:Zi,duration:Zi,className:f1,lockScroll:Cl,lazyRender:Cl,customStyle:Object,teleport:[String,Object]};var kxe=Li({name:Pxe,inheritAttrs:!1,props:Dxe,setup(t,{attrs:e,slots:r}){const n=At(),i=hB(()=>t.show||!t.lazyRender),s=a=>{t.lockScroll&&jI(a,!0)},o=i(()=>{var a;const c=zl(sB(t.zIndex),t.customStyle);return of(t.duration)&&(c.animationDuration=`${t.duration}s`),kk(je("div",Ed({ref:n,style:c,class:[Oxe(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[bM,t.show]])});return iB("touchmove",s,{target:n}),()=>{const a=je(mM,{name:"van-fade",appear:!0},{default:o});return t.teleport?je(Lk,{to:t.teleport},{default:()=>[a]}):a}}});const Mxe=mf(kxe),Uxe=zl({},Sxe,{round:Boolean,position:Yi("center"),closeIcon:Yi("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Yi("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[$xe,rD]=Gl("popup");var Lxe=Li({name:$xe,inheritAttrs:!1,props:Uxe,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=At(),a=At(),c=hB(()=>t.show||!t.lazyRender),l=hr(()=>{const k={zIndex:o.value};if(of(t.duration)){const F=t.position==="center"?"animationDuration":"transitionDuration";k[F]=`${t.duration}s`}return k}),u=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:dxe(),e("open"))},f=()=>{i&&exe(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=k=>{e("clickOverlay",k),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const k=zl({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return je(Mxe,Ed(k,tD(),{onClick:d}),{default:n["overlay-content"]})}},m=k=>{e("clickCloseIcon",k),f()},g=()=>{if(t.closeable)return je(My,{role:"button",tabindex:0,name:t.closeIcon,class:[rD("close-icon",t.closeIconPosition),rN],classPrefix:t.iconPrefix,onClick:m},null)};let b;const w=()=>{b&&clearTimeout(b),b=setTimeout(()=>{e("opened")})},x=()=>e("closed"),S=k=>e("keydown",k),D=c(()=>{var k;const{destroyOnClose:F,round:N,position:v,safeAreaInsetTop:M,safeAreaInsetBottom:$,show:P}=t;if(!(!P&&F))return kk(je("div",Ed({ref:a,style:l.value,role:"dialog",tabindex:0,class:[rD({round:N,[v]:v}),{"van-safe-area-top":M,"van-safe-area-bottom":$}],onKeydown:S},r,tD()),[(k=n.default)==null?void 0:k.call(n),g()]),[[bM,P]])}),O=()=>{const{position:k,transition:F,transitionAppear:N}=t,v=k==="center"?"van-fade":`van-popup-slide-${k}`;return je(mM,{name:F||v,appear:N,onAfterEnter:w,onAfterLeave:x},{default:D})};return Bn(()=>t.show,k=>{k&&!i&&(u(),r.tabindex===0&&wd(()=>{var F;(F=a.value)==null||F.focus()})),!k&&i&&(i=!1,e("close"))}),uB({popupRef:a}),Rxe(a,()=>t.show&&t.lockScroll),iB("popstate",()=>{t.closeOnPopstate&&(f(),s=!1)}),lf(()=>{t.show&&u()}),DN(()=>{s&&(e("update:show",!0),s=!1)}),v1(()=>{t.show&&t.teleport&&(f(),s=!0)}),tg(lB,()=>t.show),()=>t.teleport?je(Lk,{to:t.teleport},{default:()=>[h(),O()]}):je(vs,null,[h(),O()])}});const Fxe=mf(Lxe);let kp=0;function Bxe(t){t?(kp||document.body.classList.add("van-toast--unclickable"),kp++):kp&&(kp--,kp||document.body.classList.remove("van-toast--unclickable"))}const[jxe,Nh]=Gl("toast"),Hxe=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Wxe={icon:String,show:Boolean,type:Yi("text"),overlay:Boolean,message:Zi,iconSize:Zi,duration:Dve(2e3),position:Yi("middle"),teleport:[String,Object],wordBreak:String,className:f1,iconPrefix:String,transition:Yi("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:f1,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Zi};var pB=Li({name:jxe,props:Wxe,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,Bxe(i))},o=f=>e("update:show",f),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),l=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:m,loadingType:g}=t;if(f||d==="success"||d==="fail")return je(My,{name:f||d,size:h,class:Nh("icon"),classPrefix:m},null);if(d==="loading")return je(fB,{class:Nh("loading"),size:h,type:g},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return je("div",{class:Nh("text")},[r.message()]);if(of(d)&&d!=="")return f==="html"?je("div",{key:0,class:Nh("text"),innerHTML:String(d)},null):je("div",{class:Nh("text")},[d])};return Bn(()=>[t.show,t.forbidClick],s),Bn(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),lf(s),Fd(s),()=>je(Fxe,Ed({class:[Nh([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},Ove(t,Hxe)),{default:()=>[l(),u()]})}});function qxe(){const t=Bl({show:!1}),e=i=>{t.show=i},r=i=>{zl(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return uB({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function zxe(t){const e=_M(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const Gxe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Ib=[],Kxe=!1,nD=zl({},Gxe);const Vxe=new Map;function Jxe(t){return AE(t)?t:{message:t}}function Yxe(){const{instance:t}=zxe({setup(){const e=At(""),{open:r,state:n,close:i,toggle:s}=qxe(),o=()=>{},a=()=>je(pB,Ed(n,{onClosed:o,"onUpdate:show":s}),null);return Bn(e,c=>{n.message=c}),Do().render=a,{open:r,close:i,message:e}}});return t}function Xxe(){if(!Ib.length||Kxe){const t=Yxe();Ib.push(t)}return Ib[Ib.length-1]}function hu(t={}){if(!tB)return{};const e=Xxe(),r=Jxe(t);return e.open(zl({},nD,Vxe.get(r.type||nD.type),r)),e}mf(pB);const[Qxe,tl]=Gl("nav-bar"),Zxe={title:String,fixed:Boolean,zIndex:Zi,border:Cl,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Cl};var eAe=Li({name:Qxe,props:Zxe,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=At(),i=nxe(n,tl),s=u=>{t.leftDisabled||e("clickLeft",u)},o=u=>{t.rightDisabled||e("clickRight",u)},a=()=>r.left?r.left():[t.leftArrow&&je(My,{class:tl("arrow"),name:"arrow-left"},null),t.leftText&&je("span",{class:tl("text")},[t.leftText])],c=()=>r.right?r.right():je("span",{class:tl("text")},[t.rightText]),l=()=>{const{title:u,fixed:f,border:d,zIndex:h}=t,m=sB(h),g=t.leftArrow||t.leftText||r.left,b=t.rightText||r.right;return je("div",{ref:n,style:m,class:[tl({fixed:f}),{[Qve]:d,"van-safe-area-top":t.safeAreaInsetTop}]},[je("div",{class:tl("content")},[g&&je("div",{class:[tl("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?rN:""],onClick:s},[a()]),je("div",{class:[tl("title"),"van-ellipsis"]},[r.title?r.title():u]),b&&je("div",{class:[tl("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?rN:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(l):l()}});const tAe=mf(eAe);/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function rAe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const d1=typeof window<"u",yf=(t,e=!1)=>e?Symbol.for(t):Symbol(t),nAe=(t,e,r)=>iAe({l:t,k:e,s:r}),iAe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ln=t=>typeof t=="number"&&isFinite(t),sAe=t=>mB(t)==="[object Date]",af=t=>mB(t)==="[object RegExp]",CE=t=>Ze(t)&&Object.keys(t).length===0,ui=Object.assign,oAe=Object.create,nr=(t=null)=>oAe(t);let iD;const vl=()=>iD||(iD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:nr());function sD(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function oD(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function aAe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,s)=>`${i}="${oD(s)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,s)=>`${i}='${oD(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const cAe=Object.prototype.hasOwnProperty;function Ka(t,e){return cAe.call(t,e)}const Mr=Array.isArray,dr=t=>typeof t=="function",Se=t=>typeof t=="string",ft=t=>typeof t=="boolean",Ht=t=>t!==null&&typeof t=="object",lAe=t=>Ht(t)&&dr(t.then)&&dr(t.catch),gB=Object.prototype.toString,mB=t=>gB.call(t),Ze=t=>{if(!Ht(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},uAe=t=>t==null?"":Mr(t)||Ze(t)&&t.toString===gB?JSON.stringify(t,null,2):String(t);function fAe(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function NE(t){let e=t;return()=>++e}const Tb=t=>!Ht(t)||Mr(t);function W_(t,e){if(Tb(t)||Tb(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(Ht(n[s])&&!Ht(i[s])&&(i[s]=Array.isArray(n[s])?[]:nr()),Tb(i[s])||Tb(n[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function dAe(t,e,r){return{line:t,column:e,offset:r}}function h1(t,e,r){return{start:t,end:e}}const hAe=/\{([0-9a-zA-Z]+)\}/g;function yB(t,...e){return e.length===1&&pAe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(hAe,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const bB=Object.assign,aD=t=>typeof t=="string",pAe=t=>t!==null&&typeof t=="object";function _B(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const HI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},gAe={[HI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function mAe(t,e,...r){const n=yB(gAe[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const Je={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},yAe={[Je.EXPECTED_TOKEN]:"Expected token: '{0}'",[Je.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Je.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Je.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Je.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Je.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Je.EMPTY_PLACEHOLDER]:"Empty placeholder",[Je.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Je.INVALID_LINKED_FORMAT]:"Invalid linked format",[Je.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Je.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Je.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Je.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Je.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Je.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function rp(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=yB((i||yAe)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function bAe(t){throw t}const rl=" ",_Ae="\r",Hi=`
`,wAe="\u2028",EAe="\u2029";function vAe(t){const e=t;let r=0,n=1,i=1,s=0;const o=F=>e[F]===_Ae&&e[F+1]===Hi,a=F=>e[F]===Hi,c=F=>e[F]===EAe,l=F=>e[F]===wAe,u=F=>o(F)||a(F)||c(F)||l(F),f=()=>r,d=()=>n,h=()=>i,m=()=>s,g=F=>o(F)||c(F)||l(F)?Hi:e[F],b=()=>g(r),w=()=>g(r+s);function x(){return s=0,u(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function S(){return o(r+s)&&s++,s++,e[r+s]}function D(){r=0,n=1,i=1,s=0}function O(F=0){s=F}function k(){const F=r+s;for(;F!==r;)x();s=0}return{index:f,line:d,column:h,peekOffset:m,charAt:g,currentChar:b,currentPeek:w,next:x,peek:S,reset:D,resetPeek:O,skipToPeek:k}}const pu=void 0,xAe=".",cD="'",AAe="tokenizer";function CAe(t,e={}){const r=e.location!==!1,n=vAe(t),i=()=>n.index(),s=()=>dAe(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function f(q,z,ne,...se){const pe=l();if(z.column+=ne,z.offset+=ne,u){const me=r?h1(pe.startLoc,z):null,ee=rp(q,me,{domain:AAe,args:se});u(ee)}}function d(q,z,ne){q.endLoc=s(),q.currentType=z;const se={type:z};return r&&(se.loc=h1(q.startLoc,q.endLoc)),ne!=null&&(se.value=ne),se}const h=q=>d(q,14);function m(q,z){return q.currentChar()===z?(q.next(),z):(f(Je.EXPECTED_TOKEN,s(),0,z),"")}function g(q){let z="";for(;q.currentPeek()===rl||q.currentPeek()===Hi;)z+=q.currentPeek(),q.peek();return z}function b(q){const z=g(q);return q.skipToPeek(),z}function w(q){if(q===pu)return!1;const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z===95}function x(q){if(q===pu)return!1;const z=q.charCodeAt(0);return z>=48&&z<=57}function S(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=w(q.currentPeek());return q.resetPeek(),se}function D(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()==="-"?q.peek():q.currentPeek(),pe=x(se);return q.resetPeek(),pe}function O(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()===cD;return q.resetPeek(),se}function k(q,z){const{currentType:ne}=z;if(ne!==8)return!1;g(q);const se=q.currentPeek()===".";return q.resetPeek(),se}function F(q,z){const{currentType:ne}=z;if(ne!==9)return!1;g(q);const se=w(q.currentPeek());return q.resetPeek(),se}function N(q,z){const{currentType:ne}=z;if(!(ne===8||ne===12))return!1;g(q);const se=q.currentPeek()===":";return q.resetPeek(),se}function v(q,z){const{currentType:ne}=z;if(ne!==10)return!1;const se=()=>{const me=q.currentPeek();return me==="{"?w(q.peek()):me==="@"||me==="%"||me==="|"||me===":"||me==="."||me===rl||!me?!1:me===Hi?(q.peek(),se()):P(q,!1)},pe=se();return q.resetPeek(),pe}function M(q){g(q);const z=q.currentPeek()==="|";return q.resetPeek(),z}function $(q){const z=g(q),ne=q.currentPeek()==="%"&&q.peek()==="{";return q.resetPeek(),{isModulo:ne,hasSpace:z.length>0}}function P(q,z=!0){const ne=(pe=!1,me="",ee=!1)=>{const ce=q.currentPeek();return ce==="{"?me==="%"?!1:pe:ce==="@"||!ce?me==="%"?!0:pe:ce==="%"?(q.peek(),ne(pe,"%",!0)):ce==="|"?me==="%"||ee?!0:!(me===rl||me===Hi):ce===rl?(q.peek(),ne(!0,rl,ee)):ce===Hi?(q.peek(),ne(!0,Hi,ee)):!0},se=ne();return z&&q.resetPeek(),se}function C(q,z){const ne=q.currentChar();return ne===pu?pu:z(ne)?(q.next(),ne):null}function p(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36}function y(q){return C(q,p)}function _(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36||z===45}function A(q){return C(q,_)}function I(q){const z=q.charCodeAt(0);return z>=48&&z<=57}function U(q){return C(q,I)}function B(q){const z=q.charCodeAt(0);return z>=48&&z<=57||z>=65&&z<=70||z>=97&&z<=102}function R(q){return C(q,B)}function E(q){let z="",ne="";for(;z=U(q);)ne+=z;return ne}function L(q){b(q);const z=q.currentChar();return z!=="%"&&f(Je.EXPECTED_TOKEN,s(),0,z),q.next(),"%"}function G(q){let z="";for(;;){const ne=q.currentChar();if(ne==="{"||ne==="}"||ne==="@"||ne==="|"||!ne)break;if(ne==="%")if(P(q))z+=ne,q.next();else break;else if(ne===rl||ne===Hi)if(P(q))z+=ne,q.next();else{if(M(q))break;z+=ne,q.next()}else z+=ne,q.next()}return z}function T(q){b(q);let z="",ne="";for(;z=A(q);)ne+=z;return q.currentChar()===pu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne}function V(q){b(q);let z="";return q.currentChar()==="-"?(q.next(),z+=`-${E(q)}`):z+=E(q),q.currentChar()===pu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z}function K(q){return q!==cD&&q!==Hi}function X(q){b(q),m(q,"'");let z="",ne="";for(;z=C(q,K);)z==="\\"?ne+=Q(q):ne+=z;const se=q.currentChar();return se===Hi||se===pu?(f(Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),se===Hi&&(q.next(),m(q,"'")),ne):(m(q,"'"),ne)}function Q(q){const z=q.currentChar();switch(z){case"\\":case"'":return q.next(),`\\${z}`;case"u":return ie(q,z,4);case"U":return ie(q,z,6);default:return f(Je.UNKNOWN_ESCAPE_SEQUENCE,s(),0,z),""}}function ie(q,z,ne){m(q,z);let se="";for(let pe=0;pe<ne;pe++){const me=R(q);if(!me){f(Je.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${z}${se}${q.currentChar()}`);break}se+=me}return`\\${z}${se}`}function le(q){return q!=="{"&&q!=="}"&&q!==rl&&q!==Hi}function H(q){b(q);let z="",ne="";for(;z=C(q,le);)ne+=z;return ne}function Y(q){let z="",ne="";for(;z=y(q);)ne+=z;return ne}function W(q){const z=ne=>{const se=q.currentChar();return se==="{"||se==="%"||se==="@"||se==="|"||se==="("||se===")"||!se||se===rl?ne:(ne+=se,q.next(),z(ne))};return z("")}function Z(q){b(q);const z=m(q,"|");return b(q),z}function fe(q,z){let ne=null;switch(q.currentChar()){case"{":return z.braceNest>=1&&f(Je.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),q.next(),ne=d(z,2,"{"),b(q),z.braceNest++,ne;case"}":return z.braceNest>0&&z.currentType===2&&f(Je.EMPTY_PLACEHOLDER,s(),0),q.next(),ne=d(z,3,"}"),z.braceNest--,z.braceNest>0&&b(q),z.inLinked&&z.braceNest===0&&(z.inLinked=!1),ne;case"@":return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=oe(q,z)||h(z),z.braceNest=0,ne;default:{let pe=!0,me=!0,ee=!0;if(M(q))return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;if(z.braceNest>0&&(z.currentType===5||z.currentType===6||z.currentType===7))return f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z.braceNest=0,ge(q,z);if(pe=S(q,z))return ne=d(z,5,T(q)),b(q),ne;if(me=D(q,z))return ne=d(z,6,V(q)),b(q),ne;if(ee=O(q,z))return ne=d(z,7,X(q)),b(q),ne;if(!pe&&!me&&!ee)return ne=d(z,13,H(q)),f(Je.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ne.value),b(q),ne;break}}return ne}function oe(q,z){const{currentType:ne}=z;let se=null;const pe=q.currentChar();switch((ne===8||ne===9||ne===12||ne===10)&&(pe===Hi||pe===rl)&&f(Je.INVALID_LINKED_FORMAT,s(),0),pe){case"@":return q.next(),se=d(z,8,"@"),z.inLinked=!0,se;case".":return b(q),q.next(),d(z,9,".");case":":return b(q),q.next(),d(z,10,":");default:return M(q)?(se=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,se):k(q,z)||N(q,z)?(b(q),oe(q,z)):F(q,z)?(b(q),d(z,12,Y(q))):v(q,z)?(b(q),pe==="{"?fe(q,z)||se:d(z,11,W(q))):(ne===8&&f(Je.INVALID_LINKED_FORMAT,s(),0),z.braceNest=0,z.inLinked=!1,ge(q,z))}}function ge(q,z){let ne={type:14};if(z.braceNest>0)return fe(q,z)||h(z);if(z.inLinked)return oe(q,z)||h(z);switch(q.currentChar()){case"{":return fe(q,z)||h(z);case"}":return f(Je.UNBALANCED_CLOSING_BRACE,s(),0),q.next(),d(z,3,"}");case"@":return oe(q,z)||h(z);default:{if(M(q))return ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;const{isModulo:pe,hasSpace:me}=$(q);if(pe)return me?d(z,0,G(q)):d(z,4,L(q));if(P(q))return d(z,0,G(q));break}}return ne}function we(){const{currentType:q,offset:z,startLoc:ne,endLoc:se}=c;return c.lastType=q,c.lastOffset=z,c.lastStartLoc=ne,c.lastEndLoc=se,c.offset=i(),c.startLoc=s(),n.currentChar()===pu?d(c,14):ge(n,c)}return{nextToken:we,currentOffset:i,currentPosition:s,context:l}}const NAe="parser",SAe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function IAe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function TAe(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(S,D,O,k,...F){const N=S.currentPosition();if(N.offset+=k,N.column+=k,r){const v=e?h1(O,N):null,M=rp(D,v,{domain:NAe,args:F});r(M)}}function s(S,D,O,k,...F){const N=S.currentPosition();if(N.offset+=k,N.column+=k,n){const v=e?h1(O,N):null;n(mAe(D,v,F))}}function o(S,D,O){const k={type:S};return e&&(k.start=D,k.end=D,k.loc={start:O,end:O}),k}function a(S,D,O,k){e&&(S.end=D,S.loc&&(S.loc.end=O))}function c(S,D){const O=S.context(),k=o(3,O.offset,O.startLoc);return k.value=D,a(k,S.currentOffset(),S.currentPosition()),k}function l(S,D){const O=S.context(),{lastOffset:k,lastStartLoc:F}=O,N=o(5,k,F);return N.index=parseInt(D,10),S.nextToken(),a(N,S.currentOffset(),S.currentPosition()),N}function u(S,D,O){const k=S.context(),{lastOffset:F,lastStartLoc:N}=k,v=o(4,F,N);return v.key=D,O===!0&&(v.modulo=!0),S.nextToken(),a(v,S.currentOffset(),S.currentPosition()),v}function f(S,D){const O=S.context(),{lastOffset:k,lastStartLoc:F}=O,N=o(9,k,F);return N.value=D.replace(SAe,IAe),S.nextToken(),a(N,S.currentOffset(),S.currentPosition()),N}function d(S){const D=S.nextToken(),O=S.context(),{lastOffset:k,lastStartLoc:F}=O,N=o(8,k,F);return D.type!==12?(i(S,Je.UNEXPECTED_EMPTY_LINKED_MODIFIER,O.lastStartLoc,0),N.value="",a(N,k,F),{nextConsumeToken:D,node:N}):(D.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,ra(D)),N.value=D.value||"",a(N,S.currentOffset(),S.currentPosition()),{node:N})}function h(S,D){const O=S.context(),k=o(7,O.offset,O.startLoc);return k.value=D,a(k,S.currentOffset(),S.currentPosition()),k}function m(S){const D=S.context(),O=o(6,D.offset,D.startLoc);let k=S.nextToken();if(k.type===9){const F=d(S);O.modifier=F.node,k=F.nextConsumeToken||S.nextToken()}switch(k.type!==10&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(k)),k=S.nextToken(),k.type===2&&(k=S.nextToken()),k.type){case 11:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(k)),O.key=h(S,k.value||"");break;case 5:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(k)),O.key=u(S,k.value||"");break;case 6:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(k)),O.key=l(S,k.value||"");break;case 7:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(k)),O.key=f(S,k.value||"");break;default:{i(S,Je.UNEXPECTED_EMPTY_LINKED_KEY,D.lastStartLoc,0);const F=S.context(),N=o(7,F.offset,F.startLoc);return N.value="",a(N,F.offset,F.startLoc),O.key=N,a(O,F.offset,F.startLoc),{nextConsumeToken:k,node:O}}}return a(O,S.currentOffset(),S.currentPosition()),{node:O}}function g(S){const D=S.context(),O=D.currentType===1?S.currentOffset():D.offset,k=D.currentType===1?D.endLoc:D.startLoc,F=o(2,O,k);F.items=[];let N=null,v=null;do{const P=N||S.nextToken();switch(N=null,P.type){case 0:P.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(P)),F.items.push(c(S,P.value||""));break;case 6:P.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(P)),F.items.push(l(S,P.value||""));break;case 4:v=!0;break;case 5:P.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(P)),F.items.push(u(S,P.value||"",!!v)),v&&(s(S,HI.USE_MODULO_SYNTAX,D.lastStartLoc,0,ra(P)),v=null);break;case 7:P.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ra(P)),F.items.push(f(S,P.value||""));break;case 8:{const C=m(S);F.items.push(C.node),N=C.nextConsumeToken||null;break}}}while(D.currentType!==14&&D.currentType!==1);const M=D.currentType===1?D.lastOffset:S.currentOffset(),$=D.currentType===1?D.lastEndLoc:S.currentPosition();return a(F,M,$),F}function b(S,D,O,k){const F=S.context();let N=k.items.length===0;const v=o(1,D,O);v.cases=[],v.cases.push(k);do{const M=g(S);N||(N=M.items.length===0),v.cases.push(M)}while(F.currentType!==14);return N&&i(S,Je.MUST_HAVE_MESSAGES_IN_PLURAL,O,0),a(v,S.currentOffset(),S.currentPosition()),v}function w(S){const D=S.context(),{offset:O,startLoc:k}=D,F=g(S);return D.currentType===14?F:b(S,O,k,F)}function x(S){const D=CAe(S,bB({},t)),O=D.context(),k=o(0,O.offset,O.startLoc);return e&&k.loc&&(k.loc.source=S),k.body=w(D),t.onCacheKey&&(k.cacheKey=t.onCacheKey(S)),O.currentType!==14&&i(D,Je.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,S[O.offset]||""),a(k,D.currentOffset(),D.currentPosition()),k}return{parse:x}}function ra(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function RAe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function lD(t,e){for(let r=0;r<t.length;r++)WI(t[r],e)}function WI(t,e){switch(t.type){case 1:lD(t.cases,e),e.helper("plural");break;case 2:lD(t.items,e);break;case 6:{WI(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function PAe(t,e={}){const r=RAe(t);r.helper("normalize"),t.body&&WI(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function OAe(t){const e=t.body;return e.type===2?uD(e):e.cases.forEach(r=>uD(r)),t}function uD(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=_B(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const DAe="minifier";function qh(t){switch(t.t=t.type,t.type){case 0:{const e=t;qh(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)qh(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)qh(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;qh(e.key),e.k=e.key,delete e.key,e.modifier&&(qh(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw rp(Je.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:DAe,args:[t.type]})}delete t.type}const kAe="parser";function MAe(t,e){const{filename:r,breakLineCode:n,needIndent:i}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,b){o.code+=g}function l(g,b=!0){const w=b?n:"";c(i?w+"  ".repeat(g):w)}function u(g=!0){const b=++o.indentLevel;g&&l(b)}function f(g=!0){const b=--o.indentLevel;g&&l(b)}function d(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:f,newline:d,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function UAe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),D0(t,e.key),e.modifier?(t.push(", "),D0(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function $Ae(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(D0(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function LAe(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(D0(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function FAe(t,e){e.body?D0(t,e.body):t.push("null")}function D0(t,e){const{helper:r}=t;switch(e.type){case 0:FAe(t,e);break;case 1:LAe(t,e);break;case 2:$Ae(t,e);break;case 6:UAe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw rp(Je.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:kAe,args:[e.type]})}}const BAe=(t,e={})=>{const r=aD(e.mode)?e.mode:"normal",n=aD(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=MAe(t,{filename:n,breakLineCode:i,needIndent:s});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${_B(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),D0(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function jAe(t,e={}){const r=bB({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=TAe(r).parse(t);return n?(s&&OAe(a),i&&qh(a),{ast:a,code:""}):(PAe(a,r),BAe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function HAe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(vl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(vl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(vl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function $c(t){return Ht(t)&&qI(t)===0&&(Ka(t,"b")||Ka(t,"body"))}const wB=["b","body"];function WAe(t){return bf(t,wB)}const EB=["c","cases"];function qAe(t){return bf(t,EB,[])}const vB=["s","static"];function zAe(t){return bf(t,vB)}const xB=["i","items"];function GAe(t){return bf(t,xB,[])}const AB=["t","type"];function qI(t){return bf(t,AB)}const CB=["v","value"];function Rb(t,e){const r=bf(t,CB);if(r!=null)return r;throw ey(e)}const NB=["m","modifier"];function KAe(t){return bf(t,NB)}const SB=["k","key"];function VAe(t){const e=bf(t,SB);if(e)return e;throw ey(6)}function bf(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(Ka(t,i)&&t[i]!=null)return t[i]}return r}const IB=[...wB,...EB,...vB,...xB,...SB,...NB,...CB,...AB];function ey(t){return new Error(`unhandled node type: ${t}`)}const _f=[];_f[0]={w:[0],i:[3,0],"[":[4],o:[7]};_f[1]={w:[1],".":[2],"[":[4],o:[7]};_f[2]={w:[2],i:[3,0],0:[3,0]};_f[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};_f[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};_f[5]={"'":[4,0],o:8,l:[5,0]};_f[6]={'"':[4,0],o:8,l:[6,0]};const JAe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function YAe(t){return JAe.test(t)}function XAe(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function QAe(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function ZAe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:YAe(e)?XAe(e):"*"+e}function e2e(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,o===void 0||(o=ZAe(o),o===!1))return!1;d[1]()}};function h(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,d[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&h())){if(c=QAe(s),f=_f[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=s,u()===!1))))return;if(n===7)return e}}const fD=new Map;function t2e(t,e){return Ht(t)?t[e]:null}function r2e(t,e){if(!Ht(t))return null;let r=fD.get(e);if(r||(r=e2e(e),r&&fD.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=r[s];if(IB.includes(o)&&$c(i))return null;const a=i[o];if(a===void 0||dr(i))return null;i=a,s++}return i}const n2e=t=>t,i2e=t=>"",s2e="text",o2e=t=>t.length===0?"":fAe(t),a2e=uAe;function dD(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function c2e(t){const e=ln(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ln(t.named.count)||ln(t.named.n))?ln(t.named.count)?t.named.count:ln(t.named.n)?t.named.n:e:e}function l2e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function u2e(t={}){const e=t.locale,r=c2e(t),n=Ht(t.pluralRules)&&Se(e)&&dr(t.pluralRules[e])?t.pluralRules[e]:dD,i=Ht(t.pluralRules)&&Se(e)&&dr(t.pluralRules[e])?dD:void 0,s=w=>w[n(r,w.length,i)],o=t.list||[],a=w=>o[w],c=t.named||nr();ln(t.pluralIndex)&&l2e(r,c);const l=w=>c[w];function u(w){const x=dr(t.messages)?t.messages(w):Ht(t.messages)?t.messages[w]:!1;return x||(t.parent?t.parent.message(w):i2e)}const f=w=>t.modifiers?t.modifiers[w]:n2e,d=Ze(t.processor)&&dr(t.processor.normalize)?t.processor.normalize:o2e,h=Ze(t.processor)&&dr(t.processor.interpolate)?t.processor.interpolate:a2e,m=Ze(t.processor)&&Se(t.processor.type)?t.processor.type:s2e,b={list:a,named:l,plural:s,linked:(w,...x)=>{const[S,D]=x;let O="text",k="";x.length===1?Ht(S)?(k=S.modifier||k,O=S.type||O):Se(S)&&(k=S||k):x.length===2&&(Se(S)&&(k=S||k),Se(D)&&(O=D||O));const F=u(w)(b),N=O==="vnode"&&Mr(F)&&k?F[0]:F;return k?f(k)(N,O):N},message:u,type:m,interpolate:h,normalize:d,values:ui(nr(),o,c)};return b}let ty=null;function f2e(t){ty=t}function d2e(t,e,r){ty&&ty.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const h2e=p2e("function:translate");function p2e(t){return e=>ty&&ty.emit(t,e)}const g2e=HI.__EXTEND_POINT__,Ff=NE(g2e),m2e={FALLBACK_TO_TRANSLATE:Ff(),CANNOT_FORMAT_NUMBER:Ff(),FALLBACK_TO_NUMBER_FORMAT:Ff(),CANNOT_FORMAT_DATE:Ff(),FALLBACK_TO_DATE_FORMAT:Ff(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ff(),__EXTEND_POINT__:Ff()},TB=Je.__EXTEND_POINT__,Bf=NE(TB),Va={INVALID_ARGUMENT:TB,INVALID_DATE_ARGUMENT:Bf(),INVALID_ISO_DATE_ARGUMENT:Bf(),NOT_SUPPORT_NON_STRING_MESSAGE:Bf(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Bf(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Bf(),NOT_SUPPORT_LOCALE_TYPE:Bf(),__EXTEND_POINT__:Bf()};function Tc(t){return rp(t,null,void 0)}function zI(t,e){return e.locale!=null?hD(e.locale):hD(t.locale)}let OA;function hD(t){if(Se(t))return t;if(dr(t)){if(t.resolvedOnce&&OA!=null)return OA;if(t.constructor.name==="Function"){const e=t();if(lAe(e))throw Tc(Va.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return OA=e}else throw Tc(Va.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Tc(Va.NOT_SUPPORT_LOCALE_TYPE)}function y2e(t,e,r){return[...new Set([r,...Mr(e)?e:Ht(e)?Object.keys(e):Se(e)?[e]:[r]])]}function RB(t,e,r){const n=Se(r)?r:k0,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;Mr(o);)o=pD(s,o,e);const a=Mr(e)||!Ze(e)?e:e.default?e.default:null;o=Se(a)?[a]:a,Mr(o)&&pD(s,o,!1),i.__localeChainCache.set(n,s)}return s}function pD(t,e,r){let n=!0;for(let i=0;i<e.length&&ft(n);i++){const s=e[i];Se(s)&&(n=b2e(t,e[i],r))}return n}function b2e(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=_2e(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function _2e(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Mr(r)||Ze(r))&&r[i]&&(n=r[i])}return n}const w2e="9.14.5",SE=-1,k0="en-US",gD="",mD=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function E2e(){return{upper:(t,e)=>e==="text"&&Se(t)?t.toUpperCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Se(t)?t.toLowerCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Se(t)?mD(t):e==="vnode"&&Ht(t)&&"__v_isVNode"in t?mD(t.children):t}}let PB;function yD(t){PB=t}let OB;function v2e(t){OB=t}let DB;function x2e(t){DB=t}let kB=null;const A2e=t=>{kB=t},C2e=()=>kB;let MB=null;const bD=t=>{MB=t},N2e=()=>MB;let _D=0;function S2e(t={}){const e=dr(t.onWarn)?t.onWarn:rAe,r=Se(t.version)?t.version:w2e,n=Se(t.locale)||dr(t.locale)?t.locale:k0,i=dr(n)?k0:n,s=Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||Se(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=Ze(t.messages)?t.messages:DA(i),a=Ze(t.datetimeFormats)?t.datetimeFormats:DA(i),c=Ze(t.numberFormats)?t.numberFormats:DA(i),l=ui(nr(),t.modifiers,E2e()),u=t.pluralRules||nr(),f=dr(t.missing)?t.missing:null,d=ft(t.missingWarn)||af(t.missingWarn)?t.missingWarn:!0,h=ft(t.fallbackWarn)||af(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,g=!!t.unresolving,b=dr(t.postTranslation)?t.postTranslation:null,w=Ze(t.processor)?t.processor:null,x=ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter,D=dr(t.messageCompiler)?t.messageCompiler:PB,O=dr(t.messageResolver)?t.messageResolver:OB||t2e,k=dr(t.localeFallbacker)?t.localeFallbacker:DB||y2e,F=Ht(t.fallbackContext)?t.fallbackContext:void 0,N=t,v=Ht(N.__datetimeFormatters)?N.__datetimeFormatters:new Map,M=Ht(N.__numberFormatters)?N.__numberFormatters:new Map,$=Ht(N.__meta)?N.__meta:{};_D++;const P={version:r,cid:_D,locale:n,fallbackLocale:s,messages:o,modifiers:l,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:g,postTranslation:b,processor:w,warnHtmlMessage:x,escapeParameter:S,messageCompiler:D,messageResolver:O,localeFallbacker:k,fallbackContext:F,onWarn:e,__meta:$};return P.datetimeFormats=a,P.numberFormats=c,P.__datetimeFormatters=v,P.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&d2e(P,r,$),P}const DA=t=>({[t]:nr()});function GI(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Se(a)?a:e}else return e}function Mp(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function I2e(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function T2e(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(I2e(t,e[n]))return!0;return!1}function kA(t){return r=>R2e(r,t)}function R2e(t,e){const r=WAe(e);if(r==null)throw ey(0);if(qI(r)===1){const s=qAe(r);return t.plural(s.reduce((o,a)=>[...o,wD(t,a)],[]))}else return wD(t,r)}function wD(t,e){const r=zAe(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=GAe(e).reduce((i,s)=>[...i,nN(t,s)],[]);return t.normalize(n)}}function nN(t,e){const r=qI(e);switch(r){case 3:return Rb(e,r);case 9:return Rb(e,r);case 4:{const n=e;if(Ka(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(Ka(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw ey(r)}case 5:{const n=e;if(Ka(n,"i")&&ln(n.i))return t.interpolate(t.list(n.i));if(Ka(n,"index")&&ln(n.index))return t.interpolate(t.list(n.index));throw ey(r)}case 6:{const n=e,i=KAe(n),s=VAe(n);return t.linked(nN(t,s),i?nN(t,i):void 0,t.type)}case 7:return Rb(e,r);case 8:return Rb(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const UB=t=>t;let Qh=nr();function $B(t,e={}){let r=!1;const n=e.onError||bAe;return e.onError=i=>{r=!0,n(i)},{...jAe(t,e),detectError:r}}const P2e=(t,e)=>{if(!Se(t))throw Tc(Va.NOT_SUPPORT_NON_STRING_MESSAGE);{ft(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UB)(t),i=Qh[n];if(i)return i;const{code:s,detectError:o}=$B(t,e),a=new Function(`return ${s}`)();return o?a:Qh[n]=a}};function O2e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Se(t)){ft(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||UB)(t),i=Qh[n];if(i)return i;const{ast:s,detectError:o}=$B(t,{...e,location:!1,jit:!0}),a=kA(s);return o?a:Qh[n]=a}else{const r=t.cacheKey;if(r){const n=Qh[r];return n||(Qh[r]=kA(t))}else return kA(t)}}const ED=()=>"",No=t=>dr(t);function vD(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,l]=iN(...e),u=ft(l.missingWarn)?l.missingWarn:t.missingWarn,f=ft(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=ft(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,m=Se(l.default)||ft(l.default)?ft(l.default)?s?c:()=>c:l.default:r?s?c:()=>c:"",g=r||m!=="",b=zI(t,l);d&&D2e(l);let[w,x,S]=h?[c,b,a[b]||nr()]:LB(t,c,b,o,f,u),D=w,O=c;if(!h&&!(Se(D)||$c(D)||No(D))&&g&&(D=m,O=D),!h&&(!(Se(D)||$c(D)||No(D))||!Se(x)))return i?SE:c;let k=!1;const F=()=>{k=!0},N=No(D)?D:FB(t,c,x,D,O,F);if(k)return D;const v=U2e(t,x,S,l),M=u2e(v),$=k2e(t,N,M);let P=n?n($,c):$;if(d&&Se(P)&&(P=aAe(P)),__INTLIFY_PROD_DEVTOOLS__){const C={timestamp:Date.now(),key:Se(c)?c:No(D)?D.key:"",locale:x||(No(D)?D.locale:""),format:Se(D)?D:No(D)?D.source:"",message:P};C.meta=ui({},t.__meta,C2e()||{}),h2e(C)}return P}function D2e(t){Mr(t.list)?t.list=t.list.map(e=>Se(e)?sD(e):e):Ht(t.named)&&Object.keys(t.named).forEach(e=>{Se(t.named[e])&&(t.named[e]=sD(t.named[e]))})}function LB(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,n,r);let f=nr(),d,h=null;const m="translate";for(let g=0;g<u.length&&(d=u[g],f=o[d]||nr(),(h=c(f,e))===null&&(h=f[e]),!(Se(h)||$c(h)||No(h)));g++)if(!T2e(d,u)){const b=GI(t,e,d,s,m);b!==e&&(h=b)}return[h,d,f]}function FB(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(No(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||e,l}if(o==null){const l=(()=>n);return l.locale=r,l.key=e,l}const c=o(n,M2e(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function k2e(t,e,r){return e(r)}function iN(...t){const[e,r,n]=t,i=nr();if(!Se(e)&&!ln(e)&&!No(e)&&!$c(e))throw Tc(Va.INVALID_ARGUMENT);const s=ln(e)?String(e):(No(e),e);return ln(r)?i.plural=r:Se(r)?i.default=r:Ze(r)&&!CE(r)?i.named=r:Mr(r)&&(i.list=r),ln(n)?i.plural=n:Se(n)?i.default=n:Ze(n)&&ui(i,n),[s,i]}function M2e(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>nAe(e,r,o)}}function U2e(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,d={locale:e,modifiers:i,pluralRules:s,messages:h=>{let m=o(r,h);if(m==null&&u){const[,,g]=LB(u,h,e,a,c,l);m=o(g,h)}if(Se(m)||$c(m)){let g=!1;const w=FB(t,h,e,m,h,()=>{g=!0});return g?ED:w}else return No(m)?m:ED}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),ln(n.plural)&&(d.pluralIndex=n.plural),d}function xD(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,f]=sN(...e),d=ft(u.missingWarn)?u.missingWarn:t.missingWarn;ft(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=zI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.DateTimeFormat(m,f).format(l);let b={},w,x=null;const S="datetime format";for(let k=0;k<g.length&&(w=g[k],b=r[w]||{},x=b[c],!Ze(x));k++)GI(t,c,w,d,S);if(!Ze(x)||!Se(w))return n?SE:c;let D=`${w}__${c}`;CE(f)||(D=`${D}__${JSON.stringify(f)}`);let O=a.get(D);return O||(O=new Intl.DateTimeFormat(w,ui({},x,f)),a.set(D,O)),h?O.formatToParts(l):O.format(l)}const BB=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function sN(...t){const[e,r,n,i]=t,s=nr();let o=nr(),a;if(Se(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Tc(Va.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Tc(Va.INVALID_ISO_DATE_ARGUMENT)}}else if(sAe(e)){if(isNaN(e.getTime()))throw Tc(Va.INVALID_DATE_ARGUMENT);a=e}else if(ln(e))a=e;else throw Tc(Va.INVALID_ARGUMENT);return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{BB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function AD(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function CD(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,f]=oN(...e),d=ft(u.missingWarn)?u.missingWarn:t.missingWarn;ft(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=zI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.NumberFormat(m,f).format(l);let b={},w,x=null;const S="number format";for(let k=0;k<g.length&&(w=g[k],b=r[w]||{},x=b[c],!Ze(x));k++)GI(t,c,w,d,S);if(!Ze(x)||!Se(w))return n?SE:c;let D=`${w}__${c}`;CE(f)||(D=`${D}__${JSON.stringify(f)}`);let O=a.get(D);return O||(O=new Intl.NumberFormat(w,ui({},x,f)),a.set(D,O)),h?O.formatToParts(l):O.format(l)}const jB=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function oN(...t){const[e,r,n,i]=t,s=nr();let o=nr();if(!ln(e))throw Tc(Va.INVALID_ARGUMENT);const a=e;return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{jB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function ND(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}HAe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const $2e="9.14.5";function L2e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(vl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(vl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(vl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(vl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(vl().__INTLIFY_PROD_DEVTOOLS__=!1)}const F2e=m2e.__EXTEND_POINT__,nl=NE(F2e);nl(),nl(),nl(),nl(),nl(),nl(),nl(),nl(),nl();const HB=Va.__EXTEND_POINT__,ds=NE(HB),Hn={UNEXPECTED_RETURN_TYPE:HB,INVALID_ARGUMENT:ds(),MUST_BE_CALL_SETUP_TOP:ds(),NOT_INSTALLED:ds(),NOT_AVAILABLE_IN_LEGACY_MODE:ds(),REQUIRED_VALUE:ds(),INVALID_VALUE:ds(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:ds(),NOT_INSTALLED_WITH_PROVIDE:ds(),UNEXPECTED_ERROR:ds(),NOT_COMPATIBLE_LEGACY_VUE_I18N:ds(),BRIDGE_SUPPORT_VUE_2_ONLY:ds(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:ds(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:ds(),__EXTEND_POINT__:ds()};function Jn(t,...e){return rp(t,null,void 0)}const aN=yf("__translateVNode"),cN=yf("__datetimeParts"),lN=yf("__numberParts"),WB=yf("__setPluralRules"),qB=yf("__injectWithOption"),uN=yf("__dispose");function ry(t){if(!Ht(t)||$c(t))return t;for(const e in t)if(Ka(t,e))if(!e.includes("."))Ht(t[e])&&ry(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in i||(i[r[o]]=nr()),!Ht(i[r[o]])){s=!0;break}i=i[r[o]]}if(s||($c(i)?IB.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!$c(i)){const o=i[r[n]];Ht(o)&&ry(o)}}return t}function IE(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=Ze(r)?r:Mr(n)?nr():{[t]:nr()};if(Mr(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||nr(),W_(l,o[c])):W_(l,o)}else Se(a)&&W_(JSON.parse(a),o)}),i==null&&s)for(const a in o)Ka(o,a)&&ry(o[a]);return o}function zB(t){return t.type}function GB(t,e,r){let n=Ht(e.messages)?e.messages:nr();"__i18nGlobal"in r&&(n=IE(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(Ht(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ht(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function SD(t){return je(iy,null,t,0)}const ID="__INTLIFY_META__",TD=()=>[],B2e=()=>!1;let RD=0;function PD(t){return((e,r,n,i)=>t(r,n,Do()||void 0,i))}const j2e=()=>{const t=Do();let e=null;return t&&(e=zB(t)[ID])?{[ID]:e}:null};function KI(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=d1?At:PN,a=!!t.translateExistCompatible;let c=ft(t.inheritLocale)?t.inheritLocale:!0;const l=o(r&&c?r.locale.value:Se(t.locale)?t.locale:k0),u=o(r&&c?r.fallbackLocale.value:Se(t.fallbackLocale)||Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),f=o(IE(l.value,t)),d=o(Ze(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),h=o(Ze(t.numberFormats)?t.numberFormats:{[l.value]:{}});let m=r?r.missingWarn:ft(t.missingWarn)||af(t.missingWarn)?t.missingWarn:!0,g=r?r.fallbackWarn:ft(t.fallbackWarn)||af(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:ft(t.fallbackRoot)?t.fallbackRoot:!0,w=!!t.fallbackFormat,x=dr(t.missing)?t.missing:null,S=dr(t.missing)?PD(t.missing):null,D=dr(t.postTranslation)?t.postTranslation:null,O=r?r.warnHtmlMessage:ft(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const F=r?r.modifiers:Ze(t.modifiers)?t.modifiers:{};let N=t.pluralRules||r&&r.pluralRules,v;v=(()=>{i&&bD(null);const ee={version:$2e,locale:l.value,fallbackLocale:u.value,messages:f.value,modifiers:F,pluralRules:N,missing:S===null?void 0:S,missingWarn:m,fallbackWarn:g,fallbackFormat:w,unresolving:!0,postTranslation:D===null?void 0:D,warnHtmlMessage:O,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ee.datetimeFormats=d.value,ee.numberFormats=h.value,ee.__datetimeFormatters=Ze(v)?v.__datetimeFormatters:void 0,ee.__numberFormatters=Ze(v)?v.__numberFormatters:void 0;const ce=S2e(ee);return i&&bD(ce),ce})(),Mp(v,l.value,u.value);function $(){return[l.value,u.value,f.value,d.value,h.value]}const P=hr({get:()=>l.value,set:ee=>{l.value=ee,v.locale=l.value}}),C=hr({get:()=>u.value,set:ee=>{u.value=ee,v.fallbackLocale=u.value,Mp(v,l.value,ee)}}),p=hr(()=>f.value),y=hr(()=>d.value),_=hr(()=>h.value);function A(){return dr(D)?D:null}function I(ee){D=ee,v.postTranslation=ee}function U(){return x}function B(ee){ee!==null&&(S=PD(ee)),x=ee,v.missing=S}const R=(ee,ce,ke,Le,Ge,Fr)=>{$();let nt;try{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=r?N2e():void 0),nt=ee(v)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(v.fallbackContext=void 0)}if(ke!=="translate exists"&&ln(nt)&&nt===SE||ke==="translate exists"&&!nt){const[Rt,Xo]=ce();return r&&b?Le(r):Ge(Rt)}else{if(Fr(nt))return nt;throw Jn(Hn.UNEXPECTED_RETURN_TYPE)}};function E(...ee){return R(ce=>Reflect.apply(vD,null,[ce,...ee]),()=>iN(...ee),"translate",ce=>Reflect.apply(ce.t,ce,[...ee]),ce=>ce,ce=>Se(ce))}function L(...ee){const[ce,ke,Le]=ee;if(Le&&!Ht(Le))throw Jn(Hn.INVALID_ARGUMENT);return E(ce,ke,ui({resolvedMessage:!0},Le||{}))}function G(...ee){return R(ce=>Reflect.apply(xD,null,[ce,...ee]),()=>sN(...ee),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ee]),()=>gD,ce=>Se(ce))}function T(...ee){return R(ce=>Reflect.apply(CD,null,[ce,...ee]),()=>oN(...ee),"number format",ce=>Reflect.apply(ce.n,ce,[...ee]),()=>gD,ce=>Se(ce))}function V(ee){return ee.map(ce=>Se(ce)||ln(ce)||ft(ce)?SD(String(ce)):ce)}const X={normalize:V,interpolate:ee=>ee,type:"vnode"};function Q(...ee){return R(ce=>{let ke;const Le=ce;try{Le.processor=X,ke=Reflect.apply(vD,null,[Le,...ee])}finally{Le.processor=null}return ke},()=>iN(...ee),"translate",ce=>ce[aN](...ee),ce=>[SD(ce)],ce=>Mr(ce))}function ie(...ee){return R(ce=>Reflect.apply(CD,null,[ce,...ee]),()=>oN(...ee),"number format",ce=>ce[lN](...ee),TD,ce=>Se(ce)||Mr(ce))}function le(...ee){return R(ce=>Reflect.apply(xD,null,[ce,...ee]),()=>sN(...ee),"datetime format",ce=>ce[cN](...ee),TD,ce=>Se(ce)||Mr(ce))}function H(ee){N=ee,v.pluralRules=N}function Y(ee,ce){return R(()=>{if(!ee)return!1;const ke=Se(ce)?ce:l.value,Le=fe(ke),Ge=v.messageResolver(Le,ee);return a?Ge!=null:$c(Ge)||No(Ge)||Se(Ge)},()=>[ee],"translate exists",ke=>Reflect.apply(ke.te,ke,[ee,ce]),B2e,ke=>ft(ke))}function W(ee){let ce=null;const ke=RB(v,u.value,l.value);for(let Le=0;Le<ke.length;Le++){const Ge=f.value[ke[Le]]||{},Fr=v.messageResolver(Ge,ee);if(Fr!=null){ce=Fr;break}}return ce}function Z(ee){const ce=W(ee);return ce??(r?r.tm(ee)||{}:{})}function fe(ee){return f.value[ee]||{}}function oe(ee,ce){if(s){const ke={[ee]:ce};for(const Le in ke)Ka(ke,Le)&&ry(ke[Le]);ce=ke[ee]}f.value[ee]=ce,v.messages=f.value}function ge(ee,ce){f.value[ee]=f.value[ee]||{};const ke={[ee]:ce};if(s)for(const Le in ke)Ka(ke,Le)&&ry(ke[Le]);ce=ke[ee],W_(ce,f.value[ee]),v.messages=f.value}function we(ee){return d.value[ee]||{}}function q(ee,ce){d.value[ee]=ce,v.datetimeFormats=d.value,AD(v,ee,ce)}function z(ee,ce){d.value[ee]=ui(d.value[ee]||{},ce),v.datetimeFormats=d.value,AD(v,ee,ce)}function ne(ee){return h.value[ee]||{}}function se(ee,ce){h.value[ee]=ce,v.numberFormats=h.value,ND(v,ee,ce)}function pe(ee,ce){h.value[ee]=ui(h.value[ee]||{},ce),v.numberFormats=h.value,ND(v,ee,ce)}RD++,r&&d1&&(Bn(r.locale,ee=>{c&&(l.value=ee,v.locale=ee,Mp(v,l.value,u.value))}),Bn(r.fallbackLocale,ee=>{c&&(u.value=ee,v.fallbackLocale=ee,Mp(v,l.value,u.value))}));const me={id:RD,locale:P,fallbackLocale:C,get inheritLocale(){return c},set inheritLocale(ee){c=ee,ee&&r&&(l.value=r.locale.value,u.value=r.fallbackLocale.value,Mp(v,l.value,u.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:p,get modifiers(){return F},get pluralRules(){return N||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ee){m=ee,v.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(ee){g=ee,v.fallbackWarn=g},get fallbackRoot(){return b},set fallbackRoot(ee){b=ee},get fallbackFormat(){return w},set fallbackFormat(ee){w=ee,v.fallbackFormat=w},get warnHtmlMessage(){return O},set warnHtmlMessage(ee){O=ee,v.warnHtmlMessage=ee},get escapeParameter(){return k},set escapeParameter(ee){k=ee,v.escapeParameter=ee},t:E,getLocaleMessage:fe,setLocaleMessage:oe,mergeLocaleMessage:ge,getPostTranslationHandler:A,setPostTranslationHandler:I,getMissingHandler:U,setMissingHandler:B,[WB]:H};return me.datetimeFormats=y,me.numberFormats=_,me.rt=L,me.te=Y,me.tm=Z,me.d=G,me.n=T,me.getDateTimeFormat=we,me.setDateTimeFormat=q,me.mergeDateTimeFormat=z,me.getNumberFormat=ne,me.setNumberFormat=se,me.mergeNumberFormat=pe,me[qB]=n,me[aN]=Q,me[cN]=le,me[lN]=ie,me}function H2e(t){const e=Se(t.locale)?t.locale:k0,r=Se(t.fallbackLocale)||Mr(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=dr(t.missing)?t.missing:void 0,i=ft(t.silentTranslationWarn)||af(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=ft(t.silentFallbackWarn)||af(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=ft(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=Ze(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=dr(t.postTranslation)?t.postTranslation:void 0,f=Se(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=ft(t.sync)?t.sync:!0;let m=t.messages;if(Ze(t.sharedMessages)){const k=t.sharedMessages;m=Object.keys(k).reduce((N,v)=>{const M=N[v]||(N[v]={});return ui(M,k[v]),N},m||{})}const{__i18n:g,__root:b,__injectWithOption:w}=t,x=t.datetimeFormats,S=t.numberFormats,D=t.flatJson,O=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:D,datetimeFormats:x,numberFormats:S,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,translateExistCompatible:O,__i18n:g,__root:b,__injectWithOption:w}}function fN(t={},e){{const r=KI(H2e(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return ft(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=ft(s)?!s:s},get silentFallbackWarn(){return ft(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=ft(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,l={};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:Mr(a)?u=a:Ze(a)&&(f=a),Mr(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,l={plural:1};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:ln(a)?l.plural=a:Mr(a)?u=a:Ze(a)&&(f=a),Se(c)?l.locale=c:Mr(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const VI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function W2e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===vs?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},nr())}function KB(t){return vs}const q2e=Li({name:"i18n-t",props:ui({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ln(t)||!isNaN(t)}},VI),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||Uy({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(f=>f!=="_"),o=nr();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Se(t.plural)?+t.plural:t.plural);const a=W2e(e,s),c=i[aN](t.keypath,a,o),l=ui(nr(),n),u=Se(t.tag)||Ht(t.tag)?t.tag:KB();return oy(u,l,c)}}}),OD=q2e;function z2e(t){return Mr(t)&&!Se(t[0])}function VB(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=nr();t.locale&&(o.locale=t.locale),Se(t.format)?o.key=t.format:Ht(t.format)&&(Se(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>r.includes(h)?ui(nr(),d,{[h]:t.format[h]}):d,nr()));const c=n(t.value,o,a);let l=[o.key];Mr(c)?l=c.map((d,h)=>{const m=i[d.type],g=m?m({[d.type]:d.value,index:h,parts:c}):[d.value];return z2e(g)&&(g[0].key=`${d.type}-${h}`),g}):Se(c)&&(l=[c]);const u=ui(nr(),s),f=Se(t.tag)||Ht(t.tag)?t.tag:KB();return oy(f,u,l)}}const G2e=Li({name:"i18n-n",props:ui({value:{type:Number,required:!0},format:{type:[String,Object]}},VI),setup(t,e){const r=t.i18n||Uy({useScope:t.scope,__useComponent:!0});return VB(t,e,jB,(...n)=>r[lN](...n))}}),DD=G2e,K2e=Li({name:"i18n-d",props:ui({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},VI),setup(t,e){const r=t.i18n||Uy({useScope:t.scope,__useComponent:!0});return VB(t,e,BB,(...n)=>r[cN](...n))}}),kD=K2e;function V2e(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function J2e(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Jn(Hn.UNEXPECTED_ERROR);const u=V2e(t,a.$),f=MD(l);return[Reflect.apply(u.t,u,[...UD(f)]),u]};return{created:(o,a)=>{const[c,l]=e(a);d1&&t.global===l&&(o.__i18nWatcher=Bn(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{d1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=MD(a);o.textContent=Reflect.apply(c.t,c,[...UD(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function MD(t){if(Se(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Jn(Hn.REQUIRED_VALUE,"path");return t}else throw Jn(Hn.INVALID_VALUE)}function UD(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Se(r)&&(o.locale=r),ln(i)&&(o.plural=i),ln(s)&&(o.plural=s),[e,a,o]}function Y2e(t,e,...r){const n=Ze(r[0])?r[0]:{},i=!!n.useI18nComponentName;(ft(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":OD.name,"I18nT"].forEach(o=>t.component(o,OD)),[DD.name,"I18nN"].forEach(o=>t.component(o,DD)),[kD.name,"I18nD"].forEach(o=>t.component(o,kD))),t.directive("t",J2e(e))}function X2e(t,e,r){return{beforeCreate(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=$D(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=fN(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=$D(t,i);else{this.$i18n=fN({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&GB(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function $D(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[WB](e.pluralizationRules||t.pluralizationRules);const r=IE(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const Q2e=yf("global-vue-i18n");function Z2e(t={},e){const r=__VUE_I18N_LEGACY_API__&&ft(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=ft(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=eCe(t,r),c=yf("");function l(d){return s.get(d)||null}function u(d,h){s.set(d,h)}function f(d){s.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(h,...m){if(h.__VUE_I18N_SYMBOL__=c,h.provide(h.__VUE_I18N_SYMBOL__,d),Ze(m[0])){const w=m[0];d.__composerExtend=w.__composerExtend,d.__vueI18nExtend=w.__vueI18nExtend}let g=null;!r&&n&&(g=lCe(h,d.global)),__VUE_I18N_FULL_INSTALL__&&Y2e(h,d,...m),__VUE_I18N_LEGACY_API__&&r&&h.mixin(X2e(a,a.__composer,d));const b=h.unmount;h.unmount=()=>{g&&g(),d.dispose(),b()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:l,__setInstance:u,__deleteInstance:f};return d}}function Uy(t={}){const e=Do();if(e==null)throw Jn(Hn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Jn(Hn.NOT_INSTALLED);const r=tCe(e),n=nCe(r),i=zB(e),s=rCe(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Jn(Hn.NOT_AVAILABLE_IN_LEGACY_MODE);return aCe(e,s,n,t)}if(s==="global")return GB(n,t,i),n;if(s==="parent"){let c=iCe(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=ui({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=KI(c),o.__composerExtend&&(a[uN]=o.__composerExtend(a)),oCe(o,e,a),o.__setInstance(e,a)}return a}function eCe(t,e,r){const n=vN();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>fN(t)):n.run(()=>KI(t));if(i==null)throw Jn(Hn.UNEXPECTED_ERROR);return[n,i]}}function tCe(t){{const e=Js(t.isCE?Q2e:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Jn(t.isCE?Hn.NOT_INSTALLED_WITH_PROVIDE:Hn.UNEXPECTED_ERROR);return e}}function rCe(t,e){return CE(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function nCe(t){return t.mode==="composition"?t.global:t.global.__composer}function iCe(t,e,r=!1){let n=null;const i=e.root;let s=sCe(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[qB]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function sCe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function oCe(t,e,r){lf(()=>{},e),Fd(()=>{const n=r;t.__deleteInstance(e);const i=n[uN];i&&(i(),delete n[uN])},e)}function aCe(t,e,r,n={}){const i=e==="local",s=PN(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Jn(Hn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=ft(n.inheritLocale)?n.inheritLocale:!Se(n.locale),a=At(!i||o?r.locale.value:Se(n.locale)?n.locale:k0),c=At(!i||o?r.fallbackLocale.value:Se(n.fallbackLocale)||Mr(n.fallbackLocale)||Ze(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),l=At(IE(a.value,n)),u=At(Ze(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),f=At(Ze(n.numberFormats)?n.numberFormats:{[a.value]:{}}),d=i?r.missingWarn:ft(n.missingWarn)||af(n.missingWarn)?n.missingWarn:!0,h=i?r.fallbackWarn:ft(n.fallbackWarn)||af(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:ft(n.fallbackRoot)?n.fallbackRoot:!0,g=!!n.fallbackFormat,b=dr(n.missing)?n.missing:null,w=dr(n.postTranslation)?n.postTranslation:null,x=i?r.warnHtmlMessage:ft(n.warnHtmlMessage)?n.warnHtmlMessage:!0,S=!!n.escapeParameter,D=i?r.modifiers:Ze(n.modifiers)?n.modifiers:{},O=n.pluralRules||i&&r.pluralRules;function k(){return[a.value,c.value,l.value,u.value,f.value]}const F=hr({get:()=>s.value?s.value.locale.value:a.value,set:W=>{s.value&&(s.value.locale.value=W),a.value=W}}),N=hr({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:W=>{s.value&&(s.value.fallbackLocale.value=W),c.value=W}}),v=hr(()=>s.value?s.value.messages.value:l.value),M=hr(()=>u.value),$=hr(()=>f.value);function P(){return s.value?s.value.getPostTranslationHandler():w}function C(W){s.value&&s.value.setPostTranslationHandler(W)}function p(){return s.value?s.value.getMissingHandler():b}function y(W){s.value&&s.value.setMissingHandler(W)}function _(W){return k(),W()}function A(...W){return s.value?_(()=>Reflect.apply(s.value.t,null,[...W])):_(()=>"")}function I(...W){return s.value?Reflect.apply(s.value.rt,null,[...W]):""}function U(...W){return s.value?_(()=>Reflect.apply(s.value.d,null,[...W])):_(()=>"")}function B(...W){return s.value?_(()=>Reflect.apply(s.value.n,null,[...W])):_(()=>"")}function R(W){return s.value?s.value.tm(W):{}}function E(W,Z){return s.value?s.value.te(W,Z):!1}function L(W){return s.value?s.value.getLocaleMessage(W):{}}function G(W,Z){s.value&&(s.value.setLocaleMessage(W,Z),l.value[W]=Z)}function T(W,Z){s.value&&s.value.mergeLocaleMessage(W,Z)}function V(W){return s.value?s.value.getDateTimeFormat(W):{}}function K(W,Z){s.value&&(s.value.setDateTimeFormat(W,Z),u.value[W]=Z)}function X(W,Z){s.value&&s.value.mergeDateTimeFormat(W,Z)}function Q(W){return s.value?s.value.getNumberFormat(W):{}}function ie(W,Z){s.value&&(s.value.setNumberFormat(W,Z),f.value[W]=Z)}function le(W,Z){s.value&&s.value.mergeNumberFormat(W,Z)}const H={get id(){return s.value?s.value.id:-1},locale:F,fallbackLocale:N,messages:v,datetimeFormats:M,numberFormats:$,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(W){s.value&&(s.value.inheritLocale=W)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(l.value)},get modifiers(){return s.value?s.value.modifiers:D},get pluralRules(){return s.value?s.value.pluralRules:O},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:d},set missingWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackWarn(){return s.value?s.value.fallbackWarn:h},set fallbackWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(W){s.value&&(s.value.fallbackRoot=W)},get fallbackFormat(){return s.value?s.value.fallbackFormat:g},set fallbackFormat(W){s.value&&(s.value.fallbackFormat=W)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:x},set warnHtmlMessage(W){s.value&&(s.value.warnHtmlMessage=W)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(W){s.value&&(s.value.escapeParameter=W)},t:A,getPostTranslationHandler:P,setPostTranslationHandler:C,getMissingHandler:p,setMissingHandler:y,rt:I,d:U,n:B,tm:R,te:E,getLocaleMessage:L,setLocaleMessage:G,mergeLocaleMessage:T,getDateTimeFormat:V,setDateTimeFormat:K,mergeDateTimeFormat:X,getNumberFormat:Q,setNumberFormat:ie,mergeNumberFormat:le};function Y(W){W.locale.value=a.value,W.fallbackLocale.value=c.value,Object.keys(l.value).forEach(Z=>{W.mergeLocaleMessage(Z,l.value[Z])}),Object.keys(u.value).forEach(Z=>{W.mergeDateTimeFormat(Z,u.value[Z])}),Object.keys(f.value).forEach(Z=>{W.mergeNumberFormat(Z,f.value[Z])}),W.escapeParameter=S,W.fallbackFormat=g,W.fallbackRoot=m,W.fallbackWarn=h,W.missingWarn=d,W.warnHtmlMessage=x}return Kk(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Jn(Hn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const W=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=W.locale.value,c.value=W.fallbackLocale.value,l.value=W.messages.value,u.value=W.datetimeFormats.value,f.value=W.numberFormats.value):i&&Y(W)}),H}const cCe=["locale","fallbackLocale","availableLocales"],LD=["t","rt","d","n","tm","te"];function lCe(t,e){const r=Object.create(null);return cCe.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Jn(Hn.UNEXPECTED_ERROR);const o=Gr(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,LD.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Jn(Hn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,LD.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}L2e();__INTLIFY_JIT_COMPILATION__?yD(O2e):yD(P2e);v2e(r2e);x2e(RB);if(__INTLIFY_PROD_DEVTOOLS__){const t=vl();t.__INTLIFY__=!0,f2e(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let JB;const TE=t=>JB=t,YB=Symbol();function dN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Pg;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Pg||(Pg={}));function uCe(){const t=vN(!0),e=t.run(()=>At({}));let r=[],n=[];const i=RN({install(s){TE(i),i._a=s,s.provide(YB,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return this._a?r.push(s):n.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const XB=()=>{};function FD(t,e,r,n=XB){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&fk()&&pj(i),i}function Sh(t,...e){t.slice().forEach(r=>{r(...e)})}const fCe=t=>t(),BD=Symbol(),MA=Symbol();function hN(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];dN(i)&&dN(n)&&t.hasOwnProperty(r)&&!Gr(n)&&!Uu(n)?t[r]=hN(i,n):t[r]=n}return t}const dCe=Symbol();function hCe(t){return!dN(t)||!t.hasOwnProperty(dCe)}const{assign:bu}=Object;function pCe(t){return!!(Gr(t)&&t.effect)}function gCe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=i?i():{});const u=Uj(r.state.value[t]);return bu(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=RN(hr(()=>{TE(r);const h=r._s.get(t);return o[d].call(h,h)})),f),{}))}return c=QB(t,l,e,r,n,!0),c}function QB(t,e,r={},n,i,s){let o;const a=bu({actions:{}},r),c={deep:!0};let l,u,f=[],d=[],h;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),At({});let g;function b(N){let v;l=u=!1,typeof N=="function"?(N(n.state.value[t]),v={type:Pg.patchFunction,storeId:t,events:h}):(hN(n.state.value[t],N),v={type:Pg.patchObject,payload:N,storeId:t,events:h});const M=g=Symbol();wd().then(()=>{g===M&&(l=!0)}),u=!0,Sh(f,v,n.state.value[t])}const w=s?function(){const{state:v}=r,M=v?v():{};this.$patch($=>{bu($,M)})}:XB;function x(){o.stop(),f=[],d=[],n._s.delete(t)}const S=(N,v="")=>{if(BD in N)return N[MA]=v,N;const M=function(){TE(n);const $=Array.from(arguments),P=[],C=[];function p(A){P.push(A)}function y(A){C.push(A)}Sh(d,{args:$,name:M[MA],store:O,after:p,onError:y});let _;try{_=N.apply(this&&this.$id===t?this:O,$)}catch(A){throw Sh(C,A),A}return _ instanceof Promise?_.then(A=>(Sh(P,A),A)).catch(A=>(Sh(C,A),Promise.reject(A))):(Sh(P,_),_)};return M[BD]=!0,M[MA]=v,M},D={_p:n,$id:t,$onAction:FD.bind(null,d),$patch:b,$reset:w,$subscribe(N,v={}){const M=FD(f,N,v.detached,()=>$()),$=o.run(()=>Bn(()=>n.state.value[t],P=>{(v.flush==="sync"?u:l)&&N({storeId:t,type:Pg.direct,events:h},P)},bu({},c,v)));return M},$dispose:x},O=Bl(D);n._s.set(t,O);const F=(n._a&&n._a.runWithContext||fCe)(()=>n._e.run(()=>(o=vN()).run(()=>e({action:S}))));for(const N in F){const v=F[N];if(Gr(v)&&!pCe(v)||Uu(v))s||(m&&hCe(v)&&(Gr(v)?v.value=m[N]:hN(v,m[N])),n.state.value[t][N]=v);else if(typeof v=="function"){const M=S(v,N);F[N]=M,a.actions[N]=v}}return bu(O,F),bu(Ot(O),F),Object.defineProperty(O,"$state",{get:()=>n.state.value[t],set:N=>{b(v=>{bu(v,N)})}}),n._p.forEach(N=>{bu(O,o.run(()=>N({store:O,app:n._a,pinia:n,options:a})))}),m&&s&&r.hydrate&&r.hydrate(O.$state,m),l=!0,u=!0,O}/*! #__NO_SIDE_EFFECTS__ */function mCe(t,e,r){let n,i;const s=typeof e=="function";n=t,i=s?r:e;function o(a,c){const l=mH();return a=a||(l?Js(YB,null):null),a&&TE(a),a=JB,a._s.has(n)||(s?QB(n,e,i,a):gCe(n,i,a)),a._s.get(n)}return o.$id=n,o}const yCe=mCe("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),bCe="",_Ce="",wCe="",ECe="",vCe="",xCe="",ACe="",CCe="",NCe="",SCe="",ICe="",TCe="",RCe="",PCe="",OCe="FOMO",DCe="",kCe="",MCe="NFT ",UCe="NFT ",$Ce="NFT ",LCe="NFT ",FCe=" 1: ",BCe=" AI  30% ",jCe=" 2: HR ",HCe=` 15,000,000  HR 
 2,000  HR
 0.5% `,WCe=" 3: ",qCe=` 100  HR
`,zCe="",GCe="",KCe="NFT ",VCe="",JCe="",YCe="",XCe="",QCe="",ZCe="BCL",eNe="",tNe="",rNe="",nNe="Beacon Launchpad ",iNe=" BCL",sNe="",oNe="",aNe=" ",cNe="",lNe="APP",uNe="",fNe="100%,",dNe="",hNe=",",pNe="",gNe=",",mNe="",yNe="",bNe="",_Ne="",wNe=" ",ENe="",vNe=" / ",xNe=" / ",ANe=" / ",CNe=" / ",NNe=" / ",SNe="BCL ",INe=": 2100 ",TNe="LP: 1800  ()",RNe=": 100  ()",PNe=": 200  ()",ONe="NFT",DNe="",kNe="",MNe="",UNe="",$Ne="",LNe="",FNe="",BNe="",jNe="",HNe="",WNe="",qNe="",zNe="",GNe="",KNe="BCL DEFI",VNe="",JNe="",YNe="",XNe="",QNe="",ZNe="",eSe="",tSe="",rSe="",nSe="",iSe="",sSe="",oSe="NFT",aSe="",cSe="NFT",lSe="",uSe={_Connect_wallet:bCe,_Please_enter_a_referee:_Ce,_Success:wCe,_Fail:ECe,_Invite_link:vCe,_Copy_link:xCe,_Join_record:ACe,_Join_amount:CCe,_Time:NCe,_Enter_friend_address_to_bind:SCe,_Enter_invite_address:ICe,_Bind:TCe,_Home:RCe,_Node:PCe,_FOMO_Pool:OCe,_Not_yet_open:DCe,_Recharge_address:kCe,_NFT_Presale:MCe,_NFT_Staking:UCe,_NFT_Rights:$Ce,_NFT_Records:LCe,_Right_1_Node_as_Shareholder:FCe,_Right_1_Desc:BCe,_Right_2_HR_Token_Airdrop:jCe,_Right_2_Desc:HCe,_Right_3_Referral_Reward:WCe,_Right_3_Desc:qCe,_No_records:zCe,_In_progress:GCe,_NFT_Quantity:KCe,_Buy_Now:VCe,_Copy_successful:JCe,_Copy_failed:YCe,_Invite:XCe,_My_wallet_address:QCe,_BCL_Lighthouse_Protocol:ZCe,_Fair_Transparent_Sustainable_DeFi_Paradigm:eNe,_Node_Subscription:tNe,_Welcome_To:rNe,_Welcome_Desc_1:nNe,_Welcome_Desc_2:iNe,_Core:sNe,_Philosophy:oNe,_Five_Core_Values:aNe,_Fairness:cNe,_Fairness_Desc:lNe,_Transparency:uNe,_Transparency_Desc:fNe,_Fair_Distribution:dNe,_Fair_Distribution_Desc:hNe,_Self_Balancing:pNe,_Self_Balancing_Desc:gNe,_Sustainability:mNe,_Sustainability_Desc:yNe,_Decentralized:bNe,_Architecture:_Ne,_Sustainable_Self_Driven_Model:wNe,_Core_Architecture_Features:ENe,_No_Centralized_Server:vNe,_All_Operations_Public:xNe,_All_Data_On_Chain:ANe,_Automatic_Profit_Distribution:CNe,_Sustainable_Revenue_Cycle:NNe,_BCL_Token_Distribution:SNe,_Total_Token_Supply:INe,_LP_Pool_Locked:TNe,_Interaction_Contract:RNe,_Airdrop_Contract:PNe,_NFT_Rewards:ONe,_Why_Choose:DNe,_Stable_Revenue:kNe,_Stable_Revenue_Desc:MNe,_Principal_Protection:UNe,_Principal_Protection_Desc:$Ne,_Ecosystem_Internal_Circulation:LNe,_Ecosystem_Internal_Circulation_Desc:FNe,_Anti_Dilution_Mechanism:BNe,_Anti_Dilution_Mechanism_Desc:jNe,_Unlimited_Development:HNe,_Unlimited_Development_Desc:WNe,_Join:qNe,_Us:zNe,_Reshaping_Industry_Trust:GNe,_BCL_Breaks_Dilemma:KNe,_Rules_Programmable:VNe,_Trust_Quantifiable:JNe,_Join_Us_Desc:YNe,_Join_Now:XNe,_Purchase_Node:QNe,_Node_Rights:ZNe,_Please_enter_inviter:eSe,_Inviter_invalid:tSe,_Bind_success:rSe,_Bind_failed:nSe,_Approve:iSe,_Total_Network_Nodes:sSe,_Total_Network_NFTs:oSe,_My_Nodes:aSe,_My_NFTs:cSe,_Direct_Referral_Nodes:lSe},fSe="Connect Wallet",dSe="Please enter a referee",hSe="Success",pSe="Fail",gSe="Invite Link",mSe="Copy Link",ySe="Join Record",bSe="Join Amount",_Se="Time",wSe="Please enter friend's address to bind",ESe="Please enter invite address",vSe="Bind",xSe="Home",ASe="Node",CSe="FOMO Pool",NSe="Not yet open",SSe="Recharge Address",ISe="NFT Presale",TSe="NFT Staking",RSe="NFT Rights",PSe="NFT Records",OSe="Right 1: Node as Shareholder",DSe="Node holders are recognized as ecosystem shareholders, receiving 30% weighted dividends from the decentralized AI prediction platform.",kSe="Right 2: HR Token Airdrop",MSe=`Global nodes will receive a total of 15,000,000 HR tokens airdrop.
Each node receives an average of 2,000 HR.
Tokens are released daily at a rate of 0.5%.`,USe="Right 3: Referral Reward",$Se=`Receive 100 HR for every node referred.
No cap and no lock-up requirement.`,LSe="No records",FSe="In Progress",BSe="NFT Quantity",jSe="Buy Now",HSe="Copy Successful",WSe="Copy Failed",qSe="Invite",zSe="My Wallet Address",GSe="BCL Lighthouse Protocol",KSe="Fair, Transparent, Sustainable New Paradigm of Decentralized Finance",VSe="Node Subscription",JSe="Welcome to",YSe="Beacon Launchpad is a fully decentralized, on-chain automatically executed multi-chain launch platform. Relying on an independently developed financial protocol system, it achieves full automation of project issuance, liquidity management, and incentive distribution, ensuring openness, fairness, security, and sustainable growth.",XSe="At BCL, everyone can participate fairly, govern transparently, and share continuously.",QSe="Core",ZSe="Philosophy",eIe=" Five Core Values",tIe="Fairness",rIe="No Project Team, No APP, No Reservation, No Permission, No Termination",nIe="Transparency",iIe="100% On-Chain Permanent Autonomous Operation, Pure Smart Contract Control",sIe="Fair Distribution",oIe="Fair Distribution: Stable Returns for Leaders, Unlimited Potential for Doers",aIe="Self-Balancing",cIe="Scale Self-Balancing Engine, Ecosystem Stable Perpetual Circulation Model",lIe="Sustainability",uIe="Achieving Fair Circulation Mechanism of Stability Above and Growth Below, Mutual Prosperity",fIe="Decentralized",dIe="Architecture",hIe=" Sustainable Self-Driven Model",pIe="Core Architecture Features",gIe="No Centralized Server / Sustainable Self-Driven Model",mIe="All Operations Public / Underlying Contract Permanently Traceable",yIe="All Data On-Chain / User Asset Security",bIe="Automatic Profit Distribution / Autonomous Unlock Zero Delay",_Ie="Sustainable Revenue Cycle / Internal Circulation Constant Asset Mechanism",wIe="BCL Token Distribution",EIe="Total Token Supply: 21 Million",vIe="LP Pool: 18 Million (Black Hole Permanently Locked)",xIe="Interaction Contract: 1 Million (Permission Discarded)",AIe="Airdrop Contract: 2 Million (Permission Discarded)",CIe="NFT Dual Thick Rewards Transaction Slippage Automatic Distribution",NIe="Why Choose",SIe="Stable Revenue",IIe="Provide 'Stable' Market Maker Returns, Attracting Large Funds",TIe="Principal Protection",RIe="End Principal Shrinkage Caused by 'Currency Price Fluctuations'",PIe="Ecosystem Internal Circulation",OIe="Construct 'Self-Driven' Market Growth and Reinvestment Internal Circulation",DIe="Anti-Dilution Mechanism",kIe="Break Dilution of Returns Caused by 'Increase in Number' of Market Makers",MIe="Unlimited Development",UIe="Remove Bottlenecks in 'Market Development' Caused by High Currency Prices",$Ie="Join",LIe="Us",FIe="Reshaping Industry Trust, Algorithms Replace Humanity",BIe="BCL Breaks the Dilemma of 'Traditional DeFi', Letting",jIe="Rules Be Programmable",HIe=", Trust Be Quantifiable.",WIe="Relying on an independently developed financial protocol system, it achieves full automation, setting off a new paradigm of on-chain finance.",qIe="Join Now",zIe="Purchase Node",GIe="Node Rights",KIe="Please enter inviter",VIe="Inviter invalid",JIe="Bind success",YIe="Bind failed",XIe="Approve",QIe="Total Network Nodes",ZIe="Total Network NFTs",eTe="My Nodes",tTe="My NFTs",rTe="Direct Referral Nodes",nTe={_Connect_wallet:fSe,_Please_enter_a_referee:dSe,_Success:hSe,_Fail:pSe,_Invite_link:gSe,_Copy_link:mSe,_Join_record:ySe,_Join_amount:bSe,_Time:_Se,_Enter_friend_address_to_bind:wSe,_Enter_invite_address:ESe,_Bind:vSe,_Home:xSe,_Node:ASe,_FOMO_Pool:CSe,_Not_yet_open:NSe,_Recharge_address:SSe,_NFT_Presale:ISe,_NFT_Staking:TSe,_NFT_Rights:RSe,_NFT_Records:PSe,_Right_1_Node_as_Shareholder:OSe,_Right_1_Desc:DSe,_Right_2_HR_Token_Airdrop:kSe,_Right_2_Desc:MSe,_Right_3_Referral_Reward:USe,_Right_3_Desc:$Se,_No_records:LSe,_In_progress:FSe,_NFT_Quantity:BSe,_Buy_Now:jSe,_Copy_successful:HSe,_Copy_failed:WSe,_Invite:qSe,_My_wallet_address:zSe,_BCL_Lighthouse_Protocol:GSe,_Fair_Transparent_Sustainable_DeFi_Paradigm:KSe,_Node_Subscription:VSe,_Welcome_To:JSe,_Welcome_Desc_1:YSe,_Welcome_Desc_2:XSe,_Core:QSe,_Philosophy:ZSe,_Five_Core_Values:eIe,_Fairness:tIe,_Fairness_Desc:rIe,_Transparency:nIe,_Transparency_Desc:iIe,_Fair_Distribution:sIe,_Fair_Distribution_Desc:oIe,_Self_Balancing:aIe,_Self_Balancing_Desc:cIe,_Sustainability:lIe,_Sustainability_Desc:uIe,_Decentralized:fIe,_Architecture:dIe,_Sustainable_Self_Driven_Model:hIe,_Core_Architecture_Features:pIe,_No_Centralized_Server:gIe,_All_Operations_Public:mIe,_All_Data_On_Chain:yIe,_Automatic_Profit_Distribution:bIe,_Sustainable_Revenue_Cycle:_Ie,_BCL_Token_Distribution:wIe,_Total_Token_Supply:EIe,_LP_Pool_Locked:vIe,_Interaction_Contract:xIe,_Airdrop_Contract:AIe,_NFT_Rewards:CIe,_Why_Choose:NIe,_Stable_Revenue:SIe,_Stable_Revenue_Desc:IIe,_Principal_Protection:TIe,_Principal_Protection_Desc:RIe,_Ecosystem_Internal_Circulation:PIe,_Ecosystem_Internal_Circulation_Desc:OIe,_Anti_Dilution_Mechanism:DIe,_Anti_Dilution_Mechanism_Desc:kIe,_Unlimited_Development:MIe,_Unlimited_Development_Desc:UIe,_Join:$Ie,_Us:LIe,_Reshaping_Industry_Trust:FIe,_BCL_Breaks_Dilemma:BIe,_Rules_Programmable:jIe,_Trust_Quantifiable:HIe,_Join_Us_Desc:WIe,_Join_Now:qIe,_Purchase_Node:zIe,_Node_Rights:GIe,_Please_enter_inviter:KIe,_Inviter_invalid:VIe,_Bind_success:JIe,_Bind_failed:YIe,_Approve:XIe,_Total_Network_Nodes:QIe,_Total_Network_NFTs:ZIe,_My_Nodes:eTe,_My_NFTs:tTe,_Direct_Referral_Nodes:rTe},iTe=" ",sTe=" ",oTe="",aTe="",cTe=" ",lTe=" ",uTe=" ",fTe=" ",dTe="",hTe="   ",pTe="  ",gTe="",mTe="",yTe="",bTe="FOMO ",_Te="",wTe=" ",ETe="NFT  ",vTe="NFT ",xTe="NFT ",ATe="NFT ",CTe=" 1:  ",NTe="    ,  AI   30%   .",STe=" 2: HR  ",ITe=`   15,000,000 HR   .
   2,000 HR .
  0.5%  .`,TTe=" 3:  ",RTe=`   100 HR .
     .`,PTe=" ",OTe=" ",DTe="NFT ",kTe=" ",MTe=" ",UTe=" ",$Te="",LTe="  ",FTe="BCL  ",BTe="       ",jTe=" ",HTe="",WTe="Beacon Launchpad        .        ,         , ,      .",qTe="BCL         .",zTe="",GTe="",KTe=" 5  ",VTe="",JTe="  ,  ,  ,  ,  ",YTe="",XTe="100%    ,    ",QTe=" ",ZTe=" :   ,   ",e3e=" ",t3e="   ,     ",r3e=" ",n3e="        ,  ",i3e="",s3e="",o3e="     ",a3e="  ",c3e="    /     ",l3e="   /     ",u3e="   /   ",f3e="   /     ",d3e="    /     ",h3e="BCL  ",p3e="  : 2,100 ",g3e="LP : 1,800 (  )",m3e="  : 100 ( )",y3e=" : 200 ( )",b3e="NFT      ",_3e=" ",w3e=" ",E3e="''       ",v3e=" ",x3e="'  '      ",A3e="  ",C3e="' '       ",N3e="  ",S3e="  ' '    ",I3e=" ",T3e="    ' '   ",R3e="",P3e="",O3e="  ,   ",D3e="BCL ' DeFi'  ,",k3e="   ",M3e=",     .",U3e="             .",$3e=" ",L3e="Purchase Node",F3e="Node Rights",B3e="Please enter inviter",j3e="Inviter invalid",H3e="Bind success",W3e="Bind failed",q3e="Approve",z3e="Total Network Nodes",G3e="Total Network NFTs",K3e="My Nodes",V3e="My NFTs",J3e="Direct Referral Nodes",Y3e={_Connect_wallet:iTe,_Please_enter_a_referee:sTe,_Success:oTe,_Fail:aTe,_Invite_link:cTe,_Copy_link:lTe,_Join_record:uTe,_Join_amount:fTe,_Time:dTe,_Enter_friend_address_to_bind:hTe,_Enter_invite_address:pTe,_Bind:gTe,_Home:mTe,_Node:yTe,_FOMO_Pool:bTe,_Not_yet_open:_Te,_Recharge_address:wTe,_NFT_Presale:ETe,_NFT_Staking:vTe,_NFT_Rights:xTe,_NFT_Records:ATe,_Right_1_Node_as_Shareholder:CTe,_Right_1_Desc:NTe,_Right_2_HR_Token_Airdrop:STe,_Right_2_Desc:ITe,_Right_3_Referral_Reward:TTe,_Right_3_Desc:RTe,_No_records:PTe,_In_progress:OTe,_NFT_Quantity:DTe,_Buy_Now:kTe,_Copy_successful:MTe,_Copy_failed:UTe,_Invite:$Te,_My_wallet_address:LTe,_BCL_Lighthouse_Protocol:FTe,_Fair_Transparent_Sustainable_DeFi_Paradigm:BTe,_Node_Subscription:jTe,_Welcome_To:HTe,_Welcome_Desc_1:WTe,_Welcome_Desc_2:qTe,_Core:zTe,_Philosophy:GTe,_Five_Core_Values:KTe,_Fairness:VTe,_Fairness_Desc:JTe,_Transparency:YTe,_Transparency_Desc:XTe,_Fair_Distribution:QTe,_Fair_Distribution_Desc:ZTe,_Self_Balancing:e3e,_Self_Balancing_Desc:t3e,_Sustainability:r3e,_Sustainability_Desc:n3e,_Decentralized:i3e,_Architecture:s3e,_Sustainable_Self_Driven_Model:o3e,_Core_Architecture_Features:a3e,_No_Centralized_Server:c3e,_All_Operations_Public:l3e,_All_Data_On_Chain:u3e,_Automatic_Profit_Distribution:f3e,_Sustainable_Revenue_Cycle:d3e,_BCL_Token_Distribution:h3e,_Total_Token_Supply:p3e,_LP_Pool_Locked:g3e,_Interaction_Contract:m3e,_Airdrop_Contract:y3e,_NFT_Rewards:b3e,_Why_Choose:_3e,_Stable_Revenue:w3e,_Stable_Revenue_Desc:E3e,_Principal_Protection:v3e,_Principal_Protection_Desc:x3e,_Ecosystem_Internal_Circulation:A3e,_Ecosystem_Internal_Circulation_Desc:C3e,_Anti_Dilution_Mechanism:N3e,_Anti_Dilution_Mechanism_Desc:S3e,_Unlimited_Development:I3e,_Unlimited_Development_Desc:T3e,_Join:R3e,_Us:P3e,_Reshaping_Industry_Trust:O3e,_BCL_Breaks_Dilemma:D3e,_Rules_Programmable:k3e,_Trust_Quantifiable:M3e,_Join_Us_Desc:U3e,_Join_Now:$3e,_Purchase_Node:L3e,_Node_Rights:F3e,_Please_enter_inviter:B3e,_Inviter_invalid:j3e,_Bind_success:H3e,_Bind_failed:W3e,_Approve:q3e,_Total_Network_Nodes:z3e,_Total_Network_NFTs:G3e,_My_Nodes:K3e,_My_NFTs:V3e,_Direct_Referral_Nodes:J3e},X3e="",Q3e="",Z3e="",eRe="",tRe="",rRe="",nRe="",iRe="",sRe="",oRe="",aRe="",cRe="",lRe="",uRe="",fRe="FOMO",dRe="",hRe="",pRe="NFT",gRe="NFT",mRe="NFT",yRe="NFT",bRe="1",_Re="AI30",wRe="2HR",ERe=`15,000,000 HR
2,000 HR
0.5`,vRe="3",xRe=`100 HR
`,ARe="",CRe="",NRe="NFT",SRe="",IRe="",TRe="",RRe="",PRe="",ORe="BCL",DRe="",kRe="",MRe="",URe="Beacon Launchpad",$Re="BCL",LRe="",FRe="",BRe=" 5",jRe="",HRe="",WRe="",qRe="100",zRe="",GRe="",KRe="",VRe="",JRe="",YRe="",XRe="",QRe="",ZRe=" ",ePe="",tPe=" / ",rPe=" / ",nPe=" / ",iPe=" / ",sPe=" / ",oPe="BCL",aPe="2100",cPe="LP1800",lPe="100",uPe="200",fPe="NFT",dPe="",hPe="",pPe="",gPe="",mPe="",yPe="",bPe="",_Pe="",wPe="",EPe="",vPe="",xPe="",APe="",CPe="",NPe="BCLDeFi",SPe="",IPe="",TPe="",RPe="",PPe="Purchase Node",OPe="Node Rights",DPe="Please enter inviter",kPe="Inviter invalid",MPe="Bind success",UPe="Bind failed",$Pe="Approve",LPe="Total Network Nodes",FPe="Total Network NFTs",BPe="My Nodes",jPe="My NFTs",HPe="Direct Referral Nodes",WPe={_Connect_wallet:X3e,_Please_enter_a_referee:Q3e,_Success:Z3e,_Fail:eRe,_Invite_link:tRe,_Copy_link:rRe,_Join_record:nRe,_Join_amount:iRe,_Time:sRe,_Enter_friend_address_to_bind:oRe,_Enter_invite_address:aRe,_Bind:cRe,_Home:lRe,_Node:uRe,_FOMO_Pool:fRe,_Not_yet_open:dRe,_Recharge_address:hRe,_NFT_Presale:pRe,_NFT_Staking:gRe,_NFT_Rights:mRe,_NFT_Records:yRe,_Right_1_Node_as_Shareholder:bRe,_Right_1_Desc:_Re,_Right_2_HR_Token_Airdrop:wRe,_Right_2_Desc:ERe,_Right_3_Referral_Reward:vRe,_Right_3_Desc:xRe,_No_records:ARe,_In_progress:CRe,_NFT_Quantity:NRe,_Buy_Now:SRe,_Copy_successful:IRe,_Copy_failed:TRe,_Invite:RRe,_My_wallet_address:PRe,_BCL_Lighthouse_Protocol:ORe,_Fair_Transparent_Sustainable_DeFi_Paradigm:DRe,_Node_Subscription:kRe,_Welcome_To:MRe,_Welcome_Desc_1:URe,_Welcome_Desc_2:$Re,_Core:LRe,_Philosophy:FRe,_Five_Core_Values:BRe,_Fairness:jRe,_Fairness_Desc:HRe,_Transparency:WRe,_Transparency_Desc:qRe,_Fair_Distribution:zRe,_Fair_Distribution_Desc:GRe,_Self_Balancing:KRe,_Self_Balancing_Desc:VRe,_Sustainability:JRe,_Sustainability_Desc:YRe,_Decentralized:XRe,_Architecture:QRe,_Sustainable_Self_Driven_Model:ZRe,_Core_Architecture_Features:ePe,_No_Centralized_Server:tPe,_All_Operations_Public:rPe,_All_Data_On_Chain:nPe,_Automatic_Profit_Distribution:iPe,_Sustainable_Revenue_Cycle:sPe,_BCL_Token_Distribution:oPe,_Total_Token_Supply:aPe,_LP_Pool_Locked:cPe,_Interaction_Contract:lPe,_Airdrop_Contract:uPe,_NFT_Rewards:fPe,_Why_Choose:dPe,_Stable_Revenue:hPe,_Stable_Revenue_Desc:pPe,_Principal_Protection:gPe,_Principal_Protection_Desc:mPe,_Ecosystem_Internal_Circulation:yPe,_Ecosystem_Internal_Circulation_Desc:bPe,_Anti_Dilution_Mechanism:_Pe,_Anti_Dilution_Mechanism_Desc:wPe,_Unlimited_Development:EPe,_Unlimited_Development_Desc:vPe,_Join:xPe,_Us:APe,_Reshaping_Industry_Trust:CPe,_BCL_Breaks_Dilemma:NPe,_Rules_Programmable:SPe,_Trust_Quantifiable:IPe,_Join_Us_Desc:TPe,_Join_Now:RPe,_Purchase_Node:PPe,_Node_Rights:OPe,_Please_enter_inviter:DPe,_Inviter_invalid:kPe,_Bind_success:MPe,_Bind_failed:UPe,_Approve:$Pe,_Total_Network_Nodes:LPe,_Total_Network_NFTs:FPe,_My_Nodes:BPe,_My_NFTs:jPe,_Direct_Referral_Nodes:HPe},qPe="",zPe="",GPe="",KPe="",VPe="",JPe="",YPe="",XPe="",QPe="",ZPe="",e6e="",t6e="",r6e="",n6e="",i6e="FOMO Pool",s6e="",o6e="",a6e="NFT ",c6e="NFT Staking",l6e=" NFT",u6e=" NFT",f6e=" 1: ",d6e="  30%  AI ",h6e=" 2: Airdrop  HR",p6e=` Airdrop  HR  15,000,000 HR
 2,000 HR
 0.5%`,g6e=" 3: ",m6e=` 100 HR  
`,y6e="",b6e="",_6e=" NFT",w6e="",E6e="",v6e="",x6e="",A6e="",C6e=" BCL",N6e="  ",S6e="",I6e="",T6e="Beacon Launchpad         ",R6e=" BCL   ",P6e="",O6e="",D6e=" 5 ",k6e="",M6e=", , , , ",U6e="",$6e=" 100%, ",L6e="",F6e=": , ",B6e="",j6e=", ",H6e="",W6e=", ",q6e="",z6e="",G6e=" ",K6e="",V6e=" / ",J6e=" / ",Y6e=" / ",X6e=" / ",Q6e=" / ",Z6e=" BCL",eOe=": 21 ",tOe="LP Pool: 18  ()",rOe=": 1  ()",nOe=" Airdrop: 2  ()",iOe=" NFT  Slippage ",sOe="",oOe="",aOe=" Market Maker  '' ",cOe="",lOe=" ''",uOe="",fOe=" '' ",dOe="",hOe=" ''  Market Makers",pOe="",gOe=" '' ",mOe="",yOe="",bOe=", ",_Oe="BCL  'DeFi ' ",wOe="",EOe=", ",vOe="  ",xOe="",AOe="Purchase Node",COe="Node Rights",NOe="Please enter inviter",SOe="Inviter invalid",IOe="Bind success",TOe="Bind failed",ROe="Approve",POe="Total Network Nodes",OOe="Total Network NFTs",DOe="My Nodes",kOe="My NFTs",MOe="Direct Referral Nodes",UOe={_Connect_wallet:qPe,_Please_enter_a_referee:zPe,_Success:GPe,_Fail:KPe,_Invite_link:VPe,_Copy_link:JPe,_Join_record:YPe,_Join_amount:XPe,_Time:QPe,_Enter_friend_address_to_bind:ZPe,_Enter_invite_address:e6e,_Bind:t6e,_Home:r6e,_Node:n6e,_FOMO_Pool:i6e,_Not_yet_open:s6e,_Recharge_address:o6e,_NFT_Presale:a6e,_NFT_Staking:c6e,_NFT_Rights:l6e,_NFT_Records:u6e,_Right_1_Node_as_Shareholder:f6e,_Right_1_Desc:d6e,_Right_2_HR_Token_Airdrop:h6e,_Right_2_Desc:p6e,_Right_3_Referral_Reward:g6e,_Right_3_Desc:m6e,_No_records:y6e,_In_progress:b6e,_NFT_Quantity:_6e,_Buy_Now:w6e,_Copy_successful:E6e,_Copy_failed:v6e,_Invite:x6e,_My_wallet_address:A6e,_BCL_Lighthouse_Protocol:C6e,_Fair_Transparent_Sustainable_DeFi_Paradigm:N6e,_Node_Subscription:S6e,_Welcome_To:I6e,_Welcome_Desc_1:T6e,_Welcome_Desc_2:R6e,_Core:P6e,_Philosophy:O6e,_Five_Core_Values:D6e,_Fairness:k6e,_Fairness_Desc:M6e,_Transparency:U6e,_Transparency_Desc:$6e,_Fair_Distribution:L6e,_Fair_Distribution_Desc:F6e,_Self_Balancing:B6e,_Self_Balancing_Desc:j6e,_Sustainability:H6e,_Sustainability_Desc:W6e,_Decentralized:q6e,_Architecture:z6e,_Sustainable_Self_Driven_Model:G6e,_Core_Architecture_Features:K6e,_No_Centralized_Server:V6e,_All_Operations_Public:J6e,_All_Data_On_Chain:Y6e,_Automatic_Profit_Distribution:X6e,_Sustainable_Revenue_Cycle:Q6e,_BCL_Token_Distribution:Z6e,_Total_Token_Supply:eOe,_LP_Pool_Locked:tOe,_Interaction_Contract:rOe,_Airdrop_Contract:nOe,_NFT_Rewards:iOe,_Why_Choose:sOe,_Stable_Revenue:oOe,_Stable_Revenue_Desc:aOe,_Principal_Protection:cOe,_Principal_Protection_Desc:lOe,_Ecosystem_Internal_Circulation:uOe,_Ecosystem_Internal_Circulation_Desc:fOe,_Anti_Dilution_Mechanism:dOe,_Anti_Dilution_Mechanism_Desc:hOe,_Unlimited_Development:pOe,_Unlimited_Development_Desc:gOe,_Join:mOe,_Us:yOe,_Reshaping_Industry_Trust:bOe,_BCL_Breaks_Dilemma:_Oe,_Rules_Programmable:wOe,_Trust_Quantifiable:EOe,_Join_Us_Desc:vOe,_Join_Now:xOe,_Purchase_Node:AOe,_Node_Rights:COe,_Please_enter_inviter:NOe,_Inviter_invalid:SOe,_Bind_success:IOe,_Bind_failed:TOe,_Approve:ROe,_Total_Network_Nodes:POe,_Total_Network_NFTs:OOe,_My_Nodes:DOe,_My_NFTs:kOe,_Direct_Referral_Nodes:MOe},$Oe="Kt ni V",LOe="Vui lng nhp ngi gii thiu",FOe="Thnh cng",BOe="Tht bi",jOe="Lin kt mi",HOe="Sao chp lin kt",WOe="H s tham gia",qOe="S tin tham gia",zOe="Thi gian",GOe="Vui lng nhp a ch bn b  lin kt",KOe="Vui lng nhp a ch mi",VOe="Lin kt",JOe="Trang ch",YOe="Nt",XOe="H FOMO",QOe="Cha m",ZOe="a ch np tin",e5e="Bn trc NFT",t5e="t cc NFT",r5e="Quyn li NFT",n5e="H s NFT",i5e="Quyn li 1: Nt l C ng",s5e="Ch s hu nt c cng nhn l c ng h sinh thi, nhn 30% c tc c trng s t nn tng d on AI phi tp trung.",o5e="Quyn li 2: Airdrop Token HR",a5e=`Cc nt ton cu s nhn tng cng 15,000,000 token HR airdrop.
Mi nt nhn trung bnh 2,000 HR.
Token c pht hnh hng ngy vi t l 0.5%.`,c5e="Quyn li 3: Phn thng gii thiu",l5e=`Nhn 100 HR cho mi nt c gii thiu.
Khng gii hn v khng yu cu kha.`,u5e="Khng c h s",f5e="ang tin hnh",d5e="S lng NFT",h5e="Mua ngay",p5e="Sao chp thnh cng",g5e="Sao chp tht bi",m5e="Mi",y5e="a ch v ca ti",b5e="Giao thc Ngn hi ng BCL",_5e="M hnh mi ca Ti chnh phi tp trung Cng bng, Minh bch, Bn vng",w5e="ng k Nt",E5e="Cho mng n vi",v5e="Beacon Launchpad l mt nn tng khi chy a chui hon ton phi tp trung v t ng thc thi trn chui. Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton trong vic pht hnh d n, qun l thanh khon v phn phi u i, m bo tnh cng khai, cng bng, bo mt v tng trng bn vng.",x5e="Ti BCL, mi ngi u c th tham gia cng bng, qun tr minh bch v chia s lin tc.",A5e="Ct li",C5e="Trit l",N5e=" 5 Gi tr Ct li",S5e="Cng bng",I5e="Khng i ng d n, Khng ng dng, Khng t trc, Khng cp quyn, Khng chm dt",T5e="Minh bch",R5e="Hot ng t ch vnh vin 100% trn chui, Kim sot hon ton bng hp ng thng minh",P5e="Phn phi cng bng",O5e="Phn phi cng bng: Li nhun n nh cho ngi dn u, Tim nng v hn cho ngi thc hin",D5e="T cn bng",k5e="Cng c t cn bng quy m, M hnh tun hon vnh vin n nh h sinh thi",M5e="Bn vng",U5e="t c c ch tun hon cng bng n nh  trn v Tng trng  di, Cng thnh vng",$5e="Phi tp trung",L5e="Kin trc",F5e=" M hnh T vn hnh Bn vng",B5e="Tnh nng Kin trc Ct li",j5e="Khng my ch trung tm / M hnh t vn hnh bn vng",H5e="Mi hot ng cng khai / Hp ng c bn c th truy xut vnh vin",W5e="Mi d liu trn chui / Bo mt ti sn ngi dng",q5e="Phn phi li nhun t ng / M kha t ch khng tr",z5e="Chu k doanh thu bn vng / C ch ti sn khng i tun hon ni b",G5e="Phn phi Token BCL",K5e="Tng cung Token: 21 triu",V5e="H LP: 18 triu (Kha vnh vin trong h en)",J5e="Hp ng tng tc: 1 triu (Hy b quyn)",Y5e="Hp ng Airdrop: 2 triu (Hy b quyn)",X5e="Phn thng kp NFT Phn phi t ng trt gi giao dch",Q5e="Ti sao chn",Z5e="Doanh thu n nh",e8e="Cung cp li nhun Nh to lp th trng 'n nh', Thu ht qu ln",t8e="Bo v vn gc",r8e="Chm dt vic thu hp vn gc do 'Bin ng gi tin t'",n8e="Tun hon ni b h sinh thi",i8e="Xy dng Tng trng th trng 'T vn hnh' v Tun hon ni b ti u t",s8e="C ch chng pha long",o8e="Ph v s pha long li nhun do 'Tng s lng' Nh to lp th trng",a8e="Pht trin khng gii hn",c8e="Loi b nt tht trong 'Pht trin th trng' do Gi tin t cao",l8e="Tham gia",u8e="Chng ti",f8e="Ti nh hnh nim tin ngnh, Thut ton thay th con ngi",d8e="BCL Ph v th tin thoi lng nan ca 'DeFi truyn thng', ",h8e="Quy tc c th lp trnh",p8e=", Nim tin c th nh lng.",g8e="Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton, m ra mt m hnh mi ca ti chnh trn chui.",m8e="Tham gia ngay",y8e="Purchase Node",b8e="Node Rights",_8e="Please enter inviter",w8e="Inviter invalid",E8e="Bind success",v8e="Bind failed",x8e="Approve",A8e="Total Network Nodes",C8e="Total Network NFTs",N8e="My Nodes",S8e="My NFTs",I8e="Direct Referral Nodes",T8e={_Connect_wallet:$Oe,_Please_enter_a_referee:LOe,_Success:FOe,_Fail:BOe,_Invite_link:jOe,_Copy_link:HOe,_Join_record:WOe,_Join_amount:qOe,_Time:zOe,_Enter_friend_address_to_bind:GOe,_Enter_invite_address:KOe,_Bind:VOe,_Home:JOe,_Node:YOe,_FOMO_Pool:XOe,_Not_yet_open:QOe,_Recharge_address:ZOe,_NFT_Presale:e5e,_NFT_Staking:t5e,_NFT_Rights:r5e,_NFT_Records:n5e,_Right_1_Node_as_Shareholder:i5e,_Right_1_Desc:s5e,_Right_2_HR_Token_Airdrop:o5e,_Right_2_Desc:a5e,_Right_3_Referral_Reward:c5e,_Right_3_Desc:l5e,_No_records:u5e,_In_progress:f5e,_NFT_Quantity:d5e,_Buy_Now:h5e,_Copy_successful:p5e,_Copy_failed:g5e,_Invite:m5e,_My_wallet_address:y5e,_BCL_Lighthouse_Protocol:b5e,_Fair_Transparent_Sustainable_DeFi_Paradigm:_5e,_Node_Subscription:w5e,_Welcome_To:E5e,_Welcome_Desc_1:v5e,_Welcome_Desc_2:x5e,_Core:A5e,_Philosophy:C5e,_Five_Core_Values:N5e,_Fairness:S5e,_Fairness_Desc:I5e,_Transparency:T5e,_Transparency_Desc:R5e,_Fair_Distribution:P5e,_Fair_Distribution_Desc:O5e,_Self_Balancing:D5e,_Self_Balancing_Desc:k5e,_Sustainability:M5e,_Sustainability_Desc:U5e,_Decentralized:$5e,_Architecture:L5e,_Sustainable_Self_Driven_Model:F5e,_Core_Architecture_Features:B5e,_No_Centralized_Server:j5e,_All_Operations_Public:H5e,_All_Data_On_Chain:W5e,_Automatic_Profit_Distribution:q5e,_Sustainable_Revenue_Cycle:z5e,_BCL_Token_Distribution:G5e,_Total_Token_Supply:K5e,_LP_Pool_Locked:V5e,_Interaction_Contract:J5e,_Airdrop_Contract:Y5e,_NFT_Rewards:X5e,_Why_Choose:Q5e,_Stable_Revenue:Z5e,_Stable_Revenue_Desc:e8e,_Principal_Protection:t8e,_Principal_Protection_Desc:r8e,_Ecosystem_Internal_Circulation:n8e,_Ecosystem_Internal_Circulation_Desc:i8e,_Anti_Dilution_Mechanism:s8e,_Anti_Dilution_Mechanism_Desc:o8e,_Unlimited_Development:a8e,_Unlimited_Development_Desc:c8e,_Join:l8e,_Us:u8e,_Reshaping_Industry_Trust:f8e,_BCL_Breaks_Dilemma:d8e,_Rules_Programmable:h8e,_Trust_Quantifiable:p8e,_Join_Us_Desc:g8e,_Join_Now:m8e,_Purchase_Node:y8e,_Node_Rights:b8e,_Please_enter_inviter:_8e,_Inviter_invalid:w8e,_Bind_success:E8e,_Bind_failed:v8e,_Approve:x8e,_Total_Network_Nodes:A8e,_Total_Network_NFTs:C8e,_My_Nodes:N8e,_My_NFTs:S8e,_Direct_Referral_Nodes:I8e},R8e="Sambung Dompet",P8e="Sila masukkan rujukan",O8e="Berjaya",D8e="Gagal",k8e="Pautan Jemputan",M8e="Salin Pautan",U8e="Rekod Sertai",$8e="Jumlah Sertai",L8e="Masa",F8e="Sila masukkan alamat rakan untuk mengikat",B8e="Sila masukkan alamat jemputan",j8e="Ikat",H8e="Laman Utama",W8e="Nod",q8e="Kolam FOMO",z8e="Belum dibuka",G8e="Alamat Caj Semula",K8e="Pra-jualan NFT",V8e="Staking NFT",J8e="Hak NFT",Y8e="Rekod NFT",X8e="Hak 1: Nod sebagai Pemegang Saham",Q8e="Pemegang nod diiktiraf sebagai pemegang saham ekosistem, menerima 30% dividen wajaran daripada platform ramalan AI terdesentralisasi.",Z8e="Hak 2: Airdrop Token HR",e4e=`Nod global akan menerima sejumlah 15,000,000 airdrop token HR.
Setiap nod menerima purata 2,000 HR.
Token dikeluarkan setiap hari pada kadar 0.5%.`,t4e="Hak 3: Ganjaran Rujukan",r4e=`Terima 100 HR untuk setiap nod yang dirujuk.
Tiada had dan tiada syarat kunci.`,n4e="Tiada rekod",i4e="Sedang Berjalan",s4e="Kuantiti NFT",o4e="Beli Sekarang",a4e="Salinan Berjaya",c4e="Salinan Gagal",l4e="Jemput",u4e="Alamat Dompet Saya",f4e="Protokol Rumah Api BCL",d4e="Paradigma Baru Kewangan Terdesentralisasi yang Adil, Telus, dan Mampan",h4e="Langganan Nod",p4e="Selamat Datang ke",g4e="Beacon Launchpad adalah platform pelancaran pelbagai rantaian yang sepenuhnya terdesentralisasi dan dilaksanakan secara automatik di rantaian. Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh pengeluaran projek, pengurusan kecairan, dan pengagihan insentif, memastikan keterbukaan, keadilan, keselamatan, dan pertumbuhan yang mampan.",m4e="Di BCL, semua orang boleh mengambil bahagian secara adil, mentadbir secara telus, dan berkongsi secara berterusan.",y4e="Teras",b4e="Falsafah",_4e=" 5 Nilai Teras",w4e="Keadilan",E4e="Tiada Pasukan Projek, Tiada APP, Tiada Tempahan, Tiada Kebenaran, Tiada Penamatan",v4e="Ketelusan",x4e="Operasi Autonomi Kekal 100% Di Rantaian, Kawalan Kontrak Pintar Sepenuhnya",A4e="Pengagihan Adil",C4e="Pengagihan Adil: Pulangan Stabil untuk Pemimpin, Potensi Tanpa Had untuk Pelaksana",N4e="Pengimbangan Kendiri",S4e="Enjin Pengimbangan Kendiri Skala, Model Edaran Kekal Stabil Ekosistem",I4e="Kemampanan",T4e="Mencapai Mekanisme Edaran Adil Kestabilan di Atas dan Pertumbuhan di Bawah, Kemakmuran Bersama",R4e="Terdesentralisasi",P4e="Senibina",O4e=" Model Kendiri Mampan",D4e="Ciri-ciri Senibina Teras",k4e="Tiada Pelayan Berpusat / Model Kendiri Mampan",M4e="Semua Operasi Awam / Kontrak Asas Boleh Dikesan Kekal",U4e="Semua Data Di Rantaian / Keselamatan Aset Pengguna",$4e="Pengagihan Keuntungan Automatik / Kunci Buka Autonomi Sifar Kelewatan",L4e="Kitaran Hasil Mampan / Mekanisme Aset Tetap Edaran Dalaman",F4e="Pengagihan Token BCL",B4e="Jumlah Bekalan Token: 21 Juta",j4e="Kolam LP: 18 Juta (Lubang Hitam Dikunci Kekal)",H4e="Kontrak Interaksi: 1 Juta (Kebenaran Dibuang)",W4e="Kontrak Airdrop: 2 Juta (Kebenaran Dibuang)",q4e="Ganjaran Berganda NFT Pengagihan Automatik Slippage Transaksi",z4e="Kenapa Pilih",G4e="Hasil Stabil",K4e="Menyediakan Pulangan Pembuat Pasaran 'Stabil', Menarik Dana Besar",V4e="Perlindungan Prinsipal",J4e="Menamatkan Pengecutan Prinsipal Disebabkan oleh 'Turun Naik Harga Mata Wang'",Y4e="Edaran Dalaman Ekosistem",X4e="Membina Pertumbuhan Pasaran 'Kendiri' dan Edaran Dalaman Pelaburan Semula",Q4e="Mekanisme Anti-Pencairan",Z4e="Memecahkan Pencairan Pulangan Disebabkan oleh 'Peningkatan Bilangan' Pembuat Pasaran",eDe="Pembangunan Tanpa Had",tDe="Menghapuskan Kesesakan dalam 'Pembangunan Pasaran' Disebabkan oleh Harga Mata Wang Tinggi",rDe="Sertai",nDe="Kami",iDe="Membentuk Semula Kepercayaan Industri, Algoritma Menggantikan Manusia",sDe="BCL Memecahkan Dilema 'DeFi Tradisional', Membiarkan",oDe="Peraturan Boleh Diprogramkan",aDe=", Kepercayaan Boleh Diukur.",cDe="Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh, memulakan paradigma baru kewangan di rantaian.",lDe="Sertai Sekarang",uDe="Purchase Node",fDe="Node Rights",dDe="Please enter inviter",hDe="Inviter invalid",pDe="Bind success",gDe="Bind failed",mDe="Approve",yDe="Total Network Nodes",bDe="Total Network NFTs",_De="My Nodes",wDe="My NFTs",EDe="Direct Referral Nodes",vDe={_Connect_wallet:R8e,_Please_enter_a_referee:P8e,_Success:O8e,_Fail:D8e,_Invite_link:k8e,_Copy_link:M8e,_Join_record:U8e,_Join_amount:$8e,_Time:L8e,_Enter_friend_address_to_bind:F8e,_Enter_invite_address:B8e,_Bind:j8e,_Home:H8e,_Node:W8e,_FOMO_Pool:q8e,_Not_yet_open:z8e,_Recharge_address:G8e,_NFT_Presale:K8e,_NFT_Staking:V8e,_NFT_Rights:J8e,_NFT_Records:Y8e,_Right_1_Node_as_Shareholder:X8e,_Right_1_Desc:Q8e,_Right_2_HR_Token_Airdrop:Z8e,_Right_2_Desc:e4e,_Right_3_Referral_Reward:t4e,_Right_3_Desc:r4e,_No_records:n4e,_In_progress:i4e,_NFT_Quantity:s4e,_Buy_Now:o4e,_Copy_successful:a4e,_Copy_failed:c4e,_Invite:l4e,_My_wallet_address:u4e,_BCL_Lighthouse_Protocol:f4e,_Fair_Transparent_Sustainable_DeFi_Paradigm:d4e,_Node_Subscription:h4e,_Welcome_To:p4e,_Welcome_Desc_1:g4e,_Welcome_Desc_2:m4e,_Core:y4e,_Philosophy:b4e,_Five_Core_Values:_4e,_Fairness:w4e,_Fairness_Desc:E4e,_Transparency:v4e,_Transparency_Desc:x4e,_Fair_Distribution:A4e,_Fair_Distribution_Desc:C4e,_Self_Balancing:N4e,_Self_Balancing_Desc:S4e,_Sustainability:I4e,_Sustainability_Desc:T4e,_Decentralized:R4e,_Architecture:P4e,_Sustainable_Self_Driven_Model:O4e,_Core_Architecture_Features:D4e,_No_Centralized_Server:k4e,_All_Operations_Public:M4e,_All_Data_On_Chain:U4e,_Automatic_Profit_Distribution:$4e,_Sustainable_Revenue_Cycle:L4e,_BCL_Token_Distribution:F4e,_Total_Token_Supply:B4e,_LP_Pool_Locked:j4e,_Interaction_Contract:H4e,_Airdrop_Contract:W4e,_NFT_Rewards:q4e,_Why_Choose:z4e,_Stable_Revenue:G4e,_Stable_Revenue_Desc:K4e,_Principal_Protection:V4e,_Principal_Protection_Desc:J4e,_Ecosystem_Internal_Circulation:Y4e,_Ecosystem_Internal_Circulation_Desc:X4e,_Anti_Dilution_Mechanism:Q4e,_Anti_Dilution_Mechanism_Desc:Z4e,_Unlimited_Development:eDe,_Unlimited_Development_Desc:tDe,_Join:rDe,_Us:nDe,_Reshaping_Industry_Trust:iDe,_BCL_Breaks_Dilemma:sDe,_Rules_Programmable:oDe,_Trust_Quantifiable:aDe,_Join_Us_Desc:cDe,_Join_Now:lDe,_Purchase_Node:uDe,_Node_Rights:fDe,_Please_enter_inviter:dDe,_Inviter_invalid:hDe,_Bind_success:pDe,_Bind_failed:gDe,_Approve:mDe,_Total_Network_Nodes:yDe,_Total_Network_NFTs:bDe,_My_Nodes:_De,_My_NFTs:wDe,_Direct_Referral_Nodes:EDe};var UA,jD;function xDe(){if(jD)return UA;jD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),UA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>` ${l} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return UA}var ADe=xDe();const CDe=Ts(ADe);var $A,HD;function NDe(){if(HD)return $A;HD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),$A=o(a);var c={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choose no more than ${l} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:l=>`${l*10}% off`,condition:l=>`At least ${l}`},vanCouponCell:{title:"Coupon",count:l=>`You have ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};return $A}var SDe=NDe();const IDe=Ts(SDe);var LA,WD;function TDe(){if(WD)return LA;WD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),LA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:" ",nameEmpty:" ",addContact:"  ",telInvalid:" ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`${l}   `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:l=>`${l*10}% `,condition:l=>` ${l}`},vanCouponCell:{title:"",count:l=>`${l}   `},vanCouponList:{exchange:"",close:"",enable:" ",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:" ",addressEmpty:"   ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};return LA}var RDe=TDe();const PDe=Ts(RDe);var FA,qD;function ODe(){if(qD)return FA;qD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),FA=o(a);var c={name:"Nom",tel:"Telephone",save:"Sauvegarder",clear:"Clair",cancel:"Annuler",confirm:"Confirmer",delete:"Suprimer",loading:"Chargement...",noCoupon:"Pas de coupons",nameEmpty:"Veuillez remplir le nom",addContact:"Ajouter contact",telInvalid:"Numro de tlphone incorrect",vanCalendar:{end:"Fin",start:"Dbut",title:"Calendrier",weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choisir pas plus de ${l} jours`},vanCascader:{select:"Slectionner"},vanPagination:{prev:"Prcdent",next:"Suivant"},vanPullRefresh:{pulling:"Tirer pour actualiser ...",loosing:"Relchez pour actualiser..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Illimit",discount:l=>`${l*10}% de rduction`,condition:l=>`Au moins ${l}`},vanCouponCell:{title:"Coupon",count:l=>`Vous avez ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Fermer",enable:"Disponible",disabled:"Indisponible",placeholder:"Code coupon"},vanAddressEdit:{area:"Zone",areaEmpty:"Veuillez slectionner une zone de rception",addressEmpty:"L'adresse ne peut pas tre vide",addressDetail:"Adresse",defaultAddress:"Dfinir comme adresse par dfaut"},vanAddressList:{add:"Ajouter une nouvelle adresse"}};return FA}var DDe=ODe();const kDe=Ts(DDe);var BA,zD;function MDe(){if(zD)return BA;zD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),BA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>`${l}`},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${10-l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return BA}var UDe=MDe();const $De=Ts(UDe);function LDe(t){switch(t){case"cn":Wh.use("zh-CN",CDe);break;case"en":Wh.use("en-US",IDe);break;case"ko":Wh.use("ko-KR",PDe);break;case"fr":Wh.use("Fr-FR",kDe);break;case"ja":Wh.use("Ja-JP",$De);break}}function FDe(t){LDe(t)}const pN=Z2e({legacy:!1,locale:"en",fallbackLocale:"en",globalInjection:!0,messages:{cn:{...uSe},en:{...nTe},ko:{...Y3e},ja:{...WPe},th:{...UOe},vi:{...T8e},ms:{...vDe}}}),BDe=t=>{console.log(pN,"i18n"),FDe(t),pN.global.locale.value=t},jDe={class:"flex-middle"},HDe=Li({__name:"Header",props:{title:{default:""},isShowBack:{type:Boolean,default:!0}},setup(t){const{t:e}=Uy(),r=yCe();console.log(r.locale,"languageStore");const n=z7({namespace:"eip155"}),i=()=>{const{open:o}=Gde();o()};return n.value.address&&console.log(n.value,"account.value"),Bn(()=>n.value.address,(o,a)=>{console.log(o,"newVal")},{deep:!0}),(()=>{let o=r.locale||"en";BDe(o),r.$patch({locale:o})})(),(o,a)=>{const c=dB,l=tAe;return fd(),Ub(l,{title:"",fixed:!0,"z-index":2005,"left-text":""},{left:td(()=>[...a[0]||(a[0]=[])]),right:td(()=>[Zr("div",jDe,[xs(n).isConnected?(fd(),Ub(c,{key:1,round:"",plain:"",type:"success",onClick:i,size:"small"},{default:td(()=>[r0(Iu(xs(n).address?.substring(0,4)+"..."+xs(n).address?.substring(xs(n).address.length-4,xs(n).address.length)),1)]),_:1})):(fd(),Ub(c,{key:0,round:"",plain:"",type:"success",onClick:i,size:"small"},{default:td(()=>[r0(Iu(o.$t("_Connect_wallet")),1)]),_:1}))])]),_:1})}}}),ZB=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},WDe=ZB(HDe,[["__scopeId","data-v-b3225356"]]);var qDe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,jA=Math.ceil,yo=Math.floor,gs="[BigNumber Error] ",GD=gs+"Number primitive has more than 15 significant digits: ",na=1e14,it=14,HA=9007199254740991,WA=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],gu=1e7,qn=1e9;function ej(t){var e,r,n,i=x.prototype={constructor:x,toString:null,valueOf:null},s=new x(1),o=20,a=4,c=-7,l=21,u=-1e7,f=1e7,d=!1,h=1,m=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",w=!0;function x(N,v){var M,$,P,C,p,y,_,A,I=this;if(!(I instanceof x))return new x(N,v);if(v==null){if(N&&N._isBigNumber===!0){I.s=N.s,!N.c||N.e>f?I.c=I.e=null:N.e<u?I.c=[I.e=0]:(I.e=N.e,I.c=N.c.slice());return}if((y=typeof N=="number")&&N*0==0){if(I.s=1/N<0?(N=-N,-1):1,N===~~N){for(C=0,p=N;p>=10;p/=10,C++);C>f?I.c=I.e=null:(I.e=C,I.c=[N]);return}A=String(N)}else{if(!qDe.test(A=String(N)))return n(I,A,y);I.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(C=A.indexOf("."))>-1&&(A=A.replace(".","")),(p=A.search(/e/i))>0?(C<0&&(C=p),C+=+A.slice(p+1),A=A.substring(0,p)):C<0&&(C=A.length)}else{if(Hr(v,2,b.length,"Base"),v==10&&w)return I=new x(N),k(I,o+I.e+1,a);if(A=String(N),y=typeof N=="number"){if(N*0!=0)return n(I,A,y,v);if(I.s=1/N<0?(A=A.slice(1),-1):1,x.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(GD+N)}else I.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(M=b.slice(0,v),C=p=0,_=A.length;p<_;p++)if(M.indexOf($=A.charAt(p))<0){if($=="."){if(p>C){C=_;continue}}else if(!P&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){P=!0,p=-1,C=0;continue}return n(I,String(N),y,v)}y=!1,A=r(A,v,10,I.s),(C=A.indexOf("."))>-1?A=A.replace(".",""):C=A.length}for(p=0;A.charCodeAt(p)===48;p++);for(_=A.length;A.charCodeAt(--_)===48;);if(A=A.slice(p,++_)){if(_-=p,y&&x.DEBUG&&_>15&&(N>HA||N!==yo(N)))throw Error(GD+I.s*N);if((C=C-p-1)>f)I.c=I.e=null;else if(C<u)I.c=[I.e=0];else{if(I.e=C,I.c=[],p=(C+1)%it,C<0&&(p+=it),p<_){for(p&&I.c.push(+A.slice(0,p)),_-=it;p<_;)I.c.push(+A.slice(p,p+=it));p=it-(A=A.slice(p)).length}else p-=_;for(;p--;A+="0");I.c.push(+A)}}else I.c=[I.e=0]}x.clone=ej,x.ROUND_UP=0,x.ROUND_DOWN=1,x.ROUND_CEIL=2,x.ROUND_FLOOR=3,x.ROUND_HALF_UP=4,x.ROUND_HALF_DOWN=5,x.ROUND_HALF_EVEN=6,x.ROUND_HALF_CEIL=7,x.ROUND_HALF_FLOOR=8,x.EUCLID=9,x.config=x.set=function(N){var v,M;if(N!=null)if(typeof N=="object"){if(N.hasOwnProperty(v="DECIMAL_PLACES")&&(M=N[v],Hr(M,0,qn,v),o=M),N.hasOwnProperty(v="ROUNDING_MODE")&&(M=N[v],Hr(M,0,8,v),a=M),N.hasOwnProperty(v="EXPONENTIAL_AT")&&(M=N[v],M&&M.pop?(Hr(M[0],-qn,0,v),Hr(M[1],0,qn,v),c=M[0],l=M[1]):(Hr(M,-qn,qn,v),c=-(l=M<0?-M:M))),N.hasOwnProperty(v="RANGE"))if(M=N[v],M&&M.pop)Hr(M[0],-qn,-1,v),Hr(M[1],1,qn,v),u=M[0],f=M[1];else if(Hr(M,-qn,qn,v),M)u=-(f=M<0?-M:M);else throw Error(gs+v+" cannot be zero: "+M);if(N.hasOwnProperty(v="CRYPTO"))if(M=N[v],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=M;else throw d=!M,Error(gs+"crypto unavailable");else d=M;else throw Error(gs+v+" not true or false: "+M);if(N.hasOwnProperty(v="MODULO_MODE")&&(M=N[v],Hr(M,0,9,v),h=M),N.hasOwnProperty(v="POW_PRECISION")&&(M=N[v],Hr(M,0,qn,v),m=M),N.hasOwnProperty(v="FORMAT"))if(M=N[v],typeof M=="object")g=M;else throw Error(gs+v+" not an object: "+M);if(N.hasOwnProperty(v="ALPHABET"))if(M=N[v],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))w=M.slice(0,10)=="0123456789",b=M;else throw Error(gs+v+" invalid: "+M)}else throw Error(gs+"Object expected: "+N);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:d,MODULO_MODE:h,POW_PRECISION:m,FORMAT:g,ALPHABET:b}},x.isBigNumber=function(N){if(!N||N._isBigNumber!==!0)return!1;if(!x.DEBUG)return!0;var v,M,$=N.c,P=N.e,C=N.s;e:if({}.toString.call($)=="[object Array]"){if((C===1||C===-1)&&P>=-qn&&P<=qn&&P===yo(P)){if($[0]===0){if(P===0&&$.length===1)return!0;break e}if(v=(P+1)%it,v<1&&(v+=it),String($[0]).length==v){for(v=0;v<$.length;v++)if(M=$[v],M<0||M>=na||M!==yo(M))break e;if(M!==0)return!0}}}else if($===null&&P===null&&(C===null||C===1||C===-1))return!0;throw Error(gs+"Invalid BigNumber: "+N)},x.maximum=x.max=function(){return D(arguments,-1)},x.minimum=x.min=function(){return D(arguments,1)},x.random=(function(){var N=9007199254740992,v=Math.random()*N&2097151?function(){return yo(Math.random()*N)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var $,P,C,p,y,_=0,A=[],I=new x(s);if(M==null?M=o:Hr(M,0,qn),p=jA(M/it),d)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(p*=2));_<p;)y=$[_]*131072+($[_+1]>>>11),y>=9e15?(P=crypto.getRandomValues(new Uint32Array(2)),$[_]=P[0],$[_+1]=P[1]):(A.push(y%1e14),_+=2);_=p/2}else if(crypto.randomBytes){for($=crypto.randomBytes(p*=7);_<p;)y=($[_]&31)*281474976710656+$[_+1]*1099511627776+$[_+2]*4294967296+$[_+3]*16777216+($[_+4]<<16)+($[_+5]<<8)+$[_+6],y>=9e15?crypto.randomBytes(7).copy($,_):(A.push(y%1e14),_+=7);_=p/7}else throw d=!1,Error(gs+"crypto unavailable");if(!d)for(;_<p;)y=v(),y<9e15&&(A[_++]=y%1e14);for(p=A[--_],M%=it,p&&M&&(y=WA[it-M],A[_]=yo(p/y)*y);A[_]===0;A.pop(),_--);if(_<0)A=[C=0];else{for(C=-1;A[0]===0;A.splice(0,1),C-=it);for(_=1,y=A[0];y>=10;y/=10,_++);_<it&&(C-=it-_)}return I.e=C,I.c=A,I}})(),x.sum=function(){for(var N=1,v=arguments,M=new x(v[0]);N<v.length;)M=M.plus(v[N++]);return M},r=(function(){var N="0123456789";function v(M,$,P,C){for(var p,y=[0],_,A=0,I=M.length;A<I;){for(_=y.length;_--;y[_]*=$);for(y[0]+=C.indexOf(M.charAt(A++)),p=0;p<y.length;p++)y[p]>P-1&&(y[p+1]==null&&(y[p+1]=0),y[p+1]+=y[p]/P|0,y[p]%=P)}return y.reverse()}return function(M,$,P,C,p){var y,_,A,I,U,B,R,E,L=M.indexOf("."),G=o,T=a;for(L>=0&&(I=m,m=0,M=M.replace(".",""),E=new x($),B=E.pow(M.length-L),m=I,E.c=v(il(go(B.c),B.e,"0"),10,P,N),E.e=E.c.length),R=v(M,$,P,p?(y=b,N):(y=N,b)),A=I=R.length;R[--I]==0;R.pop());if(!R[0])return y.charAt(0);if(L<0?--A:(B.c=R,B.e=A,B.s=C,B=e(B,E,G,T,P),R=B.c,U=B.r,A=B.e),_=A+G+1,L=R[_],I=P/2,U=U||_<0||R[_+1]!=null,U=T<4?(L!=null||U)&&(T==0||T==(B.s<0?3:2)):L>I||L==I&&(T==4||U||T==6&&R[_-1]&1||T==(B.s<0?8:7)),_<1||!R[0])M=U?il(y.charAt(1),-G,y.charAt(0)):y.charAt(0);else{if(R.length=_,U)for(--P;++R[--_]>P;)R[_]=0,_||(++A,R=[1].concat(R));for(I=R.length;!R[--I];);for(L=0,M="";L<=I;M+=y.charAt(R[L++]));M=il(M,A,y.charAt(0))}return M}})(),e=(function(){function N($,P,C){var p,y,_,A,I=0,U=$.length,B=P%gu,R=P/gu|0;for($=$.slice();U--;)_=$[U]%gu,A=$[U]/gu|0,p=R*_+A*B,y=B*_+p%gu*gu+I,I=(y/C|0)+(p/gu|0)+R*A,$[U]=y%C;return I&&($=[I].concat($)),$}function v($,P,C,p){var y,_;if(C!=p)_=C>p?1:-1;else for(y=_=0;y<C;y++)if($[y]!=P[y]){_=$[y]>P[y]?1:-1;break}return _}function M($,P,C,p){for(var y=0;C--;)$[C]-=y,y=$[C]<P[C]?1:0,$[C]=y*p+$[C]-P[C];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,P,C,p,y){var _,A,I,U,B,R,E,L,G,T,V,K,X,Q,ie,le,H,Y=$.s==P.s?1:-1,W=$.c,Z=P.c;if(!W||!W[0]||!Z||!Z[0])return new x(!$.s||!P.s||(W?Z&&W[0]==Z[0]:!Z)?NaN:W&&W[0]==0||!Z?Y*0:Y/0);for(L=new x(Y),G=L.c=[],A=$.e-P.e,Y=C+A+1,y||(y=na,A=bo($.e/it)-bo(P.e/it),Y=Y/it|0),I=0;Z[I]==(W[I]||0);I++);if(Z[I]>(W[I]||0)&&A--,Y<0)G.push(1),U=!0;else{for(Q=W.length,le=Z.length,I=0,Y+=2,B=yo(y/(Z[0]+1)),B>1&&(Z=N(Z,B,y),W=N(W,B,y),le=Z.length,Q=W.length),X=le,T=W.slice(0,le),V=T.length;V<le;T[V++]=0);H=Z.slice(),H=[0].concat(H),ie=Z[0],Z[1]>=y/2&&ie++;do{if(B=0,_=v(Z,T,le,V),_<0){if(K=T[0],le!=V&&(K=K*y+(T[1]||0)),B=yo(K/ie),B>1)for(B>=y&&(B=y-1),R=N(Z,B,y),E=R.length,V=T.length;v(R,T,E,V)==1;)B--,M(R,le<E?H:Z,E,y),E=R.length,_=1;else B==0&&(_=B=1),R=Z.slice(),E=R.length;if(E<V&&(R=[0].concat(R)),M(T,R,V,y),V=T.length,_==-1)for(;v(Z,T,le,V)<1;)B++,M(T,le<V?H:Z,V,y),V=T.length}else _===0&&(B++,T=[0]);G[I++]=B,T[0]?T[V++]=W[X]||0:(T=[W[X]],V=1)}while((X++<Q||T[0]!=null)&&Y--);U=T[0]!=null,G[0]||G.splice(0,1)}if(y==na){for(I=1,Y=G[0];Y>=10;Y/=10,I++);k(L,C+(L.e=I+A*it-1)+1,p,U)}else L.e=A,L.r=+U;return L}})();function S(N,v,M,$){var P,C,p,y,_;if(M==null?M=a:Hr(M,0,8),!N.c)return N.toString();if(P=N.c[0],p=N.e,v==null)_=go(N.c),_=$==1||$==2&&(p<=c||p>=l)?Ob(_,p):il(_,p,"0");else if(N=k(new x(N),v,M),C=N.e,_=go(N.c),y=_.length,$==1||$==2&&(v<=C||C<=c)){for(;y<v;_+="0",y++);_=Ob(_,C)}else if(v-=p+($===2&&C>p),_=il(_,C,"0"),C+1>y){if(--v>0)for(_+=".";v--;_+="0");}else if(v+=C-y,v>0)for(C+1==y&&(_+=".");v--;_+="0");return N.s<0&&P?"-"+_:_}function D(N,v){for(var M,$,P=1,C=new x(N[0]);P<N.length;P++)$=new x(N[P]),(!$.s||(M=jf(C,$))===v||M===0&&C.s===v)&&(C=$);return C}function O(N,v,M){for(var $=1,P=v.length;!v[--P];v.pop());for(P=v[0];P>=10;P/=10,$++);return(M=$+M*it-1)>f?N.c=N.e=null:M<u?N.c=[N.e=0]:(N.e=M,N.c=v),N}n=(function(){var N=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,M=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(C,p,y,_){var A,I=y?p:p.replace(P,"");if($.test(I))C.s=isNaN(I)?null:I<0?-1:1;else{if(!y&&(I=I.replace(N,function(U,B,R){return A=(R=R.toLowerCase())=="x"?16:R=="b"?2:8,!_||_==A?B:U}),_&&(A=_,I=I.replace(v,"$1").replace(M,"0.$1")),p!=I))return new x(I,A);if(x.DEBUG)throw Error(gs+"Not a"+(_?" base "+_:"")+" number: "+p);C.s=null}C.c=C.e=null}})();function k(N,v,M,$){var P,C,p,y,_,A,I,U=N.c,B=WA;if(U){e:{for(P=1,y=U[0];y>=10;y/=10,P++);if(C=v-P,C<0)C+=it,p=v,_=U[A=0],I=yo(_/B[P-p-1]%10);else if(A=jA((C+1)/it),A>=U.length)if($){for(;U.length<=A;U.push(0));_=I=0,P=1,C%=it,p=C-it+1}else break e;else{for(_=y=U[A],P=1;y>=10;y/=10,P++);C%=it,p=C-it+P,I=p<0?0:yo(_/B[P-p-1]%10)}if($=$||v<0||U[A+1]!=null||(p<0?_:_%B[P-p-1]),$=M<4?(I||$)&&(M==0||M==(N.s<0?3:2)):I>5||I==5&&(M==4||$||M==6&&(C>0?p>0?_/B[P-p]:0:U[A-1])%10&1||M==(N.s<0?8:7)),v<1||!U[0])return U.length=0,$?(v-=N.e+1,U[0]=B[(it-v%it)%it],N.e=-v||0):U[0]=N.e=0,N;if(C==0?(U.length=A,y=1,A--):(U.length=A+1,y=B[it-C],U[A]=p>0?yo(_/B[P-p]%B[p])*y:0),$)for(;;)if(A==0){for(C=1,p=U[0];p>=10;p/=10,C++);for(p=U[0]+=y,y=1;p>=10;p/=10,y++);C!=y&&(N.e++,U[0]==na&&(U[0]=1));break}else{if(U[A]+=y,U[A]!=na)break;U[A--]=0,y=1}for(C=U.length;U[--C]===0;U.pop());}N.e>f?N.c=N.e=null:N.e<u&&(N.c=[N.e=0])}return N}function F(N){var v,M=N.e;return M===null?N.toString():(v=go(N.c),v=M<=c||M>=l?Ob(v,M):il(v,M,"0"),N.s<0?"-"+v:v)}return i.absoluteValue=i.abs=function(){var N=new x(this);return N.s<0&&(N.s=1),N},i.comparedTo=function(N,v){return jf(this,new x(N,v))},i.decimalPlaces=i.dp=function(N,v){var M,$,P,C=this;if(N!=null)return Hr(N,0,qn),v==null?v=a:Hr(v,0,8),k(new x(C),N+C.e+1,v);if(!(M=C.c))return null;if($=((P=M.length-1)-bo(this.e/it))*it,P=M[P])for(;P%10==0;P/=10,$--);return $<0&&($=0),$},i.dividedBy=i.div=function(N,v){return e(this,new x(N,v),o,a)},i.dividedToIntegerBy=i.idiv=function(N,v){return e(this,new x(N,v),0,1)},i.exponentiatedBy=i.pow=function(N,v){var M,$,P,C,p,y,_,A,I,U=this;if(N=new x(N),N.c&&!N.isInteger())throw Error(gs+"Exponent not an integer: "+F(N));if(v!=null&&(v=new x(v)),y=N.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!N.c||!N.c[0])return I=new x(Math.pow(+F(U),y?N.s*(2-Pb(N)):+F(N))),v?I.mod(v):I;if(_=N.s<0,v){if(v.c?!v.c[0]:!v.s)return new x(NaN);$=!_&&U.isInteger()&&v.isInteger(),$&&(U=U.mod(v))}else{if(N.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||y&&U.c[1]>=24e7:U.c[0]<8e13||y&&U.c[0]<=9999975e7)))return C=U.s<0&&Pb(N)?-0:0,U.e>-1&&(C=1/C),new x(_?1/C:C);m&&(C=jA(m/it+2))}for(y?(M=new x(.5),_&&(N.s=1),A=Pb(N)):(P=Math.abs(+F(N)),A=P%2),I=new x(s);;){if(A){if(I=I.times(U),!I.c)break;C?I.c.length>C&&(I.c.length=C):$&&(I=I.mod(v))}if(P){if(P=yo(P/2),P===0)break;A=P%2}else if(N=N.times(M),k(N,N.e+1,1),N.e>14)A=Pb(N);else{if(P=+F(N),P===0)break;A=P%2}U=U.times(U),C?U.c&&U.c.length>C&&(U.c.length=C):$&&(U=U.mod(v))}return $?I:(_&&(I=s.div(I)),v?I.mod(v):C?k(I,m,a,p):I)},i.integerValue=function(N){var v=new x(this);return N==null?N=a:Hr(N,0,8),k(v,v.e+1,N)},i.isEqualTo=i.eq=function(N,v){return jf(this,new x(N,v))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(N,v){return jf(this,new x(N,v))>0},i.isGreaterThanOrEqualTo=i.gte=function(N,v){return(v=jf(this,new x(N,v)))===1||v===0},i.isInteger=function(){return!!this.c&&bo(this.e/it)>this.c.length-2},i.isLessThan=i.lt=function(N,v){return jf(this,new x(N,v))<0},i.isLessThanOrEqualTo=i.lte=function(N,v){return(v=jf(this,new x(N,v)))===-1||v===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(N,v){var M,$,P,C,p=this,y=p.s;if(N=new x(N,v),v=N.s,!y||!v)return new x(NaN);if(y!=v)return N.s=-v,p.plus(N);var _=p.e/it,A=N.e/it,I=p.c,U=N.c;if(!_||!A){if(!I||!U)return I?(N.s=-v,N):new x(U?p:NaN);if(!I[0]||!U[0])return U[0]?(N.s=-v,N):new x(I[0]?p:a==3?-0:0)}if(_=bo(_),A=bo(A),I=I.slice(),y=_-A){for((C=y<0)?(y=-y,P=I):(A=_,P=U),P.reverse(),v=y;v--;P.push(0));P.reverse()}else for($=(C=(y=I.length)<(v=U.length))?y:v,y=v=0;v<$;v++)if(I[v]!=U[v]){C=I[v]<U[v];break}if(C&&(P=I,I=U,U=P,N.s=-N.s),v=($=U.length)-(M=I.length),v>0)for(;v--;I[M++]=0);for(v=na-1;$>y;){if(I[--$]<U[$]){for(M=$;M&&!I[--M];I[M]=v);--I[M],I[$]+=na}I[$]-=U[$]}for(;I[0]==0;I.splice(0,1),--A);return I[0]?O(N,I,A):(N.s=a==3?-1:1,N.c=[N.e=0],N)},i.modulo=i.mod=function(N,v){var M,$,P=this;return N=new x(N,v),!P.c||!N.s||N.c&&!N.c[0]?new x(NaN):!N.c||P.c&&!P.c[0]?new x(P):(h==9?($=N.s,N.s=1,M=e(P,N,0,3),N.s=$,M.s*=$):M=e(P,N,0,h),N=P.minus(M.times(N)),!N.c[0]&&h==1&&(N.s=P.s),N)},i.multipliedBy=i.times=function(N,v){var M,$,P,C,p,y,_,A,I,U,B,R,E,L,G,T=this,V=T.c,K=(N=new x(N,v)).c;if(!V||!K||!V[0]||!K[0])return!T.s||!N.s||V&&!V[0]&&!K||K&&!K[0]&&!V?N.c=N.e=N.s=null:(N.s*=T.s,!V||!K?N.c=N.e=null:(N.c=[0],N.e=0)),N;for($=bo(T.e/it)+bo(N.e/it),N.s*=T.s,_=V.length,U=K.length,_<U&&(E=V,V=K,K=E,P=_,_=U,U=P),P=_+U,E=[];P--;E.push(0));for(L=na,G=gu,P=U;--P>=0;){for(M=0,B=K[P]%G,R=K[P]/G|0,p=_,C=P+p;C>P;)A=V[--p]%G,I=V[p]/G|0,y=R*A+I*B,A=B*A+y%G*G+E[C]+M,M=(A/L|0)+(y/G|0)+R*I,E[C--]=A%L;E[C]=M}return M?++$:E.splice(0,1),O(N,E,$)},i.negated=function(){var N=new x(this);return N.s=-N.s||null,N},i.plus=function(N,v){var M,$=this,P=$.s;if(N=new x(N,v),v=N.s,!P||!v)return new x(NaN);if(P!=v)return N.s=-v,$.minus(N);var C=$.e/it,p=N.e/it,y=$.c,_=N.c;if(!C||!p){if(!y||!_)return new x(P/0);if(!y[0]||!_[0])return _[0]?N:new x(y[0]?$:P*0)}if(C=bo(C),p=bo(p),y=y.slice(),P=C-p){for(P>0?(p=C,M=_):(P=-P,M=y),M.reverse();P--;M.push(0));M.reverse()}for(P=y.length,v=_.length,P-v<0&&(M=_,_=y,y=M,v=P),P=0;v;)P=(y[--v]=y[v]+_[v]+P)/na|0,y[v]=na===y[v]?0:y[v]%na;return P&&(y=[P].concat(y),++p),O(N,y,p)},i.precision=i.sd=function(N,v){var M,$,P,C=this;if(N!=null&&N!==!!N)return Hr(N,1,qn),v==null?v=a:Hr(v,0,8),k(new x(C),N,v);if(!(M=C.c))return null;if(P=M.length-1,$=P*it+1,P=M[P]){for(;P%10==0;P/=10,$--);for(P=M[0];P>=10;P/=10,$++);}return N&&C.e+1>$&&($=C.e+1),$},i.shiftedBy=function(N){return Hr(N,-HA,HA),this.times("1e"+N)},i.squareRoot=i.sqrt=function(){var N,v,M,$,P,C=this,p=C.c,y=C.s,_=C.e,A=o+4,I=new x("0.5");if(y!==1||!p||!p[0])return new x(!y||y<0&&(!p||p[0])?NaN:p?C:1/0);if(y=Math.sqrt(+F(C)),y==0||y==1/0?(v=go(p),(v.length+_)%2==0&&(v+="0"),y=Math.sqrt(+v),_=bo((_+1)/2)-(_<0||_%2),y==1/0?v="5e"+_:(v=y.toExponential(),v=v.slice(0,v.indexOf("e")+1)+_),M=new x(v)):M=new x(y+""),M.c[0]){for(_=M.e,y=_+A,y<3&&(y=0);;)if(P=M,M=I.times(P.plus(e(C,P,A,1))),go(P.c).slice(0,y)===(v=go(M.c)).slice(0,y))if(M.e<_&&--y,v=v.slice(y-3,y+1),v=="9999"||!$&&v=="4999"){if(!$&&(k(P,P.e+o+2,0),P.times(P).eq(C))){M=P;break}A+=4,y+=4,$=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(k(M,M.e+o+2,1),N=!M.times(M).eq(C));break}}return k(M,M.e+o+1,a,N)},i.toExponential=function(N,v){return N!=null&&(Hr(N,0,qn),N++),S(this,N,v,1)},i.toFixed=function(N,v){return N!=null&&(Hr(N,0,qn),N=N+this.e+1),S(this,N,v)},i.toFormat=function(N,v,M){var $,P=this;if(M==null)N!=null&&v&&typeof v=="object"?(M=v,v=null):N&&typeof N=="object"?(M=N,N=v=null):M=g;else if(typeof M!="object")throw Error(gs+"Argument not an object: "+M);if($=P.toFixed(N,v),P.c){var C,p=$.split("."),y=+M.groupSize,_=+M.secondaryGroupSize,A=M.groupSeparator||"",I=p[0],U=p[1],B=P.s<0,R=B?I.slice(1):I,E=R.length;if(_&&(C=y,y=_,_=C,E-=C),y>0&&E>0){for(C=E%y||y,I=R.substr(0,C);C<E;C+=y)I+=A+R.substr(C,y);_>0&&(I+=A+R.slice(C)),B&&(I="-"+I)}$=U?I+(M.decimalSeparator||"")+((_=+M.fractionGroupSize)?U.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):U):I}return(M.prefix||"")+$+(M.suffix||"")},i.toFraction=function(N){var v,M,$,P,C,p,y,_,A,I,U,B,R=this,E=R.c;if(N!=null&&(y=new x(N),!y.isInteger()&&(y.c||y.s!==1)||y.lt(s)))throw Error(gs+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+F(y));if(!E)return new x(R);for(v=new x(s),A=M=new x(s),$=_=new x(s),B=go(E),C=v.e=B.length-R.e-1,v.c[0]=WA[(p=C%it)<0?it+p:p],N=!N||y.comparedTo(v)>0?C>0?v:A:y,p=f,f=1/0,y=new x(B),_.c[0]=0;I=e(y,v,0,1),P=M.plus(I.times($)),P.comparedTo(N)!=1;)M=$,$=P,A=_.plus(I.times(P=A)),_=P,v=y.minus(I.times(P=v)),y=P;return P=e(N.minus(M),$,0,1),_=_.plus(P.times(A)),M=M.plus(P.times($)),_.s=A.s=R.s,C=C*2,U=e(A,$,C,a).minus(R).abs().comparedTo(e(_,M,C,a).minus(R).abs())<1?[A,$]:[_,M],f=p,U},i.toNumber=function(){return+F(this)},i.toPrecision=function(N,v){return N!=null&&Hr(N,1,qn),S(this,N,v,2)},i.toString=function(N){var v,M=this,$=M.s,P=M.e;return P===null?$?(v="Infinity",$<0&&(v="-"+v)):v="NaN":(N==null?v=P<=c||P>=l?Ob(go(M.c),P):il(go(M.c),P,"0"):N===10&&w?(M=k(new x(M),o+P+1,a),v=il(go(M.c),M.e,"0")):(Hr(N,2,b.length,"Base"),v=r(il(go(M.c),P,"0"),10,N,$,!0)),$<0&&M.c[0]&&(v="-"+v)),v},i.valueOf=i.toJSON=function(){return F(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&x.set(t),x}function bo(t){var e=t|0;return t>0||t===e?e:e-1}function go(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=it-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function jf(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,l=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function Hr(t,e,r,n){if(t<e||t>r||t!==yo(t))throw Error(gs+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Pb(t){var e=t.c.length-1;return bo(t.e/it)==e&&t.c[e]%2!=0}function Ob(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function il(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var KD=ej();const Db="0x4067843205D293B1825e35Ebe44a246afbc7D5Da",zDe="0xe5F47B5C5e9D2b8dD1B52d5e41C8B2CA37E71490",VD="http://bebewallet.com:8545",GDe="https://bscscan.com/tx/",qA=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"recordId","type":"uint256"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"}],"name":"NeedCheckLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"WithdrawLog","type":"event"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"addToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"checkWithdrawRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"deleteRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"denominator","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNeedCheckRecords","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"internalType":"struct SwapOut.Record[]","name":"checkRecords","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenTypes","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct SwapOut.TokenType[]","name":"tokens","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isAddCheck","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"needCheckAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"recordId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"records","outputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiveAddress","type":"address"}],"name":"setReceiveAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenInfo","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"string[]","name":"keys","type":"string[]"}],"name":"withdrawBatch","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),JD=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],KDe={class:"node-page"},VDe={class:"usdt-balance"},JDe={class:"row"},YDe={class:"value"},XDe={class:"record-box"},QDe={class:"row"},ZDe=["onClick"],eke={class:"row"},tke={class:"value"},rke={class:"row"},nke={class:"value"},ike={class:"row"},ske={class:"value"},oke={class:"actions"},ake=Li({__name:"index",setup(t){const{t:e}=Uy(),r=z7({namespace:"eip155"}),n=At(!1),i=At("0.0000"),s=At([]),o=h=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(h).then(()=>{hu(e("_Copy_successful"))}).catch(()=>{hu(e("_Copy_failed"))});else{const m=document.createElement("textarea");m.value=h,m.style.position="absolute",m.style.left="-999999px",document.body.appendChild(m),m.select();try{document.execCommand("copy"),hu(e("_Copy_successful"))}catch{hu(e("_Copy_failed"))}document.body.removeChild(m)}},a=h=>{window.open(`${GDe}${h}`,"_blank")},c=async()=>{const h=new Ww(VD),m=new Lh(zDe,JD,h),g=await m.decimals(),b=await m.balanceOf(Db);i.value=new KD(b.toString()).dividedBy(10**g).toFixed(4),console.log(i.value,"swapUsdtBalance.value---")},l=async()=>{const h=new Ww(VD),g=await new Lh(Db,qA,h).getNeedCheckRecords();console.log(g,"records---");const b=[];for(let w=0;w<g.length;w++){const x=g[w],S=new Lh(x.token,JD,h),D=await S.decimals(),O=await S.name(),k=new KD(x.amount.toString()).dividedBy(10**D);b.push({...x,amount:k.toString(),name:O})}s.value=b,console.log(b,"arr---")},u=async h=>{try{n.value=!0;const{walletProvider:m}=C6("eip155"),g=new Eg(m),b=await g.getGasPrice(),w=await g.getSigner();await(await new Lh(Db,qA,w).checkWithdrawRecord(h,{gasPrice:b.toString()})).wait(),n.value=!1,hu(e("_Success")),d()}catch(m){hu(e("_Fail")),n.value=!1,console.log(m)}},f=async h=>{try{n.value=!0;const{walletProvider:m}=C6("eip155"),g=new Eg(m),b=await g.getGasPrice(),w=await g.getSigner();await(await new Lh(Db,qA,w).deleteRecord(h,{gasPrice:b.toString()})).wait(),n.value=!1,hu(e("_Success")),d()}catch(m){hu(e("_Fail")),n.value=!1,console.log(m)}},d=()=>{c(),l()};return r.value.address&&console.log(r.value,"account.value"),Bn(()=>r.value.address,(h,m)=>{console.log(h,"newVal")},{deep:!0}),d(),(h,m)=>{const g=My,b=dB;return fd(),ev("div",KDe,[je(WDe,{isShowBack:!1,title:h.$t("_Home")},null,8,["title"]),Zr("div",VDe,[Zr("div",JDe,[m[0]||(m[0]=Zr("span",{class:"label"},"USDT:",-1)),Zr("span",YDe,Iu(i.value),1)])]),Zr("div",XDe,[(fd(!0),ev(vs,null,aH(s.value,(w,x)=>(fd(),ev("div",{key:x,class:"record-item"},[Zr("div",QDe,[m[1]||(m[1]=Zr("span",{class:"label"},"BSC HASH:",-1)),Zr("span",{class:"value",style:{color:"#00aaff"},onClick:S=>a(w.key)},Iu(w.key),9,ZDe)]),Zr("div",eke,[m[2]||(m[2]=Zr("span",{class:"label"},":",-1)),Zr("span",tke,Iu(w.amount),1)]),Zr("div",rke,[m[3]||(m[3]=Zr("span",{class:"label"},":",-1)),Zr("span",nke,[r0(Iu(w.to)+" ",1),je(g,{name:"copy-o",onClick:S=>o(w.to),style:{"margin-left":"5px",cursor:"pointer"}},null,8,["onClick"])])]),Zr("div",ike,[m[4]||(m[4]=Zr("span",{class:"label"},":",-1)),Zr("span",ske,Iu(w.name),1)]),Zr("div",oke,[je(b,{type:"primary",onClick:S=>u(w.id)},{default:td(()=>[...m[5]||(m[5]=[r0("",-1)])]),_:1},8,["onClick"]),je(b,{type:"danger",onClick:S=>f(w.id)},{default:td(()=>[...m[6]||(m[6]=[r0("",-1)])]),_:1},8,["onClick"])])]))),128))])])}}}),cke=ZB(ake,[["__scopeId","data-v-ea114441"]]),lke=[{path:"/",name:"Index",component:cke}],gN=Sve({history:rve(),routes:lke});function uke(t){return typeof t=="object"&&t!==null}function YD(t,e){return t=uke(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function fke(t,e){return e.reduce((r,n)=>r?.[n],t)}function dke(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function hke(t,e){return e.reduce((r,n)=>{const i=n.split(".");return dke(r,i,fke(t,i))},{})}function pke(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:l=null,debug:u=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof c=="string"?c:c(e.$id)),paths:l,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function XD(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e?.getItem(n);s&&t.$patch(r?.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function QD(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?hke(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function gke(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>YD(a,t)):[YD(n,t)]).map(pke(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{QD(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&l?.(e),XD(i,c),a&&u?.(e)})},o.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c?.(e),XD(i,a),l?.(e),i.$subscribe((u,f)=>{QD(f,a)},{detached:!0})})}}var mke=gke();const tj=uCe();tj.use(mke);var yke=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,bke=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,_ke=/[^-+\dA-Z]/g;function wke(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(ZD[e]||e||ZD.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},l=function(){return t[s()+"FullYear"]()},u=function(){return t[s()+"Hours"]()},f=function(){return t[s()+"Minutes"]()},d=function(){return t[s()+"Seconds"]()},h=function(){return t[s()+"Milliseconds"]()},m=function(){return r?0:t.getTimezoneOffset()},g=function(){return Eke(t)},b=function(){return vke(t)},w={d:function(){return o()},dd:function(){return ks(o())},ddd:function(){return hs.dayNames[a()]},DDD:function(){return ek({y:l(),m:c(),d:o(),_:s(),dayName:hs.dayNames[a()],short:!0})},dddd:function(){return hs.dayNames[a()+7]},DDDD:function(){return ek({y:l(),m:c(),d:o(),_:s(),dayName:hs.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return ks(c()+1)},mmm:function(){return hs.monthNames[c()]},mmmm:function(){return hs.monthNames[c()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return ks(l(),4)},h:function(){return u()%12||12},hh:function(){return ks(u()%12||12)},H:function(){return u()},HH:function(){return ks(u())},M:function(){return f()},MM:function(){return ks(f())},s:function(){return d()},ss:function(){return ks(d())},l:function(){return ks(h(),3)},L:function(){return ks(Math.floor(h()/10))},t:function(){return u()<12?hs.timeNames[0]:hs.timeNames[1]},tt:function(){return u()<12?hs.timeNames[2]:hs.timeNames[3]},T:function(){return u()<12?hs.timeNames[4]:hs.timeNames[5]},TT:function(){return u()<12?hs.timeNames[6]:hs.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":xke(t)},o:function(){return(m()>0?"-":"+")+ks(Math.floor(Math.abs(m())/60)*100+Math.abs(m())%60,4)},p:function(){return(m()>0?"-":"+")+ks(Math.floor(Math.abs(m())/60),2)+":"+ks(Math.floor(Math.abs(m())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return g()},WW:function(){return ks(g())},N:function(){return b()}};return e.replace(yke,function(x){return x in w?w[x]():x.slice(1,x.length-1)})}var ZD={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},hs={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},ks=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},ek=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,l=new Date,u=new Date;u.setDate(u[s+"Date"]()-1);var f=new Date;f.setDate(f[s+"Date"]()+1);var d=function(){return l[s+"Date"]()},h=function(){return l[s+"Month"]()},m=function(){return l[s+"FullYear"]()},g=function(){return u[s+"Date"]()},b=function(){return u[s+"Month"]()},w=function(){return u[s+"FullYear"]()},x=function(){return f[s+"Date"]()},S=function(){return f[s+"Month"]()},D=function(){return f[s+"FullYear"]()};return m()===r&&h()===n&&d()===i?c?"Tdy":"Today":w()===r&&b()===n&&g()===i?c?"Ysd":"Yesterday":D()===r&&S()===n&&x()===i?c?"Tmw":"Tomorrow":o},Eke=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},vke=function(e){var r=e.getDay();return r===0&&(r=7),r},xke=function(e){return(String(e).match(bke)||[""]).pop().replace(_ke,"").replace(/GMT\+0000/g,"UTC")};let Ake=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},kb=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if(kb.includes("?")){let t=kb.slice(kb.indexOf("?")+1,kb.length),e=Ake(t);e.intro&&localStorage.setItem("intro",e.intro)}const JI=_M(AEe);JI.config.globalProperties.$goBack=()=>{history.length>0?gN.go(-1):gN.push({name:"Welcome"})};JI.config.globalProperties.$dateformat=wke;JI.use(gN).use(pN).use(tj).mount("#app");export{Tt as $,Me as A,Ke as B,Pe as C,zq as D,Kn as E,UM as F,ez as G,Zq as H,Pke as I,ide as J,NM as K,be as L,xt as M,GW as N,he as O,Ki as P,qs as Q,Ve as R,Cc as S,ys as T,He as U,qe as V,jn as W,Tke as X,nw as Y,kke as Z,Dke as _,Dt as a,nde as a0,Ai as a1,RMe as a2,dt as a3,YW as a4,jg as a5,sg as a6,l2 as a7,Da as a8,St as a9,Vb as aA,rw as aB,Ln as aC,sC as aD,Rh as aE,Pz as aF,Kr as aG,$z as aH,EM as aI,Lp as aJ,Ws as aa,We as ab,OMe as ac,Ts as ad,Fb as ae,$7 as af,oC as ag,Gn as ah,N0 as ai,rc as aj,jT as ak,Tq as al,Uq as am,DM as an,BN as ao,uz as ap,HT as aq,fz as ar,Cke as as,Rq as at,Mq as au,Oq as av,MM as aw,kM as ax,dd as ay,Oke as az,J as b,PMe as c,It as d,kMe as e,fi as f,IM as g,Pu as h,Yb as i,Ne as j,ae as k,Is as l,Cq as m,ai as n,qN as o,gr as p,xe as q,DMe as r,Fi as s,Rke as t,qT as u,kde as v,Xs as w,TMe as x,$M as y,b0 as z};
