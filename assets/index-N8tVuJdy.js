const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-DhZTnHIm.js","./sha2-C665_LNx.js","./embedded-wallet-C1ejn_rF.js","./index-BkfGl_PY.js","./index-BXdd7Z5E.js","./if-defined-Dz_Wlgv2.js","./ref-CtxJBl0m.js","./index-BmKI2A-e.js","./HelpersUtil-BReQju4w.js","./index-D1tU0aIl.js","./index-H0_DGu2-.js","./index-BK6wf3Mw.js","./index-h9XX-V4I.js","./index-juhjYoUE.js","./NavigationUtil-DmfK5sOV.js","./email-lHqP4mN_.js","./index-D520kaLA.js","./index-T-SXcPNb.js","./socials-DkEMWiPE.js","./index-BxoyRNwP.js","./index-EpWO6NcX.js","./index-BOH9-VDO.js","./index-CzgnOuN5.js","./index-ByVhj4nF.js","./swaps-D_XYCzgJ.js","./index-DA-7a8pG.js","./index-D-OfgXfz.js","./SwapController-BT7yB2Pl.js","./index-CASUxqOp.js","./send-CT2n-wV6.js","./ConstantsUtil-Dmg8YACJ.js","./index-b0hzJAWm.js","./index-C16VB9tP.js","./index-DU-lDZ9H.js","./receive-zKShqOJq.js","./onramp-oMFm7jPj.js","./index-DqmzTb9y.js","./index-DtP9TcnM.js","./index-wR8QRRLq.js","./ExchangeController-CgEELN5y.js","./pay-with-exchange-Cf7ZhYA1.js","./transactions-CMELsO6X.js","./index-DUxfbDdV.js","./index-Bz_JQlju.js","./index-BeuIJVIb.js","./data-capture-c6yAqfxO.js","./features-CA0m-WgQ.js","./index-y9X69yEg.js","./index-Rr1sutXK.js","./w3m-modal-DVXEpGZH.js","./SafeProvider-BqNwE7_T.js","./index-H-Ckw-g_.js","./sha3-ChG6mytw.js","./index-DT_XanmZ.js","./index-BK7dboBg.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var l=n.clientWidth/10;n.style.fontSize=l+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(l){l.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _N(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const lr={},t0=[],Pc=()=>{},sk=()=>!1,y_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),EN=t=>t.startsWith("onUpdate:"),Yn=Object.assign,vN=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},aj=Object.prototype.hasOwnProperty,Jt=(t,e)=>aj.call(t,e),Qe=Array.isArray,r0=t=>b_(t)==="[object Map]",ok=t=>b_(t)==="[object Set]",tt=t=>typeof t=="function",Zr=t=>typeof t=="string",ff=t=>typeof t=="symbol",gr=t=>t!==null&&typeof t=="object",ak=t=>(gr(t)||tt(t))&&tt(t.then)&&tt(t.catch),ck=Object.prototype.toString,b_=t=>ck.call(t),cj=t=>b_(t).slice(8,-1),lk=t=>b_(t)==="[object Object]",xN=t=>Zr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Qp=_N(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),w_=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},lj=/-\w/g,Oo=w_(t=>t.replace(lj,e=>e.slice(1).toUpperCase())),uj=/\B([A-Z])/g,jd=w_(t=>t.replace(uj,"-$1").toLowerCase()),__=w_(t=>t.charAt(0).toUpperCase()+t.slice(1)),KE=w_(t=>t?`on${__(t)}`:""),Lu=(t,e)=>!Object.is(t,e),Lb=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},uk=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},VA=t=>{const e=parseFloat(t);return isNaN(e)?t:e},fj=t=>{const e=Zr(t)?Number(t):NaN;return isNaN(e)?t:e};let t3;const E_=()=>t3||(t3=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function AN(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Zr(n)?gj(n):AN(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(Zr(t)||gr(t))return t}const dj=/;(?![^(]*\))/g,hj=/:([^]+)/,pj=/\/\*[^]*?\*\//g;function gj(t){const e={};return t.replace(pj,"").split(dj).forEach(r=>{if(r){const n=r.split(hj);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function CN(t){let e="";if(Zr(t))e=t;else if(Qe(t))for(let r=0;r<t.length;r++){const n=CN(t[r]);n&&(e+=n+" ")}else if(gr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const mj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yj=_N(mj);function fk(t){return!!t||t===""}const dk=t=>!!(t&&t.__v_isRef===!0),_l=t=>Zr(t)?t:t==null?"":Qe(t)||gr(t)&&(t.toString===ck||!tt(t.toString))?dk(t)?_l(t.value):JSON.stringify(t,hk,2):String(t),hk=(t,e)=>dk(e)?hk(t,e.value):r0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[VE(n,s)+" =>"]=i,r),{})}:ok(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>VE(r))}:ff(e)?VE(e):gr(e)&&!Qe(e)&&!lk(e)?String(e):e,VE=(t,e="")=>{var r;return ff(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ci;class pk{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ci,!e&&Ci&&(this.index=(Ci.scopes||(Ci.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ci;try{return Ci=this,e()}finally{Ci=r}}}on(){++this._on===1&&(this.prevScope=Ci,Ci=this)}off(){this._on>0&&--this._on===0&&(Ci=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function NN(t){return new pk(t)}function gk(){return Ci}function bj(t,e=!1){Ci&&Ci.cleanups.push(t)}let hr;const JE=new WeakSet;class mk{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ci&&Ci.active&&Ci.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,JE.has(this)&&(JE.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,r3(this),wk(this);const e=hr,r=Ya;hr=this,Ya=!0;try{return this.fn()}finally{_k(this),hr=e,Ya=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)TN(e);this.deps=this.depsTail=void 0,r3(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?JE.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){JA(this)&&this.run()}get dirty(){return JA(this)}}let yk=0,Zp,eg;function bk(t,e=!1){if(t.flags|=8,e){t.next=eg,eg=t;return}t.next=Zp,Zp=t}function SN(){yk++}function IN(){if(--yk>0)return;if(eg){let e=eg;for(eg=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Zp;){let e=Zp;for(Zp=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function wk(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _k(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),TN(n),wj(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function JA(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ek(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ek(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ug)||(t.globalVersion=Ug,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!JA(t))))return;t.flags|=2;const e=t.dep,r=hr,n=Ya;hr=t,Ya=!0;try{wk(t);const i=t.fn(t._value);(e.version===0||Lu(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{hr=r,Ya=n,_k(t),t.flags&=-3}}function TN(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)TN(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function wj(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ya=!0;const vk=[];function Ml(){vk.push(Ya),Ya=!1}function Ul(){const t=vk.pop();Ya=t===void 0?!0:t}function r3(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=hr;hr=void 0;try{e()}finally{hr=r}}}let Ug=0;class _j{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class RN{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!hr||!Ya||hr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==hr)r=this.activeLink=new _j(hr,this),hr.deps?(r.prevDep=hr.depsTail,hr.depsTail.nextDep=r,hr.depsTail=r):hr.deps=hr.depsTail=r,xk(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=hr.depsTail,r.nextDep=void 0,hr.depsTail.nextDep=r,hr.depsTail=r,hr.deps===r&&(hr.deps=n)}return r}trigger(e){this.version++,Ug++,this.notify(e)}notify(e){SN();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{IN()}}}function xk(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)xk(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Vw=new WeakMap,dd=Symbol(""),YA=Symbol(""),$g=Symbol("");function Ni(t,e,r){if(Ya&&hr){let n=Vw.get(t);n||Vw.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new RN),i.map=n,i.key=r),i.track()}}function El(t,e,r,n,i,s){const o=Vw.get(t);if(!o){Ug++;return}const a=c=>{c&&c.trigger()};if(SN(),e==="clear")o.forEach(a);else{const c=Qe(t),l=c&&xN(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,d)=>{(d==="length"||d===$g||!ff(d)&&d>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get($g)),e){case"add":c?l&&a(o.get("length")):(a(o.get(dd)),r0(t)&&a(o.get(YA)));break;case"delete":c||(a(o.get(dd)),r0(t)&&a(o.get(YA)));break;case"set":r0(t)&&a(o.get(dd));break}}IN()}function Ej(t,e){const r=Vw.get(t);return r&&r.get(e)}function eh(t){const e=Ot(t);return e===t?e:(Ni(e,"iterate",$g),Io(t)?e:e.map(li))}function v_(t){return Ni(t=Ot(t),"iterate",$g),t}const vj={__proto__:null,[Symbol.iterator](){return YE(this,Symbol.iterator,li)},concat(...t){return eh(this).concat(...t.map(e=>Qe(e)?eh(e):e))},entries(){return YE(this,"entries",t=>(t[1]=li(t[1]),t))},every(t,e){return qc(this,"every",t,e,void 0,arguments)},filter(t,e){return qc(this,"filter",t,e,r=>r.map(li),arguments)},find(t,e){return qc(this,"find",t,e,li,arguments)},findIndex(t,e){return qc(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qc(this,"findLast",t,e,li,arguments)},findLastIndex(t,e){return qc(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qc(this,"forEach",t,e,void 0,arguments)},includes(...t){return XE(this,"includes",t)},indexOf(...t){return XE(this,"indexOf",t)},join(t){return eh(this).join(t)},lastIndexOf(...t){return XE(this,"lastIndexOf",t)},map(t,e){return qc(this,"map",t,e,void 0,arguments)},pop(){return sp(this,"pop")},push(...t){return sp(this,"push",t)},reduce(t,...e){return n3(this,"reduce",t,e)},reduceRight(t,...e){return n3(this,"reduceRight",t,e)},shift(){return sp(this,"shift")},some(t,e){return qc(this,"some",t,e,void 0,arguments)},splice(...t){return sp(this,"splice",t)},toReversed(){return eh(this).toReversed()},toSorted(t){return eh(this).toSorted(t)},toSpliced(...t){return eh(this).toSpliced(...t)},unshift(...t){return sp(this,"unshift",t)},values(){return YE(this,"values",li)}};function YE(t,e,r){const n=v_(t),i=n[e]();return n!==t&&!Io(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const xj=Array.prototype;function qc(t,e,r,n,i,s){const o=v_(t),a=o!==t&&!Io(t),c=o[e];if(c!==xj[e]){const f=c.apply(t,s);return a?li(f):f}let l=r;o!==t&&(a?l=function(f,d){return r.call(this,li(f),d,t)}:r.length>2&&(l=function(f,d){return r.call(this,f,d,t)}));const u=c.call(o,l,n);return a&&i?i(u):u}function n3(t,e,r,n){const i=v_(t);let s=r;return i!==t&&(Io(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,li(a),c,t)}),i[e](s,...n)}function XE(t,e,r){const n=Ot(t);Ni(n,"iterate",$g);const i=n[e](...r);return(i===-1||i===!1)&&DN(r[0])?(r[0]=Ot(r[0]),n[e](...r)):i}function sp(t,e,r=[]){Ml(),SN();const n=Ot(t)[e].apply(t,r);return IN(),Ul(),n}const Aj=_N("__proto__,__v_isRef,__isVue"),Ak=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ff));function Cj(t){ff(t)||(t=String(t));const e=Ot(this);return Ni(e,"has",t),e.hasOwnProperty(t)}class Ck{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Mj:Tk:s?Ik:Sk).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Qe(e);if(!i){let c;if(o&&(c=vj[r]))return c;if(r==="hasOwnProperty")return Cj}const a=Reflect.get(e,r,Kr(e)?e:n);if((ff(r)?Ak.has(r):Aj(r))||(i||Ni(e,"get",r),s))return a;if(Kr(a)){const c=o&&xN(r)?a:a.value;return i&&gr(c)?QA(c):c}return gr(a)?i?QA(a):Wl(a):a}}class Nk extends Ck{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=zu(s);if(!Io(n)&&!zu(n)&&(s=Ot(s),n=Ot(n)),!Qe(e)&&Kr(s)&&!Kr(n))return c||(s.value=n),!0}const o=Qe(e)&&xN(r)?Number(r)<e.length:Jt(e,r),a=Reflect.set(e,r,n,Kr(e)?e:i);return e===Ot(i)&&(o?Lu(n,s)&&El(e,"set",r,n):El(e,"add",r,n)),a}deleteProperty(e,r){const n=Jt(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&El(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!ff(r)||!Ak.has(r))&&Ni(e,"has",r),n}ownKeys(e){return Ni(e,"iterate",Qe(e)?"length":dd),Reflect.ownKeys(e)}}class Nj extends Ck{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Sj=new Nk,Ij=new Nj,Tj=new Nk(!0);const XA=t=>t,jy=t=>Reflect.getPrototypeOf(t);function Rj(t,e,r){return function(...n){const i=this.__v_raw,s=Ot(i),o=r0(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?XA:e?Jw:li;return!e&&Ni(s,"iterate",c?YA:dd),{next(){const{value:f,done:d}=l.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Hy(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Pj(t,e){const r={get(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);t||(Lu(i,a)&&Ni(o,"get",i),Ni(o,"get",a));const{has:c}=jy(o),l=e?XA:t?Jw:li;if(c.call(o,i))return l(s.get(i));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Ni(Ot(i),"iterate",dd),i.size},has(i){const s=this.__v_raw,o=Ot(s),a=Ot(i);return t||(Lu(i,a)&&Ni(o,"has",i),Ni(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=Ot(a),l=e?XA:t?Jw:li;return!t&&Ni(c,"iterate",dd),a.forEach((u,f)=>i.call(s,l(u),l(f),o))}};return Yn(r,t?{add:Hy("add"),set:Hy("set"),delete:Hy("delete"),clear:Hy("clear")}:{add(i){!e&&!Io(i)&&!zu(i)&&(i=Ot(i));const s=Ot(this);return jy(s).has.call(s,i)||(s.add(i),El(s,"add",i,i)),this},set(i,s){!e&&!Io(s)&&!zu(s)&&(s=Ot(s));const o=Ot(this),{has:a,get:c}=jy(o);let l=a.call(o,i);l||(i=Ot(i),l=a.call(o,i));const u=c.call(o,i);return o.set(i,s),l?Lu(s,u)&&El(o,"set",i,s):El(o,"add",i,s),this},delete(i){const s=Ot(this),{has:o,get:a}=jy(s);let c=o.call(s,i);c||(i=Ot(i),c=o.call(s,i)),a&&a.call(s,i);const l=s.delete(i);return c&&El(s,"delete",i,void 0),l},clear(){const i=Ot(this),s=i.size!==0,o=i.clear();return s&&El(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Rj(i,t,e)}),r}function PN(t,e){const r=Pj(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Jt(r,i)&&i in n?r:n,i,s)}const Oj={get:PN(!1,!1)},Dj={get:PN(!1,!0)},kj={get:PN(!0,!1)};const Sk=new WeakMap,Ik=new WeakMap,Tk=new WeakMap,Mj=new WeakMap;function Uj(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $j(t){return t.__v_skip||!Object.isExtensible(t)?0:Uj(cj(t))}function Wl(t){return zu(t)?t:ON(t,!1,Sj,Oj,Sk)}function Rk(t){return ON(t,!1,Tj,Dj,Ik)}function QA(t){return ON(t,!0,Ij,kj,Tk)}function ON(t,e,r,n,i){if(!gr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=$j(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function Fu(t){return zu(t)?Fu(t.__v_raw):!!(t&&t.__v_isReactive)}function zu(t){return!!(t&&t.__v_isReadonly)}function Io(t){return!!(t&&t.__v_isShallow)}function DN(t){return t?!!t.__v_raw:!1}function Ot(t){const e=t&&t.__v_raw;return e?Ot(e):t}function kN(t){return!Jt(t,"__v_skip")&&Object.isExtensible(t)&&uk(t,"__v_skip",!0),t}const li=t=>gr(t)?Wl(t):t,Jw=t=>gr(t)?QA(t):t;function Kr(t){return t?t.__v_isRef===!0:!1}function ut(t){return Pk(t,!1)}function MN(t){return Pk(t,!0)}function Pk(t,e){return Kr(t)?t:new Lj(t,e)}class Lj{constructor(e,r){this.dep=new RN,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Ot(e),this._value=r?e:li(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Io(e)||zu(e);e=n?e:Ot(e),Lu(e,r)&&(this._rawValue=e,this._value=n?e:li(e),this.dep.trigger())}}function Gi(t){return Kr(t)?t.value:t}const Fj={get:(t,e,r)=>e==="__v_raw"?t:Gi(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Kr(i)&&!Kr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function Ok(t){return Fu(t)?t:new Proxy(t,Fj)}function Bj(t){const e=Qe(t)?new Array(t.length):{};for(const r in t)e[r]=Hj(t,r);return e}class jj{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Ej(Ot(this._object),this._key)}}function Hj(t,e,r){const n=t[e];return Kr(n)?n:new jj(t,e,r)}class Wj{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new RN(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ug-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&hr!==this)return bk(this,!0),!0}get value(){const e=this.dep.track();return Ek(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function qj(t,e,r=!1){let n,i;return tt(t)?n=t:(n=t.get,i=t.set),new Wj(n,i,r)}const Wy={},Yw=new WeakMap;let Gf;function zj(t,e=!1,r=Gf){if(r){let n=Yw.get(r);n||Yw.set(r,n=[]),n.push(t)}}function Gj(t,e,r=lr){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,l=D=>i?D:Io(D)||i===!1||i===0?vl(D,1):vl(D);let u,f,d,h,m=!1,g=!1;if(Kr(t)?(f=()=>t.value,m=Io(t)):Fu(t)?(f=()=>l(t),m=!0):Qe(t)?(g=!0,m=t.some(D=>Fu(D)||Io(D)),f=()=>t.map(D=>{if(Kr(D))return D.value;if(Fu(D))return l(D);if(tt(D))return c?c(D,2):D()})):tt(t)?e?f=c?()=>c(t,2):t:f=()=>{if(d){Ml();try{d()}finally{Ul()}}const D=Gf;Gf=u;try{return c?c(t,3,[h]):t(h)}finally{Gf=D}}:f=Pc,e&&i){const D=f,O=i===!0?1/0:i;f=()=>vl(D(),O)}const b=gk(),v=()=>{u.stop(),b&&b.active&&vN(b.effects,u)};if(s&&e){const D=e;e=(...O)=>{D(...O),v()}}let C=g?new Array(t.length).fill(Wy):Wy;const S=D=>{if(!(!(u.flags&1)||!u.dirty&&!D))if(e){const O=u.run();if(i||m||(g?O.some((k,F)=>Lu(k,C[F])):Lu(O,C))){d&&d();const k=Gf;Gf=u;try{const F=[O,C===Wy?void 0:g&&C[0]===Wy?[]:C,h];C=O,c?c(e,3,F):e(...F)}finally{Gf=k}}}else u.run()};return a&&a(S),u=new mk(f),u.scheduler=o?()=>o(S,!1):S,h=D=>zj(D,!1,u),d=u.onStop=()=>{const D=Yw.get(u);if(D){if(c)c(D,4);else for(const O of D)O();Yw.delete(u)}},e?n?S(!0):C=u.run():o?o(S.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function vl(t,e=1/0,r){if(e<=0||!gr(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Kr(t))vl(t.value,e,r);else if(Qe(t))for(let n=0;n<t.length;n++)vl(t[n],e,r);else if(ok(t)||r0(t))t.forEach(n=>{vl(n,e,r)});else if(lk(t)){for(const n in t)vl(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&vl(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ay(t,e,r,n){try{return n?t(...n):t()}catch(i){x_(i,e,r)}}function ec(t,e,r,n){if(tt(t)){const i=ay(t,e,r,n);return i&&ak(i)&&i.catch(s=>{x_(s,e,r)}),i}if(Qe(t)){const i=[];for(let s=0;s<t.length;s++)i.push(ec(t[s],e,r,n));return i}}function x_(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||lr;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(s){Ml(),ay(s,null,10,[t,c,l]),Ul();return}}Kj(t,r,i,n,o)}function Kj(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const Ki=[];let gc=-1;const n0=[];let vu=null,Rh=0;const Dk=Promise.resolve();let Xw=null;function xd(t){const e=Xw||Dk;return t?e.then(this?t.bind(this):t):e}function Vj(t){let e=gc+1,r=Ki.length;for(;e<r;){const n=e+r>>>1,i=Ki[n],s=Lg(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function UN(t){if(!(t.flags&1)){const e=Lg(t),r=Ki[Ki.length-1];!r||!(t.flags&2)&&e>=Lg(r)?Ki.push(t):Ki.splice(Vj(e),0,t),t.flags|=1,kk()}}function kk(){Xw||(Xw=Dk.then(Uk))}function Jj(t){Qe(t)?n0.push(...t):vu&&t.id===-1?vu.splice(Rh+1,0,t):t.flags&1||(n0.push(t),t.flags|=1),kk()}function i3(t,e,r=gc+1){for(;r<Ki.length;r++){const n=Ki[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Ki.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Mk(t){if(n0.length){const e=[...new Set(n0)].sort((r,n)=>Lg(r)-Lg(n));if(n0.length=0,vu){vu.push(...e);return}for(vu=e,Rh=0;Rh<vu.length;Rh++){const r=vu[Rh];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}vu=null,Rh=0}}const Lg=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Uk(t){try{for(gc=0;gc<Ki.length;gc++){const e=Ki[gc];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ay(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;gc<Ki.length;gc++){const e=Ki[gc];e&&(e.flags&=-2)}gc=-1,Ki.length=0,Mk(),Xw=null,(Ki.length||n0.length)&&Uk()}}let Gs=null,$k=null;function Qw(t){const e=Gs;return Gs=t,$k=t&&t.type.__scopeId||null,e}function xl(t,e=Gs,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&t1(-1);const s=Qw(e);let o;try{o=t(...i)}finally{Qw(s),n._d&&t1(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function $N(t,e){if(Gs===null)return t;const r=I_(Gs),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=lr]=e[i];s&&(tt(s)&&(s={mounted:s,updated:s}),s.deep&&vl(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Of(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(Ml(),ec(c,r,8,[t.el,a,t,e]),Ul())}}const Lk=Symbol("_vte"),Fk=t=>t.__isTeleport,tg=t=>t&&(t.disabled||t.disabled===""),s3=t=>t&&(t.defer||t.defer===""),o3=t=>typeof SVGElement<"u"&&t instanceof SVGElement,a3=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ZA=(t,e)=>{const r=t&&t.to;return Zr(r)?e?e(r):null:r},Bk={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,l){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:g,createComment:b}}=l,v=tg(e.props);let{shapeFlag:C,children:S,dynamicChildren:D}=e;if(t==null){const O=e.el=g(""),k=e.anchor=g("");h(O,r,n),h(k,r,n);const F=(_,M)=>{C&16&&u(S,_,M,i,s,o,a,c)},A=()=>{const _=e.target=ZA(e.props,m),M=Hk(_,e,g,h);_&&(o!=="svg"&&o3(_)?o="svg":o!=="mathml"&&a3(_)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(_),v||(F(_,M),Fb(e,!1)))};v&&(F(r,k),Fb(e,!0)),s3(e.props)?(e.el.__isMounted=!1,Wi(()=>{A(),delete e.el.__isMounted},s)):A()}else{if(s3(e.props)&&t.el.__isMounted===!1){Wi(()=>{Bk.process(t,e,r,n,i,s,o,a,c,l)},s);return}e.el=t.el,e.targetStart=t.targetStart;const O=e.anchor=t.anchor,k=e.target=t.target,F=e.targetAnchor=t.targetAnchor,A=tg(t.props),_=A?r:k,M=A?O:F;if(o==="svg"||o3(k)?o="svg":(o==="mathml"||a3(k))&&(o="mathml"),D?(d(t.dynamicChildren,D,_,i,s,o,a),HN(t,e,!0)):c||f(t,e,_,M,i,s,o,a,!1),v)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):qy(e,r,O,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=ZA(e.props,m);$&&qy(e,$,null,l,0)}else A&&qy(e,k,F,l,1);Fb(e,v)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:d}=t;if(f&&(i(l),i(u)),s&&i(c),o&16){const h=s||!tg(d);for(let m=0;m<a.length;m++){const g=a[m];n(g,e,r,h,!!g.dynamicChildren)}}},move:qy,hydrate:Yj};function qy(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=s===2;if(f&&n(o,e,r),(!f||tg(u))&&c&16)for(let d=0;d<l.length;d++)i(l[d],e,r,2);f&&n(a,e,r)}function Yj(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){function d(g,b,v,C){b.anchor=f(o(g),b,a(g),r,n,i,s),b.targetStart=v,b.targetAnchor=C}const h=e.target=ZA(e.props,c),m=tg(e.props);if(h){const g=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)d(t,e,g,g&&o(g));else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||Hk(h,e,u,l),f(g&&o(g),e,h,r,n,i,s)}Fb(e,m)}else m&&e.shapeFlag&16&&d(t,e,t,o(t));return e.anchor&&o(e.anchor)}const jk=Bk;function Fb(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function Hk(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[Lk]=s,t&&(n(i,t),n(s,t)),s}const bl=Symbol("_leaveCb"),zy=Symbol("_enterCb");function Xj(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return df(()=>{t.isMounted=!0}),FN(()=>{t.isUnmounting=!0}),t}const io=[Function,Array],Wk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:io,onEnter:io,onAfterEnter:io,onEnterCancelled:io,onBeforeLeave:io,onLeave:io,onAfterLeave:io,onLeaveCancelled:io,onBeforeAppear:io,onAppear:io,onAfterAppear:io,onAppearCancelled:io},qk=t=>{const e=t.subTree;return e.component?qk(e.component):e},Qj={name:"BaseTransition",props:Wk,setup(t,{slots:e}){const r=Do(),n=Xj();return()=>{const i=e.default&&Kk(e.default(),!0);if(!i||!i.length)return;const s=zk(i),o=Ot(t),{mode:a}=o;if(n.isLeaving)return QE(s);const c=c3(s);if(!c)return QE(s);let l=e2(c,o,n,r,f=>l=f);c.type!==zs&&Fg(c,l);let u=r.subTree&&c3(r.subTree);if(u&&u.type!==zs&&!Yf(u,c)&&qk(r).type!==zs){let f=e2(u,o,n,r);if(Fg(u,f),a==="out-in"&&c.type!==zs)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},QE(s);a==="in-out"&&c.type!==zs?f.delayLeave=(d,h,m)=>{const g=Gk(n,u);g[String(u.key)]=u,d[bl]=()=>{h(),d[bl]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{m(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function zk(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==zs){e=r;break}}return e}const Zj=Qj;function Gk(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function e2(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:b,onAppear:v,onAfterAppear:C,onAppearCancelled:S}=e,D=String(t.key),O=Gk(r,t),k=(_,M)=>{_&&ec(_,n,9,M)},F=(_,M)=>{const $=M[1];k(_,M),Qe(_)?_.every(I=>I.length<=1)&&$():_.length<=1&&$()},A={mode:o,persisted:a,beforeEnter(_){let M=c;if(!r.isMounted)if(s)M=b||c;else return;_[bl]&&_[bl](!0);const $=O[D];$&&Yf(t,$)&&$.el[bl]&&$.el[bl](),k(M,[_])},enter(_){let M=l,$=u,I=f;if(!r.isMounted)if(s)M=v||l,$=C||u,I=S||f;else return;let N=!1;const p=_[zy]=y=>{N||(N=!0,y?k(I,[_]):k($,[_]),A.delayedLeave&&A.delayedLeave(),_[zy]=void 0)};M?F(M,[_,p]):p()},leave(_,M){const $=String(t.key);if(_[zy]&&_[zy](!0),r.isUnmounting)return M();k(d,[_]);let I=!1;const N=_[bl]=p=>{I||(I=!0,M(),p?k(g,[_]):k(m,[_]),_[bl]=void 0,O[$]===t&&delete O[$])};O[$]=t,h?F(h,[_,N]):N()},clone(_){const M=e2(_,e,r,n,i);return i&&i(M),M}};return A}function QE(t){if(A_(t))return t=Gu(t),t.children=null,t}function c3(t){if(!A_(t))return Fk(t.type)&&t.children?zk(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&tt(r.default))return r.default()}}function Fg(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Fg(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Kk(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===xs?(o.patchFlag&128&&i++,n=n.concat(Kk(o.children,e,a))):(e||o.type!==zs)&&n.push(a!=null?Gu(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Li(t,e){return tt(t)?Yn({name:t.name},e,{setup:t}):t}function Vk(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Zw=new WeakMap;function rg(t,e,r,n,i=!1){if(Qe(t)){t.forEach((m,g)=>rg(m,e&&(Qe(e)?e[g]:e),r,n,i));return}if(ng(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&rg(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?I_(n.component):n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===lr?a.refs={}:a.refs,f=a.setupState,d=Ot(f),h=f===lr?sk:m=>Jt(d,m);if(l!=null&&l!==c){if(l3(e),Zr(l))u[l]=null,h(l)&&(f[l]=null);else if(Kr(l)){l.value=null;const m=e;m.k&&(u[m.k]=null)}}if(tt(c))ay(c,a,12,[o,u]);else{const m=Zr(c),g=Kr(c);if(m||g){const b=()=>{if(t.f){const v=m?h(c)?f[c]:u[c]:c.value;if(i)Qe(v)&&vN(v,s);else if(Qe(v))v.includes(s)||v.push(s);else if(m)u[c]=[s],h(c)&&(f[c]=u[c]);else{const C=[s];c.value=C,t.k&&(u[t.k]=C)}}else m?(u[c]=o,h(c)&&(f[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const v=()=>{b(),Zw.delete(t)};v.id=-1,Zw.set(t,v),Wi(v,r)}else l3(t),b()}}}function l3(t){const e=Zw.get(t);e&&(e.flags|=8,Zw.delete(t))}E_().requestIdleCallback;E_().cancelIdleCallback;const ng=t=>!!t.type.__asyncLoader,A_=t=>t.type.__isKeepAlive;function LN(t,e){Jk(t,"a",e)}function C_(t,e){Jk(t,"da",e)}function Jk(t,e,r=Ti){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(N_(e,n,r),r){let i=r.parent;for(;i&&i.parent;)A_(i.parent.vnode)&&eH(n,e,r,i),i=i.parent}}function eH(t,e,r,n){const i=N_(e,t,n,!0);hf(()=>{vN(n[e],i)},r)}function N_(t,e,r=Ti,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Ml();const a=ly(r),c=ec(e,r,t,o);return a(),Ul(),c});return n?i.unshift(s):i.push(s),s}}const ql=t=>(e,r=Ti)=>{(!jg||t==="sp")&&N_(t,(...n)=>e(...n),r)},Yk=ql("bm"),df=ql("m"),tH=ql("bu"),rH=ql("u"),FN=ql("bum"),hf=ql("um"),nH=ql("sp"),iH=ql("rtg"),sH=ql("rtc");function oH(t,e=Ti){N_("ec",t,e)}const aH="components";function cH(t,e){return uH(aH,t,!0,e)||t}const lH=Symbol.for("v-ndc");function uH(t,e,r=!0,n=!1){const i=Gs||Ti;if(i){const s=i.type;{const a=QH(s,!1);if(a&&(a===e||a===Oo(e)||a===__(Oo(e))))return s}const o=u3(i[t]||s[t],e)||u3(i.appContext[t],e);return!o&&n?s:o}}function u3(t,e){return t&&(t[e]||t[Oo(e)]||t[__(Oo(e))])}function fH(t,e,r,n){let i;const s=r,o=Qe(t);if(o||Zr(t)){const a=o&&Fu(t);let c=!1,l=!1;a&&(c=!Io(t),l=zu(t),t=v_(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(c?l?Jw(li(t[u])):li(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(gr(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[c]=e(t[u],u,c,s)}}else i=[];return i}const t2=t=>t?gM(t)?I_(t):t2(t.parent):null,ig=Yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>t2(t.parent),$root:t=>t2(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Qk(t),$forceUpdate:t=>t.f||(t.f=()=>{UN(t.update)}),$nextTick:t=>t.n||(t.n=xd.bind(t.proxy)),$watch:t=>DH.bind(t)}),ZE=(t,e)=>t!==lr&&!t.__isScriptSetup&&Jt(t,e),dH={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(ZE(n,e))return o[e]=1,n[e];if(i!==lr&&Jt(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&Jt(l,e))return o[e]=3,s[e];if(r!==lr&&Jt(r,e))return o[e]=4,r[e];r2&&(o[e]=0)}}const u=ig[e];let f,d;if(u)return e==="$attrs"&&Ni(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==lr&&Jt(r,e))return o[e]=4,r[e];if(d=c.config.globalProperties,Jt(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return ZE(i,e)?(i[e]=r,!0):n!==lr&&Jt(n,e)?(n[e]=r,!0):Jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:o}},a){let c,l;return!!(r[a]||t!==lr&&a[0]!=="$"&&Jt(t,a)||ZE(e,a)||(c=s[0])&&Jt(c,a)||Jt(n,a)||Jt(ig,a)||Jt(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Jt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function f3(t){return Qe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let r2=!0;function hH(t){const e=Qk(t),r=t.proxy,n=t.ctx;r2=!1,e.beforeCreate&&d3(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:g,deactivated:b,beforeDestroy:v,beforeUnmount:C,destroyed:S,unmounted:D,render:O,renderTracked:k,renderTriggered:F,errorCaptured:A,serverPrefetch:_,expose:M,inheritAttrs:$,components:I,directives:N,filters:p}=e;if(l&&pH(l,n,null),o)for(const x in o){const T=o[x];tt(T)&&(n[x]=T.bind(r))}if(i){const x=i.call(r,r);gr(x)&&(t.data=Wl(x))}if(r2=!0,s)for(const x in s){const T=s[x],U=tt(T)?T.bind(r,r):tt(T.get)?T.get.bind(r,r):Pc,B=!tt(T)&&tt(T.set)?T.set.bind(r):Pc,P=qt({get:U,set:B});Object.defineProperty(n,x,{enumerable:!0,configurable:!0,get:()=>P.value,set:E=>P.value=E})}if(a)for(const x in a)Xk(a[x],n,r,x);if(c){const x=tt(c)?c.call(r):c;Reflect.ownKeys(x).forEach(T=>{sg(T,x[T])})}u&&d3(u,t,"c");function w(x,T){Qe(T)?T.forEach(U=>x(U.bind(r))):T&&x(T.bind(r))}if(w(Yk,f),w(df,d),w(tH,h),w(rH,m),w(LN,g),w(C_,b),w(oH,A),w(sH,k),w(iH,F),w(FN,C),w(hf,D),w(nH,_),Qe(M))if(M.length){const x=t.exposed||(t.exposed={});M.forEach(T=>{Object.defineProperty(x,T,{get:()=>r[T],set:U=>r[T]=U,enumerable:!0})})}else t.exposed||(t.exposed={});O&&t.render===Pc&&(t.render=O),$!=null&&(t.inheritAttrs=$),I&&(t.components=I),N&&(t.directives=N),_&&Vk(t)}function pH(t,e,r=Pc){Qe(t)&&(t=n2(t));for(const n in t){const i=t[n];let s;gr(i)?"default"in i?s=Js(i.from||n,i.default,!0):s=Js(i.from||n):s=Js(i),Kr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function d3(t,e,r){ec(Qe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Xk(t,e,r,n){let i=n.includes(".")?uM(r,n):()=>r[n];if(Zr(t)){const s=e[t];tt(s)&&un(i,s)}else if(tt(t))un(i,t.bind(r));else if(gr(t))if(Qe(t))t.forEach(s=>Xk(s,e,r,n));else{const s=tt(t.handler)?t.handler.bind(r):e[t.handler];tt(s)&&un(i,s,t)}}function Qk(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>e1(c,l,o,!0)),e1(c,e,o)),gr(e)&&s.set(e,c),c}function e1(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&e1(t,s,r,!0),i&&i.forEach(o=>e1(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=gH[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gH={data:h3,props:p3,emits:p3,methods:Fp,computed:Fp,beforeCreate:ji,created:ji,beforeMount:ji,mounted:ji,beforeUpdate:ji,updated:ji,beforeDestroy:ji,beforeUnmount:ji,destroyed:ji,unmounted:ji,activated:ji,deactivated:ji,errorCaptured:ji,serverPrefetch:ji,components:Fp,directives:Fp,watch:yH,provide:h3,inject:mH};function h3(t,e){return e?t?function(){return Yn(tt(t)?t.call(this,this):t,tt(e)?e.call(this,this):e)}:e:t}function mH(t,e){return Fp(n2(t),n2(e))}function n2(t){if(Qe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function ji(t,e){return t?[...new Set([].concat(t,e))]:e}function Fp(t,e){return t?Yn(Object.create(null),t,e):e}function p3(t,e){return t?Qe(t)&&Qe(e)?[...new Set([...t,...e])]:Yn(Object.create(null),f3(t),f3(e??{})):e}function yH(t,e){if(!t)return e;if(!e)return t;const r=Yn(Object.create(null),t);for(const n in e)r[n]=ji(t[n],e[n]);return r}function Zk(){return{app:null,config:{isNativeTag:sk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bH=0;function wH(t,e){return function(n,i=null){tt(n)||(n=Yn({},n)),i!=null&&!gr(i)&&(i=null);const s=Zk(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:bH++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:eW,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&tt(u.install)?(o.add(u),u.install(l,...f)):tt(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,d){if(!c){const h=l._ceVNode||Be(n,i);return h.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),t(h,u,d),c=!0,l._container=u,u.__vue_app__=l,I_(h.component)}},onUnmount(u){a.push(u)},unmount(){c&&(ec(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=hd;hd=l;try{return u()}finally{hd=f}}};return l}}let hd=null;function sg(t,e){if(Ti){let r=Ti.provides;const n=Ti.parent&&Ti.parent.provides;n===r&&(r=Ti.provides=Object.create(n)),r[t]=e}}function Js(t,e,r=!1){const n=Do();if(n||hd){let i=hd?hd._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&tt(e)?e.call(n&&n.proxy):e}}function _H(){return!!(Do()||hd)}const eM={},tM=()=>Object.create(eM),rM=t=>Object.getPrototypeOf(t)===eM;function EH(t,e,r,n=!1){const i={},s=tM();t.propsDefaults=Object.create(null),nM(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:Rk(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function vH(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Ot(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(S_(t.emitsOptions,d))continue;const h=e[d];if(c)if(Jt(s,d))h!==s[d]&&(s[d]=h,l=!0);else{const m=Oo(d);i[m]=i2(c,a,m,h,t,!1)}else h!==s[d]&&(s[d]=h,l=!0)}}}else{nM(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!Jt(e,f)&&((u=jd(f))===f||!Jt(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=i2(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Jt(e,f))&&(delete s[f],l=!0)}l&&El(t.attrs,"set","")}function nM(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Qp(c))continue;const l=e[c];let u;i&&Jt(i,u=Oo(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:S_(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Ot(r),l=a||lr;for(let u=0;u<s.length;u++){const f=s[u];r[f]=i2(i,c,f,l[f],t,!Jt(l,f))}}return o}function i2(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Jt(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&tt(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=ly(i);n=l[r]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===jd(r))&&(n=!0))}return n}const xH=new WeakMap;function iM(t,e,r=!1){const n=r?xH:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!tt(t)){const u=f=>{c=!0;const[d,h]=iM(f,e,!0);Yn(o,d),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return gr(t)&&n.set(t,t0),t0;if(Qe(s))for(let u=0;u<s.length;u++){const f=Oo(s[u]);g3(f)&&(o[f]=lr)}else if(s)for(const u in s){const f=Oo(u);if(g3(f)){const d=s[u],h=o[f]=Qe(d)||tt(d)?{type:d}:Yn({},d),m=h.type;let g=!1,b=!0;if(Qe(m))for(let v=0;v<m.length;++v){const C=m[v],S=tt(C)&&C.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(b=!1)}else g=tt(m)&&m.name==="Boolean";h[0]=g,h[1]=b,(g||Jt(h,"default"))&&a.push(f)}}const l=[o,a];return gr(t)&&n.set(t,l),l}function g3(t){return t[0]!=="$"&&!Qp(t)}const BN=t=>t==="_"||t==="_ctx"||t==="$stable",jN=t=>Qe(t)?t.map(Ec):[Ec(t)],AH=(t,e,r)=>{if(e._n)return e;const n=xl((...i)=>jN(e(...i)),r);return n._c=!1,n},sM=(t,e,r)=>{const n=t._ctx;for(const i in t){if(BN(i))continue;const s=t[i];if(tt(s))e[i]=AH(i,s,n);else if(s!=null){const o=jN(s);e[i]=()=>o}}},oM=(t,e)=>{const r=jN(e);t.slots.default=()=>r},aM=(t,e,r)=>{for(const n in e)(r||!BN(n))&&(t[n]=e[n])},CH=(t,e,r)=>{const n=t.slots=tM();if(t.vnode.shapeFlag&32){const i=e._;i?(aM(n,e,r),r&&uk(n,"_",i,!0)):sM(e,n)}else e&&oM(t,e)},NH=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=lr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:aM(i,e,r):(s=!e.$stable,sM(e,i)),o=e}else e&&(oM(t,e),o={default:1});if(s)for(const a in i)!BN(a)&&o[a]==null&&delete i[a]},Wi=jH;function SH(t){return IH(t)}function IH(t,e){const r=E_();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=Pc,insertStaticContent:m}=t,g=(H,Y,W,Z=null,fe=null,oe=null,ge=void 0,_e=null,q=!!Y.dynamicChildren)=>{if(H===Y)return;H&&!Yf(H,Y)&&(Z=K(H),E(H,fe,oe,!0),H=null),Y.patchFlag===-2&&(q=!1,Y.dynamicChildren=null);const{type:z,ref:ne,shapeFlag:se}=Y;switch(z){case cy:b(H,Y,W,Z);break;case zs:v(H,Y,W,Z);break;case tv:H==null&&C(Y,W,Z,ge);break;case xs:I(H,Y,W,Z,fe,oe,ge,_e,q);break;default:se&1?O(H,Y,W,Z,fe,oe,ge,_e,q):se&6?N(H,Y,W,Z,fe,oe,ge,_e,q):(se&64||se&128)&&z.process(H,Y,W,Z,fe,oe,ge,_e,q,ie)}ne!=null&&fe?rg(ne,H&&H.ref,oe,Y||H,!Y):ne==null&&H&&H.ref!=null&&rg(H.ref,null,oe,H,!0)},b=(H,Y,W,Z)=>{if(H==null)n(Y.el=a(Y.children),W,Z);else{const fe=Y.el=H.el;Y.children!==H.children&&l(fe,Y.children)}},v=(H,Y,W,Z)=>{H==null?n(Y.el=c(Y.children||""),W,Z):Y.el=H.el},C=(H,Y,W,Z)=>{[H.el,H.anchor]=m(H.children,Y,W,Z,H.el,H.anchor)},S=({el:H,anchor:Y},W,Z)=>{let fe;for(;H&&H!==Y;)fe=d(H),n(H,W,Z),H=fe;n(Y,W,Z)},D=({el:H,anchor:Y})=>{let W;for(;H&&H!==Y;)W=d(H),i(H),H=W;i(Y)},O=(H,Y,W,Z,fe,oe,ge,_e,q)=>{Y.type==="svg"?ge="svg":Y.type==="math"&&(ge="mathml"),H==null?k(Y,W,Z,fe,oe,ge,_e,q):_(H,Y,fe,oe,ge,_e,q)},k=(H,Y,W,Z,fe,oe,ge,_e)=>{let q,z;const{props:ne,shapeFlag:se,transition:pe,dirs:me}=H;if(q=H.el=o(H.type,oe,ne&&ne.is,ne),se&8?u(q,H.children):se&16&&A(H.children,q,null,Z,fe,ev(H,oe),ge,_e),me&&Of(H,null,Z,"created"),F(q,H,H.scopeId,ge,Z),ne){for(const ce in ne)ce!=="value"&&!Qp(ce)&&s(q,ce,null,ne[ce],oe,Z);"value"in ne&&s(q,"value",null,ne.value,oe),(z=ne.onVnodeBeforeMount)&&oc(z,Z,H)}me&&Of(H,null,Z,"beforeMount");const ee=TH(fe,pe);ee&&pe.beforeEnter(q),n(q,Y,W),((z=ne&&ne.onVnodeMounted)||ee||me)&&Wi(()=>{z&&oc(z,Z,H),ee&&pe.enter(q),me&&Of(H,null,Z,"mounted")},fe)},F=(H,Y,W,Z,fe)=>{if(W&&h(H,W),Z)for(let oe=0;oe<Z.length;oe++)h(H,Z[oe]);if(fe){let oe=fe.subTree;if(Y===oe||dM(oe.type)&&(oe.ssContent===Y||oe.ssFallback===Y)){const ge=fe.vnode;F(H,ge,ge.scopeId,ge.slotScopeIds,fe.parent)}}},A=(H,Y,W,Z,fe,oe,ge,_e,q=0)=>{for(let z=q;z<H.length;z++){const ne=H[z]=_e?xu(H[z]):Ec(H[z]);g(null,ne,Y,W,Z,fe,oe,ge,_e)}},_=(H,Y,W,Z,fe,oe,ge)=>{const _e=Y.el=H.el;let{patchFlag:q,dynamicChildren:z,dirs:ne}=Y;q|=H.patchFlag&16;const se=H.props||lr,pe=Y.props||lr;let me;if(W&&Df(W,!1),(me=pe.onVnodeBeforeUpdate)&&oc(me,W,Y,H),ne&&Of(Y,H,W,"beforeUpdate"),W&&Df(W,!0),(se.innerHTML&&pe.innerHTML==null||se.textContent&&pe.textContent==null)&&u(_e,""),z?M(H.dynamicChildren,z,_e,W,Z,ev(Y,fe),oe):ge||T(H,Y,_e,null,W,Z,ev(Y,fe),oe,!1),q>0){if(q&16)$(_e,se,pe,W,fe);else if(q&2&&se.class!==pe.class&&s(_e,"class",null,pe.class,fe),q&4&&s(_e,"style",se.style,pe.style,fe),q&8){const ee=Y.dynamicProps;for(let ce=0;ce<ee.length;ce++){const ke=ee[ce],Le=se[ke],Ge=pe[ke];(Ge!==Le||ke==="value")&&s(_e,ke,Le,Ge,fe,W)}}q&1&&H.children!==Y.children&&u(_e,Y.children)}else!ge&&z==null&&$(_e,se,pe,W,fe);((me=pe.onVnodeUpdated)||ne)&&Wi(()=>{me&&oc(me,W,Y,H),ne&&Of(Y,H,W,"updated")},Z)},M=(H,Y,W,Z,fe,oe,ge)=>{for(let _e=0;_e<Y.length;_e++){const q=H[_e],z=Y[_e],ne=q.el&&(q.type===xs||!Yf(q,z)||q.shapeFlag&198)?f(q.el):W;g(q,z,ne,null,Z,fe,oe,ge,!0)}},$=(H,Y,W,Z,fe)=>{if(Y!==W){if(Y!==lr)for(const oe in Y)!Qp(oe)&&!(oe in W)&&s(H,oe,Y[oe],null,fe,Z);for(const oe in W){if(Qp(oe))continue;const ge=W[oe],_e=Y[oe];ge!==_e&&oe!=="value"&&s(H,oe,_e,ge,fe,Z)}"value"in W&&s(H,"value",Y.value,W.value,fe)}},I=(H,Y,W,Z,fe,oe,ge,_e,q)=>{const z=Y.el=H?H.el:a(""),ne=Y.anchor=H?H.anchor:a("");let{patchFlag:se,dynamicChildren:pe,slotScopeIds:me}=Y;me&&(_e=_e?_e.concat(me):me),H==null?(n(z,W,Z),n(ne,W,Z),A(Y.children||[],W,ne,fe,oe,ge,_e,q)):se>0&&se&64&&pe&&H.dynamicChildren?(M(H.dynamicChildren,pe,W,fe,oe,ge,_e),(Y.key!=null||fe&&Y===fe.subTree)&&HN(H,Y,!0)):T(H,Y,W,ne,fe,oe,ge,_e,q)},N=(H,Y,W,Z,fe,oe,ge,_e,q)=>{Y.slotScopeIds=_e,H==null?Y.shapeFlag&512?fe.ctx.activate(Y,W,Z,ge,q):p(Y,W,Z,fe,oe,ge,q):y(H,Y,q)},p=(H,Y,W,Z,fe,oe,ge)=>{const _e=H.component=KH(H,Z,fe);if(A_(H)&&(_e.ctx.renderer=ie),VH(_e,!1,ge),_e.asyncDep){if(fe&&fe.registerDep(_e,w,ge),!H.el){const q=_e.subTree=Be(zs);v(null,q,Y,W),H.placeholder=q.el}}else w(_e,H,Y,W,fe,oe,ge)},y=(H,Y,W)=>{const Z=Y.component=H.component;if(FH(H,Y,W))if(Z.asyncDep&&!Z.asyncResolved){x(Z,Y,W);return}else Z.next=Y,Z.update();else Y.el=H.el,Z.vnode=Y},w=(H,Y,W,Z,fe,oe,ge)=>{const _e=()=>{if(H.isMounted){let{next:se,bu:pe,u:me,parent:ee,vnode:ce}=H;{const nt=cM(H);if(nt){se&&(se.el=ce.el,x(H,se,ge)),nt.asyncDep.then(()=>{H.isUnmounted||_e()});return}}let ke=se,Le;Df(H,!1),se?(se.el=ce.el,x(H,se,ge)):se=ce,pe&&Lb(pe),(Le=se.props&&se.props.onVnodeBeforeUpdate)&&oc(Le,ee,se,ce),Df(H,!0);const Ge=y3(H),Br=H.subTree;H.subTree=Ge,g(Br,Ge,f(Br.el),K(Br),H,fe,oe),se.el=Ge.el,ke===null&&BH(H,Ge.el),me&&Wi(me,fe),(Le=se.props&&se.props.onVnodeUpdated)&&Wi(()=>oc(Le,ee,se,ce),fe)}else{let se;const{el:pe,props:me}=Y,{bm:ee,m:ce,parent:ke,root:Le,type:Ge}=H,Br=ng(Y);Df(H,!1),ee&&Lb(ee),!Br&&(se=me&&me.onVnodeBeforeMount)&&oc(se,ke,Y),Df(H,!0);{Le.ce&&Le.ce._def.shadowRoot!==!1&&Le.ce._injectChildStyle(Ge);const nt=H.subTree=y3(H);g(null,nt,W,Z,H,fe,oe),Y.el=nt.el}if(ce&&Wi(ce,fe),!Br&&(se=me&&me.onVnodeMounted)){const nt=Y;Wi(()=>oc(se,ke,nt),fe)}(Y.shapeFlag&256||ke&&ng(ke.vnode)&&ke.vnode.shapeFlag&256)&&H.a&&Wi(H.a,fe),H.isMounted=!0,Y=W=Z=null}};H.scope.on();const q=H.effect=new mk(_e);H.scope.off();const z=H.update=q.run.bind(q),ne=H.job=q.runIfDirty.bind(q);ne.i=H,ne.id=H.uid,q.scheduler=()=>UN(ne),Df(H,!0),z()},x=(H,Y,W)=>{Y.component=H;const Z=H.vnode.props;H.vnode=Y,H.next=null,vH(H,Y.props,Z,W),NH(H,Y.children,W),Ml(),i3(H),Ul()},T=(H,Y,W,Z,fe,oe,ge,_e,q=!1)=>{const z=H&&H.children,ne=H?H.shapeFlag:0,se=Y.children,{patchFlag:pe,shapeFlag:me}=Y;if(pe>0){if(pe&128){B(z,se,W,Z,fe,oe,ge,_e,q);return}else if(pe&256){U(z,se,W,Z,fe,oe,ge,_e,q);return}}me&8?(ne&16&&V(z,fe,oe),se!==z&&u(W,se)):ne&16?me&16?B(z,se,W,Z,fe,oe,ge,_e,q):V(z,fe,oe,!0):(ne&8&&u(W,""),me&16&&A(se,W,Z,fe,oe,ge,_e,q))},U=(H,Y,W,Z,fe,oe,ge,_e,q)=>{H=H||t0,Y=Y||t0;const z=H.length,ne=Y.length,se=Math.min(z,ne);let pe;for(pe=0;pe<se;pe++){const me=Y[pe]=q?xu(Y[pe]):Ec(Y[pe]);g(H[pe],me,W,null,fe,oe,ge,_e,q)}z>ne?V(H,fe,oe,!0,!1,se):A(Y,W,Z,fe,oe,ge,_e,q,se)},B=(H,Y,W,Z,fe,oe,ge,_e,q)=>{let z=0;const ne=Y.length;let se=H.length-1,pe=ne-1;for(;z<=se&&z<=pe;){const me=H[z],ee=Y[z]=q?xu(Y[z]):Ec(Y[z]);if(Yf(me,ee))g(me,ee,W,null,fe,oe,ge,_e,q);else break;z++}for(;z<=se&&z<=pe;){const me=H[se],ee=Y[pe]=q?xu(Y[pe]):Ec(Y[pe]);if(Yf(me,ee))g(me,ee,W,null,fe,oe,ge,_e,q);else break;se--,pe--}if(z>se){if(z<=pe){const me=pe+1,ee=me<ne?Y[me].el:Z;for(;z<=pe;)g(null,Y[z]=q?xu(Y[z]):Ec(Y[z]),W,ee,fe,oe,ge,_e,q),z++}}else if(z>pe)for(;z<=se;)E(H[z],fe,oe,!0),z++;else{const me=z,ee=z,ce=new Map;for(z=ee;z<=pe;z++){const lt=Y[z]=q?xu(Y[z]):Ec(Y[z]);lt.key!=null&&ce.set(lt.key,z)}let ke,Le=0;const Ge=pe-ee+1;let Br=!1,nt=0;const Rt=new Array(Ge);for(z=0;z<Ge;z++)Rt[z]=0;for(z=me;z<=se;z++){const lt=H[z];if(Le>=Ge){E(lt,fe,oe,!0);continue}let gt;if(lt.key!=null)gt=ce.get(lt.key);else for(ke=ee;ke<=pe;ke++)if(Rt[ke-ee]===0&&Yf(lt,Y[ke])){gt=ke;break}gt===void 0?E(lt,fe,oe,!0):(Rt[gt-ee]=z+1,gt>=nt?nt=gt:Br=!0,g(lt,Y[gt],W,null,fe,oe,ge,_e,q),Le++)}const Xo=Br?RH(Rt):t0;for(ke=Xo.length-1,z=Ge-1;z>=0;z--){const lt=ee+z,gt=Y[lt],sc=Y[lt+1],er=lt+1<ne?sc.el||sc.placeholder:Z;Rt[z]===0?g(null,gt,W,er,fe,oe,ge,_e,q):Br&&(ke<0||z!==Xo[ke]?P(gt,W,er,2):ke--)}}},P=(H,Y,W,Z,fe=null)=>{const{el:oe,type:ge,transition:_e,children:q,shapeFlag:z}=H;if(z&6){P(H.component.subTree,Y,W,Z);return}if(z&128){H.suspense.move(Y,W,Z);return}if(z&64){ge.move(H,Y,W,ie);return}if(ge===xs){n(oe,Y,W);for(let se=0;se<q.length;se++)P(q[se],Y,W,Z);n(H.anchor,Y,W);return}if(ge===tv){S(H,Y,W);return}if(Z!==2&&z&1&&_e)if(Z===0)_e.beforeEnter(oe),n(oe,Y,W),Wi(()=>_e.enter(oe),fe);else{const{leave:se,delayLeave:pe,afterLeave:me}=_e,ee=()=>{H.ctx.isUnmounted?i(oe):n(oe,Y,W)},ce=()=>{oe._isLeaving&&oe[bl](!0),se(oe,()=>{ee(),me&&me()})};pe?pe(oe,ee,ce):ce()}else n(oe,Y,W)},E=(H,Y,W,Z=!1,fe=!1)=>{const{type:oe,props:ge,ref:_e,children:q,dynamicChildren:z,shapeFlag:ne,patchFlag:se,dirs:pe,cacheIndex:me}=H;if(se===-2&&(fe=!1),_e!=null&&(Ml(),rg(_e,null,W,H,!0),Ul()),me!=null&&(Y.renderCache[me]=void 0),ne&256){Y.ctx.deactivate(H);return}const ee=ne&1&&pe,ce=!ng(H);let ke;if(ce&&(ke=ge&&ge.onVnodeBeforeUnmount)&&oc(ke,Y,H),ne&6)R(H.component,W,Z);else{if(ne&128){H.suspense.unmount(W,Z);return}ee&&Of(H,null,Y,"beforeUnmount"),ne&64?H.type.remove(H,Y,W,ie,Z):z&&!z.hasOnce&&(oe!==xs||se>0&&se&64)?V(z,Y,W,!1,!0):(oe===xs&&se&384||!fe&&ne&16)&&V(q,Y,W),Z&&L(H)}(ce&&(ke=ge&&ge.onVnodeUnmounted)||ee)&&Wi(()=>{ke&&oc(ke,Y,H),ee&&Of(H,null,Y,"unmounted")},W)},L=H=>{const{type:Y,el:W,anchor:Z,transition:fe}=H;if(Y===xs){G(W,Z);return}if(Y===tv){D(H);return}const oe=()=>{i(W),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(H.shapeFlag&1&&fe&&!fe.persisted){const{leave:ge,delayLeave:_e}=fe,q=()=>ge(W,oe);_e?_e(H.el,oe,q):q()}else oe()},G=(H,Y)=>{let W;for(;H!==Y;)W=d(H),i(H),H=W;i(Y)},R=(H,Y,W)=>{const{bum:Z,scope:fe,job:oe,subTree:ge,um:_e,m:q,a:z}=H;m3(q),m3(z),Z&&Lb(Z),fe.stop(),oe&&(oe.flags|=8,E(ge,H,Y,W)),_e&&Wi(_e,Y),Wi(()=>{H.isUnmounted=!0},Y)},V=(H,Y,W,Z=!1,fe=!1,oe=0)=>{for(let ge=oe;ge<H.length;ge++)E(H[ge],Y,W,Z,fe)},K=H=>{if(H.shapeFlag&6)return K(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const Y=d(H.anchor||H.el),W=Y&&Y[Lk];return W?d(W):Y};let X=!1;const Q=(H,Y,W)=>{H==null?Y._vnode&&E(Y._vnode,null,null,!0):g(Y._vnode||null,H,Y,null,null,null,W),Y._vnode=H,X||(X=!0,i3(),Mk(),X=!1)},ie={p:g,um:E,m:P,r:L,mt:p,mc:A,pc:T,pbc:M,n:K,o:t};return{render:Q,hydrate:void 0,createApp:wH(Q)}}function ev({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Df({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function TH(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function HN(t,e,r=!1){const n=t.children,i=e.children;if(Qe(n)&&Qe(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=xu(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&HN(o,a)),a.type===cy&&a.patchFlag!==-1&&(a.el=o.el),a.type===zs&&!a.el&&(a.el=o.el)}}function RH(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function cM(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:cM(e)}function m3(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const PH=Symbol.for("v-scx"),OH=()=>Js(PH);function un(t,e,r){return lM(t,e,r)}function lM(t,e,r=lr){const{immediate:n,deep:i,flush:s,once:o}=r,a=Yn({},r),c=e&&n||!e&&s!=="post";let l;if(jg){if(s==="sync"){const h=OH();l=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=Pc,h.resume=Pc,h.pause=Pc,h}}const u=Ti;a.call=(h,m,g)=>ec(h,u,m,g);let f=!1;s==="post"?a.scheduler=h=>{Wi(h,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(h,m)=>{m?h():UN(h)}),a.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const d=Gj(t,e,a);return jg&&(l?l.push(d):c&&d()),d}function DH(t,e,r){const n=this.proxy,i=Zr(t)?t.includes(".")?uM(n,t):()=>n[t]:t.bind(n,n);let s;tt(e)?s=e:(s=e.handler,r=e);const o=ly(this),a=lM(i,s.bind(n),r);return o(),a}function uM(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const kH=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Oo(e)}Modifiers`]||t[`${jd(e)}Modifiers`];function MH(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||lr;let i=r;const s=e.startsWith("update:"),o=s&&kH(n,e.slice(7));o&&(o.trim&&(i=r.map(u=>Zr(u)?u.trim():u)),o.number&&(i=r.map(VA)));let a,c=n[a=KE(e)]||n[a=KE(Oo(e))];!c&&s&&(c=n[a=KE(jd(e))]),c&&ec(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ec(l,t,6,i)}}const UH=new WeakMap;function fM(t,e,r=!1){const n=r?UH:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!tt(t)){const c=l=>{const u=fM(l,e,!0);u&&(a=!0,Yn(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(gr(t)&&n.set(t,null),null):(Qe(s)?s.forEach(c=>o[c]=null):Yn(o,s),gr(t)&&n.set(t,o),o)}function S_(t,e){return!t||!y_(e)?!1:(e=e.slice(2).replace(/Once$/,""),Jt(t,e[0].toLowerCase()+e.slice(1))||Jt(t,jd(e))||Jt(t,e))}function y3(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:d,setupState:h,ctx:m,inheritAttrs:g}=t,b=Qw(t);let v,C;try{if(r.shapeFlag&4){const D=i||n,O=D;v=Ec(l.call(O,D,u,f,h,d,m)),C=a}else{const D=e;v=Ec(D.length>1?D(f,{attrs:a,slots:o,emit:c}):D(f,null)),C=e.props?a:$H(a)}}catch(D){og.length=0,x_(D,t,1),v=Be(zs)}let S=v;if(C&&g!==!1){const D=Object.keys(C),{shapeFlag:O}=S;D.length&&O&7&&(s&&D.some(EN)&&(C=LH(C,s)),S=Gu(S,C,!1,!0))}return r.dirs&&(S=Gu(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Fg(S,r.transition),v=S,Qw(b),v}const $H=t=>{let e;for(const r in t)(r==="class"||r==="style"||y_(r))&&((e||(e={}))[r]=t[r]);return e},LH=(t,e)=>{const r={};for(const n in t)(!EN(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function FH(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?b3(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==n[d]&&!S_(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?b3(n,o,l):!0:!!o;return!1}function b3(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!S_(r,s))return!0}return!1}function BH({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const dM=t=>t.__isSuspense;function jH(t,e){e&&e.pendingBranch?Qe(t)?e.effects.push(...t):e.effects.push(t):Jj(t)}const xs=Symbol.for("v-fgt"),cy=Symbol.for("v-txt"),zs=Symbol.for("v-cmt"),tv=Symbol.for("v-stc"),og=[];let Ks=null;function pd(t=!1){og.push(Ks=t?null:[])}function HH(){og.pop(),Ks=og[og.length-1]||null}let Bg=1;function t1(t,e=!1){Bg+=t,t<0&&Ks&&e&&(Ks.hasOnce=!0)}function hM(t){return t.dynamicChildren=Bg>0?Ks||t0:null,HH(),Bg>0&&Ks&&Ks.push(t),t}function rv(t,e,r,n,i,s){return hM(fr(t,e,r,n,i,s,!0))}function Bb(t,e,r,n,i){return hM(Be(t,e,r,n,i,!0))}function r1(t){return t?t.__v_isVNode===!0:!1}function Yf(t,e){return t.type===e.type&&t.key===e.key}const pM=({key:t})=>t??null,jb=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Zr(t)||Kr(t)||tt(t)?{i:Gs,r:t,k:e,f:!!r}:t:null);function fr(t,e=null,r=null,n=0,i=null,s=t===xs?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pM(e),ref:e&&jb(e),scopeId:$k,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gs};return a?(WN(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Zr(r)?8:16),Bg>0&&!o&&Ks&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Ks.push(c),c}const Be=WH;function WH(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===lH)&&(t=zs),r1(t)){const a=Gu(t,e,!0);return r&&WN(a,r),Bg>0&&!s&&Ks&&(a.shapeFlag&6?Ks[Ks.indexOf(t)]=a:Ks.push(a)),a.patchFlag=-2,a}if(ZH(t)&&(t=t.__vccOpts),e){e=qH(e);let{class:a,style:c}=e;a&&!Zr(a)&&(e.class=CN(a)),gr(c)&&(DN(c)&&!Qe(c)&&(c=Yn({},c)),e.style=AN(c))}const o=Zr(t)?1:dM(t)?128:Fk(t)?64:gr(t)?4:tt(t)?2:0;return fr(t,e,r,n,i,o,s,!0)}function qH(t){return t?DN(t)||rM(t)?Yn({},t):t:null}function Gu(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,l=e?Ad(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&pM(l),ref:e&&e.ref?r&&s?Qe(s)?s.concat(jb(e)):[s,jb(e)]:jb(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==xs?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Gu(t.ssContent),ssFallback:t.ssFallback&&Gu(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&Fg(u,c.clone(u)),u}function Mu(t=" ",e=0){return Be(cy,null,t,e)}function Ec(t){return t==null||typeof t=="boolean"?Be(zs):Qe(t)?Be(xs,null,t.slice()):r1(t)?xu(t):Be(cy,null,String(t))}function xu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Gu(t)}function WN(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Qe(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),WN(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!rM(e)?e._ctx=Gs:i===3&&Gs&&(Gs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else tt(e)?(e={default:e,_ctx:Gs},r=32):(e=String(e),n&64?(r=16,e=[Mu(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ad(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=CN([e.class,n.class]));else if(i==="style")e.style=AN([e.style,n.style]);else if(y_(i)){const s=e[i],o=n[i];o&&s!==o&&!(Qe(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function oc(t,e,r,n=null){ec(t,e,7,[r,n])}const zH=Zk();let GH=0;function KH(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||zH,s={uid:GH++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new pk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:iM(n,i),emitsOptions:fM(n,i),emit:null,emitted:null,propsDefaults:lr,inheritAttrs:n.inheritAttrs,ctx:lr,data:lr,props:lr,attrs:lr,slots:lr,refs:lr,setupState:lr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=MH.bind(null,s),t.ce&&t.ce(s),s}let Ti=null;const Do=()=>Ti||Gs;let n1,s2;{const t=E_(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};n1=e("__VUE_INSTANCE_SETTERS__",r=>Ti=r),s2=e("__VUE_SSR_SETTERS__",r=>jg=r)}const ly=t=>{const e=Ti;return n1(t),t.scope.on(),()=>{t.scope.off(),n1(e)}},w3=()=>{Ti&&Ti.scope.off(),n1(null)};function gM(t){return t.vnode.shapeFlag&4}let jg=!1;function VH(t,e=!1,r=!1){e&&s2(e);const{props:n,children:i}=t.vnode,s=gM(t);EH(t,n,s,e),CH(t,i,r||e);const o=s?JH(t,e):void 0;return e&&s2(!1),o}function JH(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,dH);const{setup:n}=r;if(n){Ml();const i=t.setupContext=n.length>1?XH(t):null,s=ly(t),o=ay(n,t,0,[t.props,i]),a=ak(o);if(Ul(),s(),(a||t.sp)&&!ng(t)&&Vk(t),a){if(o.then(w3,w3),e)return o.then(c=>{_3(t,c)}).catch(c=>{x_(c,t,0)});t.asyncDep=o}else _3(t,o)}else mM(t)}function _3(t,e,r){tt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:gr(e)&&(t.setupState=Ok(e)),mM(t)}function mM(t,e,r){const n=t.type;t.render||(t.render=n.render||Pc);{const i=ly(t);Ml();try{hH(t)}finally{Ul(),i()}}}const YH={get(t,e){return Ni(t,"get",""),t[e]}};function XH(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,YH),slots:t.slots,emit:t.emit,expose:e}}function I_(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ok(kN(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ig)return ig[r](t)},has(e,r){return r in e||r in ig}})):t.proxy}function QH(t,e=!0){return tt(t)?t.displayName||t.name:t.name||e&&t.__name}function ZH(t){return tt(t)&&"__vccOpts"in t}const qt=(t,e)=>qj(t,e,jg);function uy(t,e,r){try{t1(-1);const n=arguments.length;return n===2?gr(e)&&!Qe(e)?r1(e)?Be(t,null,[e]):Be(t,e):Be(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&r1(r)&&(r=[r]),Be(t,e,r))}finally{t1(1)}}const eW="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let o2;const E3=typeof window<"u"&&window.trustedTypes;if(E3)try{o2=E3.createPolicy("vue",{createHTML:t=>t})}catch{}const yM=o2?t=>o2.createHTML(t):t=>t,tW="http://www.w3.org/2000/svg",rW="http://www.w3.org/1998/Math/MathML",ll=typeof document<"u"?document:null,v3=ll&&ll.createElement("template"),nW={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?ll.createElementNS(tW,t):e==="mathml"?ll.createElementNS(rW,t):r?ll.createElement(t,{is:r}):ll.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>ll.createTextNode(t),createComment:t=>ll.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ll.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{v3.innerHTML=yM(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=v3.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},tu="transition",op="animation",Hg=Symbol("_vtc"),bM={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iW=Yn({},Wk,bM),sW=t=>(t.displayName="Transition",t.props=iW,t),wM=sW((t,{slots:e})=>uy(Zj,oW(t),e)),kf=(t,e=[])=>{Qe(t)?t.forEach(r=>r(...e)):t&&t(...e)},x3=t=>t?Qe(t)?t.some(e=>e.length>1):t.length>1:!1;function oW(t){const e={};for(const I in t)I in bM||(e[I]=t[I]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:h=`${r}-leave-to`}=t,m=aW(i),g=m&&m[0],b=m&&m[1],{onBeforeEnter:v,onEnter:C,onEnterCancelled:S,onLeave:D,onLeaveCancelled:O,onBeforeAppear:k=v,onAppear:F=C,onAppearCancelled:A=S}=e,_=(I,N,p,y)=>{I._enterCancelled=y,Mf(I,N?u:a),Mf(I,N?l:o),p&&p()},M=(I,N)=>{I._isLeaving=!1,Mf(I,f),Mf(I,h),Mf(I,d),N&&N()},$=I=>(N,p)=>{const y=I?F:C,w=()=>_(N,I,p);kf(y,[N,w]),A3(()=>{Mf(N,I?c:s),zc(N,I?u:a),x3(y)||C3(N,n,g,w)})};return Yn(e,{onBeforeEnter(I){kf(v,[I]),zc(I,s),zc(I,o)},onBeforeAppear(I){kf(k,[I]),zc(I,c),zc(I,l)},onEnter:$(!1),onAppear:$(!0),onLeave(I,N){I._isLeaving=!0;const p=()=>M(I,N);zc(I,f),I._enterCancelled?(zc(I,d),I3(I)):(I3(I),zc(I,d)),A3(()=>{I._isLeaving&&(Mf(I,f),zc(I,h),x3(D)||C3(I,n,b,p))}),kf(D,[I,p])},onEnterCancelled(I){_(I,!1,void 0,!0),kf(S,[I])},onAppearCancelled(I){_(I,!0,void 0,!0),kf(A,[I])},onLeaveCancelled(I){M(I),kf(O,[I])}})}function aW(t){if(t==null)return null;if(gr(t))return[nv(t.enter),nv(t.leave)];{const e=nv(t);return[e,e]}}function nv(t){return fj(t)}function zc(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Hg]||(t[Hg]=new Set)).add(e)}function Mf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Hg];r&&(r.delete(e),r.size||(t[Hg]=void 0))}function A3(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let cW=0;function C3(t,e,r,n){const i=t._endId=++cW,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=lW(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,d),s()},d=h=>{h.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,d)}function lW(t,e){const r=window.getComputedStyle(t),n=m=>(r[m]||"").split(", "),i=n(`${tu}Delay`),s=n(`${tu}Duration`),o=N3(i,s),a=n(`${op}Delay`),c=n(`${op}Duration`),l=N3(a,c);let u=null,f=0,d=0;e===tu?o>0&&(u=tu,f=o,d=s.length):e===op?l>0&&(u=op,f=l,d=c.length):(f=Math.max(o,l),u=f>0?o>l?tu:op:null,d=u?u===tu?s.length:c.length:0);const h=u===tu&&/\b(?:transform|all)(?:,|$)/.test(n(`${tu}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function N3(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>S3(r)+S3(t[n])))}function S3(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function I3(t){return(t?t.ownerDocument:document).body.offsetHeight}function uW(t,e,r){const n=t[Hg];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const i1=Symbol("_vod"),_M=Symbol("_vsh"),EM={name:"show",beforeMount(t,{value:e},{transition:r}){t[i1]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):ap(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),ap(t,!0),n.enter(t)):n.leave(t,()=>{ap(t,!1)}):ap(t,e))},beforeUnmount(t,{value:e}){ap(t,e)}};function ap(t,e){t.style.display=e?t[i1]:"none",t[_M]=!e}const fW=Symbol(""),dW=/(?:^|;)\s*display\s*:/;function hW(t,e,r){const n=t.style,i=Zr(r);let s=!1;if(r&&!i){if(e)if(Zr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Hb(n,a,"")}else for(const o in e)r[o]==null&&Hb(n,o,"");for(const o in r)o==="display"&&(s=!0),Hb(n,o,r[o])}else if(i){if(e!==r){const o=n[fW];o&&(r+=";"+o),n.cssText=r,s=dW.test(r)}}else e&&t.removeAttribute("style");i1 in t&&(t[i1]=s?n.display:"",t[_M]&&(n.display="none"))}const T3=/\s*!important$/;function Hb(t,e,r){if(Qe(r))r.forEach(n=>Hb(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=pW(t,e);T3.test(r)?t.setProperty(jd(n),r.replace(T3,""),"important"):t[n]=r}}const R3=["Webkit","Moz","ms"],iv={};function pW(t,e){const r=iv[e];if(r)return r;let n=Oo(e);if(n!=="filter"&&n in t)return iv[e]=n;n=__(n);for(let i=0;i<R3.length;i++){const s=R3[i]+n;if(s in t)return iv[e]=s}return e}const P3="http://www.w3.org/1999/xlink";function O3(t,e,r,n,i,s=yj(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(P3,e.slice(6,e.length)):t.setAttributeNS(P3,e,r):r==null||s&&!fk(r)?t.removeAttribute(e):t.setAttribute(e,s?"":ff(r)?String(r):r)}function D3(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?yM(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=fk(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function Ph(t,e,r,n){t.addEventListener(e,r,n)}function gW(t,e,r,n){t.removeEventListener(e,r,n)}const k3=Symbol("_vei");function mW(t,e,r,n,i=null){const s=t[k3]||(t[k3]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=yW(e);if(n){const l=s[e]=_W(n,i);Ph(t,a,l,c)}else o&&(gW(t,a,o,c),s[e]=void 0)}}const M3=/(?:Once|Passive|Capture)$/;function yW(t){let e;if(M3.test(t)){e={};let n;for(;n=t.match(M3);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jd(t.slice(2)),e]}let sv=0;const bW=Promise.resolve(),wW=()=>sv||(bW.then(()=>sv=0),sv=Date.now());function _W(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ec(EW(n,r.value),e,5,[n])};return r.value=t,r.attached=wW(),r}function EW(t,e){if(Qe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const U3=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,vW=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?uW(t,n,o):e==="style"?hW(t,r,n):y_(e)?EN(e)||mW(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):xW(t,e,n,o))?(D3(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&O3(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Zr(n))?D3(t,Oo(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),O3(t,e,n,o))};function xW(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&U3(e)&&tt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return U3(e)&&Zr(r)?!1:e in t}const $3=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Qe(e)?r=>Lb(e,r):e};function AW(t){t.target.composing=!0}function L3(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ov=Symbol("_assign"),CW={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[ov]=$3(i);const s=n||i.props&&i.props.type==="number";Ph(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=VA(a)),t[ov](a)}),r&&Ph(t,"change",()=>{t.value=t.value.trim()}),e||(Ph(t,"compositionstart",AW),Ph(t,"compositionend",L3),Ph(t,"change",L3))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},o){if(t[ov]=$3(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?VA(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===c)||(t.value=c))}},NW=Yn({patchProp:vW},nW);let F3;function SW(){return F3||(F3=SH(NW))}const vM=((...t)=>{const e=SW().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=TW(n);if(!i)return;const s=e._component;!tt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,IW(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function IW(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function TW(t){return Zr(t)?document.querySelector(t):t}const RW=Symbol(),B3=Object.getPrototypeOf,a2=new WeakMap,PW=t=>t&&(a2.has(t)?a2.get(t):B3(t)===Object.prototype||B3(t)===Array.prototype),OW=t=>PW(t)&&t[RW]||null,j3=(t,e=!0)=>{a2.set(t,e)},s1={},qN=t=>typeof t=="object"&&t!==null,DW=t=>qN(t)&&!fy.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),xM=(t,e)=>{const r=c2.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return j3(n,!0),c2.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(fy.has(s))j3(s,!1);else if(Ku.has(s)){const[c,l]=Ku.get(s);a.value=xM(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},kW=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(H3(l,o)||Wg.has(o)&&H3(l,Wg.get(o))))return!0;r(s),qN(o)&&(o=OW(o)||o);const u=!Ku.has(o)&&UW(o)?mr(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),Ku=new WeakMap,fy=new WeakSet,c2=new WeakMap,Bp=[1,1],Wg=new WeakMap;let H3=Object.is,MW=(t,e)=>new Proxy(t,e),UW=DW,$W=xM,LW=kW;function mr(t={}){if(!qN(t))throw new Error("object required");const e=Wg.get(t);if(e)return e;let r=Bp[0];const n=new Set,i=(b,v=++Bp[0])=>{r!==v&&(r=v,n.forEach(C=>C(b,v)))};let s=Bp[1];const o=(b=++Bp[1])=>(s!==b&&!n.size&&(s=b,c.forEach(([v])=>{const C=v[1](b);C>r&&(r=C)})),r),a=b=>(v,C)=>{const S=[...v];S[1]=[b,...S[1]],i(S,C)},c=new Map,l=(b,v)=>{const C=!fy.has(v)&&Ku.get(v);if(C){if((s1?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(n.size){const S=C[2](a(b));c.set(b,[C,S])}else c.set(b,[C])}},u=b=>{var v;const C=c.get(b);C&&(c.delete(b),(v=C[1])==null||v.call(C))},f=b=>(n.add(b),n.size===1&&c.forEach(([C,S],D)=>{if((s1?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const O=C[2](a(D));c.set(D,[C,O])}),()=>{n.delete(b),n.size===0&&c.forEach(([C,S],D)=>{S&&(S(),c.set(D,[C]))})});let d=!0;const h=LW(()=>d,l,u,i),m=MW(t,h);Wg.set(t,m);const g=[t,o,f];return Ku.set(m,g),Reflect.ownKeys(t).forEach(b=>{const v=Object.getOwnPropertyDescriptor(t,b);"value"in v&&v.writable&&(m[b]=t[b])}),d=!1,m}function fi(t,e,r){const n=Ku.get(t);(s1?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function qg(t){const e=Ku.get(t);(s1?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return $W(r,n())}function Cd(t){return fy.add(t),t}function FW(){return{proxyStateMap:Ku,refSet:fy,snapCache:c2,versionHolder:Bp,proxyCache:Wg}}function Fi(t,e,r,n){let i=t[e];return fi(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}const{proxyStateMap:BW,snapCache:jW}=FW(),Gy=t=>BW.has(t);function HW(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=jW.get(a),u=l?.[1];if(u&&!i.has(u)){const f=new Map(n);i.set(u,f)}},o=l=>i.get(l)||n,a={data:e,index:r,epoch:0,get size(){return Gy(this)||s(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Gy(this))throw new Error("Cannot perform mutations on a snapshot");const f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!Gy(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!Gy(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,d)=>{l(this.data[f],d,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=mr(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ts(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vr(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var W3={};const ae={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof W3<"u"?W3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},AM={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return ae.CHAIN_NAME_MAP?.[n]||void 0}},CM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var WW=20,qW=1,Nd=1e6,q3=1e6,zW=-7,GW=21,KW=!1,dy="[big.js] ",Hd=dy+"Invalid ",T_=Hd+"decimal places",VW=Hd+"rounding mode",NM=dy+"Division by zero",Zt={},Oc=void 0,JW=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function SM(){function t(e){var r=this;if(!(r instanceof t))return e===Oc?SM():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Hd+"value");e=e===0&&1/e<0?"-0":String(e)}YW(r,e)}r.constructor=t}return t.prototype=Zt,t.DP=WW,t.RM=qW,t.NE=zW,t.PE=GW,t.strict=KW,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function YW(t,e){var r,n,i;if(!JW.test(e))throw Error(Hd+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function Wd(t,e,r,n){var i=t.c;if(r===Oc&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(VW);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Oc))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Oc||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function qd(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Zt.abs=function(){var t=new this.constructor(this);return t.s=1,t};Zt.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Zt.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Nd)throw Error(T_);if(!i[0])throw Error(NM);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,f,d=i.slice(),h=a=i.length,m=n.length,g=n.slice(0,a),b=g.length,v=t,C=v.c=[],S=0,D=o+(v.e=e.e-t.e)+1;for(v.s=s,s=D<0?0:D,d.unshift(0);b++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(b=g.length))u=a>b?1:-1;else for(f=-1,u=0;++f<a;)if(i[f]!=g[f]){u=i[f]>g[f]?1:-1;break}if(u<0){for(c=b==a?i:d;b;){if(g[--b]<c[b]){for(f=b;f&&!g[--f];)g[f]=9;--g[f],g[b]+=10}g[b]-=c[b]}for(;!g[0];)g.shift()}else break}C[S++]=u?l:++l,g[0]&&u?g[b]=n[h]||0:g=[n[h]]}while((h++<m||g[0]!==Oc)&&s--);return!C[0]&&S!=1&&(C.shift(),v.e--,D--),S>D&&Wd(v,D,r.RM,g[0]!==Oc),v};Zt.eq=function(t){return this.cmp(t)===0};Zt.gt=function(t){return this.cmp(t)>0};Zt.gte=function(t){return this.cmp(t)>-1};Zt.lt=function(t){return this.cmp(t)<0};Zt.lte=function(t){return this.cmp(t)<1};Zt.minus=Zt.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,f=t.c,d=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t};Zt.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(NM);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Zt.plus=Zt.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Zt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-q3||t>q3)throw Error(Hd+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Zt.prec=function(t,e){if(t!==~~t||t<1||t>Nd)throw Error(Hd+"precision");return Wd(new this.constructor(this),t,e)};Zt.round=function(t,e){if(t===Oc)t=0;else if(t!==~~t||t<-Nd||t>Nd)throw Error(T_);return Wd(new this.constructor(this),t+this.e+1,e)};Zt.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(dy+"No square root");s=Math.sqrt(+qd(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Wd(t,(i.DP-=4)+t.e+1,i.RM)};Zt.times=Zt.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Zt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Oc){if(t!==~~t||t<0||t>Nd)throw Error(T_);for(r=Wd(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return qd(r,!0,!!n)};Zt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Oc){if(t!==~~t||t<0||t>Nd)throw Error(T_);for(r=Wd(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return qd(r,!1,!!n)};Zt[Symbol.for("nodejs.util.inspect.custom")]=Zt.toJSON=Zt.toString=function(){var t=this,e=t.constructor;return qd(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Zt.toNumber=function(){var t=+qd(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(dy+"Imprecise conversion");return t};Zt.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Oc){if(t!==~~t||t<1||t>Nd)throw Error(Hd+"precision");for(r=Wd(new n(r),t,e);r.c.length<t;)r.c.push(0)}return qd(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Zt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(dy+"valueOf disallowed");return qd(t,t.e<=e.NE||t.e>=e.PE,!0)};var ru=SM();const XW={bigNumber(t){return t?new ru(t):new ru(0)},multiply(t,e){if(t===void 0||e===void 0)return new ru(0);const r=new ru(t),n=new ru(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new ru(0).toFixed(e):new ru(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new ru(e).toNumber()}},QW=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ZW=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],eq=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],tq={getERC20Abi:t=>ae.USDT_CONTRACT_ADDRESSES.includes(t)?eq:QW,getSwapAbi:()=>ZW},Vi={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function av(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const He={setItem(t,e){Kh()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Kh())return localStorage.getItem(t)||void 0},removeItem(t){Kh()&&localStorage.removeItem(t)},clear(){Kh()&&localStorage.clear()}};function Kh(){return typeof window<"u"&&typeof localStorage<"u"}function zg(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var z3={};const cv=(typeof process<"u"&&typeof z3<"u"?z3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",IM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],rq="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",It={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:cv,SECURE_SITE_DASHBOARD:`${cv}/dashboard`,SECURE_SITE_FAVICON:`${cv}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[ae.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[ae.CHAIN.EVM,ae.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},be={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=be.getActiveNamespace(),e=be.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{He.setItem(qe.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=He.getItem(qe.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{He.removeItem(qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{He.setItem(qe.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{He.setItem(qe.ACTIVE_CAIP_NETWORK_ID,t),be.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{He.removeItem(qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=av(t);He.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=be.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),He.setItem(qe.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=He.getItem(qe.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=av(t);He.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return He.getItem(qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=av(t);return He.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{He.setItem(qe.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return He.getItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{He.removeItem(qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return He.getItem(qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return He.getItem(qe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{He.setItem(qe.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return He.getItem(qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=He.getItem(qe.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));He.setItem(qe.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=be.getConnectedNamespaces();e.includes(t)||(e.push(t),be.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=be.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),be.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return He.getItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{He.setItem(qe.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{He.removeItem(qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=He.getItem(qe.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=be.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=be.getBalanceCache();e[t.caipAddress]=t,He.setItem(qe.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=He.getItem(qe.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=be.getBalanceCache();He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=be.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),be.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=be.getNativeBalanceCache();e[t.caipAddress]=t,He.setItem(qe.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=He.getItem(qe.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=be.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;be.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=be.getEnsCache();e[t.address]=t,He.setItem(qe.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=be.getEnsCache();He.setItem(qe.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=He.getItem(qe.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=be.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;be.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=be.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},He.setItem(qe.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=be.getIdentityCache();He.setItem(qe.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{He.removeItem(qe.PORTFOLIO_CACHE),He.removeItem(qe.NATIVE_BALANCE_CACHE),He.removeItem(qe.ENS_CACHE),He.removeItem(qe.IDENTITY_CACHE),He.removeItem(qe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{He.setItem(qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=He.getItem(qe.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=be.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===ae.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};He.setItem(qe.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=He.getItem(qe.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=be.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),He.setItem(qe.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=He.getItem(qe.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=be.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),He.setItem(qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(be.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=He.getItem(qe.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=be.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;be.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=be.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=be.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;He.setItem(qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=He.getItem(qe.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=be.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;be.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=be.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=be.getTokenPriceCache();He.setItem(qe.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Pe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Pe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=It.TEN_SEC_MS:!0},isAllowedRetry(t,e=It.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Pe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+It.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Pe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Pe.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?be.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Pe.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return ae.W3M_API_URL},getBlockchainApiUrl(){return ae.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ae.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?It.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ae.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function cp(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class hy{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await cp(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await cp(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await cp(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await cp(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await cp(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const nq={getFeatureValue(t,e){const r=e?.[t];return r===void 0?It.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Pe.isTelegram()){if(Pe.isIos())return t.filter(e=>e!=="google");if(Pe.isMac())return t.filter(e=>e!=="x");if(Pe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},je=mr({features:It.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:It.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),he={state:je,subscribeKey(t,e){return Fi(je,t,e)},setOptions(t){Object.assign(je,t)},setRemoteFeatures(t){if(!t)return;const e={...je.remoteFeatures,...t};je.remoteFeatures=e,je.remoteFeatures?.socials&&(je.remoteFeatures.socials=nq.filterSocialsByPlatform(je.remoteFeatures.socials)),je.features?.pay&&(je.remoteFeatures.email=!1,je.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;je.features||(je.features=It.DEFAULT_FEATURES);const e={...je.features,...t};je.features=e,je.features?.pay&&je.remoteFeatures&&(je.remoteFeatures.email=!1,je.remoteFeatures.socials=!1)},setProjectId(t){je.projectId=t},setCustomRpcUrls(t){je.customRpcUrls=t},setAllWallets(t){je.allWallets=t},setIncludeWalletIds(t){je.includeWalletIds=t},setExcludeWalletIds(t){je.excludeWalletIds=t},setFeaturedWalletIds(t){je.featuredWalletIds=t},setTokens(t){je.tokens=t},setTermsConditionsUrl(t){je.termsConditionsUrl=t},setPrivacyPolicyUrl(t){je.privacyPolicyUrl=t},setCustomWallets(t){je.customWallets=t},setIsSiweEnabled(t){je.isSiweEnabled=t},setIsUniversalProvider(t){je.isUniversalProvider=t},setSdkVersion(t){je.sdkVersion=t},setMetadata(t){je.metadata=t},setDisableAppend(t){je.disableAppend=t},setEIP6963Enabled(t){je.enableEIP6963=t},setDebug(t){je.debug=t},setEnableWalletConnect(t){je.enableWalletConnect=t},setEnableWalletGuide(t){je.enableWalletGuide=t},setEnableAuthLogger(t){je.enableAuthLogger=t},setEnableWallets(t){je.enableWallets=t},setPreferUniversalLinks(t){je.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(It.SIWX_DEFAULTS))t[e]??=r;je.siwx=t},setConnectMethodsOrder(t){je.features={...je.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){je.features={...je.features,walletFeaturesOrder:t}},setSocialsOrder(t){je.remoteFeatures={...je.remoteFeatures,socials:t}},setCollapseWallets(t){je.features={...je.features,collapseWallets:t}},setEnableEmbedded(t){je.enableEmbedded=t},setAllowUnsupportedChain(t){je.allowUnsupportedChain=t},setManualWCControl(t){je.manualWCControl=t},setEnableNetworkSwitch(t){je.enableNetworkSwitch=t},setEnableReconnect(t){je.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(je.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){je.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return je.universalProviderConfigOverride},getSnapshot(){return qg(je)}},iq=Object.freeze({enabled:!0,events:[]}),sq=new hy({baseUrl:Pe.getAnalyticsUrl(),clientId:null}),oq=5,aq=60*1e3,nu=mr({...iq}),cq={state:nu,subscribeKey(t,e){return Fi(nu,t,e)},async sendError(t,e){if(!nu.enabled)return;const r=Date.now();if(nu.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<aq}).length>=oq)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};nu.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=he.state;await sq.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){nu.enabled=!0},disable(){nu.enabled=!1},clearEvents(){nu.events=[]}};class b0 extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,b0.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,b0):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function G3(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof b0?t:new b0(r,e,t);throw cq.sendError(n,n.category),n}function Xs(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return G3(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return G3(a,e)}},r[n]=s}else r[n]=i}),r}var w0={};const lq="https://secure.walletconnect.org/sdk",uq=(typeof process<"u"&&typeof w0<"u"?w0.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||lq,fq=(typeof process<"u"&&typeof w0<"u"?w0.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",dq=(typeof process<"u"&&typeof w0<"u"?w0.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",$e={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},jn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},qi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},hq={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===qi.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${qi.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===qi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${qi.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===ae.CHAIN.SOLANA&&t===qi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${qi.COINBASE.url}/dapp?cb_url=${n}`),e===ae.CHAIN.BITCOIN&&t===qi.BINANCE.id&&!("binancew3w"in window)){const i=J.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(qi.BINANCE.deeplink);a.searchParams.set("appId",qi.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(qi.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},Os=mr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),pq={state:Os,subscribeNetworkImages(t){return fi(Os.networkImages,()=>t(Os.networkImages))},subscribeKey(t,e){return Fi(Os,t,e)},subscribe(t){return fi(Os,()=>t(Os))},setWalletImage(t,e){Os.walletImages[t]=e},setNetworkImage(t,e){Os.networkImages[t]=e},setChainImage(t,e){Os.chainImages[t]=e},setConnectorImage(t,e){Os.connectorImages={...Os.connectorImages,[t]:e}},setTokenImage(t,e){Os.tokenImages[t]=e},setCurrencyImage(t,e){Os.currencyImages[t]=e}},ka=Xs(pq),gq={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},lv=mr({networkImagePromises:{}}),TM={async fetchWalletImage(t){if(t)return await We._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(lv.networkImagePromises[t]||(lv.networkImagePromises[t]=We._fetchNetworkImage(t)),await lv.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return ka.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return ka.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return ka.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return ka.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return ka.state.connectorImages[t.imageId]},getChainImage(t){return ka.state.networkImages[gq[t]]}},Qo=mr({message:"",variant:"info",open:!1}),mq={state:Qo,subscribeKey(t,e){return Fi(Qo,t,e)},open(t,e){const{debug:r}=he.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(Qo.message=i,Qo.variant=e,Qo.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){Qo.open=!0,Qo.message=t,Qo.variant="warning",e&&console.warn(e,r)},close(){Qo.open=!1,Qo.message="",Qo.variant="info"}},ai=Xs(mq),yq=Pe.getAnalyticsUrl(),bq=new hy({baseUrl:yq,clientId:null}),wq=["MODAL_CREATED"],Gc=mr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Dt={state:Gc,subscribe(t){return fi(Gc,()=>t(Gc))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=Me.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),wq.includes(t.data.event)||typeof window>"u")return;const r=J.getActiveCaipNetwork()?.caipNetworkId;await bq.post({path:"/e",params:Dt.getSdkProperties(),body:{eventId:Pe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),Gc.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ae.HTTP_STATUS_CODES.FORBIDDEN&&!Gc.reportedErrors.FORBIDDEN&&(ai.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Kh()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Gc.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){Gc.timestamp=Date.now(),Gc.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(he.state.features?.analytics||e.includes(t.event))&&Dt._sendAnalyticsEvent(Gc)}},_q=Pe.getApiUrl(),rs=new hy({baseUrl:_q,clientId:null}),Eq=40,K3=4,vq=20,st=mr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),We={state:st,subscribeKey(t,e){return Fi(st,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=he.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return he.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${rs.baseUrl}/getWalletImage/${t}`,r=await rs.getBlob({path:e,params:We._getSdkProperties()});ka.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${rs.baseUrl}/public/getAssetImage/${t}`,r=await rs.getBlob({path:e,params:We._getSdkProperties()});ka.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${rs.baseUrl}/public/getAssetImage/${t}`,r=await rs.getBlob({path:e,params:We._getSdkProperties()});ka.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${rs.baseUrl}/public/getCurrencyImage/${t}`,r=await rs.getBlob({path:e,params:We._getSdkProperties()});ka.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${rs.baseUrl}/public/getTokenImage/${t}`,r=await rs.getBlob({path:e,params:We._getSdkProperties()});ka.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return Pe.isMobile()?t?.filter(r=>r.mobile_link||r.id===qi.COINBASE.id||r.id===qi.BINANCE.id?!0:J.state.activeChain==="solana"&&(r.id===qi.SOLFLARE.id||r.id===qi.PHANTOM.id)):t},async fetchProjectConfig(){return(await rs.get({path:"/appkit/v1/config",params:We._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await rs.get({path:"/projects/v1/origins",params:We._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===ae.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=ae.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=J.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!TM.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>We._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=xe.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>We._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>We._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];We._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(qi).map(s=>s.id));const n=await rs.get({path:"/getWallets",params:{...We._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:We._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=he.state;if(t?.length){const e={...We._getSdkProperties(),page:1,entries:t?.length??K3,include:t},{data:r}=await We.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>We._fetchWalletImage(s))),st.featured=n,st.allFeatured=n}},async fetchRecommendedWallets(){try{st.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=he.state,n=[...e??[],...r??[]].filter(Boolean),i=J.getRequestedCaipNetworkIds().join(","),s={page:1,entries:K3,include:t,exclude:n,chains:i},{data:o,count:a}=await We.fetchWallets(s),c=be.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>We._fetchWalletImage(f))),st.recommended=o,st.allRecommended=o,st.count=a??0}catch{}finally{st.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(","),s=[...st.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:Eq,include:e,exclude:s,chains:i},{data:a,count:c}=await We.fetchWallets(o),l=a.slice(0,vq).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>We._fetchWalletImage(u))),st.wallets=Pe.uniqueBy([...st.wallets,...We._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(f=>i.includes(f))),st.count=c>st.count?c:st.count,st.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await We.fetchWallets(e);r&&r.forEach(n=>{st.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=he.state,i=J.getRequestedCaipNetworkIds().join(",");st.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await We.fetchWallets(s);Dt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>We._fetchWalletImage(c)),Pe.wait(300)]),st.search=We._filterOutExtensions(o)},initPromise(t,e){const r=st.promises[t];return r||(st.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&We.initPromise("connectorImages",We.fetchConnectorImages),e&&We.initPromise("featuredWallets",We.fetchFeaturedWallets),r&&We.initPromise("recommendedWallets",We.fetchRecommendedWallets),n&&We.initPromise("networkImages",We.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){he.state.features?.analytics&&We.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await rs.get({path:"/getAnalyticsConfig",params:We._getSdkProperties()});he.setFeatures({analytics:t})}catch{he.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){st.filteredWallets=[]},setFilterByNamespace(t){if(!t){st.featured=st.allFeatured,st.recommended=st.allRecommended;return}const e=J.getRequestedCaipNetworkIds().join(",");st.featured=st.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),st.recommended=st.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),st.filteredWallets=st.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},tr=mr({view:"Connect",history:["Connect"],transactionStack:[]}),xq={state:tr,subscribeKey(t,e){return Fi(tr,t,e)},pushTransactionStack(t){tr.transactionStack.push(t)},popTransactionStack(t){const e=tr.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),Ve.goBack();break;case"cancel":i?.(),Ve.goBack();break}},push(t,e){t!==tr.view&&(tr.view=t,tr.history.push(t),tr.data=e)},reset(t,e){tr.view=t,tr.history=[t],tr.data=e},replace(t,e){tr.history.at(-1)===t||(tr.view=t,tr.history[tr.history.length-1]=t,tr.data=e)},goBack(){const t=J.state.activeCaipAddress,e=Ve.state.view==="ConnectingFarcaster",r=!t&&e;if(tr.history.length>1){tr.history.pop();const[n]=tr.history.slice(-1);n&&(t&&n==="Connect"?tr.view="Account":tr.view=n)}else At.close();tr.data?.wallet&&(tr.data.wallet=void 0),setTimeout(()=>{if(r){Me.setFarcasterUrl(void 0,J.state.activeChain);const n=xe.getAuthConnector();n?.provider?.reload();const i=qg(he.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(tr.history.length>1){tr.history=tr.history.slice(0,t+1);const[e]=tr.history.slice(-1);e&&(tr.view=e)}},goBackOrCloseModal(){Ve.state.history.length>1?Ve.goBack():At.close()}},Ve=Xs(xq),Kc=mr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),l2={state:Kc,subscribe(t){return fi(Kc,()=>t(Kc))},setThemeMode(t){Kc.themeMode=t;try{const e=xe.getAuthConnector();if(e){const r=l2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:zg(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Kc.themeVariables={...Kc.themeVariables,...t};try{const e=xe.getAuthConnector();if(e){const r=l2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:zg(Kc.themeVariables,Kc.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return qg(Kc)}},bs=Xs(l2),RM=Object.fromEntries(CM.map(t=>[t,void 0])),Aq=Object.fromEntries(CM.map(t=>[t,!0])),Mt=mr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:RM,filterByNamespaceMap:Aq}),Cq={state:Mt,subscribe(t){return fi(Mt,()=>{t(Mt)})},subscribeKey(t,e){return Fi(Mt,t,e)},initialize(t){t.forEach(e=>{const r=be.getConnectedConnectorId(e);r&&xe.setConnectorId(r,e)})},setActiveConnector(t){t&&(Mt.activeConnector=Cd(t))},setConnectors(t){t.filter(i=>!Mt.allConnectors.some(s=>s.id===i.id&&xe.getConnectorName(s.name)===xe.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&Mt.allConnectors.push(Cd(i))});const r=xe.getEnabledNamespaces(),n=xe.getEnabledConnectors(r);Mt.connectors=xe.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(Mt.filterByNamespaceMap).forEach(e=>{Mt.filterByNamespaceMap[e]=!1}),t.forEach(e=>{Mt.filterByNamespaceMap[e]=!0}),xe.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){Mt.filterByNamespaceMap[t]=e,xe.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=xe.getEnabledNamespaces(),e=xe.getEnabledConnectors(t),r=xe.areAllNamespacesEnabled();Mt.connectors=xe.mergeMultiChainConnectors(e),r?We.clearFilterByNamespaces():We.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(Mt.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return Mt.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(Mt.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=xe.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===ae.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=xe.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===ae.CONNECTOR_ID.AUTH){const e=t,r=qg(he.state),n=bs.getSnapshot().themeMode,i=bs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:zg(i,n)}),xe.setConnectors([t])}else xe.setConnectors([t])},getAuthConnector(t){const e=t||J.state.activeChain,r=Mt.connectors.find(n=>n.id===ae.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return Mt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return Mt.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||J.state.activeChain;return Mt.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=qg(he.state),n=bs.getSnapshot().themeMode,i=bs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:zg(i,n)})},getConnectorsByNamespace(t){const e=Mt.allConnectors.filter(r=>r.chain===t);return xe.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Is(t)===jn.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=xe.getConnector({id:t.id,rdns:t.rdns});hq.handleMobileDeeplinkRedirect(e?.explorerId||t.id,J.state.activeChain),e?Ve.push("ConnectingExternal",{connector:e,wallet:t}):Ve.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?xe.getConnectorsByNamespace(t):xe.mergeMultiChainConnectors(Mt.allConnectors)},setFilterByNamespace(t){Mt.filterByNamespace=t,Mt.connectors=xe.getConnectors(t),We.setFilterByNamespace(t)},setConnectorId(t,e){t&&(Mt.activeConnectorIds={...Mt.activeConnectorIds,[e]:t},be.setConnectedConnectorId(e,t))},removeConnectorId(t){Mt.activeConnectorIds={...Mt.activeConnectorIds,[t]:void 0},be.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return Mt.activeConnectorIds[t]},isConnected(t){return t?!!Mt.activeConnectorIds[t]:Object.values(Mt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){Mt.activeConnectorIds={...RM}}},xe=Xs(Cq),Nq=1e3,lp={checkNamespaceConnectorId(t,e){return xe.getConnectorId(t)===e},isSocialProvider(t){return It.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&xe.setActiveConnector(e),i?.(Pe.isMobile()&&t),n){const l=At.subscribeKey("open",u=>{u||(Ve.state.view!==n&&Ve.replace(n),l(),a(new Error("Modal closed")))})}const c=J.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&At.close(),c(),o(Vi.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=J.subscribeKey("activeCaipAddress",i=>{i&&(At.close(),n(),e(Vi.parseCaipAddress(i)))});Ne.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=Me.state.socialWindow,o=Me.state.socialProvider,a=!1,c=null;const l=e||J.state.activeChain,u=J.subscribeKey("activeCaipAddress",f=>{f&&(r&&At.close(),u())});return new Promise((f,d)=>{async function h(g){if(g.data?.resultUri)if(g.origin===ae.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const b=xe.getAuthConnector(l);if(b&&!a){s&&(s.close(),Me.setSocialWindow(void 0,l),s=Me.state.socialWindow),a=!0;const v=g.data.resultUri;if(o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){be.setConnectedSocialProvider(o),await Ne.connectExternal({id:b.id,type:b.type,socialUri:v},b.chain);const C=J.state.activeCaipAddress;if(!C){d(new Error("Failed to connect"));return}f(Vi.parseCaipAddress(C)),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),d(new Error("Failed to connect"))}}else o&&Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function m(){if(t&&(Me.setSocialProvider(t,l),o=Me.state.socialProvider,Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const g=At.subscribeKey("open",v=>{!v&&t==="farcaster"&&(d(new Error("Popup closed")),i?.(),g())}),b=xe.getAuthConnector();if(b&&!Me.state.farcasterUrl)try{const{url:v}=await b.provider.getFarcasterUri();Me.setFarcasterUrl(v,l)}catch{d(new Error("Failed to connect to farcaster"))}}else{const g=xe.getAuthConnector();c=Pe.returnOpenHref(`${ae.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:b}=await g.provider.getSocialRedirectUri({provider:o});if(c&&b){Me.setSocialWindow(c,l),s=Me.state.socialWindow,c.location.href=b;const v=setInterval(()=>{s?.closed&&!a&&(d(new Error("Popup closed")),clearInterval(v))},1e3);window.addEventListener("message",h,!1)}else c?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),c?.close()}}}m()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=At.subscribeKey("open",c=>{c||(Ve.state.view!==e&&Ve.replace(e),a(),s(new Error("Modal closed")))})}const o=J.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&At.close(),o(),i(Vi.parseCaipAddress(a)))})})},async updateEmail(){const t=be.getConnectedConnectorId(J.state.activeChain),e=xe.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==ae.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await At.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(At.close(),clearInterval(s),o(),n({email:a}))},Nq),o=At.subscribeKey("open",a=>{a||(Ve.state.view!=="Connect"&&Ve.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return J.checkIfSmartAccountEnabled()&&Is(t)===jn.ACCOUNT_TYPES.EOA}};function PM(){const t=J.state.activeCaipNetwork?.chainNamespace||"eip155",e=J.state.activeCaipNetwork?.id||1,r=It.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function Is(t){return J.getAccountData(t)?.preferredAccountType}function jp(t){return t?J.state.chains.get(t)?.networkState?.caipNetwork:J.state.activeCaipNetwork}const o1={getConnectionStatus(t,e){const r=xe.state.activeConnectorIds[e],n=Ne.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!he.state.remoteFeatures?.multiWallet,r=xe.state.activeConnectorIds[t],n=Ne.getConnections(t),s=(Ne.state.recentConnections.get(t)??[]).filter(a=>xe.getConnectorById(a.connectorId)),o=o1.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},Kf=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),yn=mr({...Kf}),Sq={state:yn,subscribeKey(t,e){return Fi(yn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Pe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){yn.message=Kf.message,yn.variant=Kf.variant,yn.svg=Kf.svg,yn.open=Kf.open,yn.autoClose=Kf.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=Kf.autoClose}){yn.open?(yn.open=!1,setTimeout(()=>{yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n},150)):(yn.message=t,yn.variant=r,yn.svg=e,yn.open=!0,yn.autoClose=n)}},Nc=Sq,$r=mr({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Iq={state:$r,subscribe(t){return fi($r,()=>t($r))},setLastNetworkInView(t){$r.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");$r.loading=!0;try{const e=await Ke.fetchTransactions({account:t,cursor:$r.next,chainId:J.state.activeCaipNetwork?.caipNetworkId}),r=Wb.filterSpamTransactions(e.data),n=Wb.filterByConnectedChain(r),i=[...$r.transactions,...n];$r.loading=!1,$r.transactions=i,$r.transactionsByYear=Wb.groupTransactionsByYearAndMonth($r.transactionsByYear,n),$r.empty=i.length===0,$r.next=e.next?e.next:void 0}catch{const r=J.state.activeChain;Dt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:he.state.projectId,cursor:$r.next,isSmartAccount:Is(r)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}}),Nc.showError("Failed to fetch transactions"),$r.loading=!1,$r.empty=!0,$r.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=J.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){$r.next=void 0},resetTransactions(){$r.transactions=[],$r.transactionsByYear={},$r.lastNetworkInView=void 0,$r.loading=!1,$r.empty=!1,$r.next=void 0}},Wb=Xs(Iq,"API_ERROR"),Ut=mr({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Uf;const Tq={state:Ut,subscribe(t){return fi(Ut,()=>t(Ut))},subscribeKey(t,e){return Fi(Ut,t,e)},_getClient(){return Ut._client},setClient(t){Ut._client=Cd(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);Ne.syncStorageConnections(e)},syncStorageConnections(t){const e=be.getConnections(),r=t??Array.from(J.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(Ut.recentConnections);s.set(n,i),Ut.recentConnections=s}},getConnections(t){return t?Ut.connections.get(t)??[]:[]},hasAnyConnection(t){const e=Ne.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=Pe.isTelegram()||Pe.isSafari()&&Pe.isIos();if(t==="always"||t==="auto"&&e){if(Uf){await Uf,Uf=void 0;return}if(!Pe.isPairingExpired(Ut?.wcPairingExpiry)){const r=Ut.wcUri;Ut.wcUri=r;return}Uf=Ne._getClient()?.connectWalletConnect?.().catch(()=>{}),Ne.state.status="connecting",await Uf,Uf=void 0,Ut.wcPairingExpiry=void 0,Ne.state.status="connected"}else await Ne._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await Ne._getClient()?.connectExternal?.(t);return r&&J.setActiveNamespace(e),n},async reconnectExternal(t){await Ne._getClient()?.reconnectExternal?.(t);const e=t.chain||J.state.activeChain;e&&xe.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;At.setLoading(!0,J.state.activeChain);const r=xe.getAuthConnector();r&&(Me.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),be.setPreferredAccountTypes(Object.entries(J.state.chains).reduce((n,[i,s])=>{const o=i,a=Is(o);return a!==void 0&&(n[o]=a),n},{})),await Ne.reconnectExternal(r),At.setLoading(!1,J.state.activeChain),Dt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:J.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return Ne._getClient()?.signMessage(t)},parseUnits(t,e){return Ne._getClient()?.parseUnits(t,e)},formatUnits(t,e){return Ne._getClient()?.formatUnits(t,e)},updateBalance(t){return Ne._getClient()?.updateBalance(t)},async sendTransaction(t){return Ne._getClient()?.sendTransaction(t)},async getCapabilities(t){return Ne._getClient()?.getCapabilities(t)},async grantPermissions(t){return Ne._getClient()?.grantPermissions(t)},async walletGetAssets(t){return Ne._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return Ne._getClient()?.estimateGas(t)},async writeContract(t){return Ne._getClient()?.writeContract(t)},async getEnsAddress(t){return Ne._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return Ne._getClient()?.getEnsAvatar(t)},checkInstalled(t){return Ne._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Ut.wcLinking=void 0,Ut.recentWallet=void 0,Ut.status="disconnected",Wb.resetTransactions(),be.deleteWalletConnectDeepLink()},resetUri(){Ut.wcUri=void 0,Ut.wcPairingExpiry=void 0,Uf=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=Ne.state;e&&be.setWalletConnectDeepLink(e),r&&be.setAppKitRecent(r),t&&Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Ve.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){Ut.wcBasic=t},setUri(t){Ut.wcUri=t,Ut.wcPairingExpiry=Pe.getPairingExpiry()},setWcLinking(t){Ut.wcLinking=t},setWcError(t){Ut.wcError=t,Ut.buffering=!1},setRecentWallet(t){Ut.recentWallet=t},setBuffering(t){Ut.buffering=t},setStatus(t){Ut.status=t},setIsSwitchingConnection(t){Ut.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await Ne._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new b0("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(Ut.connections);r.set(e,t),Ut.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=Me.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&lp.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await Ne.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=xe.getConnectorById(t.connectorId),i=t.connectorId===ae.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e});else return(await Ne.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=xe.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===ae.CONNECTOR_ID.AUTH,a=t.connectorId===ae.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&lp.isSocialProvider(s)){const{address:l}=await lp.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){At.open({view:"ConnectingFarcaster"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const{address:l}=await lp.connectEmail({closeModalOnConnect:n,onOpen(){At.open({view:"EmailLogin"})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await lp.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";At.state.open?Ve.push(f):At.open({view:f})},onConnect(){Ve.replace("ProfileWallets")}});c=l}else{const l=await Ne.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await Ne.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=Me.getCaipAddress(r);if(o){const{address:c}=Vi.parseCaipAddress(o);s=c}const a=o1.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await Ne.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await Ne.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},Ne=Xs(Tq),th=mr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Ba={state:th,subscribe(t){return fi(th,()=>t(th))},subscribeOpen(t){return Fi(th,"open",t)},set(t){Object.assign(th,{...th,...t})}},Rq={async getTokenList(t){return(await Ke.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=J.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await Ne?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Ke.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await Ke.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=Ne.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await JN.getMyTokensWithBalance(t);return Me.setTokenBalance(e,J.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:PM(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Xt=mr({tokenBalances:[],loading:!1}),Pq={state:Xt,subscribe(t){return fi(Xt,()=>t(Xt))},subscribeKey(t,e){return Fi(Xt,t,e)},setToken(t){t&&(Xt.token=Cd(t))},setTokenAmount(t){Xt.sendTokenAmount=t},setReceiverAddress(t){Xt.receiverAddress=t},setReceiverProfileImageUrl(t){Xt.receiverProfileImageUrl=t},setReceiverProfileName(t){Xt.receiverProfileName=t},setNetworkBalanceInUsd(t){Xt.networkBalanceInUSD=t},setLoading(t){Xt.loading=t},async sendToken(){try{switch(St.setLoading(!0),J.state.activeCaipNetwork?.chainNamespace){case"eip155":await St.sendEvmToken();return;case"solana":await St.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{St.setLoading(!1)}},async sendEvmToken(){const t=J.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Is(t);if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!St.state.token)throw new Error("A token is required");St.state.token?.address?(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.address,amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendERC20Token({receiverAddress:St.state.receiverAddress,tokenAddress:St.state.token.address,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals})):(Dt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token.symbol||"",amount:St.state.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),await St.sendNativeToken({receiverAddress:St.state.receiverAddress,sendTokenAmount:St.state.sendTokenAmount,decimals:St.state.token.quantity.decimals}))},async fetchTokenBalance(t){Xt.loading=!0;const e=J.state.activeChain,r=J.state.activeCaipNetwork?.caipNetworkId,n=J.state.activeCaipNetwork?.chainNamespace,i=Me.getCaipAddress(e)??J.state.activeCaipAddress,s=i?Pe.getPlainAddress(i):void 0;if(Xt.lastRetry&&!Pe.isAllowedRetry(Xt.lastRetry,30*It.ONE_SEC_MS))return Xt.loading=!1,[];try{if(s&&r&&n){const o=await JN.getMyTokensWithBalance();return Xt.tokenBalances=o,Xt.lastRetry=void 0,o}}catch(o){Xt.lastRetry=Date.now(),t?.(o),Nc.showError("Token Balance Unavailable")}finally{Xt.loading=!1}return[]},fetchNetworkBalance(){if(Xt.tokenBalances.length===0)return;const t=Rq.mapBalancesToSwapTokens(Xt.tokenBalances);if(!t)return;const e=t.find(r=>r.address===PM());e&&(Xt.networkBalanceInUSD=e?XW.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Ve.pushTransactionStack({});const e=t.receiverAddress,r=Me.state.address,n=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await Ne.sendTransaction({chainNamespace:ae.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),Dt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Is("eip155")===jn.ACCOUNT_TYPES.SMART_ACCOUNT,token:St.state.token?.symbol||"",amount:t.sendTokenAmount,network:J.state.activeCaipNetwork?.caipNetworkId||""}}),Ne._getClient()?.updateBalance("eip155"),St.resetSend()},async sendERC20Token(t){Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});const e=Ne.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Me.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=Pe.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Ne.writeContract({fromAddress:Me.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:tq.getERC20Abi(r),chainNamespace:ae.CHAIN.EVM}),St.resetSend()}},async sendSolanaToken(){if(!St.state.sendTokenAmount||!St.state.receiverAddress)throw new Error("An amount and receiver address are required");Ve.pushTransactionStack({onSuccess(){Ve.replace("Account")}});let t;if(St.state.token&&Pe.isCaipAddress(St.state.token.address)){const[,,e]=St.state.token.address.split(":");t=e}await Ne.sendTransaction({chainNamespace:"solana",tokenMint:t,to:St.state.receiverAddress,value:St.state.sendTokenAmount}),Ne._getClient()?.updateBalance("solana"),St.resetSend()},resetSend(){Xt.token=void 0,Xt.sendTokenAmount=void 0,Xt.receiverAddress=void 0,Xt.receiverProfileImageUrl=void 0,Xt.receiverProfileName=void 0,Xt.loading=!1,Xt.tokenBalances=[]}},St=Xs(Pq),uv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Ky={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ie=mr({chains:HW(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Oq={state:Ie,subscribe(t){return fi(Ie,()=>{t(Ie)})},subscribeKey(t,e){return Fi(Ie,t,e)},subscribeChainProp(t,e,r){let n;return fi(Ie.chains,()=>{const i=r||Ie.activeChain;if(i){const s=Ie.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=be.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=he.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Ie.noAdapters=!0),Ie.noAdapters||(Ie.activeChain=a?.namespace,Ie.activeCaipNetwork=s,J.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ie.activeChain&&Ba.set({activeChain:a?.namespace})),l.forEach(u=>{const f=e?.filter(m=>m.chainNamespace===u),d=be.getPreferredAccountTypes()||{},h={...he.state.defaultAccountTypes,...d};J.state.chains.set(u,{namespace:u,networkState:mr({...Ky,caipNetwork:f?.[0]}),accountState:mr({...uv,preferredAccountType:h[u]}),caipNetworks:f??[],...r}),J.setRequestedCaipNetworks(f??[],u)})},removeAdapter(t){if(Ie.activeChain===t){const e=Array.from(Ie.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&J.setActiveCaipNetwork(r)}}Ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Ky,caipNetwork:n[0]},accountState:uv,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),J.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ie.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),Ie.chains.set(t.chainNamespace,{...e,caipNetworks:r}),J.setRequestedCaipNetworks(r,t.chainNamespace),xe.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=Ie.chains.get(t);if(r){const n=Ie.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&J.setActiveCaipNetwork(r.caipNetworks[0]),Ie.chains.set(t,{...r,caipNetworks:i}),J.setRequestedCaipNetworks(i||[],t),i.length===0&&xe.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Ie.chains.get(t);r&&(r.networkState={...r.networkState||Ky,...e},Ie.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Ie.chains.get(t);if(n){const i={...n.accountState||uv,...e};Ie.chains.set(t,{...n,accountState:i}),(Ie.chains.size===1||Ie.activeChain===t)&&(e.caipAddress&&(Ie.activeCaipAddress=e.caipAddress),Me.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Ie.chains.get(t);if(r){const n={...r.networkState||Ky,...e};Ie.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){J.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){Ie.activeChain=t;const e=t?Ie.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(Ie.activeCaipAddress=e?.accountState?.caipAddress,Ie.activeCaipNetwork=r,J.setChainNetworkData(t,{caipNetwork:r}),be.setActiveCaipNetworkId(r?.caipNetworkId),Ba.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ie.activeChain!==t.chainNamespace&&J.setIsSwitchingNamespace(!0);const e=Ie.chains.get(t.chainNamespace);Ie.activeChain=t.chainNamespace,Ie.activeCaipNetwork=t,J.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ie.activeCaipAddress=void 0,J.setAccountProp("caipAddress",Ie.activeCaipAddress,t.chainNamespace),e&&Me.replaceState(e.accountState),St.resetSend(),Ba.set({activeChain:Ie.activeChain,selectedNetworkId:Ie.activeCaipNetwork?.caipNetworkId}),be.setActiveCaipNetworkId(t.caipNetworkId),!J.checkIfSupportedNetwork(t.chainNamespace)&&he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&!Ne.state.wcBasic&&J.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ie.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==J.state.activeChain,r=J.getNetworkData(t)?.caipNetwork,n=J.getCaipNetworkByNamespace(t,r?.id);e&&n&&await J.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=J.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!J.state.chains.get(e)?.caipNetworks?.some(s=>s.id===Ie.activeCaipNetwork?.id),i=J.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&At.close()}catch{Ve.goBack()}Dt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=Ie.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Ie.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=Ie.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Ie.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return Pe.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=J.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){J.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=J.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));xe.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ie.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=J.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?Ie.chains.get(t)?.networkState?.caipNetwork:Ie.activeCaipNetwork},getActiveCaipAddress(){return Ie.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ie.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await J.getNetworkControllerClient()?.getApprovedCaipNetworksData();J.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Ie.activeCaipNetwork?.caipNetworkId,n=J.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return Ie.activeChain?J.getRequestedCaipNetworks(Ie.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){J.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=AM.caipNetworkIdToNumber(Ie.activeCaipNetwork?.caipNetworkId),e=Ie.activeChain;return!e||!t?!1:!!J.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){At.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ie.activeCaipNetwork;return!!(t?.chainNamespace&&It.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){J.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=J.state.chains.get(e)?.accountState?.preferredAccountType,n=he.state.defaultAccountTypes[e];Ie.activeCaipAddress=void 0,J.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),xe.removeConnectorId(e)},setIsSwitchingNamespace(t){Ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ie.chains.forEach(r=>{ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?Ie.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ie.activeChain;if(e)return J.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=J.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=xe.state.filterByNamespace;return(t?[Ie.chains.get(t)]:Array.from(Ie.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?J.getRequestedCaipNetworks(t):J.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ie.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ie.lastConnectedSIWECaipNetwork}},J=Xs(Oq),Dq={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},OM=Pe.getBlockchainApiUrl(),ns=mr({clientId:null,api:new hy({baseUrl:OM,clientId:null}),supportedChains:{http:[],ws:[]}}),Ke={state:ns,async get(t){const{st:e,sv:r}=Ke.getSdkProperties(),n=he.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return ns.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=he.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ns.supportedChains.http.length||await Ke.getSupportedNetworks()}catch{return!1}return ns.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Ke.get({path:"v1/supported-chains"});return ns.supportedChains=t,t}catch{return ns.supportedChains}},async fetchIdentity({address:t}){const e=be.getIdentityFromCacheForAddress(t);if(e)return e;const r=await Ke.get({path:`/v1/identity/${t}`,params:{sender:J.state.activeCaipAddress?Pe.getPlainAddress(J.state.activeCaipAddress):void 0}});return be.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=be.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await Ke.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return be.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=be.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await ns.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:he.state.projectId},headers:{"Content-Type":"application/json"}});return be.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ke.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ns.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:It.CONVERT_SLIPPAGE_TOLERANCE},projectId:he.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ke.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=Ke.getSdkProperties();if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return Nc.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=be.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Ke.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return be.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/reverse/${t}`,params:{sender:Me.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?ns.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?(await ns.api.post({path:"/v1/generators/onrampurl",params:{projectId:he.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ke.get({path:"/v1/onramp/options"})}catch{return Dq}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?await ns.api.post({path:"/v1/onramp/quote",params:{projectId:he.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?Ke.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await Ke.isNetworkSupported(J.state.activeCaipNetwork?.caipNetworkId)?ns.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:he.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){ns.clientId=t,ns.api=new hy({baseUrl:OM,clientId:t})}};function kq(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function V3(t){return kq(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const DM="2.37.13";let fv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${DM}`},nc=class u2 extends Error{constructor(e,r={}){const n=r.cause instanceof u2?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof u2&&r.cause.docsPath||r.docsPath,s=fv.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...fv.version?[`Version: ${fv.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=DM}walk(e){return kM(this,e)}};function kM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?kM(t.cause,e):e?null:t}class Mke extends nc{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let MM=class extends nc{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function zN(t,{dir:e,size:r=32}={}){return typeof t=="string"?Mq(t,{dir:e,size:r}):Uq(t,{dir:e,size:r})}function Mq(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new MM({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Uq(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new MM({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let $q=class extends nc{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Lq=class extends nc{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function UM(t,{size:e}){if(V3(t)>e)throw new Lq({givenSize:V3(t),maxSize:e})}const Fq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function J3(t,e={}){return typeof t=="number"||typeof t=="bigint"?jq(t,e):typeof t=="string"?LM(t,e):typeof t=="boolean"?Bq(t,e):$M(t,e)}function Bq(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(UM(r,{size:e.size}),zN(r,{size:e.size})):r}function $M(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Fq[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(UM(n,{size:e.size}),zN(n,{dir:"right",size:e.size})):n}function jq(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new $q({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?zN(a,{size:n}):a}const Hq=new TextEncoder;function LM(t,e={}){const r=Hq.encode(t);return $M(r,e)}const Vy=BigInt(2**32-1),Y3=BigInt(32);function Wq(t,e=!1){return e?{h:Number(t&Vy),l:Number(t>>Y3&Vy)}:{h:Number(t>>Y3&Vy)|0,l:Number(t&Vy)|0}}function qq(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=Wq(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const zq=(t,e,r)=>t<<r|e>>>32-r,Gq=(t,e,r)=>e<<r|t>>>32-r,Kq=(t,e,r)=>e<<r-32|t>>>64-r,Vq=(t,e,r)=>t<<r-32|e>>>64-r,rh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function a1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _0(t,...e){if(!Jq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Fke(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");a1(t.outputLen),a1(t.blockLen)}function X3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yq(t,e){_0(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Xq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function FM(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Bke(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function jke(t,e){return t<<32-e|t>>>e}const Qq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Zq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function ez(t){for(let e=0;e<t.length;e++)t[e]=Zq(t[e]);return t}const Q3=Qq?t=>t:ez,tz=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",rz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hke(t){if(_0(t),tz)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=rz[t[r]];return e}function nz(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function BM(t){return typeof t=="string"&&(t=nz(t)),_0(t),t}function Wke(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];_0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class iz{}function sz(t){const e=n=>t().update(BM(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function qke(t=32){if(rh&&typeof rh.getRandomValues=="function")return rh.getRandomValues(new Uint8Array(t));if(rh&&typeof rh.randomBytes=="function")return Uint8Array.from(rh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const oz=BigInt(0),up=BigInt(1),az=BigInt(2),cz=BigInt(7),lz=BigInt(256),uz=BigInt(113),jM=[],HM=[],WM=[];for(let t=0,e=up,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],jM.push(2*(5*n+r)),HM.push((t+1)*(t+2)/2%64);let i=oz;for(let s=0;s<7;s++)e=(e<<up^(e>>cz)*uz)%lz,e&az&&(i^=up<<(up<<BigInt(s))-up);WM.push(i)}const qM=qq(WM,!0),fz=qM[0],dz=qM[1],Z3=(t,e,r)=>r>32?Kq(t,e,r):zq(t,e,r),eT=(t,e,r)=>r>32?Vq(t,e,r):Gq(t,e,r);function hz(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=Z3(l,u,1)^r[a],d=eT(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=HM[o],c=Z3(i,s,a),l=eT(i,s,a),u=jM[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=fz[n],t[1]^=dz[n]}FM(r)}class GN extends iz{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,a1(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Xq(this.state)}clone(){return this._cloneInto()}keccak(){Q3(this.state32),hz(this.state32,this.rounds),Q3(this.state32),this.posOut=0,this.pos=0}update(e){X3(this),e=BM(e),_0(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){X3(this,!1),_0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return a1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Yq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,FM(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new GN(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const pz=(t,e,r)=>sz(()=>new GN(e,t,r)),gz=pz(1,136,256/8);let mz=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const gd=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function yz(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const KN=t=>t;class ag extends nc{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${KN(o)}`,e&&`Request body: ${gd(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class zM extends nc{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${KN(n)}`,`Request body: ${gd(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class tT extends nc{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${KN(r)}`,`Request body: ${gd(e)}`],name:"TimeoutError"})}}const bz=-1;class Rs extends nc{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof zM?e.code:r??bz}}class Qs extends Rs{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Gg extends Rs{constructor(e){super(e,{code:Gg.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Gg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kg extends Rs{constructor(e){super(e,{code:Kg.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Kg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Vg extends Rs{constructor(e,{method:r}={}){super(e,{code:Vg.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jg extends Rs{constructor(e){super(e,{code:Jg.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class E0 extends Rs{constructor(e){super(e,{code:E0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(E0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Yg extends Rs{constructor(e){super(e,{code:Yg.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Yg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xg extends Rs{constructor(e){super(e,{code:Xg.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qg extends Rs{constructor(e){super(e,{code:Qg.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class v0 extends Rs{constructor(e){super(e,{code:v0.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(v0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class sd extends Rs{constructor(e,{method:r}={}){super(e,{code:sd.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(sd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class x0 extends Rs{constructor(e){super(e,{code:x0.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(x0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Zg extends Rs{constructor(e){super(e,{code:Zg.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class md extends Qs{constructor(e){super(e,{code:md.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(md,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class em extends Qs{constructor(e){super(e,{code:em.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(em,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class tm extends Qs{constructor(e,{method:r}={}){super(e,{code:tm.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(tm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class rm extends Qs{constructor(e){super(e,{code:rm.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(rm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class nm extends Qs{constructor(e){super(e,{code:nm.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(nm,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class im extends Qs{constructor(e){super(e,{code:im.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(im,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class sm extends Qs{constructor(e){super(e,{code:sm.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class om extends Qs{constructor(e){super(e,{code:om.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class am extends Qs{constructor(e){super(e,{code:am.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class cm extends Qs{constructor(e){super(e,{code:cm.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(cm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class lm extends Qs{constructor(e){super(e,{code:lm.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(lm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class um extends Qs{constructor(e){super(e,{code:um.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(um,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class fm extends Qs{constructor(e){super(e,{code:fm.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(fm,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class wz extends Rs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const _z="modulepreload",Ez=function(t,e){return new URL(t,e).href},rT={},Gn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(r.map(u=>{if(u=Ez(u,n),u in rT)return;rT[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(n)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===u&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":_z,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((m,g)=>{h.addEventListener("load",m),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class VN extends nc{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(VN,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(VN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function vz(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const dv=new Map;function xz({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const f=u.map(({args:d})=>d);f.length!==0&&t(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let h=0;h<u.length;h++){const{resolve:m}=u[h];m?.([d[h],d])}}).catch(d=>{for(let h=0;h<u.length;h++){const{reject:m}=u[h];m?.(d)}})},o=()=>dv.delete(e),a=()=>c().map(({args:u})=>u),c=()=>dv.get(e)||[],l=u=>dv.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:d,reject:h}=vz();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:d,reject:h}),f):(l({args:u,resolve:d,reject:h}),setTimeout(s,n),f)}}}async function GM(t){return new Promise(e=>setTimeout(e,t))}function Az(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await GM(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const f2=256;let Jy=f2,Yy;function Cz(t=11){if(!Yy||Jy+t>f2*2){Yy="",Jy=0;for(let e=0;e<f2;e++)Yy+=(256+Math.random()*256|0).toString(16).substring(1)}return Yy.substring(Jy,Jy+++t)}const Xy=new mz(8192);function Nz(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Xy.get(r))return Xy.get(r);const n=t().finally(()=>Xy.delete(r));return Xy.set(r,n),n}function Sz(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new sd(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new sd(new Error("method not supported"),{method:l});const u=i?LM(`${c}.${gd(r)}`):void 0;return Nz(()=>Az(async()=>{try{return await t(r)}catch(f){const d=f;switch(d.code){case Gg.code:throw new Gg(d);case Kg.code:throw new Kg(d);case Vg.code:throw new Vg(d,{method:r.method});case Jg.code:throw new Jg(d);case E0.code:throw new E0(d);case Yg.code:throw new Yg(d);case Xg.code:throw new Xg(d);case Qg.code:throw new Qg(d);case v0.code:throw new v0(d);case sd.code:throw new sd(d,{method:r.method});case x0.code:throw new x0(d);case Zg.code:throw new Zg(d);case md.code:throw new md(d);case em.code:throw new em(d);case tm.code:throw new tm(d);case rm.code:throw new rm(d);case nm.code:throw new nm(d);case im.code:throw new im(d);case sm.code:throw new sm(d);case om.code:throw new om(d);case am.code:throw new am(d);case cm.code:throw new cm(d);case lm.code:throw new lm(d);case um.code:throw new um(d);case fm.code:throw new fm(d);case 5e3:throw new md(d);default:throw f instanceof nc?f:new wz(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof ag){const h=d?.headers?.get("Retry-After");if(h?.match(/\d/))return Number.parseInt(h,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Iz(f)}),{enabled:i,id:u})}}function Iz(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===x0.code||t.code===E0.code:t instanceof ag&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function KM(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Tz(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function Rz(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const nT=Rz();function Pz(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const d=await Tz(async({signal:m})=>{const g={...c,body:Array.isArray(n)?gd(n.map(S=>({jsonrpc:"2.0",id:S.id??nT.take(),...S}))):gd({jsonrpc:"2.0",id:n.id??nT.take(),...n}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?m:null)},b=new Request(t,g),v=await s?.(b,g)??{...g,url:t};return await i(v.url??t,v)},{errorInstance:new tT({body:n,url:t}),timeout:a,signal:!0});o&&await o(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(m){if(d.ok)throw m;h={error:h}}}if(!d.ok)throw new ag({body:n,details:gd(h.error)||d.statusText,headers:d.headers,status:d.status,url:t});return h}catch(d){throw d instanceof ag||d instanceof tT?d:new ag({body:n,cause:d,url:t})}}}}function VM({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Cz();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:Sz(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function iT(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=Oz,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let d=t,h=()=>{};const m=VM({key:r,name:n,async request({method:g,params:b}){let v;const C=async(S=0)=>{const D=d[S]({...f,chain:c,retryCount:0,timeout:u});try{const O=await D.request({method:g,params:b});return h({method:g,params:b,response:O,transport:D,status:"success"}),O}catch(O){if(h({error:O,method:g,params:b,transport:D,status:"error"}),s(O)||S===d.length-1||(v??=d.slice(S+1).some(k=>{const{include:F,exclude:A}=k({chain:c}).config.methods||{};return F?F.includes(g):A?!A.includes(g):!0}),!v))throw O;return C(S+1)}};return C()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:d.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};Dz({chain:c,interval:g.interval??l,onTransports:b=>d=b,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:d,weights:g.weights})}return m})}function Oz(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===v0.code||t.code===md.code||VN.nodeMessage.test(t.message)||t.code===5e3))}function Dz({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const d=await Promise.all(o.map(async g=>{const b=g({chain:t,retryCount:0,timeout:s}),v=Date.now();let C,S;try{await(n?n({transport:b}):b.request({method:"net_listening"})),S=1}catch{S=0}finally{C=Date.now()}return{latency:C-v,success:S}}));u.push(d),u.length>i&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:b})=>b)))),m=o.map((g,b)=>{const v=u.map(k=>k[b].latency),S=1-v.reduce((k,F)=>k+F,0)/v.length/h,D=u.map(k=>k[b].success),O=D.reduce((k,F)=>k+F,0)/D.length;return O===0?[0,b]:[l*S+c*O,b]}).sort((g,b)=>b[0]-g[0]);r(m.map(([,g])=>o[g])),await GM(e),f()};f()}class kz extends nc{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Qy(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:d,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:b=0}=typeof r=="object"?r:{},v=e.retryCount??h,C=m??e.timeout??1e4,S=t||d?.rpcUrls.default.http[0];if(!S)throw new kz;const D=Pz(S,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:C});return VM({key:s,methods:o,name:a,async request({method:O,params:k}){const F={method:O,params:k},{schedule:A}=xz({id:S,wait:b,shouldSplitBatch(I){return I.length>g},fn:I=>D.request({body:I}),sort:(I,N)=>I.id-N.id}),_=async I=>r?A(I):[await D.request({body:I})],[{error:M,result:$}]=await _(F);if(f)return{error:M,result:$};if(M)throw new zM({body:F,error:M,url:S});return $},retryCount:v,retryDelay:u,timeout:C,type:"http"},{fetchOptions:i,url:S})}}const hv={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return yz(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},JN={async getMyTokensWithBalance(t){const e=Me.state.address,r=J.state.activeCaipNetwork,n=xe.getConnectorId("eip155")===ae.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=be.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===ae.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await Ke.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=hv.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await Ne.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await Ne.walletGetAssets({account:t,chainFilter:[r]});if(!hv.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>hv.createBalance(a,e.caipNetworkId));return be.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},ac=mr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Mz={state:ac,replaceState(t){t&&Object.assign(ac,Cd(t))},subscribe(t){return J.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return J.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){J.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return J.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?Pe.getPlainAddress(t):void 0;e===J.state.activeChain&&(J.state.activeCaipAddress=t),J.setAccountProp("caipAddress",t,e),J.setAccountProp("address",r,e)},setBalance(t,e,r){J.setAccountProp("balance",t,r),J.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){J.setAccountProp("profileName",t,e)},setProfileImage(t,e){J.setAccountProp("profileImage",t,e)},setUser(t,e){J.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){J.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){J.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){J.setAccountProp("currentTab",t,J.state.activeChain)},setTokenBalance(t,e){t&&J.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){J.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=J.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),J.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=J.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),J.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){J.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){J.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&J.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){J.setAccountProp("socialWindow",t?Cd(t):void 0,e)},setFarcasterUrl(t,e){J.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){ac.balanceLoading=!0;const e=J.state.activeCaipNetwork?.caipNetworkId,r=J.state.activeCaipNetwork?.chainNamespace,n=J.state.activeCaipAddress,i=n?Pe.getPlainAddress(n):void 0;if(ac.lastRetry&&!Pe.isAllowedRetry(ac.lastRetry,30*It.ONE_SEC_MS))return ac.balanceLoading=!1,[];try{if(i&&e&&r){const s=await JN.getMyTokensWithBalance();return Me.setTokenBalance(s,r),ac.lastRetry=void 0,ac.balanceLoading=!1,s}}catch(s){ac.lastRetry=Date.now(),t?.(s),Nc.showError("Token Balance Unavailable")}finally{ac.balanceLoading=!1}return[]},resetAccount(t){J.resetAccount(t)}},Me=Xs(Mz),Uz={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=J.state.activeCaipNetwork,n=Ve.state.data;if(t.id===r?.id)return;const s=Me.getCaipAddress(J.state.activeChain),o=t.chainNamespace!==J.state.activeChain,a=Me.getCaipAddress(t.chainNamespace),l=xe.getConnectorId(J.state.activeChain)===ae.CONNECTOR_ID.AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||l&&u?Ve.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?Ve.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Ve.push("SwitchNetwork",{...n,network:t})}},is=mr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),$z={state:is,subscribe(t){return fi(is,()=>t(is))},subscribeKey(t,e){return Fi(is,t,e)},async open(t){const e=t?.namespace,r=J.state.activeChain,n=e&&e!==r,i=J.getAccountData(t?.namespace)?.caipAddress,s=J.state.noAdapters;if(Ne.state.wcBasic?We.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await We.prefetch(),xe.setFilterByNamespace(t?.namespace),At.setLoading(!0,e),e&&n){const o=J.getNetworkData(e)?.caipNetwork||J.getRequestedCaipNetworks(e)[0];o&&(s?(await J.switchActiveNetwork(o),Ve.push("ConnectingWalletConnectBasic")):Uz.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else he.state.manualWCControl||s&&!i?Pe.isMobile()?Ve.reset("AllWallets"):Ve.reset("ConnectingWalletConnectBasic"):t?.view?Ve.reset(t.view,t.data):i?Ve.reset("Account"):Ve.reset("Connect");is.open=!0,Ba.set({open:!0}),Dt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=he.state.enableEmbedded,e=!!J.state.activeCaipAddress;is.open&&Dt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),is.open=!1,Ve.reset("Connect"),At.clearLoading(),t?e?Ve.replace("Account"):Ve.push("Connect"):Ba.set({open:!1}),Ne.resetUri()},setLoading(t,e){e&&is.loadingNamespaceMap.set(e,t),is.loading=t,Ba.set({loading:t})},clearLoading(){is.loadingNamespaceMap.clear(),is.loading=!1,Ba.set({loading:!1})},shake(){is.shake||(is.shake=!0,setTimeout(()=>{is.shake=!1},500))}},At=Xs($z),cg={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},d2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Lz={providers:IM,selectedProvider:null,error:null,purchaseCurrency:cg,paymentCurrency:d2,purchaseCurrencies:[cg],paymentCurrencies:[],quotesLoading:!1},Pt=mr(Lz),Fz={state:Pt,subscribe(t){return fi(Pt,()=>t(Pt))},subscribeKey(t,e){return Fi(Pt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=J.state.activeChain,r=e===ae.CHAIN.SOLANA?"SOL":"USDC",n=e?J.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",rq),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",he.state.projectId),Pt.selectedProvider={...t,url:i.toString()}}else Pt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=IM.filter(n=>e.includes(n.name));Pt.providers=r}else Pt.providers=[]},setPurchaseCurrency(t){Pt.purchaseCurrency=t},setPaymentCurrency(t){Pt.paymentCurrency=t},setPurchaseAmount(t){h2.state.purchaseAmount=t},setPaymentAmount(t){h2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Ke.getOnrampOptions();Pt.purchaseCurrencies=t.purchaseCurrencies,Pt.paymentCurrencies=t.paymentCurrencies,Pt.paymentCurrency=t.paymentCurrencies[0]||d2,Pt.purchaseCurrency=t.purchaseCurrencies[0]||cg,await We.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await We.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){Pt.quotesLoading=!0;try{const t=await Ke.getOnrampQuote({purchaseCurrency:Pt.purchaseCurrency,paymentCurrency:Pt.paymentCurrency,amount:Pt.paymentAmount?.toString()||"0",network:Pt.purchaseCurrency?.symbol});return Pt.quotesLoading=!1,Pt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return Pt.error=t.message,Pt.quotesLoading=!1,null}finally{Pt.quotesLoading=!1}},resetState(){Pt.selectedProvider=null,Pt.error=null,Pt.purchaseCurrency=cg,Pt.paymentCurrency=d2,Pt.purchaseCurrencies=[cg],Pt.paymentCurrencies=[],Pt.paymentAmount=void 0,Pt.purchaseAmount=void 0,Pt.quotesLoading=!1}},h2=Xs(Fz),sT=2147483648,Bz={convertEVMChainIdToCoinType(t){if(t>=sT)throw new Error("Invalid chainId");return(sT|t)>>>0}},so=mr({suggestions:[],loading:!1}),jz={state:so,subscribe(t){return fi(so,()=>t(so))},subscribeKey(t,e){return Fi(so,t,e)},async resolveName(t){try{return await Ke.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Ke.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{so.loading=!0,so.suggestions=[];const e=await Ke.getEnsNameSuggestions(t);return so.suggestions=e.suggestions||[],so.suggestions}catch(e){const r=lg.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{so.loading=!1}},async getNamesForAddress(t){try{if(!J.state.activeCaipNetwork)return[];const r=be.getEnsFromCacheForAddress(t);if(r)return r;const n=await Ke.reverseLookupEnsName({address:t});return be.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=lg.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=J.state.activeCaipNetwork,r=Me.state.address,n=xe.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");so.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ve.pushTransactionStack({onCancel(){Ve.replace("RegisterAccountName")}});const s=await Ne.signMessage(i);so.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Bz.convertEVMChainIdToCoinType(Number(o));await Ke.registerEnsName({coinType:a,address:r,signature:s,message:i}),Me.setProfileName(t,e.chainNamespace),be.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Ve.replace("RegisterAccountNameSuccess")}catch(i){const s=lg.parseEnsApiError(i,`Error registering name ${t}`);throw Ve.replace("RegisterAccountName"),new Error(s)}finally{so.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},lg=Xs(jz);var Zy={exports:{}},oT;function Hz(){if(oT)return Zy.exports;oT=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,k,F){return Function.prototype.apply.call(O,k,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:r=function(O){return Object.getOwnPropertyNames(O)};function n(D){console&&console.warn&&console.warn(D)}var i=Number.isNaN||function(O){return O!==O};function s(){s.init.call(this)}Zy.exports=s,Zy.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");o=D}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(D){return D._maxListeners===void 0?s.defaultMaxListeners:D._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(O){for(var k=[],F=1;F<arguments.length;F++)k.push(arguments[F]);var A=O==="error",_=this._events;if(_!==void 0)A=A&&_.error===void 0;else if(!A)return!1;if(A){var M;if(k.length>0&&(M=k[0]),M instanceof Error)throw M;var $=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw $.context=M,$}var I=_[O];if(I===void 0)return!1;if(typeof I=="function")e(I,this,k);else for(var N=I.length,p=m(I,N),F=0;F<N;++F)e(p[F],this,k);return!0};function l(D,O,k,F){var A,_,M;if(a(k),_=D._events,_===void 0?(_=D._events=Object.create(null),D._eventsCount=0):(_.newListener!==void 0&&(D.emit("newListener",O,k.listener?k.listener:k),_=D._events),M=_[O]),M===void 0)M=_[O]=k,++D._eventsCount;else if(typeof M=="function"?M=_[O]=F?[k,M]:[M,k]:F?M.unshift(k):M.push(k),A=c(D),A>0&&M.length>A&&!M.warned){M.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=D,$.type=O,$.count=M.length,n($)}return D}s.prototype.addListener=function(O,k){return l(this,O,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(O,k){return l(this,O,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(D,O,k){var F={fired:!1,wrapFn:void 0,target:D,type:O,listener:k},A=u.bind(F);return A.listener=k,F.wrapFn=A,A}s.prototype.once=function(O,k){return a(k),this.on(O,f(this,O,k)),this},s.prototype.prependOnceListener=function(O,k){return a(k),this.prependListener(O,f(this,O,k)),this},s.prototype.removeListener=function(O,k){var F,A,_,M,$;if(a(k),A=this._events,A===void 0)return this;if(F=A[O],F===void 0)return this;if(F===k||F.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete A[O],A.removeListener&&this.emit("removeListener",O,F.listener||k));else if(typeof F!="function"){for(_=-1,M=F.length-1;M>=0;M--)if(F[M]===k||F[M].listener===k){$=F[M].listener,_=M;break}if(_<0)return this;_===0?F.shift():g(F,_),F.length===1&&(A[O]=F[0]),A.removeListener!==void 0&&this.emit("removeListener",O,$||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(O){var k,F,A;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var _=Object.keys(F),M;for(A=0;A<_.length;++A)M=_[A],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=F[O],typeof k=="function")this.removeListener(O,k);else if(k!==void 0)for(A=k.length-1;A>=0;A--)this.removeListener(O,k[A]);return this};function d(D,O,k){var F=D._events;if(F===void 0)return[];var A=F[O];return A===void 0?[]:typeof A=="function"?k?[A.listener||A]:[A]:k?b(A):m(A,A.length)}s.prototype.listeners=function(O){return d(this,O,!0)},s.prototype.rawListeners=function(O){return d(this,O,!1)},s.listenerCount=function(D,O){return typeof D.listenerCount=="function"?D.listenerCount(O):h.call(D,O)},s.prototype.listenerCount=h;function h(D){var O=this._events;if(O!==void 0){var k=O[D];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(D,O){for(var k=new Array(O),F=0;F<O;++F)k[F]=D[F];return k}function g(D,O){for(;O+1<D.length;O++)D[O]=D[O+1];D.pop()}function b(D){for(var O=new Array(D.length),k=0;k<O.length;++k)O[k]=D[k].listener||D[k];return O}function v(D,O){return new Promise(function(k,F){function A(M){D.removeListener(O,_),F(M)}function _(){typeof D.removeListener=="function"&&D.removeListener("error",A),k([].slice.call(arguments))}S(D,O,_,{once:!0}),O!=="error"&&C(D,A,{once:!0})})}function C(D,O,k){typeof D.on=="function"&&S(D,"error",O,k)}function S(D,O,k,F){if(typeof D.on=="function")F.once?D.once(O,k):D.on(O,k);else if(typeof D.addEventListener=="function")D.addEventListener(O,function A(_){F.once&&D.removeEventListener(O,A),k(_)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return Zy.exports}var Bo=Hz();const YN=Ts(Bo);var pv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var p2=function(t,e){return p2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},p2(t,e)};function Wz(t,e){p2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var g2=function(){return g2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g2.apply(this,arguments)};function qz(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zz(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Gz(t,e){return function(r,n){e(r,n,t)}}function Kz(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Vz(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Jz(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Yz(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Xz(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function m2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function JM(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Qz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(JM(arguments[e]));return t}function Zz(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function dm(t){return this instanceof dm?(this.v=t,this):new dm(t)}function eG(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(h){return new Promise(function(m,g){s.push([d,h,m,g])>1||a(d,h)})})}function a(d,h){try{c(n[d](h))}catch(m){f(s[0][3],m)}}function c(d){d.value instanceof dm?Promise.resolve(d.value.v).then(l,u):f(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,h){d(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function tG(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:dm(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function rG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof m2=="function"?m2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function nG(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function iG(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function sG(t){return t&&t.__esModule?t:{default:t}}function oG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function aG(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const cG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return g2},__asyncDelegator:tG,__asyncGenerator:eG,__asyncValues:rG,__await:dm,__awaiter:Vz,__classPrivateFieldGet:oG,__classPrivateFieldSet:aG,__createBinding:Yz,__decorate:zz,__exportStar:Xz,__extends:Wz,__generator:Jz,__importDefault:sG,__importStar:iG,__makeTemplateObject:nG,__metadata:Kz,__param:Gz,__read:JM,__rest:qz,__spread:Qz,__spreadArrays:Zz,__values:m2},Symbol.toStringTag,{value:"Module"})),py=Vr(cG);var gv={},fp={},aT;function lG(){if(aT)return fp;aT=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return fp.delay=t,fp}var $f={},mv={},Lf={},cT;function uG(){return cT||(cT=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.ONE_THOUSAND=Lf.ONE_HUNDRED=void 0,Lf.ONE_HUNDRED=100,Lf.ONE_THOUSAND=1e3),Lf}var yv={},lT;function fG(){return lT||(lT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(yv)),yv}var uT;function YM(){return uT||(uT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=py;e.__exportStar(uG(),t),e.__exportStar(fG(),t)})(mv)),mv}var fT;function dG(){if(fT)return $f;fT=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.fromMiliseconds=$f.toMiliseconds=void 0;const t=YM();function e(n){return n*t.ONE_THOUSAND}$f.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return $f.fromMiliseconds=r,$f}var dT;function hG(){return dT||(dT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=py;e.__exportStar(lG(),t),e.__exportStar(dG(),t)})(gv)),gv}var nh={},hT;function pG(){if(hT)return nh;hT=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return nh.Watch=t,nh.default=t,nh}var bv={},dp={},pT;function gG(){if(pT)return dp;pT=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.IWatch=void 0;class t{}return dp.IWatch=t,dp}var gT;function mG(){return gT||(gT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),py.__exportStar(gG(),t)})(bv)),bv}var mT;function yG(){return mT||(mT=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=py;e.__exportStar(hG(),t),e.__exportStar(pG(),t),e.__exportStar(mG(),t),e.__exportStar(YM(),t)})(pv)),pv}var Ce=yG();class zd{}let bG=class extends zd{constructor(e){super()}};const yT=Ce.FIVE_SECONDS,Gd={pulse:"heartbeat_pulse"};let wG=class XM extends bG{constructor(e){super(e),this.events=new Bo.EventEmitter,this.interval=yT,this.interval=e?.interval||yT}static async init(e){const r=new XM(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Ce.toMiliseconds(this.interval))}pulse(){this.events.emit(Gd.pulse)}};const _G=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,EG=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,vG=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function xG(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){AG(t);return}return e}function AG(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function eb(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!vG.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(_G.test(t)||EG.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,xG)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function CG(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zn(t,...e){try{return CG(t(...e))}catch(r){return Promise.reject(r)}}function NG(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function SG(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function qb(t){if(NG(t))return String(t);if(SG(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return qb(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const y2="base64:";function IG(t){return typeof t=="string"?t:y2+PG(t)}function TG(t){return typeof t!="string"||!t.startsWith(y2)?t:RG(t.slice(y2.length))}function RG(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function PG(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function gs(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function OG(...t){return gs(t.join(":"))}function tb(t){return t=gs(t),t?t+":":""}function DG(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function kG(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const MG="memory",UG=()=>{const t=new Map;return{name:MG,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function $G(t={}){const e={mounts:{"":t.driver||UG()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=gs(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await bT(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,h=m=>{let g=d.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},d.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",b=gs(g?m:m.key),v=g?void 0:m.value,C=g||!m.options?u:{...u,...m.options},S=r(b);h(S).items.push({key:b,value:v,relativeKey:S.relativeKey,options:C})}return Promise.all([...d.values()].map(m=>f(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=gs(l);const{relativeKey:f,driver:d}=r(l);return zn(d.hasItem,f,u)},getItem(l,u={}){l=gs(l);const{relativeKey:f,driver:d}=r(l);return zn(d.getItem,f,u).then(h=>eb(h))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?zn(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(h=>({key:OG(f.base,h.key),value:eb(h.value)}))):Promise.all(f.items.map(d=>zn(f.driver.getItem,d.relativeKey,d.options).then(h=>({key:d.key,value:eb(h)})))))},getItemRaw(l,u={}){l=gs(l);const{relativeKey:f,driver:d}=r(l);return d.getItemRaw?zn(d.getItemRaw,f,u):zn(d.getItem,f,u).then(h=>TG(h))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=gs(l);const{relativeKey:d,driver:h}=r(l);h.setItem&&(await zn(h.setItem,d,qb(u),f),h.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return zn(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:qb(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>zn(f.driver.setItem,d.relativeKey,qb(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=gs(l);const{relativeKey:d,driver:h}=r(l);if(h.setItemRaw)await zn(h.setItemRaw,d,u,f);else if(h.setItem)await zn(h.setItem,d,IG(u),f);else return;h.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=gs(l);const{relativeKey:f,driver:d}=r(l);d.removeItem&&(await zn(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await zn(d.removeItem,f+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=gs(l);const{relativeKey:f,driver:d}=r(l),h=Object.create(null);if(d.getMeta&&Object.assign(h,await zn(d.getMeta,f,u)),!u.nativeOnly){const m=await zn(d.getItem,f+"$",u).then(g=>eb(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(h,m))}return h},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=tb(l);const f=n(l,!0);let d=[];const h=[];let m=!0;for(const b of f){b.driver.flags?.maxDepth||(m=!1);const v=await zn(b.driver.getKeys,b.relativeBase,u);for(const C of v){const S=b.mountpoint+gs(C);d.some(D=>S.startsWith(D))||h.push(S)}d=[b.mountpoint,...d.filter(C=>!C.startsWith(b.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return h.filter(b=>(!g||DG(b,u.maxDepth))&&kG(b,l))},async clear(l,u={}){l=tb(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return zn(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(h=>f.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>wT(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=tb(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(bT(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=tb(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await wT(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=gs(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=gs(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function bT(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function wT(t){typeof t.dispose=="function"&&await zn(t.dispose)}function Kd(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function QM(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=Kd(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let wv;function gy(){return wv||(wv=QM("keyval-store","keyval")),wv}function _T(t,e=gy()){return e("readonly",r=>Kd(r.get(t)))}function LG(t,e,r=gy()){return r("readwrite",n=>(n.put(e,t),Kd(n.transaction)))}function FG(t,e=gy()){return e("readwrite",r=>(r.delete(t),Kd(r.transaction)))}function BG(t=gy()){return t("readwrite",e=>(e.clear(),Kd(e.transaction)))}function jG(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Kd(t.transaction)}function HG(t=gy()){return t("readonly",e=>{if(e.getAllKeys)return Kd(e.getAllKeys());const r=[];return jG(e,n=>r.push(n.key)).then(()=>r)})}const WG=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),qG=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Sd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return qG(t)}catch{return t}}function $l(t){return typeof t=="string"?t:WG(t)||""}const zG="idb-keyval";var GG=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=QM(t.dbName,t.storeName)),{name:zG,options:t,async hasItem(i){return!(typeof await _T(r(i),n)>"u")},async getItem(i){return await _T(r(i),n)??null},setItem(i,s){return LG(r(i),s,n)},removeItem(i){return FG(r(i),n)},getKeys(){return HG(n)},clear(){return BG(n)}}};const KG="WALLET_CONNECT_V2_INDEXED_DB",VG="keyvaluestorage";let JG=class{constructor(){this.indexedDb=$G({driver:GG({dbName:KG,storeName:VG})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,$l(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zb={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof _v<"u"&&_v.localStorage?zb.exports=_v.localStorage:typeof window<"u"&&window.localStorage?zb.exports=window.localStorage:zb.exports=new e})();function YG(t){var e;return[t[0],Sd((e=t[1])!=null?e:"")]}let XG=class{constructor(){this.localStorage=zb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(YG)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Sd(r)}async setItem(e,r){this.localStorage.setItem(e,$l(r))}async removeItem(e){this.localStorage.removeItem(e)}};const QG="wc_storage_version",ET=1,ZG=async(t,e,r)=>{const n=QG,i=await e.getItem(n);if(i&&i>=ET){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,ET),r(e),eK(t,o)},eK=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let tK=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new XG;this.storage=e;try{const r=new JG;ZG(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var Ev,vT;function rK(){if(vT)return Ev;vT=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Ev=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",d=1-o,h=-1,m=r&&r.length||0,g=0;g<m;){if(r.charCodeAt(g)===37&&g+1<m){switch(h=h>-1?h:0,r.charCodeAt(g+1)){case 100:case 102:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Number(n[d]),h=g+2,g++;break;case 105:if(d>=u||n[d]==null)break;h<g&&(f+=r.slice(h,g)),f+=Math.floor(Number(n[d])),h=g+2,g++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;h<g&&(f+=r.slice(h,g));var b=typeof n[d];if(b==="string"){f+="'"+n[d]+"'",h=g+2,g++;break}if(b==="function"){f+=n[d].name||"<anonymous>",h=g+2,g++;break}f+=s(n[d]),h=g+2,g++;break;case 115:if(d>=u)break;h<g&&(f+=r.slice(h,g)),f+=String(n[d]),h=g+2,g++;break;case 37:h<g&&(f+=r.slice(h,g)),f+="%",h=g+2,g++,d--;break}++d}++g}return h===-1?r:(h<m&&(f+=r.slice(h)),f)}return Ev}var vv,xT;function nK(){if(xT)return vv;xT=1;const t=rK();vv=i;const e=O().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:m,res:m,err:d};function n(k,F){return Array.isArray(k)?k.filter(function(_){return _!=="!stdSerializers.err"}):k===!0?Object.keys(F):!1}function i(k){k=k||{},k.browser=k.browser||{};const F=k.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const A=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const _=k.serializers||{},M=n(k.browser.serialize,_);let $=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const I=["error","fatal","warn","info","debug","trace"];typeof A=="function"&&(A.error=A.fatal=A.warn=A.info=A.debug=A.trace=A),k.enabled===!1&&(k.level="silent");const N=k.level||"info",p=Object.create(A);p.log||(p.log=b),Object.defineProperty(p,"levelVal",{get:w}),Object.defineProperty(p,"level",{get:x,set:T});const y={transmit:F,serialize:M,asObject:k.browser.asObject,levels:I,timestamp:h(k)};p.levels=i.levels,p.level=N,p.setMaxListeners=p.getMaxListeners=p.emit=p.addListener=p.on=p.prependListener=p.once=p.prependOnceListener=p.removeListener=p.removeAllListeners=p.listeners=p.listenerCount=p.eventNames=p.write=p.flush=b,p.serializers=_,p._serialize=M,p._stdErrSerialize=$,p.child=U,F&&(p._logEvent=f());function w(){return this.level==="silent"?1/0:this.levels.values[this.level]}function x(){return this._level}function T(B){if(B!=="silent"&&!this.levels.values[B])throw Error("unknown level "+B);this._level=B,s(y,p,"error","log"),s(y,p,"fatal","error"),s(y,p,"warn","error"),s(y,p,"info","log"),s(y,p,"debug","log"),s(y,p,"trace","log")}function U(B,P){if(!B)throw new Error("missing bindings for child Pino");P=P||{},M&&B.serializers&&(P.serializers=B.serializers);const E=P.serializers;if(M&&E){var L=Object.assign({},_,E),G=k.browser.serialize===!0?Object.keys(L):M;delete B.serializers,c([B],G,L,this._stdErrSerialize)}function R(V){this._childLevel=(V._childLevel|0)+1,this.error=l(V,B,"error"),this.fatal=l(V,B,"fatal"),this.warn=l(V,B,"warn"),this.info=l(V,B,"info"),this.debug=l(V,B,"debug"),this.trace=l(V,B,"trace"),L&&(this.serializers=L,this._serialize=G),F&&(this._logEvent=f([].concat(V._logEvent.bindings,B)))}return R.prototype=this,new R(this)}return p}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:C,unixTime:S,isoTime:D});function s(k,F,A,_){const M=Object.getPrototypeOf(F);F[A]=F.levelVal>F.levels.values[A]?b:M[A]?M[A]:e[A]||e[_]||b,o(k,F,A)}function o(k,F,A){!k.transmit&&F[A]===b||(F[A]=(function(_){return function(){const $=k.timestamp(),I=new Array(arguments.length),N=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var p=0;p<I.length;p++)I[p]=arguments[p];if(k.serialize&&!k.asObject&&c(I,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?_.call(N,a(this,A,I,$)):_.apply(N,I),k.transmit){const y=k.transmit.level||F.level,w=i.levels.values[y],x=i.levels.values[A];if(x<w)return;u(this,{ts:$,methodLevel:A,methodValue:x,transmitValue:i.levels.values[k.transmit.level||F.level],send:k.transmit.send,val:F.levelVal},I)}}})(F[A]))}function a(k,F,A,_){k._serialize&&c(A,k._serialize,k.serializers,k._stdErrSerialize);const M=A.slice();let $=M[0];const I={};_&&(I.time=_),I.level=i.levels.values[F];let N=(k._childLevel|0)+1;if(N<1&&(N=1),$!==null&&typeof $=="object"){for(;N--&&typeof M[0]=="object";)Object.assign(I,M.shift());$=M.length?t(M.shift(),M):void 0}else typeof $=="string"&&($=t(M.shift(),M));return $!==void 0&&(I.msg=$),I}function c(k,F,A,_){for(const M in k)if(_&&k[M]instanceof Error)k[M]=i.stdSerializers.err(k[M]);else if(typeof k[M]=="object"&&!Array.isArray(k[M]))for(const $ in k[M])F&&F.indexOf($)>-1&&$ in A&&(k[M][$]=A[$](k[M][$]))}function l(k,F,A){return function(){const _=new Array(1+arguments.length);_[0]=F;for(var M=1;M<_.length;M++)_[M]=arguments[M-1];return k[A].apply(this,_)}}function u(k,F,A){const _=F.send,M=F.ts,$=F.methodLevel,I=F.methodValue,N=F.val,p=k._logEvent.bindings;c(A,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=M,k._logEvent.messages=A.filter(function(y){return p.indexOf(y)===-1}),k._logEvent.level.label=$,k._logEvent.level.value=I,_($,k._logEvent,N),k._logEvent=f(p)}function f(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function d(k){const F={type:k.constructor.name,msg:k.message,stack:k.stack};for(const A in k)F[A]===void 0&&(F[A]=k[A]);return F}function h(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?v:C}function m(){return{}}function g(k){return k}function b(){}function v(){return!1}function C(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function D(){return new Date(Date.now()).toISOString()}function O(){function k(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return vv}var Oh=nK();const my=Ts(Oh),iK={level:"info"},yy="custom_context",XN=1e3*1024;let sK=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},AT=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new sK(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},ZM=class{constructor(e,r=XN){this.level=e??"error",this.levelValue=Oh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new AT(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Oh.levels.values.error?console.error(e):r===Oh.levels.values.warn?console.warn(e):r===Oh.levels.values.debug?console.debug(e):r===Oh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append($l({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new AT(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push($l({extraMetadata:e})),new Blob(r,{type:"application/json"})}},oK=class{constructor(e,r=XN){this.baseChunkLogger=new ZM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},aK=class{constructor(e,r=XN){this.baseChunkLogger=new ZM(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var cK=Object.defineProperty,lK=Object.defineProperties,uK=Object.getOwnPropertyDescriptors,CT=Object.getOwnPropertySymbols,fK=Object.prototype.hasOwnProperty,dK=Object.prototype.propertyIsEnumerable,NT=(t,e,r)=>e in t?cK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c1=(t,e)=>{for(var r in e||(e={}))fK.call(e,r)&&NT(t,r,e[r]);if(CT)for(var r of CT(e))dK.call(e,r)&&NT(t,r,e[r]);return t},l1=(t,e)=>lK(t,uK(e));function $0(t){return l1(c1({},t),{level:t?.level||iK.level})}function hK(t,e=yy){return t[e]||""}function pK(t,e,r=yy){return t[r]=e,t}function Ps(t,e=yy){let r="";return typeof t.bindings>"u"?r=hK(t,e):r=t.bindings().context||"",r}function gK(t,e,r=yy){const n=Ps(t,r);return n.trim()?`${n}/${e}`:e}function Bi(t,e,r=yy){const n=gK(t,e,r),i=t.child({context:n});return pK(i,n,r)}function mK(t){var e,r;const n=new oK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:my(l1(c1({},t.opts),{level:"trace",browser:l1(c1({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function yK(t){var e;const r=new aK((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:my(l1(c1({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function QN(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?mK(t):yK(t)}var bK=Object.defineProperty,wK=(t,e,r)=>e in t?bK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ST=(t,e,r)=>wK(t,typeof e!="symbol"?e+"":e,r);let _K=class extends zd{constructor(e){super(),this.opts=e,ST(this,"protocol","wc"),ST(this,"version",2)}};var EK=Object.defineProperty,vK=(t,e,r)=>e in t?EK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xK=(t,e,r)=>vK(t,e+"",r);let AK=class extends zd{constructor(e,r){super(),this.core=e,this.logger=r,xK(this,"records",new Map)}},CK=class{constructor(e,r){this.logger=e,this.core=r}},NK=class extends zd{constructor(e,r){super(),this.relayer=e,this.logger=r}},SK=class extends zd{constructor(e){super()}},IK=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},TK=class extends zd{constructor(e,r){super(),this.relayer=e,this.logger=r}},RK=class extends zd{constructor(e,r){super(),this.core=e,this.logger=r}},PK=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},OK=class{constructor(e,r){this.projectId=e,this.logger=r}},DK=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var kK=Object.defineProperty,MK=(t,e,r)=>e in t?kK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,IT=(t,e,r)=>MK(t,typeof e!="symbol"?e+"":e,r);let UK=class{constructor(e){this.opts=e,IT(this,"protocol","wc"),IT(this,"version",2)}},$K=class{constructor(e){this.client=e}};function LK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function e9(t,...e){if(!LK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function TT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FK(t,e){e9(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const ih=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function BK(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function t9(t){return typeof t=="string"&&(t=BK(t)),e9(t),t}let jK=class{clone(){return this._cloneInto()}};function HK(t){const e=n=>t().update(t9(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function r9(t=32){if(ih&&typeof ih.getRandomValues=="function")return ih.getRandomValues(new Uint8Array(t));if(ih&&typeof ih.randomBytes=="function")return ih.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function WK(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let qK=class extends jK{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xv(this.buffer)}update(e){TT(this);const{view:r,buffer:n,blockLen:i}=this;e=t9(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=xv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){TT(this),FK(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;WK(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=xv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const rb=BigInt(2**32-1),b2=BigInt(32);function n9(t,e=!1){return e?{h:Number(t&rb),l:Number(t>>b2&rb)}:{h:Number(t>>b2&rb)|0,l:Number(t&rb)|0}}function zK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=n9(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const GK=(t,e)=>BigInt(t>>>0)<<b2|BigInt(e>>>0),KK=(t,e,r)=>t>>>r,VK=(t,e,r)=>t<<32-r|e>>>r,JK=(t,e,r)=>t>>>r|e<<32-r,YK=(t,e,r)=>t<<32-r|e>>>r,XK=(t,e,r)=>t<<64-r|e>>>r-32,QK=(t,e,r)=>t>>>r-32|e<<64-r,ZK=(t,e)=>e,eV=(t,e)=>t,tV=(t,e,r)=>t<<r|e>>>32-r,rV=(t,e,r)=>e<<r|t>>>32-r,nV=(t,e,r)=>e<<r-32|t>>>64-r,iV=(t,e,r)=>t<<r-32|e>>>64-r;function sV(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const oV=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),aV=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,cV=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lV=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,uV=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),fV=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,at={fromBig:n9,split:zK,toBig:GK,shrSH:KK,shrSL:VK,rotrSH:JK,rotrSL:YK,rotrBH:XK,rotrBL:QK,rotr32H:ZK,rotr32L:eV,rotlSH:tV,rotlSL:rV,rotlBH:nV,rotlBL:iV,add:sV,add3L:oV,add3H:aV,add4L:cV,add4H:lV,add5H:fV,add5L:uV},[dV,hV]=at.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),iu=new Uint32Array(80),su=new Uint32Array(80);let pV=class extends qK{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)iu[S]=e.getUint32(r),su[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const D=iu[S-15]|0,O=su[S-15]|0,k=at.rotrSH(D,O,1)^at.rotrSH(D,O,8)^at.shrSH(D,O,7),F=at.rotrSL(D,O,1)^at.rotrSL(D,O,8)^at.shrSL(D,O,7),A=iu[S-2]|0,_=su[S-2]|0,M=at.rotrSH(A,_,19)^at.rotrBH(A,_,61)^at.shrSH(A,_,6),$=at.rotrSL(A,_,19)^at.rotrBL(A,_,61)^at.shrSL(A,_,6),I=at.add4L(F,$,su[S-7],su[S-16]),N=at.add4H(I,k,M,iu[S-7],iu[S-16]);iu[S]=N|0,su[S]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:v,Hl:C}=this;for(let S=0;S<80;S++){const D=at.rotrSH(f,d,14)^at.rotrSH(f,d,18)^at.rotrBH(f,d,41),O=at.rotrSL(f,d,14)^at.rotrSL(f,d,18)^at.rotrBL(f,d,41),k=f&h^~f&g,F=d&m^~d&b,A=at.add5L(C,O,F,hV[S],su[S]),_=at.add5H(A,v,D,k,dV[S],iu[S]),M=A|0,$=at.rotrSH(n,i,28)^at.rotrBH(n,i,34)^at.rotrBH(n,i,39),I=at.rotrSL(n,i,28)^at.rotrBL(n,i,34)^at.rotrBL(n,i,39),N=n&s^n&a^s&a,p=i&o^i&c^o&c;v=g|0,C=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=at.add(l|0,u|0,_|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=at.add3L(M,I,p);n=at.add3H(y,_,$,N),i=y|0}({h:n,l:i}=at.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=at.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=at.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=at.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=at.add(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=at.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=at.add(this.Gh|0,this.Gl|0,g|0,b|0),{h:v,l:C}=at.add(this.Hh|0,this.Hl|0,v|0,C|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,v,C)}roundClean(){iu.fill(0),su.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gV=HK(()=>new pV);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZN=BigInt(0),i9=BigInt(1),mV=BigInt(2);function eS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tS(t){if(!eS(t))throw new Error("Uint8Array expected")}function Av(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const yV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rS(t){tS(t);let e="";for(let r=0;r<t.length;r++)e+=yV[t[r]];return e}function s9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ZN:BigInt("0x"+t)}const Vc={_0:48,_9:57,A:65,F:70,a:97,f:102};function RT(t){if(t>=Vc._0&&t<=Vc._9)return t-Vc._0;if(t>=Vc.A&&t<=Vc.F)return t-(Vc.A-10);if(t>=Vc.a&&t<=Vc.f)return t-(Vc.a-10)}function o9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=RT(t.charCodeAt(s)),a=RT(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function bV(t){return s9(rS(t))}function Gb(t){return tS(t),s9(rS(Uint8Array.from(t).reverse()))}function a9(t,e){return o9(t.toString(16).padStart(e*2,"0"))}function w2(t,e){return a9(t,e).reverse()}function Jc(t,e,r){let n;if(typeof e=="string")try{n=o9(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(eS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function PT(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];tS(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const Cv=t=>typeof t=="bigint"&&ZN<=t;function wV(t,e,r){return Cv(t)&&Cv(e)&&Cv(r)&&e<=t&&t<r}function hp(t,e,r,n){if(!wV(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function _V(t){let e;for(e=0;t>ZN;t>>=i9,e+=1);return e}const EV=t=>(mV<<BigInt(t-1))-i9,vV={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||eS(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function nS(t,e,r={}){const n=(i,s,o)=>{const a=vV[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function OT(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Vn=BigInt(0),cn=BigInt(1),Xf=BigInt(2),xV=BigInt(3),_2=BigInt(4),DT=BigInt(5),kT=BigInt(8);function Un(t,e){const r=t%e;return r>=Vn?r:e+r}function AV(t,e,r){if(e<Vn)throw new Error("invalid exponent, negatives unsupported");if(r<=Vn)throw new Error("invalid modulus");if(r===cn)return Vn;let n=cn;for(;e>Vn;)e&cn&&(n=n*t%r),t=t*t%r,e>>=cn;return n}function cc(t,e,r){let n=t;for(;e-- >Vn;)n*=n,n%=r;return n}function MT(t,e){if(t===Vn)throw new Error("invert: expected non-zero number");if(e<=Vn)throw new Error("invert: expected positive modulus, got "+e);let r=Un(t,e),n=e,i=Vn,s=cn;for(;r!==Vn;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==cn)throw new Error("invert: does not exist");return Un(i,e)}function CV(t){const e=(t-cn)/Xf;let r,n,i;for(r=t-cn,n=0;r%Xf===Vn;r/=Xf,n++);for(i=Xf;i<t&&AV(i,e,t)!==t-cn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+cn)/_2;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+cn)/Xf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(f);d<c&&!o.eql(m,o.ONE);d++)m=o.sqr(m);const h=o.pow(l,cn<<BigInt(c-d-1));l=o.sqr(h),u=o.mul(u,h),f=o.mul(f,l),c=d}return u}}function NV(t){if(t%_2===xV){const e=(t+cn)/_2;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%kT===DT){const e=(t-DT)/kT;return function(r,n){const i=r.mul(n,Xf),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Xf),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return CV(t)}const SV=(t,e)=>(Un(t,e)&cn)===cn,IV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=IV.reduce((n,i)=>(n[i]="function",n),e);return nS(t,r)}function RV(t,e,r){if(r<Vn)throw new Error("invalid exponent, negatives unsupported");if(r===Vn)return t.ONE;if(r===cn)return e;let n=t.ONE,i=e;for(;r>Vn;)r&cn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=cn;return n}function PV(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function c9(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function l9(t,e,r=!1,n={}){if(t<=Vn)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=c9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:EV(i),ZERO:Vn,ONE:cn,create:c=>Un(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Vn<=c&&c<t},is0:c=>c===Vn,isOdd:c=>(c&cn)===cn,neg:c=>Un(-c,t),eql:(c,l)=>c===l,sqr:c=>Un(c*c,t),add:(c,l)=>Un(c+l,t),sub:(c,l)=>Un(c-l,t),mul:(c,l)=>Un(c*l,t),pow:(c,l)=>RV(a,c,l),div:(c,l)=>Un(c*MT(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>MT(c,t),sqrt:n.sqrt||(c=>(o||(o=NV(t)),o(a,c))),invertBatch:c=>PV(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?w2(c,s):a9(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Gb(c):bV(c)}});return Object.freeze(a)}const UT=BigInt(0),nb=BigInt(1);function Nv(t,e){const r=e.negate();return t?r:e}function u9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Sv(t,e){u9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function OV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function DV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Iv=new WeakMap,f9=new WeakMap;function Tv(t){return f9.get(t)||1}function kV(t,e){return{constTimeNegate:Nv,hasPrecomputes(r){return Tv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>UT;)n&nb&&(i=i.add(s)),s=s.double(),n>>=nb;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Sv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=Sv(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let d=0;d<s;d++){const h=d*o;let m=Number(i&l);i>>=f,m>o&&(m-=u,i+=nb);const g=h,b=h+Math.abs(m)-1,v=d%2!==0,C=m<0;m===0?c=c.add(Nv(v,n[g])):a=a.add(Nv(C,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=Sv(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const d=f*a;if(i===UT)break;let h=Number(i&c);if(i>>=u,h>a&&(h-=l,i+=nb),h===0)continue;let m=n[d+Math.abs(h)-1];h<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=Iv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Iv.set(n,i(s))),s},wNAFCached(r,n,i){const s=Tv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Tv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){u9(n,e),f9.set(r,n),Iv.delete(r)}}}function MV(t,e,r,n){if(OV(r,t),DV(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=_V(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let h=0;h<n.length;h++){const m=n[h],g=Number(m>>BigInt(f)&BigInt(a));c[g]=c[g].add(r[h])}let d=i;for(let h=c.length-1,m=i;h>0;h--)m=m.add(c[h]),d=d.add(m);if(u=u.add(d),f!==0)for(let h=0;h<o;h++)u=u.double()}return u}function UV(t){return TV(t.Fp),nS(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Zo=BigInt(0),ss=BigInt(1),ib=BigInt(2),$V=BigInt(8),LV={zip215:!0};function FV(t){const e=UV(t);return nS(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function BV(t){const e=FV(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=ib<<BigInt(a*8)-ss,u=r.create,f=l9(e.n,e.nBitLength),d=e.uvRatio||((y,w)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(w))}}catch{return{isValid:!1,value:Zo}}}),h=e.adjustScalarBytes||(y=>y),m=e.domain||((y,w,x)=>{if(Av("phflag",x),w.length||x)throw new Error("Contexts/pre-hash are not supported");return y});function g(y,w){hp("coordinate "+y,w,Zo,l)}function b(y){if(!(y instanceof S))throw new Error("ExtendedPoint expected")}const v=OT((y,w)=>{const{ex:x,ey:T,ez:U}=y,B=y.is0();w==null&&(w=B?$V:r.inv(U));const P=u(x*w),E=u(T*w),L=u(U*w);if(B)return{x:Zo,y:ss};if(L!==ss)throw new Error("invZ was invalid");return{x:P,y:E}}),C=OT(y=>{const{a:w,d:x}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:T,ey:U,ez:B,et:P}=y,E=u(T*T),L=u(U*U),G=u(B*B),R=u(G*G),V=u(E*w),K=u(G*u(V+L)),X=u(R+u(x*u(E*L)));if(K!==X)throw new Error("bad point: equation left != right (1)");const Q=u(T*U),ie=u(B*P);if(Q!==ie)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(w,x,T,U){this.ex=w,this.ey=x,this.ez=T,this.et=U,g("x",w),g("y",x),g("z",T),g("t",U),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof S)throw new Error("extended point not allowed");const{x,y:T}=w||{};return g("x",x),g("y",T),new S(x,T,ss,u(x*T))}static normalizeZ(w){const x=r.invertBatch(w.map(T=>T.ez));return w.map((T,U)=>T.toAffine(x[U])).map(S.fromAffine)}static msm(w,x){return MV(S,f,w,x)}_setWindowSize(w){k.setWindowSize(this,w)}assertValidity(){C(this)}equals(w){b(w);const{ex:x,ey:T,ez:U}=this,{ex:B,ey:P,ez:E}=w,L=u(x*E),G=u(B*U),R=u(T*E),V=u(P*U);return L===G&&R===V}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:w}=e,{ex:x,ey:T,ez:U}=this,B=u(x*x),P=u(T*T),E=u(ib*u(U*U)),L=u(w*B),G=x+T,R=u(u(G*G)-B-P),V=L+P,K=V-E,X=L-P,Q=u(R*K),ie=u(V*X),le=u(R*X),H=u(K*V);return new S(Q,ie,H,le)}add(w){b(w);const{a:x,d:T}=e,{ex:U,ey:B,ez:P,et:E}=this,{ex:L,ey:G,ez:R,et:V}=w;if(x===BigInt(-1)){const _e=u((B-U)*(G+L)),q=u((B+U)*(G-L)),z=u(q-_e);if(z===Zo)return this.double();const ne=u(P*ib*V),se=u(E*ib*R),pe=se+ne,me=q+_e,ee=se-ne,ce=u(pe*z),ke=u(me*ee),Le=u(pe*ee),Ge=u(z*me);return new S(ce,ke,Ge,Le)}const K=u(U*L),X=u(B*G),Q=u(E*T*V),ie=u(P*R),le=u((U+B)*(L+G)-K-X),H=ie-Q,Y=ie+Q,W=u(X-x*K),Z=u(le*H),fe=u(Y*W),oe=u(le*W),ge=u(H*Y);return new S(Z,fe,ge,oe)}subtract(w){return this.add(w.negate())}wNAF(w){return k.wNAFCached(this,w,S.normalizeZ)}multiply(w){const x=w;hp("scalar",x,ss,n);const{p:T,f:U}=this.wNAF(x);return S.normalizeZ([T,U])[0]}multiplyUnsafe(w,x=S.ZERO){const T=w;return hp("scalar",T,Zo,n),T===Zo?O:this.is0()||T===ss?this:k.wNAFCachedUnsafe(this,T,S.normalizeZ,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(w){return v(this,w)}clearCofactor(){const{h:w}=e;return w===ss?this:this.multiplyUnsafe(w)}static fromHex(w,x=!1){const{d:T,a:U}=e,B=r.BYTES;w=Jc("pointHex",w,B),Av("zip215",x);const P=w.slice(),E=w[B-1];P[B-1]=E&-129;const L=Gb(P),G=x?l:r.ORDER;hp("pointHex.y",L,Zo,G);const R=u(L*L),V=u(R-ss),K=u(T*R-U);let{isValid:X,value:Q}=d(V,K);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const ie=(Q&ss)===ss,le=(E&128)!==0;if(!x&&Q===Zo&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==ie&&(Q=u(-Q)),S.fromAffine({x:Q,y:L})}static fromPrivateKey(w){return _(w).point}toRawBytes(){const{x:w,y:x}=this.toAffine(),T=w2(x,r.BYTES);return T[T.length-1]|=w&ss?128:0,T}toHex(){return rS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,ss,u(e.Gx*e.Gy)),S.ZERO=new S(Zo,ss,ss,Zo);const{BASE:D,ZERO:O}=S,k=kV(S,a*8);function F(y){return Un(y,n)}function A(y){return F(Gb(y))}function _(y){const w=r.BYTES;y=Jc("private key",y,w);const x=Jc("hashed private key",s(y),2*w),T=h(x.slice(0,w)),U=x.slice(w,2*w),B=A(T),P=D.multiply(B),E=P.toRawBytes();return{head:T,prefix:U,scalar:B,point:P,pointBytes:E}}function M(y){return _(y).pointBytes}function $(y=new Uint8Array,...w){const x=PT(...w);return A(s(m(x,Jc("context",y),!!i)))}function I(y,w,x={}){y=Jc("message",y),i&&(y=i(y));const{prefix:T,scalar:U,pointBytes:B}=_(w),P=$(x.context,T,y),E=D.multiply(P).toRawBytes(),L=$(x.context,E,B,y),G=F(P+L*U);hp("signature.s",G,Zo,n);const R=PT(E,w2(G,r.BYTES));return Jc("result",R,r.BYTES*2)}const N=LV;function p(y,w,x,T=N){const{context:U,zip215:B}=T,P=r.BYTES;y=Jc("signature",y,2*P),w=Jc("message",w),x=Jc("publicKey",x,P),B!==void 0&&Av("zip215",B),i&&(w=i(w));const E=Gb(y.slice(P,2*P));let L,G,R;try{L=S.fromHex(x,B),G=S.fromHex(y.slice(0,P),B),R=D.multiplyUnsafe(E)}catch{return!1}if(!B&&L.isSmallOrder())return!1;const V=$(U,G.toRawBytes(),L.toRawBytes(),w);return G.add(L.multiplyUnsafe(V)).subtract(R).clearCofactor().equals(S.ZERO)}return D._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:I,verify:p,ExtendedPoint:S,utils:{getExtendedPublicKey:_,randomPrivateKey:()=>o(r.BYTES),precompute(y=8,w=S.BASE){return w._setWindowSize(y),w.multiply(BigInt(3)),w}}}}BigInt(0),BigInt(1);const iS=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$T=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const jV=BigInt(1),LT=BigInt(2);BigInt(3);const HV=BigInt(5),WV=BigInt(8);function qV(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=iS,o=t*t%s*t%s,a=cc(o,LT,s)*o%s,c=cc(a,jV,s)*t%s,l=cc(c,HV,s)*c%s,u=cc(l,e,s)*l%s,f=cc(u,r,s)*u%s,d=cc(f,n,s)*f%s,h=cc(d,i,s)*d%s,m=cc(h,i,s)*d%s,g=cc(m,e,s)*l%s;return{pow_p_5_8:cc(g,LT,s)*t%s,b2:o}}function zV(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function GV(t,e){const r=iS,n=Un(e*e*e,r),i=Un(n*n*e,r),s=qV(t*i).pow_p_5_8;let o=Un(t*n*s,r);const a=Un(e*o*o,r),c=o,l=Un(o*$T,r),u=a===t,f=a===Un(-t,r),d=a===Un(-t*$T,r);return u&&(o=c),(f||d)&&(o=l),SV(o,r)&&(o=Un(-o,r)),{isValid:u||f,value:o}}const KV=l9(iS,void 0,!0),VV={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KV,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:WV,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gV,randomBytes:r9,adjustScalarBytes:zV,uvRatio:GV},d9=BV(VV),JV="EdDSA",YV="JWT",u1=".",R_="base64url",h9="utf8",p9="utf8",XV=":",QV="did",ZV="key",FT="base58btc",eJ="z",tJ="K36",rJ=32;function sS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function g9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?sS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function m9(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=g9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return sS(r)}function nJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,v=0,C=m.length;v!==C&&m[v]===0;)v++,g++;for(var S=(C-v)*u+1>>>0,D=new Uint8Array(S);v!==C;){for(var O=m[v],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,v++}for(var A=S-b;A!==S&&D[A]===0;)A++;for(var _=c.repeat(g);A<S;++A)_+=t.charAt(D[A]);return _}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,v=0;m[g]===c;)b++,g++;for(var C=(m.length-g)*l+1>>>0,S=new Uint8Array(C);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=C-1;(D!==0||O<v)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,g++}if(m[g]!==" "){for(var F=C-v;F!==C&&S[F]===0;)F++;for(var A=new Uint8Array(b+(C-F)),_=b;F!==C;)A[_++]=S[F++];return A}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var iJ=nJ,sJ=iJ;const y9=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oJ=t=>new TextEncoder().encode(t),aJ=t=>new TextDecoder().decode(t);let cJ=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},lJ=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return b9(this,e)}},uJ=class{constructor(e){this.decoders=e}or(e){return b9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const b9=(t,e)=>new uJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let fJ=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cJ(e,r,n),this.decoder=new lJ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const P_=({name:t,prefix:e,encode:r,decode:n})=>new fJ(t,e,r,n),by=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=sJ(r,e);return P_({prefix:t,name:e,encode:n,decode:s=>y9(i(s))})},dJ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hJ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>P_({prefix:e,name:t,encode(i){return hJ(i,n,r)},decode(i){return dJ(i,n,r,t)}}),pJ=P_({prefix:"\0",name:"identity",encode:t=>aJ(t),decode:t=>oJ(t)});var gJ=Object.freeze({__proto__:null,identity:pJ});const mJ=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yJ=Object.freeze({__proto__:null,base2:mJ});const bJ=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var wJ=Object.freeze({__proto__:null,base8:bJ});const _J=by({prefix:"9",name:"base10",alphabet:"0123456789"});var EJ=Object.freeze({__proto__:null,base10:_J});const vJ=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xJ=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var AJ=Object.freeze({__proto__:null,base16:vJ,base16upper:xJ});const CJ=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),NJ=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),SJ=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IJ=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TJ=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),RJ=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),PJ=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),OJ=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DJ=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var kJ=Object.freeze({__proto__:null,base32:CJ,base32upper:NJ,base32pad:SJ,base32padupper:IJ,base32hex:TJ,base32hexupper:RJ,base32hexpad:PJ,base32hexpadupper:OJ,base32z:DJ});const MJ=by({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),UJ=by({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var $J=Object.freeze({__proto__:null,base36:MJ,base36upper:UJ});const LJ=by({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FJ=by({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var BJ=Object.freeze({__proto__:null,base58btc:LJ,base58flickr:FJ});const jJ=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HJ=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WJ=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qJ=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var zJ=Object.freeze({__proto__:null,base64:jJ,base64pad:HJ,base64url:WJ,base64urlpad:qJ});const w9=Array.from(""),GJ=w9.reduce((t,e,r)=>(t[r]=e,t),[]),KJ=w9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function VJ(t){return t.reduce((e,r)=>(e+=GJ[r],e),"")}function JJ(t){const e=[];for(const r of t){const n=KJ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const YJ=P_({prefix:"",name:"base256emoji",encode:VJ,decode:JJ});var XJ=Object.freeze({__proto__:null,base256emoji:YJ}),QJ=_9,BT=128,ZJ=-128,eY=Math.pow(2,31);function _9(t,e,r){e=e||[],r=r||0;for(var n=r;t>=eY;)e[r++]=t&255|BT,t/=128;for(;t&ZJ;)e[r++]=t&255|BT,t>>>=7;return e[r]=t|0,_9.bytes=r-n+1,e}var tY=E2,rY=128,jT=127;function E2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw E2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&jT)<<i:(o&jT)*Math.pow(2,i),i+=7}while(o>=rY);return E2.bytes=s-n,r}var nY=Math.pow(2,7),iY=Math.pow(2,14),sY=Math.pow(2,21),oY=Math.pow(2,28),aY=Math.pow(2,35),cY=Math.pow(2,42),lY=Math.pow(2,49),uY=Math.pow(2,56),fY=Math.pow(2,63),dY=function(t){return t<nY?1:t<iY?2:t<sY?3:t<oY?4:t<aY?5:t<cY?6:t<lY?7:t<uY?8:t<fY?9:10},hY={encode:QJ,decode:tY,encodingLength:dY},E9=hY;const HT=(t,e,r=0)=>(E9.encode(t,e,r),e),WT=t=>E9.encodingLength(t),v2=(t,e)=>{const r=e.byteLength,n=WT(t),i=n+WT(r),s=new Uint8Array(i+r);return HT(t,s,0),HT(r,s,n),s.set(e,i),new pY(t,r,e,s)};let pY=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const v9=({name:t,code:e,encode:r})=>new gY(t,e,r);let gY=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?v2(this.code,r):r.then(n=>v2(this.code,n))}else throw Error("Unknown type, must be binary type")}};const x9=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mY=v9({name:"sha2-256",code:18,encode:x9("SHA-256")}),yY=v9({name:"sha2-512",code:19,encode:x9("SHA-512")});var bY=Object.freeze({__proto__:null,sha256:mY,sha512:yY});const A9=0,wY="identity",C9=y9,_Y=t=>v2(A9,C9(t)),EY={code:A9,name:wY,encode:C9,digest:_Y};var vY=Object.freeze({__proto__:null,identity:EY});new TextEncoder,new TextDecoder;const qT={...gJ,...yJ,...wJ,...EJ,...AJ,...kJ,...$J,...BJ,...zJ,...XJ};({...bY,...vY});function N9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const zT=N9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Rv=N9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=g9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),S9={utf8:zT,"utf-8":zT,hex:qT.base16,latin1:Rv,ascii:Rv,binary:Rv,...qT};function O_(t,e="utf8"){const r=S9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function L0(t,e="utf8"){const r=S9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?sS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function GT(t){return Sd(O_(L0(t,R_),h9))}function f1(t){return O_(L0($l(t),h9),R_)}function I9(t){const e=L0(tJ,FT),r=eJ+O_(m9([e,t]),FT);return[QV,ZV,r].join(XV)}function xY(t){return O_(t,R_)}function AY(t){return L0(t,R_)}function CY(t){return L0([f1(t.header),f1(t.payload)].join(u1),p9)}function NY(t){return[f1(t.header),f1(t.payload),xY(t.signature)].join(u1)}function x2(t){const e=t.split(u1),r=GT(e[0]),n=GT(e[1]),i=AY(e[2]),s=L0(e.slice(0,2).join(u1),p9);return{header:r,payload:n,signature:i,data:s}}function KT(t=r9(rJ)){const e=d9.getPublicKey(t);return{secretKey:m9([t,e]),publicKey:e}}async function SY(t,e,r,n,i=Ce.fromMiliseconds(Date.now())){const s={alg:JV,typ:YV},o=I9(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=CY({header:s,payload:c}),u=d9.sign(l,n.secretKey.slice(0,32));return NY({header:s,payload:c,signature:u})}var VT=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},IY=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),TY=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),RY=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),PY=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),OY=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),DY=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,kY=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,JT=3,MY=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",DY]],YT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function UY(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new OY:typeof navigator<"u"?LY(navigator.userAgent):BY()}function $Y(t){return t!==""&&MY.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function LY(t){var e=$Y(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new PY;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<JT&&(i=VT(VT([],i,!0),jY(JT-i.length),!0)):i=[];var s=i.join("."),o=FY(t),a=kY.exec(t);return a&&a[1]?new RY(r,s,o,a[1]):new IY(r,s,o)}function FY(t){for(var e=0,r=YT.length;e<r;e++){var n=YT[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function BY(){var t=typeof process<"u"&&process.version;return t?new TY(process.version.slice(1)):null}function jY(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var or={},XT;function T9(){if(XT)return or;XT=1,Object.defineProperty(or,"__esModule",{value:!0}),or.getLocalStorage=or.getLocalStorageOrThrow=or.getCrypto=or.getCryptoOrThrow=or.getLocation=or.getLocationOrThrow=or.getNavigator=or.getNavigatorOrThrow=or.getDocument=or.getDocumentOrThrow=or.getFromWindowOrThrow=or.getFromWindow=void 0;function t(d){let h;return typeof window<"u"&&typeof window[d]<"u"&&(h=window[d]),h}or.getFromWindow=t;function e(d){const h=t(d);if(!h)throw new Error(`${d} is not defined in Window`);return h}or.getFromWindowOrThrow=e;function r(){return e("document")}or.getDocumentOrThrow=r;function n(){return t("document")}or.getDocument=n;function i(){return e("navigator")}or.getNavigatorOrThrow=i;function s(){return t("navigator")}or.getNavigator=s;function o(){return e("location")}or.getLocationOrThrow=o;function a(){return t("location")}or.getLocation=a;function c(){return e("crypto")}or.getCryptoOrThrow=c;function l(){return t("crypto")}or.getCrypto=l;function u(){return e("localStorage")}or.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return or.getLocalStorage=f,or}var Ll=T9(),pp={},QT;function HY(){if(QT)return pp;QT=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.getWindowMetadata=void 0;const t=T9();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const h=r.getElementsByTagName("link"),m=[];for(let g=0;g<h.length;g++){const b=h[g],v=b.getAttribute("rel");if(v&&v.toLowerCase().indexOf("icon")>-1){const C=b.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let S=n.protocol+"//"+n.host;if(C.indexOf("/")===0)S+=C;else{const D=n.pathname.split("/");D.pop();const O=D.join("/");S+=O+"/"+C}m.push(S)}else if(C.indexOf("//")===0){const S=n.protocol+C;m.push(S)}else m.push(C)}}return m}function s(...h){const m=r.getElementsByTagName("meta");for(let g=0;g<m.length;g++){const b=m[g],v=["itemprop","property","name"].map(C=>b.getAttribute(C)).filter(C=>C?h.includes(C):!1);if(v.length&&v){const C=b.getAttribute("content");if(C)return C}}return""}function o(){let h=s("name","og:site_name","og:title","twitter:title");return h||(h=r.title),h}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=i();return{description:l,url:u,icons:f,name:c}}return pp.getWindowMetadata=e,pp}var WY=HY();function hm(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function A2(t){return hm(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const R9="2.31.0";let Pv={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${R9}`};class Id extends Error{constructor(e,r={}){const n=r.cause instanceof Id?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof Id&&r.cause.docsPath||r.docsPath,s=Pv.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Pv.version?[`Version: ${Pv.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=R9}walk(e){return P9(this,e)}}function P9(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?P9(t.cause,e):e?null:t}class O9 extends Id{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function F0(t,{dir:e,size:r=32}={}){return typeof t=="string"?qY(t,{dir:e,size:r}):zY(t,{dir:e,size:r})}function qY(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new O9({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function zY(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new O9({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class GY extends Id{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class KY extends Id{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function B0(t,{size:e}){if(A2(t)>e)throw new KY({givenSize:A2(t),maxSize:e})}function C2(t,e={}){const{signed:r}=e;e.size&&B0(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function VY(t,e={}){return Number(C2(t,e))}const JY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function N2(t,e={}){return typeof t=="number"||typeof t=="bigint"?k9(t,e):typeof t=="string"?QY(t,e):typeof t=="boolean"?YY(t,e):D9(t,e)}function YY(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(B0(r,{size:e.size}),F0(r,{size:e.size})):r}function D9(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=JY[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(B0(n,{size:e.size}),F0(n,{dir:"right",size:e.size})):n}function k9(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new GY({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?F0(a,{size:n}):a}const XY=new TextEncoder;function QY(t,e={}){const r=XY.encode(t);return D9(r,e)}const ZY=new TextEncoder;function eX(t,e={}){return typeof t=="number"||typeof t=="bigint"?rX(t,e):typeof t=="boolean"?tX(t,e):hm(t)?M9(t,e):U9(t,e)}function tX(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(B0(r,{size:e.size}),F0(r,{size:e.size})):r}const Yc={zero:48,nine:57,A:65,F:70,a:97,f:102};function ZT(t){if(t>=Yc.zero&&t<=Yc.nine)return t-Yc.zero;if(t>=Yc.A&&t<=Yc.F)return t-(Yc.A-10);if(t>=Yc.a&&t<=Yc.f)return t-(Yc.a-10)}function M9(t,e={}){let r=t;e.size&&(B0(r,{size:e.size}),r=F0(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=ZT(n.charCodeAt(a++)),l=ZT(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Id(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function rX(t,e){const r=k9(t,e);return M9(r)}function U9(t,e={}){const r=ZY.encode(t);return typeof e.size=="number"?(B0(r,{size:e.size}),F0(r,{dir:"right",size:e.size})):r}function $9(t,e){const r=e||"hex",n=gz(hm(t,{strict:!1})?eX(t):t);return r==="bytes"?n:N2(n)}class nX extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Ov=new nX(8192);function iX(t,e){if(Ov.has(`${t}.${e}`))return Ov.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=$9(U9(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Ov.set(`${t}.${e}`,s),s}function sX(t){const e=$9(`0x${t.substring(4)}`).substring(26);return iX(`0x${e}`)}async function oX({hash:t,signature:e}){const r=hm(t)?t:N2(t),{secp256k1:n}=await Gn(async()=>{const{secp256k1:o}=await import("./secp256k1-DhZTnHIm.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:d}=e,h=Number(d??f),m=eR(h);return new n.Signature(C2(l),C2(u)).addRecoveryBit(m)}const o=hm(e)?e:N2(e);if(A2(o)!==65)throw new Error("invalid signature length");const a=VY(`0x${o.slice(130)}`),c=eR(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function eR(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function aX({hash:t,signature:e}){return sX(await oX({hash:t,signature:e}))}function cX(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,d=0;const h=l.length;for(;d!==h&&l[d]===0;)d++,u++;const m=(h-d)*s+1>>>0,g=new Uint8Array(m);for(;d!==h;){let C=l[d],S=0;for(let D=m-1;(C!==0||S<f)&&D!==-1;D--,S++)C+=256*g[D]>>>0,g[D]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");f=S,d++}let b=m-f;for(;b!==m&&g[b]===0;)b++;let v=n.repeat(u);for(;b<m;++b)v+=t.charAt(g[b]);return v}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,d=0;for(;l[u]===n;)f++,u++;const h=(l.length-u)*i+1>>>0,m=new Uint8Array(h);for(;u<l.length;){const C=l.charCodeAt(u);if(C>255)return;let S=e[C];if(S===255)return;let D=0;for(let O=h-1;(S!==0||D<d)&&O!==-1;O--,D++)S+=r*m[O]>>>0,m[O]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");d=D,u++}let g=h-d;for(;g!==h&&m[g]===0;)g++;const b=new Uint8Array(f+(h-g));let v=f;for(;g!==h;)b[v++]=m[g++];return b}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var lX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const j0=cX(lX);function uX(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function fX(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const dX=new TextEncoder,hX=50;function pX(t,e,r){dX.encodeInto(t,e.subarray(r))}function gX(t,e,r){t.length>hX?pX(t,e,r):fX(t,e,r)}const mX=4096;function L9(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=mX&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const yX=new TextDecoder,bX=200;function wX(t,e,r){const n=t.subarray(e,e+r);return yX.decode(n)}function _X(t,e,r){return r>bX?wX(t,e,r):L9(t,e,r)}class sb{constructor(e,r){this.type=e,this.data=r}}class Us extends Error{constructor(e){super(e);const r=Object.create(Us.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Us.name})}}const gp=4294967295;function EX(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function F9(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function B9(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function vX(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const xX=-1,AX=4294967296-1,CX=17179869184-1;function NX({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=CX)if(e===0&&t<=AX){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),F9(n,4,t),r}}function SX(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function IX(t){if(t instanceof Date){const e=SX(t);return NX(e)}else return null}function TX(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=B9(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Us(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function RX(t){const e=TX(t);return new Date(e.sec*1e3+e.nsec/1e6)}const PX={type:xX,encode:IX,decode:RX};class d1{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(PX)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new sb(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new sb(o,s)}}}return e instanceof sb?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new sb(r,e)}}d1.defaultCodec=new d1;function OX(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function S2(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):OX(t)?new Uint8Array(t):Uint8Array.from(t)}const DX=100,kX=2048;let MX=class j9{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??d1.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??DX,this.initialBufferSize=e?.initialBufferSize??kX,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new j9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=uX(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),gX(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=S2(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),EX(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),F9(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function UX(t,e){return new MX(e).encodeSharedRef(t)}function Dv(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const $X=16,LX=16;class FX{constructor(e=$X,r=LX){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=L9(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const I2="array",ug="map_key",H9="map_value",BX=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Us("The type of key must be string or number but "+typeof t)};class jX{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=I2,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=ug,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===I2){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===ug||e.type===H9){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const mp=-1,oS=new DataView(new ArrayBuffer(0)),HX=new Uint8Array(oS.buffer);try{oS.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const tR=new RangeError("Insufficient data"),WX=new FX;let qX=class W9{constructor(e){this.totalPos=0,this.pos=0,this.view=oS,this.bytes=HX,this.headByte=mp,this.stack=new jX,this.entered=!1,this.extensionCodec=e?.extensionCodec??d1.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??gp,this.maxBinLength=e?.maxBinLength??gp,this.maxArrayLength=e?.maxArrayLength??gp,this.maxMapLength=e?.maxMapLength??gp,this.maxExtLength=e?.maxExtLength??gp,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:WX,this.mapKeyConverter=e?.mapKeyConverter??BX}clone(){return new W9({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=mp,this.stack.reset()}setBuffer(e){const r=S2(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===mp&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=S2(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Dv(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Us(`Unrecognized type byte: ${Dv(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===I2)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===ug){if(r==="__proto__")throw new Us("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=H9;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=ug;continue e}}return r}}readHeadByte(){return this.headByte===mp&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=mp}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Us(`Unrecognized array type byte: ${Dv(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Us(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Us(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new Us(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw tR;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=_X(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===ug:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Us(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw tR;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Us(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=vX(this.view,this.pos);return this.pos+=8,e}readI64(){const e=B9(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function zX(t,e){return new qX(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function q9(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function h1(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function aS(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function T2(t){if(!Array.isArray(t))throw new Error("array expected")}function p1(t,e){if(!q9(!0,e))throw new Error(`${t}: array of strings expected`)}function KX(t,e){if(!q9(!1,e))throw new Error(`${t}: array of numbers expected`)}function VX(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function JX(t){const e=typeof t=="string"?t.split(""):t,r=e.length;p1("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(T2(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(T2(i),i.map(s=>{h1("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function YX(t=""){return h1("join",t),{encode:e=>(p1("join.decode",e),e.join(t)),decode:e=>(h1("join.decode",e),e.split(t))}}function XX(t,e="="){return aS(t),h1("padding",e),{encode(r){for(p1("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){p1("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const z9=(t,e)=>e===0?t:z9(e,t%e),g1=(t,e)=>t+(e-z9(t,e)),kv=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function rR(t,e,r,n){if(T2(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(g1(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${g1(e,r)}`);let i=0,s=0;const o=kv[e],a=kv[r]-1,c=[];for(const l of t){if(aS(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=kv[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function QX(t,e=!1){if(aS(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(g1(8,t)>32||g1(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!GX(r))throw new Error("radix2.encode input should be Uint8Array");return rR(Array.from(r),8,t,!e)},decode:r=>(KX("radix2.decode",r),Uint8Array.from(rR(r,t,8,e)))}}const ZX=VX(QX(5),JX("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),XX(5),YX(""));function cS(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function G9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?cS(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function fg(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=G9(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return cS(r)}function eQ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,v=0,C=m.length;v!==C&&m[v]===0;)v++,g++;for(var S=(C-v)*u+1>>>0,D=new Uint8Array(S);v!==C;){for(var O=m[v],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,v++}for(var A=S-b;A!==S&&D[A]===0;)A++;for(var _=c.repeat(g);A<S;++A)_+=t.charAt(D[A]);return _}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,v=0;m[g]===c;)b++,g++;for(var C=(m.length-g)*l+1>>>0,S=new Uint8Array(C);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=C-1;(D!==0||O<v)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,g++}if(m[g]!==" "){for(var F=C-v;F!==C&&S[F]===0;)F++;for(var A=new Uint8Array(b+(C-F)),_=b;F!==C;)A[_++]=S[F++];return A}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var tQ=eQ,rQ=tQ;const nQ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},iQ=t=>new TextEncoder().encode(t),sQ=t=>new TextDecoder().decode(t);class oQ{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class aQ{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return K9(this,e)}}class cQ{constructor(e){this.decoders=e}or(e){return K9(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const K9=(t,e)=>new cQ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class lQ{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new oQ(e,r,n),this.decoder=new aQ(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const D_=({name:t,prefix:e,encode:r,decode:n})=>new lQ(t,e,r,n),wy=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=rQ(r,e);return D_({prefix:t,name:e,encode:n,decode:s=>nQ(i(s))})},uQ=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},fQ=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},hi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>D_({prefix:e,name:t,encode(i){return fQ(i,n,r)},decode(i){return uQ(i,n,r,t)}}),dQ=D_({prefix:"\0",name:"identity",encode:t=>sQ(t),decode:t=>iQ(t)}),hQ=Object.freeze(Object.defineProperty({__proto__:null,identity:dQ},Symbol.toStringTag,{value:"Module"})),pQ=hi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),gQ=Object.freeze(Object.defineProperty({__proto__:null,base2:pQ},Symbol.toStringTag,{value:"Module"})),mQ=hi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),yQ=Object.freeze(Object.defineProperty({__proto__:null,base8:mQ},Symbol.toStringTag,{value:"Module"})),bQ=wy({prefix:"9",name:"base10",alphabet:"0123456789"}),wQ=Object.freeze(Object.defineProperty({__proto__:null,base10:bQ},Symbol.toStringTag,{value:"Module"})),_Q=hi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),EQ=hi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),vQ=Object.freeze(Object.defineProperty({__proto__:null,base16:_Q,base16upper:EQ},Symbol.toStringTag,{value:"Module"})),xQ=hi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),AQ=hi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),CQ=hi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),NQ=hi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),SQ=hi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),IQ=hi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),TQ=hi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RQ=hi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),PQ=hi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),OQ=Object.freeze(Object.defineProperty({__proto__:null,base32:xQ,base32hex:SQ,base32hexpad:TQ,base32hexpadupper:RQ,base32hexupper:IQ,base32pad:CQ,base32padupper:NQ,base32upper:AQ,base32z:PQ},Symbol.toStringTag,{value:"Module"})),DQ=wy({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kQ=wy({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),MQ=Object.freeze(Object.defineProperty({__proto__:null,base36:DQ,base36upper:kQ},Symbol.toStringTag,{value:"Module"})),UQ=wy({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$Q=wy({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),LQ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:UQ,base58flickr:$Q},Symbol.toStringTag,{value:"Module"})),FQ=hi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),BQ=hi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jQ=hi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HQ=hi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),WQ=Object.freeze(Object.defineProperty({__proto__:null,base64:FQ,base64pad:BQ,base64url:jQ,base64urlpad:HQ},Symbol.toStringTag,{value:"Module"})),V9=Array.from(""),qQ=V9.reduce((t,e,r)=>(t[r]=e,t),[]),zQ=V9.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function GQ(t){return t.reduce((e,r)=>(e+=qQ[r],e),"")}function KQ(t){const e=[];for(const r of t){const n=zQ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const VQ=D_({prefix:"",name:"base256emoji",encode:GQ,decode:KQ}),JQ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:VQ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const nR={...hQ,...gQ,...yQ,...wQ,...vQ,...OQ,...MQ,...LQ,...WQ,...JQ};function J9(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const iR=J9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Mv=J9("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=G9(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Y9={utf8:iR,"utf-8":iR,hex:nR.base16,latin1:Mv,ascii:Mv,binary:Mv,...nR};function So(t,e="utf8"){const r=Y9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?cS(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Ss(t,e="utf8"){const r=Y9[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const YQ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Uv,sR;function X9(){if(sR)return Uv;sR=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=n(a[u]).toUpperCase(),l+=" ",l+=n(a[u+1]).toUpperCase();else if(c===64)l+=n(a[u+1]).toUpperCase(),l+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let d=0;d<a;d++)u[d]=d%256;const f=new Date().getTime();console.log("Generated random input in "+(f-l)+"ms"),l=f;for(let d=0;d<c;d++){const h=o(u),m=new Date().getTime(),g=m-l;l=m,console.log("Hashed in "+g+"ms: "+h.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return Uv={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},Uv}var $v,oR;function XQ(){if(oR)return $v;oR=1;const t=X9();function e(v,C,S){const D=v[C]+v[S];let O=v[C+1]+v[S+1];D>=4294967296&&O++,v[C]=D,v[C+1]=O}function r(v,C,S,D){let O=v[C]+S;S<0&&(O+=4294967296);let k=v[C+1]+D;O>=4294967296&&k++,v[C]=O,v[C+1]=k}function n(v,C){return v[C]^v[C+1]<<8^v[C+2]<<16^v[C+3]<<24}function i(v,C,S,D,O,k){const F=l[O],A=l[O+1],_=l[k],M=l[k+1];e(c,v,C),r(c,v,F,A);let $=c[D]^c[v],I=c[D+1]^c[v+1];c[D]=I,c[D+1]=$,e(c,S,D),$=c[C]^c[S],I=c[C+1]^c[S+1],c[C]=$>>>24^I<<8,c[C+1]=I>>>24^$<<8,e(c,v,C),r(c,v,_,M),$=c[D]^c[v],I=c[D+1]^c[v+1],c[D]=$>>>16^I<<16,c[D+1]=I>>>16^$<<16,e(c,S,D),$=c[C]^c[S],I=c[C+1]^c[S+1],c[C]=I>>>31^$<<1,c[C+1]=$>>>31^I<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(v){return v*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(v,C){let S=0;for(S=0;S<16;S++)c[S]=v.h[S],c[S+16]=s[S];for(c[24]=c[24]^v.t,c[25]=c[25]^v.t/4294967296,C&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=n(v.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,a[S*16+0],a[S*16+1]),i(2,10,18,26,a[S*16+2],a[S*16+3]),i(4,12,20,28,a[S*16+4],a[S*16+5]),i(6,14,22,30,a[S*16+6],a[S*16+7]),i(0,10,20,30,a[S*16+8],a[S*16+9]),i(2,12,22,24,a[S*16+10],a[S*16+11]),i(4,14,16,26,a[S*16+12],a[S*16+13]),i(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)v.h[S]=v.h[S]^c[S]^c[S+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function d(v,C,S,D){if(v===0||v>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(C&&C.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(D&&D.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const O={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:v};f.fill(0),f[0]=v,C&&(f[1]=C.length),f[2]=1,f[3]=1,S&&f.set(S,32),D&&f.set(D,48);for(let k=0;k<16;k++)O.h[k]=s[k]^n(f,k*4);return C&&(h(O,C),O.c=128),O}function h(v,C){for(let S=0;S<C.length;S++)v.c===128&&(v.t+=v.c,u(v,!1),v.c=0),v.b[v.c++]=C[S]}function m(v){for(v.t+=v.c;v.c<128;)v.b[v.c++]=0;u(v,!0);const C=new Uint8Array(v.outlen);for(let S=0;S<v.outlen;S++)C[S]=v.h[S>>2]>>8*(S&3);return C}function g(v,C,S,D,O){S=S||64,v=t.normalizeInput(v),D&&(D=t.normalizeInput(D)),O&&(O=t.normalizeInput(O));const k=d(S,C,D,O);return h(k,v),m(k)}function b(v,C,S,D,O){const k=g(v,C,S,D,O);return t.toHex(k)}return $v={blake2b:g,blake2bHex:b,blake2bInit:d,blake2bUpdate:h,blake2bFinal:m},$v}var Lv,aR;function QQ(){if(aR)return Lv;aR=1;const t=X9();function e(m,g){return m[g]^m[g+1]<<8^m[g+2]<<16^m[g+3]<<24}function r(m,g,b,v,C,S){o[m]=o[m]+o[g]+C,o[v]=n(o[v]^o[m],16),o[b]=o[b]+o[v],o[g]=n(o[g]^o[b],12),o[m]=o[m]+o[g]+S,o[v]=n(o[v]^o[m],8),o[b]=o[b]+o[v],o[g]=n(o[g]^o[b],7)}function n(m,g){return m>>>g^m<<32-g}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(m,g){let b=0;for(b=0;b<8;b++)o[b]=m.h[b],o[b+8]=i[b];for(o[12]^=m.t,o[13]^=m.t/4294967296,g&&(o[14]=~o[14]),b=0;b<16;b++)a[b]=e(m.b,4*b);for(b=0;b<10;b++)r(0,4,8,12,a[s[b*16+0]],a[s[b*16+1]]),r(1,5,9,13,a[s[b*16+2]],a[s[b*16+3]]),r(2,6,10,14,a[s[b*16+4]],a[s[b*16+5]]),r(3,7,11,15,a[s[b*16+6]],a[s[b*16+7]]),r(0,5,10,15,a[s[b*16+8]],a[s[b*16+9]]),r(1,6,11,12,a[s[b*16+10]],a[s[b*16+11]]),r(2,7,8,13,a[s[b*16+12]],a[s[b*16+13]]),r(3,4,9,14,a[s[b*16+14]],a[s[b*16+15]]);for(b=0;b<8;b++)m.h[b]^=o[b]^o[b+8]}function l(m,g){if(!(m>0&&m<=32))throw new Error("Incorrect output length, should be in [1, 32]");const b=g?g.length:0;if(g&&!(b>0&&b<=32))throw new Error("Incorrect key length, should be in [1, 32]");const v={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:m};return v.h[0]^=16842752^b<<8^m,b>0&&(u(v,g),v.c=64),v}function u(m,g){for(let b=0;b<g.length;b++)m.c===64&&(m.t+=m.c,c(m,!1),m.c=0),m.b[m.c++]=g[b]}function f(m){for(m.t+=m.c;m.c<64;)m.b[m.c++]=0;c(m,!0);const g=new Uint8Array(m.outlen);for(let b=0;b<m.outlen;b++)g[b]=m.h[b>>2]>>8*(b&3)&255;return g}function d(m,g,b){b=b||32,m=t.normalizeInput(m);const v=l(b,g);return u(v,m),f(v)}function h(m,g,b){const v=d(m,g,b);return t.toHex(v)}return Lv={blake2s:d,blake2sHex:h,blake2sInit:l,blake2sUpdate:u,blake2sFinal:f},Lv}var Fv,cR;function ZQ(){if(cR)return Fv;cR=1;const t=XQ(),e=QQ();return Fv={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},Fv}var eZ=ZQ(),tZ={};const rZ=":";function yd(t){const[e,r]=t.split(rZ);return{namespace:e,reference:r}}function Q9(t,e){return t.includes(":")?[t]:e.chains||[]}var nZ=Object.defineProperty,iZ=Object.defineProperties,sZ=Object.getOwnPropertyDescriptors,lR=Object.getOwnPropertySymbols,oZ=Object.prototype.hasOwnProperty,aZ=Object.prototype.propertyIsEnumerable,R2=(t,e,r)=>e in t?nZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uR=(t,e)=>{for(var r in e||(e={}))oZ.call(e,r)&&R2(t,r,e[r]);if(lR)for(var r of lR(e))aZ.call(e,r)&&R2(t,r,e[r]);return t},cZ=(t,e)=>iZ(t,sZ(e)),fR=(t,e,r)=>R2(t,typeof e!="symbol"?e+"":e,r);const lZ="ReactNative",Vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},uZ="js";function m1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function pf(){return!Ll.getDocument()&&!!Ll.getNavigator()&&navigator.product===lZ}function fZ(){return pf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function dZ(){return pf()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function H0(){return!m1()&&!!Ll.getNavigator()&&!!Ll.getDocument()}function _y(){return pf()?Vs.reactNative:m1()?Vs.node:H0()?Vs.browser:Vs.unknown}function dR(){var t;try{return pf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function hZ(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function pZ(t){var e,r;const n=Z9();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),cZ(uR(uR({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function Z9(){return WY.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function gZ(){if(_y()===Vs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=UY();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function mZ(){var t;const e=_y();return e===Vs.browser?[e,((t=Ll.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function e7(t,e,r){const n=gZ(),i=mZ();return[[t,e].join("-"),[uZ,r].join("-"),n,i].join("/")}function yZ({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=e7(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=hZ(l[1]||"",f);return l[0]+"?"+d}function od(t,e){return t.filter(r=>e.includes(r)).length===t.length}function P2(t){return Object.fromEntries(t.entries())}function O2(t){return new Map(Object.entries(t))}function Vf(t=Ce.FIVE_MINUTES,e){const r=Ce.toMiliseconds(t||Ce.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function Sc(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function t7(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function bZ(t){return t7("topic",t)}function wZ(t){return t7("id",t)}function r7(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Mn(t,e){return Ce.fromMiliseconds(Date.now()+Ce.toMiliseconds(t))}function Au(t){return Date.now()>=Ce.toMiliseconds(t)}function Kt(t,e){return`${t}${e?`:${e}`:""}`}function Dc(t=[],e=[]){return[...new Set([...t,...e])]}async function _Z({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=EZ(s,t,e),a=_y();if(a===Vs.browser){if(!((n=Ll.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}vZ(o)}else a===Vs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function EZ(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${NZ(n,!0)}`}else i=`${i}/wc?${n}`;return i}function vZ(t){let e="_self";CZ()?e="_top":(AZ()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function xZ(t,e){let r="";try{if(H0()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function hR(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function pR(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function lS(){return typeof process<"u"&&tZ.IS_VITEST==="true"}function AZ(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function CZ(){try{return window.self!==window.top}catch{return!1}}function NZ(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function n7(t){return Buffer.from(t,"base64").toString("utf-8")}function SZ(t){return new Promise(e=>setTimeout(e,t))}let IZ=class{constructor({limit:e}){fR(this,"limit"),fR(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const ob=BigInt(2**32-1),gR=BigInt(32);function i7(t,e=!1){return e?{h:Number(t&ob),l:Number(t>>gR&ob)}:{h:Number(t>>gR&ob)|0,l:Number(t&ob)|0}}function s7(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=i7(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const mR=(t,e,r)=>t>>>r,yR=(t,e,r)=>t<<32-r|e>>>r,Cu=(t,e,r)=>t>>>r|e<<32-r,Nu=(t,e,r)=>t<<32-r|e>>>r,Hp=(t,e,r)=>t<<64-r|e>>>r-32,Wp=(t,e,r)=>t>>>r-32|e<<64-r,TZ=(t,e)=>e,RZ=(t,e)=>t,PZ=(t,e,r)=>t<<r|e>>>32-r,OZ=(t,e,r)=>e<<r|t>>>32-r,DZ=(t,e,r)=>e<<r-32|t>>>64-r,kZ=(t,e,r)=>t<<r-32|e>>>64-r;function pa(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const uS=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),fS=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,MZ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),UZ=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,$Z=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),LZ=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,sh=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function dS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Fl(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ko(t,...e){if(!dS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function hS(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Fl(t.outputLen),Fl(t.blockLen)}function Vu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pS(t,e){ko(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function pm(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Mo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Bv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lc(t,e){return t<<32-e|t>>>e}const o7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function a7(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ol=o7?t=>t:t=>a7(t);function FZ(t){for(let e=0;e<t.length;e++)t[e]=a7(t[e]);return t}const Su=o7?t=>t:FZ,c7=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",BZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gm(t){if(ko(t),c7)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=BZ[t[r]];return e}const Xc={_0:48,_9:57,A:65,F:70,a:97,f:102};function bR(t){if(t>=Xc._0&&t<=Xc._9)return t-Xc._0;if(t>=Xc.A&&t<=Xc.F)return t-(Xc.A-10);if(t>=Xc.a&&t<=Xc.f)return t-(Xc.a-10)}function gS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(c7)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=bR(t.charCodeAt(s)),a=bR(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function jZ(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Xa(t){return typeof t=="string"&&(t=jZ(t)),ko(t),t}function ad(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ko(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let k_=class{};function Ey(t){const e=n=>t().update(Xa(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function HZ(t){const e=(n,i)=>t(i).update(Xa(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function W0(t=32){if(sh&&typeof sh.getRandomValues=="function")return sh.getRandomValues(new Uint8Array(t));if(sh&&typeof sh.randomBytes=="function")return Uint8Array.from(sh.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const WZ=BigInt(0),yp=BigInt(1),qZ=BigInt(2),zZ=BigInt(7),GZ=BigInt(256),KZ=BigInt(113),l7=[],u7=[],f7=[];for(let t=0,e=yp,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],l7.push(2*(5*n+r)),u7.push((t+1)*(t+2)/2%64);let i=WZ;for(let s=0;s<7;s++)e=(e<<yp^(e>>zZ)*KZ)%GZ,e&qZ&&(i^=yp<<(yp<<BigInt(s))-yp);f7.push(i)}const d7=s7(f7,!0),VZ=d7[0],JZ=d7[1],wR=(t,e,r)=>r>32?DZ(t,e,r):PZ(t,e,r),_R=(t,e,r)=>r>32?kZ(t,e,r):OZ(t,e,r);function YZ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=wR(l,u,1)^r[a],d=_R(l,u,1)^r[a+1];for(let h=0;h<50;h+=10)t[o+h]^=f,t[o+h+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=u7[o],c=wR(i,s,a),l=_R(i,s,a),u=l7[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=VZ[n],t[1]^=JZ[n]}Mo(r)}let XZ=class h7 extends k_{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Fl(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pm(this.state)}clone(){return this._cloneInto()}keccak(){Su(this.state32),YZ(this.state32,this.rounds),Su(this.state32),this.posOut=0,this.pos=0}update(e){Vu(this),e=Xa(e),ko(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Vu(this,!1),ko(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Mo(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new h7(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const QZ=(t,e,r)=>Ey(()=>new XZ(e,t,r)),ZZ=QZ(1,136,256/8);function eee(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function tee(t,e,r){return t&e^~t&r}function ree(t,e,r){return t&e^t&r^e&r}let p7=class extends k_{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Bv(this.buffer)}update(e){Vu(this),e=Xa(e),ko(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Bv(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vu(this),pS(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Mo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;eee(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Bv(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ou=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_i=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),nee=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),au=new Uint32Array(64);let iee=class extends p7{constructor(e=32){super(64,e,8,!1),this.A=ou[0]|0,this.B=ou[1]|0,this.C=ou[2]|0,this.D=ou[3]|0,this.E=ou[4]|0,this.F=ou[5]|0,this.G=ou[6]|0,this.H=ou[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)au[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const d=au[f-15],h=au[f-2],m=lc(d,7)^lc(d,18)^d>>>3,g=lc(h,17)^lc(h,19)^h>>>10;au[f]=g+au[f-7]+m+au[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=lc(a,6)^lc(a,11)^lc(a,25),h=u+d+tee(a,c,l)+nee[f]+au[f]|0,m=(lc(n,2)^lc(n,13)^lc(n,22))+ree(n,i,s)|0;u=l,l=c,c=a,a=o+h|0,o=s,s=i,i=n,n=h+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Mo(au)}destroy(){this.set(0,0,0,0,0,0,0,0),Mo(this.buffer)}};const g7=s7(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),see=g7[0],oee=g7[1],cu=new Uint32Array(80),lu=new Uint32Array(80);let mS=class extends p7{constructor(e=64){super(128,e,16,!1),this.Ah=_i[0]|0,this.Al=_i[1]|0,this.Bh=_i[2]|0,this.Bl=_i[3]|0,this.Ch=_i[4]|0,this.Cl=_i[5]|0,this.Dh=_i[6]|0,this.Dl=_i[7]|0,this.Eh=_i[8]|0,this.El=_i[9]|0,this.Fh=_i[10]|0,this.Fl=_i[11]|0,this.Gh=_i[12]|0,this.Gl=_i[13]|0,this.Hh=_i[14]|0,this.Hl=_i[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:h,Gl:m,Hh:g,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=b|0}process(e,r){for(let S=0;S<16;S++,r+=4)cu[S]=e.getUint32(r),lu[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const D=cu[S-15]|0,O=lu[S-15]|0,k=Cu(D,O,1)^Cu(D,O,8)^mR(D,O,7),F=Nu(D,O,1)^Nu(D,O,8)^yR(D,O,7),A=cu[S-2]|0,_=lu[S-2]|0,M=Cu(A,_,19)^Hp(A,_,61)^mR(A,_,6),$=Nu(A,_,19)^Wp(A,_,61)^yR(A,_,6),I=MZ(F,$,lu[S-7],lu[S-16]),N=UZ(I,k,M,cu[S-7],cu[S-16]);cu[S]=N|0,lu[S]=I|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:h,Fl:m,Gh:g,Gl:b,Hh:v,Hl:C}=this;for(let S=0;S<80;S++){const D=Cu(f,d,14)^Cu(f,d,18)^Hp(f,d,41),O=Nu(f,d,14)^Nu(f,d,18)^Wp(f,d,41),k=f&h^~f&g,F=d&m^~d&b,A=$Z(C,O,F,oee[S],lu[S]),_=LZ(A,v,D,k,see[S],cu[S]),M=A|0,$=Cu(n,i,28)^Hp(n,i,34)^Hp(n,i,39),I=Nu(n,i,28)^Wp(n,i,34)^Wp(n,i,39),N=n&s^n&a^s&a,p=i&o^i&c^o&c;v=g|0,C=b|0,g=h|0,b=m|0,h=f|0,m=d|0,{h:f,l:d}=pa(l|0,u|0,_|0,M|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=uS(M,I,p);n=fS(y,_,$,N),i=y|0}({h:n,l:i}=pa(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=pa(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=pa(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=pa(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=pa(this.Eh|0,this.El|0,f|0,d|0),{h,l:m}=pa(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:b}=pa(this.Gh|0,this.Gl|0,g|0,b|0),{h:v,l:C}=pa(this.Hh|0,this.Hl|0,v|0,C|0),this.set(n,i,s,o,a,c,l,u,f,d,h,m,g,b,v,C)}roundClean(){Mo(cu,lu)}destroy(){Mo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},aee=class extends mS{constructor(){super(48),this.Ah=wi[0]|0,this.Al=wi[1]|0,this.Bh=wi[2]|0,this.Bl=wi[3]|0,this.Ch=wi[4]|0,this.Cl=wi[5]|0,this.Dh=wi[6]|0,this.Dl=wi[7]|0,this.Eh=wi[8]|0,this.El=wi[9]|0,this.Fh=wi[10]|0,this.Fl=wi[11]|0,this.Gh=wi[12]|0,this.Gl=wi[13]|0,this.Hh=wi[14]|0,this.Hl=wi[15]|0}};const Ei=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class cee extends mS{constructor(){super(32),this.Ah=Ei[0]|0,this.Al=Ei[1]|0,this.Bh=Ei[2]|0,this.Bl=Ei[3]|0,this.Ch=Ei[4]|0,this.Cl=Ei[5]|0,this.Dh=Ei[6]|0,this.Dl=Ei[7]|0,this.Eh=Ei[8]|0,this.El=Ei[9]|0,this.Fh=Ei[10]|0,this.Fl=Ei[11]|0,this.Gh=Ei[12]|0,this.Gl=Ei[13]|0,this.Hh=Ei[14]|0,this.Hl=Ei[15]|0}}const M_=Ey(()=>new iee),lee=Ey(()=>new mS),uee=Ey(()=>new aee),fee=Ey(()=>new cee),dee=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),bn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Te=new Uint32Array(32);function uu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=uS(c,u,o);l=fS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:TZ(g,m),Dl:RZ(g)},{h,l:d}=pa(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Cu(f,u,24),Bl:Nu(f,u,24)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function fu(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Te[2*t],l=Te[2*t+1],u=Te[2*e],f=Te[2*e+1],d=Te[2*r],h=Te[2*r+1],m=Te[2*n],g=Te[2*n+1],b=uS(c,u,o);l=fS(b,l,f,a),c=b|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:Cu(g,m,16),Dl:Nu(g,m,16)},{h,l:d}=pa(h,d,g,m),{Bh:f,Bl:u}={Bh:f^h,Bl:u^d},{Bh:f,Bl:u}={Bh:Hp(f,u,63),Bl:Wp(f,u,63)},Te[2*t]=c,Te[2*t+1]=l,Te[2*e]=u,Te[2*e+1]=f,Te[2*r]=d,Te[2*r+1]=h,Te[2*n]=m,Te[2*n+1]=g}function hee(t,e={},r,n,i){if(Fl(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class pee extends k_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Fl(e),Fl(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=pm(this.buffer)}update(e){Vu(this),e=Xa(e),ko(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(Su(i),this.compress(i,0,!1),Su(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const f=new Uint32Array(a,u,Math.floor((s-c)/4));Su(f);for(let d=0;c+r<s;d+=i.length,c+=r)this.length+=r,this.compress(f,d,!1);Su(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){Vu(this),pS(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Mo(this.buffer.subarray(r)),Su(n),this.compress(n,0,!0),Su(n);const i=pm(e);this.get().forEach((s,o)=>i[o]=ol(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class gee extends pee{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=bn[0]|0,this.v0h=bn[1]|0,this.v1l=bn[2]|0,this.v1h=bn[3]|0,this.v2l=bn[4]|0,this.v2h=bn[5]|0,this.v3l=bn[6]|0,this.v3h=bn[7]|0,this.v4l=bn[8]|0,this.v4h=bn[9]|0,this.v5l=bn[10]|0,this.v5h=bn[11]|0,this.v6l=bn[12]|0,this.v6h=bn[13]|0,this.v7l=bn[14]|0,this.v7h=bn[15]|0,hee(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Xa(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Xa(s);const a=pm(s);this.v4l^=ol(a[0]),this.v4h^=ol(a[1]),this.v5l^=ol(a[2]),this.v5h^=ol(a[3])}if(i!==void 0){i=Xa(i);const a=pm(i);this.v6l^=ol(a[0]),this.v6h^=ol(a[1]),this.v7l^=ol(a[2]),this.v7h^=ol(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:d,v6l:h,v6h:m,v7l:g,v7h:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b]}set(e,r,n,i,s,o,a,c,l,u,f,d,h,m,g,b){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=d|0,this.v6l=h|0,this.v6h=m|0,this.v7l=g|0,this.v7h=b|0}compress(e,r,n){this.get().forEach((c,l)=>Te[l]=c),Te.set(bn,16);let{h:i,l:s}=i7(BigInt(this.length));Te[24]=bn[8]^s,Te[25]=bn[9]^i,n&&(Te[28]=~Te[28],Te[29]=~Te[29]);let o=0;const a=dee;for(let c=0;c<12;c++)uu(0,4,8,12,e,r+2*a[o++]),fu(0,4,8,12,e,r+2*a[o++]),uu(1,5,9,13,e,r+2*a[o++]),fu(1,5,9,13,e,r+2*a[o++]),uu(2,6,10,14,e,r+2*a[o++]),fu(2,6,10,14,e,r+2*a[o++]),uu(3,7,11,15,e,r+2*a[o++]),fu(3,7,11,15,e,r+2*a[o++]),uu(0,5,10,15,e,r+2*a[o++]),fu(0,5,10,15,e,r+2*a[o++]),uu(1,6,11,12,e,r+2*a[o++]),fu(1,6,11,12,e,r+2*a[o++]),uu(2,7,8,13,e,r+2*a[o++]),fu(2,7,8,13,e,r+2*a[o++]),uu(3,4,9,14,e,r+2*a[o++]),fu(3,4,9,14,e,r+2*a[o++]);this.v0l^=Te[0]^Te[16],this.v0h^=Te[1]^Te[17],this.v1l^=Te[2]^Te[18],this.v1h^=Te[3]^Te[19],this.v2l^=Te[4]^Te[20],this.v2h^=Te[5]^Te[21],this.v3l^=Te[6]^Te[22],this.v3h^=Te[7]^Te[23],this.v4l^=Te[8]^Te[24],this.v4h^=Te[9]^Te[25],this.v5l^=Te[10]^Te[26],this.v5h^=Te[11]^Te[27],this.v6l^=Te[12]^Te[28],this.v6h^=Te[13]^Te[29],this.v7l^=Te[14]^Te[30],this.v7h^=Te[15]^Te[31],Mo(Te)}destroy(){this.destroyed=!0,Mo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mee=HZ(t=>new gee(t)),yee="https://rpc.walletconnect.org/v1";function m7(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(ZZ(r)).toString("hex")}async function bee(t,e,r,n,i,s){switch(r.t){case"eip191":return await wee(t,e,r.s);case"eip1271":return await _ee(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function wee(t,e,r){return(await aX({hash:m7(e),signature:r})).toLowerCase()===t.toLowerCase()}async function _ee(t,e,r,n,i,s){const o=yd(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:m7(e)).substring(2),d=a+f+c+u+l,h=await fetch(`${s||yee}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Eee(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:m}=await h.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Eee(){return Date.now()+Math.floor(Math.random()*1e3)}function vee(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return j0.encode(s)}function xee(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=mee(n,{dkLen:32});return j0.encode(i)}function ER(t){const e=new Uint8Array(M_(Aee(t)));return j0.encode(e)}function Aee(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function vR(t){const e=Buffer.from(t,"base64"),r=zX(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=UX(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=fee(s);return ZX.encode(o).replace(/=+$/,"")}function jv(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function Cee(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(jv(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(jv(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(jv(n.length)),i.push(n);const s=Buffer.concat(i),o=M_(s);return Buffer.from(o).toString("hex").toUpperCase()}var Nee=Object.defineProperty,See=Object.defineProperties,Iee=Object.getOwnPropertyDescriptors,xR=Object.getOwnPropertySymbols,Tee=Object.prototype.hasOwnProperty,Ree=Object.prototype.propertyIsEnumerable,AR=(t,e,r)=>e in t?Nee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pee=(t,e)=>{for(var r in e||(e={}))Tee.call(e,r)&&AR(t,r,e[r]);if(xR)for(var r of xR(e))Ree.call(e,r)&&AR(t,r,e[r]);return t},Oee=(t,e)=>See(t,Iee(e));const Dee="did:pkh:",yS=t=>t?.split(":"),kee=t=>{const e=t&&yS(t);if(e)return t.includes(Dee)?e[3]:e[1]},D2=t=>{const e=t&&yS(t);if(e)return e[2]+":"+e[3]},y1=t=>{const e=t&&yS(t);if(e)return e.pop()};async function CR(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=y7(i,i.iss),o=y1(i.iss);return await bee(o,s,n,D2(i.iss),r)}const y7=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=y1(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${kee(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,h=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=Kb(t.resources);if(m){const g=mm(m);i=Wee(i,g)}return[r,n,"",i,"",s,o,a,c,l,u,f,d,h].filter(g=>g!=null).join(`
`)};function Mee(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Uee(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Td(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function $ee(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Lee(e,r,n)}}}function Lee(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function b7(t){return Td(t),`urn:recap:${Mee(t).replace(/=/g,"")}`}function mm(t){const e=Uee(t.replace("urn:recap:",""));return Td(e),e}function Fee(t,e,r){const n=$ee(t,e,r);return b7(n)}function Bee(t){return t&&t.includes("urn:recap:")}function jee(t,e){const r=mm(t),n=mm(e),i=Hee(r,n);return b7(i)}function Hee(t,e){Td(t),Td(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=Oee(Pee({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function Wee(t="",e){Td(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,d)=>f.action.localeCompare(d.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function NR(t){var e;const r=mm(t);Td(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function SR(t){const e=mm(t);Td(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Kb(t){if(!t)return;const e=t?.[t.length-1];return Bee(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function w7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function k2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Hv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _s(t,...e){if(!w7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function IR(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qee(t,e){_s(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Bu(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function A0(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function zee(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const Gee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Kee(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function M2(t){if(typeof t=="string")t=Kee(t);else if(w7(t))t=U2(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Vee(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Jee(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const Yee=(t,e)=>{function r(n,...i){if(_s(n),!Gee)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?_s(l):_s(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&_s(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");_s(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,_s(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(_s(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function TR(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Qee(e))throw new Error("invalid output, must be aligned");return e}function RR(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Xee(t,e,r){k2(r);const n=new Uint8Array(16),i=zee(n);return RR(i,0,BigInt(e),r),RR(i,8,BigInt(t),r),n}function Qee(t){return t.byteOffset%4===0}function U2(t){return Uint8Array.from(t)}const _7=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Zee=_7("expand 16-byte k"),ete=_7("expand 32-byte k"),tte=Bu(Zee),rte=Bu(ete);function $t(t,e){return t<<e|t>>>32-e}function $2(t){return t.byteOffset%4===0}const ab=64,nte=16,E7=2**32-1,PR=new Uint32Array;function ite(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(ab),u=Bu(l),f=$2(i)&&$2(s),d=f?Bu(i):PR,h=f?Bu(s):PR;for(let m=0;m<c;o++){if(t(e,r,n,u,o,a),o>=E7)throw new Error("arx: counter overflow");const g=Math.min(ab,c-m);if(f&&g===ab){const b=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let v=0,C;v<nte;v++)C=b+v,h[C]=d[C]^u[v];m+=ab;continue}for(let b=0,v;b<g;b++)v=m+b,s[v]=i[v]^l[b];m+=g}}function ste(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=Vee({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Hv(i),Hv(o),k2(s),k2(r),(a,c,l,u,f=0)=>{_s(a),_s(c),_s(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),_s(u),Hv(f),f<0||f>=E7)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const h=[];let m=a.length,g,b;if(m===32)h.push(g=U2(a)),b=rte;else if(m===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),b=tte,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);$2(c)||h.push(c=U2(c));const v=Bu(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,v,Bu(c.subarray(0,16)),v),c=c.subarray(16)}const C=16-i;if(C!==c.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const D=new Uint8Array(12);D.set(c,s?0:12-c.length),c=D,h.push(c)}const S=Bu(c);return ite(t,b,v,S,l,u,f,o),A0(...h),u}}const ti=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class ote{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=M2(e),_s(e,32);const r=ti(e,0),n=ti(e,2),i=ti(e,4),s=ti(e,6),o=ti(e,8),a=ti(e,10),c=ti(e,12),l=ti(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ti(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],d=o[5],h=o[6],m=o[7],g=o[8],b=o[9],v=ti(e,r+0),C=ti(e,r+2),S=ti(e,r+4),D=ti(e,r+6),O=ti(e,r+8),k=ti(e,r+10),F=ti(e,r+12),A=ti(e,r+14);let _=s[0]+(v&8191),M=s[1]+((v>>>13|C<<3)&8191),$=s[2]+((C>>>10|S<<6)&8191),I=s[3]+((S>>>7|D<<9)&8191),N=s[4]+((D>>>4|O<<12)&8191),p=s[5]+(O>>>1&8191),y=s[6]+((O>>>14|k<<2)&8191),w=s[7]+((k>>>11|F<<5)&8191),x=s[8]+((F>>>8|A<<8)&8191),T=s[9]+(A>>>5|i),U=0,B=U+_*a+M*(5*b)+$*(5*g)+I*(5*m)+N*(5*h);U=B>>>13,B&=8191,B+=p*(5*d)+y*(5*f)+w*(5*u)+x*(5*l)+T*(5*c),U+=B>>>13,B&=8191;let P=U+_*c+M*a+$*(5*b)+I*(5*g)+N*(5*m);U=P>>>13,P&=8191,P+=p*(5*h)+y*(5*d)+w*(5*f)+x*(5*u)+T*(5*l),U+=P>>>13,P&=8191;let E=U+_*l+M*c+$*a+I*(5*b)+N*(5*g);U=E>>>13,E&=8191,E+=p*(5*m)+y*(5*h)+w*(5*d)+x*(5*f)+T*(5*u),U+=E>>>13,E&=8191;let L=U+_*u+M*l+$*c+I*a+N*(5*b);U=L>>>13,L&=8191,L+=p*(5*g)+y*(5*m)+w*(5*h)+x*(5*d)+T*(5*f),U+=L>>>13,L&=8191;let G=U+_*f+M*u+$*l+I*c+N*a;U=G>>>13,G&=8191,G+=p*(5*b)+y*(5*g)+w*(5*m)+x*(5*h)+T*(5*d),U+=G>>>13,G&=8191;let R=U+_*d+M*f+$*u+I*l+N*c;U=R>>>13,R&=8191,R+=p*a+y*(5*b)+w*(5*g)+x*(5*m)+T*(5*h),U+=R>>>13,R&=8191;let V=U+_*h+M*d+$*f+I*u+N*l;U=V>>>13,V&=8191,V+=p*c+y*a+w*(5*b)+x*(5*g)+T*(5*m),U+=V>>>13,V&=8191;let K=U+_*m+M*h+$*d+I*f+N*u;U=K>>>13,K&=8191,K+=p*l+y*c+w*a+x*(5*b)+T*(5*g),U+=K>>>13,K&=8191;let X=U+_*g+M*m+$*h+I*d+N*f;U=X>>>13,X&=8191,X+=p*u+y*l+w*c+x*a+T*(5*b),U+=X>>>13,X&=8191;let Q=U+_*b+M*g+$*m+I*h+N*d;U=Q>>>13,Q&=8191,Q+=p*f+y*u+w*l+x*c+T*a,U+=Q>>>13,Q&=8191,U=(U<<2)+U|0,U=U+B|0,B=U&8191,U=U>>>13,P+=U,s[0]=B,s[1]=P,s[2]=E,s[3]=L,s[4]=G,s[5]=R,s[6]=V,s[7]=K,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;A0(n)}update(e){IR(this),e=M2(e),_s(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){A0(this.h,this.r,this.buffer,this.pad)}digestInto(e){IR(this),qee(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function ate(t){const e=(n,i)=>t(i).update(M2(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const cte=ate(t=>new ote(t));function lte(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],d=e[2],h=e[3],m=e[4],g=e[5],b=e[6],v=e[7],C=i,S=r[0],D=r[1],O=r[2],k=o,F=a,A=c,_=l,M=u,$=f,I=d,N=h,p=m,y=g,w=b,x=v,T=C,U=S,B=D,P=O;for(let L=0;L<s;L+=2)k=k+M|0,T=$t(T^k,16),p=p+T|0,M=$t(M^p,12),k=k+M|0,T=$t(T^k,8),p=p+T|0,M=$t(M^p,7),F=F+$|0,U=$t(U^F,16),y=y+U|0,$=$t($^y,12),F=F+$|0,U=$t(U^F,8),y=y+U|0,$=$t($^y,7),A=A+I|0,B=$t(B^A,16),w=w+B|0,I=$t(I^w,12),A=A+I|0,B=$t(B^A,8),w=w+B|0,I=$t(I^w,7),_=_+N|0,P=$t(P^_,16),x=x+P|0,N=$t(N^x,12),_=_+N|0,P=$t(P^_,8),x=x+P|0,N=$t(N^x,7),k=k+$|0,P=$t(P^k,16),w=w+P|0,$=$t($^w,12),k=k+$|0,P=$t(P^k,8),w=w+P|0,$=$t($^w,7),F=F+I|0,T=$t(T^F,16),x=x+T|0,I=$t(I^x,12),F=F+I|0,T=$t(T^F,8),x=x+T|0,I=$t(I^x,7),A=A+N|0,U=$t(U^A,16),p=p+U|0,N=$t(N^p,12),A=A+N|0,U=$t(U^A,8),p=p+U|0,N=$t(N^p,7),_=_+M|0,B=$t(B^_,16),y=y+B|0,M=$t(M^y,12),_=_+M|0,B=$t(B^_,8),y=y+B|0,M=$t(M^y,7);let E=0;n[E++]=o+k|0,n[E++]=a+F|0,n[E++]=c+A|0,n[E++]=l+_|0,n[E++]=u+M|0,n[E++]=f+$|0,n[E++]=d+I|0,n[E++]=h+N|0,n[E++]=m+p|0,n[E++]=g+y|0,n[E++]=b+w|0,n[E++]=v+x|0,n[E++]=C+T|0,n[E++]=S+U|0,n[E++]=D+B|0,n[E++]=O+P|0}const ute=ste(lte,{counterRight:!1,counterLength:4,allowShortKeys:!1}),fte=new Uint8Array(16),OR=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(fte.subarray(r))},dte=new Uint8Array(32);function DR(t,e,r,n,i){const s=t(e,r,dte),o=cte.create(s);i&&OR(o,i),OR(o,n);const a=Xee(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return A0(s,a),c}const hte=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=TR(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=DR(t,e,r,a,n);return s.set(c,o),A0(c),s},decrypt(i,s){s=TR(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=DR(t,e,r,o,n);if(!Jee(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),A0(c),s}}),v7=Yee({blockSize:64,nonceLength:12,tagLength:16},hte(ute));let x7=class extends k_{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hS(e);const n=Xa(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Mo(s)}update(e){return Vu(this),this.iHash.update(e),this}digestInto(e){Vu(this),ko(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const U_=(t,e,r)=>new x7(t,e).update(r).digest();U_.create=(t,e)=>new x7(t,e);function pte(t,e,r){return hS(t),r===void 0&&(r=new Uint8Array(t.outputLen)),U_(t,Xa(r),Xa(e))}const Wv=Uint8Array.from([0]),kR=Uint8Array.of();function gte(t,e,r,n=32){hS(t),Fl(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=kR);const o=new Uint8Array(s*i),a=U_.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)Wv[0]=u+1,c.update(u===0?kR:l).update(r).update(Wv).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),Mo(l,Wv),o.slice(0,n)}const mte=(t,e,r,n,i)=>gte(t,pte(t,e,r),n,i),$_=M_,bS=BigInt(0),L2=BigInt(1);function b1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function cb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function A7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?bS:BigInt("0x"+t)}function L_(t){return A7(gm(t))}function w1(t){return ko(t),A7(gm(Uint8Array.from(t).reverse()))}function wS(t,e){return gS(t.toString(16).padStart(e*2,"0"))}function _S(t,e){return wS(t,e).reverse()}function ws(t,e,r){let n;if(typeof e=="string")try{n=gS(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(dS(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const qv=t=>typeof t=="bigint"&&bS<=t;function yte(t,e,r){return qv(t)&&qv(e)&&qv(r)&&e<=t&&t<r}function F2(t,e,r,n){if(!yte(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function bte(t){let e;for(e=0;t>bS;t>>=L2,e+=1);return e}const F_=t=>(L2<<BigInt(t))-L2;function wte(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=d=>new Uint8Array(d),i=d=>Uint8Array.of(d);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...d)=>r(o,s,...d),u=(d=n(0))=>{o=l(i(0),d),s=l(),d.length!==0&&(o=l(i(1),d),s=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){s=l();const m=s.slice();h.push(m),d+=s.length}return ad(...h)};return(d,h)=>{c(),u(d);let m;for(;!(m=h(f()));)u();return c(),m}}function B_(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function MR(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const As=BigInt(0),Qi=BigInt(1),cd=BigInt(2),_te=BigInt(3),C7=BigInt(4),N7=BigInt(5),S7=BigInt(8);function Ao(t,e){const r=t%e;return r>=As?r:e+r}function sa(t,e,r){let n=t;for(;e-- >As;)n*=n,n%=r;return n}function UR(t,e){if(t===As)throw new Error("invert: expected non-zero number");if(e<=As)throw new Error("invert: expected positive modulus, got "+e);let r=Ao(t,e),n=e,i=As,s=Qi;for(;r!==As;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==Qi)throw new Error("invert: does not exist");return Ao(i,e)}function I7(t,e){const r=(t.ORDER+Qi)/C7,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Ete(t,e){const r=(t.ORDER-N7)/S7,n=t.mul(e,cd),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,cd),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function vte(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Qi,r=0;for(;e%cd===As;)e/=cd,r++;let n=cd;const i=q0(t);for(;$R(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return I7;let s=i.pow(n,e);const o=(e+Qi)/cd;return function(a,c){if(a.is0(c))return c;if($R(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),f=a.pow(c,e),d=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let h=1,m=a.sqr(f);for(;!a.eql(m,a.ONE);)if(h++,m=a.sqr(m),h===l)throw new Error("Cannot find square root");const g=Qi<<BigInt(l-h-1),b=a.pow(u,g);l=h,u=a.sqr(b),f=a.mul(f,u),d=a.mul(d,b)}return d}}function xte(t){return t%C7===_te?I7:t%S7===N7?Ete:vte(t)}const Ate=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cte(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Ate.reduce((n,i)=>(n[i]="function",n),e);return B_(t,r),t}function Nte(t,e,r){if(r<As)throw new Error("invalid exponent, negatives unsupported");if(r===As)return t.ONE;if(r===Qi)return e;let n=t.ONE,i=e;for(;r>As;)r&Qi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Qi;return n}function T7(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function $R(t,e){const r=(t.ORDER-Qi)/cd,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Ste(t,e){e!==void 0&&Fl(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function q0(t,e,r=!1,n={}){if(t<=As)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=Ste(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:F_(o),ZERO:As,ONE:Qi,create:u=>Ao(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return As<=u&&u<t},is0:u=>u===As,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Qi)===Qi,neg:u=>Ao(-u,t),eql:(u,f)=>u===f,sqr:u=>Ao(u*u,t),add:(u,f)=>Ao(u+f,t),sub:(u,f)=>Ao(u-f,t),mul:(u,f)=>Ao(u*f,t),pow:(u,f)=>Nte(l,u,f),div:(u,f)=>Ao(u*UR(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>UR(u,t),sqrt:s||(u=>(c||(c=xte(t)),c(l,u))),toBytes:u=>r?_S(u,a):wS(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?w1(u):L_(u)},invertBatch:u=>T7(l,u),cmov:(u,f,d)=>d?f:u});return Object.freeze(l)}function R7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function P7(t){const e=R7(t);return e+Math.ceil(e/2)}function Ite(t,e,r=!1){const n=t.length,i=R7(e),s=P7(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?w1(t):L_(t),a=Ao(o,e-Qi)+Qi;return r?_S(a,i):wS(a,i)}const C0=BigInt(0),ld=BigInt(1);function dg(t,e){const r=e.negate();return t?r:e}function Tte(t,e,r){const n=s=>s.pz,i=T7(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function O7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function zv(t,e){O7(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=F_(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function LR(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=ld);const l=e*n,u=l+Math.abs(a)-1,f=a===0,d=a<0,h=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:l}}function Rte(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Pte(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Gv=new WeakMap,D7=new WeakMap;function Kv(t){return D7.get(t)||1}function FR(t){if(t!==C0)throw new Error("invalid wNAF")}function Ote(t,e){return{constTimeNegate:dg,hasPrecomputes(r){return Kv(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>C0;)n&ld&&(i=i.add(s)),s=s.double(),n>>=ld;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=zv(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=zv(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:d,isNegF:h,offsetF:m}=LR(i,c,a);i=l,f?o=o.add(dg(h,n[m])):s=s.add(dg(d,n[u]))}return FR(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=zv(r,e);for(let a=0;a<o.windows&&i!==C0;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=LR(i,a,o);if(i=c,!u){const d=n[l];s=s.add(f?d.negate():d)}}return FR(i),s},getPrecomputes(r,n,i){let s=Gv.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),Gv.set(n,s))),s},wNAFCached(r,n,i){const s=Kv(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Kv(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){O7(n,e),D7.set(r,n),Gv.delete(r)}}}function Dte(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>C0||n>C0;)r&ld&&(s=s.add(i)),n&ld&&(o=o.add(i)),i=i.double(),r>>=ld,n>>=ld;return{p1:s,p2:o}}function kte(t,e,r,n){Rte(r,t),Pte(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=bte(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=F_(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let d=o;for(let h=f;h>=0;h-=c){u.fill(o);for(let g=0;g<s;g++){const b=n[g],v=Number(b>>BigInt(h)&l);u[v]=u[v].add(r[g])}let m=o;for(let g=u.length-1,b=o;g>0;g--)b=b.add(u[g]),m=m.add(b);if(d=d.add(m),h!==0)for(let g=0;g<c;g++)d=d.double()}return d}function BR(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Cte(e),e}else return q0(t)}function Mte(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>C0))throw new Error(`CURVE.${o} must be positive bigint`)}const n=BR(e.p,r.Fp),i=BR(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const bp=BigInt(0),oh=BigInt(1),lb=BigInt(2);function Ute(t){return B_(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function $te(t){const e=Ute(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||W0,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),d=BigInt(a?121665:39081),h=a?lb**BigInt(254):lb**BigInt(447),m=a?BigInt(8)*lb**BigInt(251)-oh:BigInt(4)*lb**BigInt(445)-oh,g=h+m+oh,b=_=>Ao(_,r),v=C(f);function C(_){return _S(b(_),u)}function S(_){const M=ws("u coordinate",_,u);return a&&(M[31]&=127),b(w1(M))}function D(_){return w1(i(ws("scalar",_,u)))}function O(_,M){const $=A(S(M),D(_));if($===bp)throw new Error("invalid private or public key received");return C($)}function k(_){return O(_,v)}function F(_,M,$){const I=b(_*(M-$));return M=b(M-I),$=b($+I),{x_2:M,x_3:$}}function A(_,M){F2("u",_,bp,r),F2("scalar",M,h,g);const $=M,I=_;let N=oh,p=bp,y=_,w=oh,x=bp;for(let U=BigInt(l-1);U>=bp;U--){const B=$>>U&oh;x^=B,{x_2:N,x_3:y}=F(x,N,y),{x_2:p,x_3:w}=F(x,p,w),x=B;const P=N+p,E=b(P*P),L=N-p,G=b(L*L),R=E-G,V=y+w,K=y-w,X=b(K*P),Q=b(V*L),ie=X+Q,le=X-Q;y=b(ie*ie),w=b(I*b(le*le)),N=b(E*G),p=b(R*(E+b(d*R)))}({x_2:N,x_3:y}=F(x,N,y)),{x_2:p,x_3:w}=F(x,p,w);const T=s(p);return b(N*T)}return{scalarMult:O,scalarMultBase:k,getSharedSecret:(_,M)=>O(_,M),getPublicKey:_=>k(_),utils:{randomPrivateKey:()=>c(u)},GuBytes:v.slice()}}BigInt(0);const Lte=BigInt(1),jR=BigInt(2),Fte=BigInt(3),Bte=BigInt(5);BigInt(8);const k7={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function jte(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=k7.p,o=t*t%s*t%s,a=sa(o,jR,s)*o%s,c=sa(a,Lte,s)*t%s,l=sa(c,Bte,s)*c%s,u=sa(l,e,s)*l%s,f=sa(u,r,s)*u%s,d=sa(f,n,s)*f%s,h=sa(d,i,s)*d%s,m=sa(h,i,s)*d%s,g=sa(m,e,s)*l%s;return{pow_p_5_8:sa(g,jR,s)*t%s,b2:o}}function Hte(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const B2=(()=>{const t=k7.p;return $te({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=jte(e);return Ao(sa(r,Fte,t)*n,t)},adjustScalarBytes:Hte})})();function HR(t){t.lowS!==void 0&&b1("lowS",t.lowS),t.prehash!==void 0&&b1("prehash",t.prehash)}class Wte extends Error{constructor(e=""){super(e)}}const wl={Err:Wte,_tlv:{encode:(t,e)=>{const{Err:r}=wl;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=cb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?cb(i.length/2|128):"";return cb(t)+s+i+e},decode(t,e){const{Err:r}=wl;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=wl;if(t<hg)throw new e("integer: negative integers are not allowed");let r=cb(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=wl;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return L_(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=wl,i=ws("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=wl,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},hg=BigInt(0),pg=BigInt(1),qte=BigInt(2),ub=BigInt(3),zte=BigInt(4);function Gte(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function M7(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=ws("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Kte(t,e={}){const{Fp:r,Fn:n}=Mte("weierstrass",t,e),{h:i,n:s}=t;B_(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(A,_,M){const{x:$,y:I}=_.toAffine(),N=r.toBytes($);if(b1("isCompressed",M),M){a();const p=!r.isOdd(I);return ad(U7(p),N)}else return ad(Uint8Array.of(4),N,r.toBytes(I))}function l(A){ko(A);const _=r.BYTES,M=_+1,$=2*_+1,I=A.length,N=A[0],p=A.subarray(1);if(I===M&&(N===2||N===3)){const y=r.fromBytes(p);if(!r.isValid(y))throw new Error("bad point: is not on curve, wrong x");const w=d(y);let x;try{x=r.sqrt(w)}catch(U){const B=U instanceof Error?": "+U.message:"";throw new Error("bad point: is not on curve, sqrt error"+B)}a();const T=r.isOdd(x);return(N&1)===1!==T&&(x=r.neg(x)),{x:y,y:x}}else if(I===$&&N===4){const y=r.fromBytes(p.subarray(_*0,_*1)),w=r.fromBytes(p.subarray(_*1,_*2));if(!h(y,w))throw new Error("bad point: is not on curve");return{x:y,y:w}}else throw new Error(`bad point: got length ${I}, expected compressed=${M} or uncompressed=${$}`)}const u=e.toBytes||c,f=e.fromBytes||l,d=Gte(r,t.a,t.b);function h(A,_){const M=r.sqr(_),$=d(A);return r.eql(M,$)}if(!h(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(t.a,ub),zte),g=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function b(A,_,M=!1){if(!r.isValid(_)||M&&r.is0(_))throw new Error(`bad point coordinate ${A}`);return _}function v(A){if(!(A instanceof O))throw new Error("ProjectivePoint expected")}const C=MR((A,_)=>{const{px:M,py:$,pz:I}=A;if(r.eql(I,r.ONE))return{x:M,y:$};const N=A.is0();_==null&&(_=N?r.ONE:r.inv(I));const p=r.mul(M,_),y=r.mul($,_),w=r.mul(I,_);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(w,r.ONE))throw new Error("invZ was invalid");return{x:p,y}}),S=MR(A=>{if(A.is0()){if(e.allowInfinityPoint&&!r.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:_,y:M}=A.toAffine();if(!r.isValid(_)||!r.isValid(M))throw new Error("bad point: x or y not field elements");if(!h(_,M))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function D(A,_,M,$,I){return M=new O(r.mul(M.px,A),M.py,M.pz),_=dg($,_),M=dg(I,M),_.add(M)}class O{constructor(_,M,$){this.px=b("x",_),this.py=b("y",M,!0),this.pz=b("z",$),Object.freeze(this)}static fromAffine(_){const{x:M,y:$}=_||{};if(!_||!r.isValid(M)||!r.isValid($))throw new Error("invalid affine point");if(_ instanceof O)throw new Error("projective point not allowed");return r.is0(M)&&r.is0($)?O.ZERO:new O(M,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){return Tte(O,"pz",_)}static fromBytes(_){return ko(_),O.fromHex(_)}static fromHex(_){const M=O.fromAffine(f(ws("pointHex",_)));return M.assertValidity(),M}static fromPrivateKey(_){const M=M7(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return O.BASE.multiply(M(_))}static msm(_,M){return kte(O,n,_,M)}precompute(_=8,M=!0){return F.setWindowSize(this,_),M||this.multiply(ub),this}_setWindowSize(_){this.precompute(_)}assertValidity(){S(this)}hasEvenY(){const{y:_}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(_)}equals(_){v(_);const{px:M,py:$,pz:I}=this,{px:N,py:p,pz:y}=_,w=r.eql(r.mul(M,y),r.mul(N,I)),x=r.eql(r.mul($,y),r.mul(p,I));return w&&x}negate(){return new O(this.px,r.neg(this.py),this.pz)}double(){const{a:_,b:M}=t,$=r.mul(M,ub),{px:I,py:N,pz:p}=this;let y=r.ZERO,w=r.ZERO,x=r.ZERO,T=r.mul(I,I),U=r.mul(N,N),B=r.mul(p,p),P=r.mul(I,N);return P=r.add(P,P),x=r.mul(I,p),x=r.add(x,x),y=r.mul(_,x),w=r.mul($,B),w=r.add(y,w),y=r.sub(U,w),w=r.add(U,w),w=r.mul(y,w),y=r.mul(P,y),x=r.mul($,x),B=r.mul(_,B),P=r.sub(T,B),P=r.mul(_,P),P=r.add(P,x),x=r.add(T,T),T=r.add(x,T),T=r.add(T,B),T=r.mul(T,P),w=r.add(w,T),B=r.mul(N,p),B=r.add(B,B),T=r.mul(B,P),y=r.sub(y,T),x=r.mul(B,U),x=r.add(x,x),x=r.add(x,x),new O(y,w,x)}add(_){v(_);const{px:M,py:$,pz:I}=this,{px:N,py:p,pz:y}=_;let w=r.ZERO,x=r.ZERO,T=r.ZERO;const U=t.a,B=r.mul(t.b,ub);let P=r.mul(M,N),E=r.mul($,p),L=r.mul(I,y),G=r.add(M,$),R=r.add(N,p);G=r.mul(G,R),R=r.add(P,E),G=r.sub(G,R),R=r.add(M,I);let V=r.add(N,y);return R=r.mul(R,V),V=r.add(P,L),R=r.sub(R,V),V=r.add($,I),w=r.add(p,y),V=r.mul(V,w),w=r.add(E,L),V=r.sub(V,w),T=r.mul(U,R),w=r.mul(B,L),T=r.add(w,T),w=r.sub(E,T),T=r.add(E,T),x=r.mul(w,T),E=r.add(P,P),E=r.add(E,P),L=r.mul(U,L),R=r.mul(B,R),E=r.add(E,L),L=r.sub(P,L),L=r.mul(U,L),R=r.add(R,L),P=r.mul(E,R),x=r.add(x,P),P=r.mul(V,R),w=r.mul(G,w),w=r.sub(w,P),P=r.mul(G,E),T=r.mul(V,T),T=r.add(T,P),new O(w,x,T)}subtract(_){return this.add(_.negate())}is0(){return this.equals(O.ZERO)}multiply(_){const{endo:M}=e;if(!n.isValidNot0(_))throw new Error("invalid scalar: out of range");let $,I;const N=p=>F.wNAFCached(this,p,O.normalizeZ);if(M){const{k1neg:p,k1:y,k2neg:w,k2:x}=M.splitScalar(_),{p:T,f:U}=N(y),{p:B,f:P}=N(x);I=U.add(P),$=D(M.beta,T,B,p,w)}else{const{p,f:y}=N(_);$=p,I=y}return O.normalizeZ([$,I])[0]}multiplyUnsafe(_){const{endo:M}=e,$=this;if(!n.isValid(_))throw new Error("invalid scalar: out of range");if(_===hg||$.is0())return O.ZERO;if(_===pg)return $;if(F.hasPrecomputes(this))return this.multiply(_);if(M){const{k1neg:I,k1:N,k2neg:p,k2:y}=M.splitScalar(_),{p1:w,p2:x}=Dte(O,$,N,y);return D(M.beta,w,x,I,p)}else return F.wNAFCachedUnsafe($,_)}multiplyAndAddUnsafe(_,M,$){const I=this.multiplyUnsafe(M).add(_.multiplyUnsafe($));return I.is0()?void 0:I}toAffine(_){return C(this,_)}isTorsionFree(){const{isTorsionFree:_}=e;return i===pg?!0:_?_(O,this):F.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:_}=e;return i===pg?this:_?_(O,this):this.multiplyUnsafe(i)}toBytes(_=!0){return b1("isCompressed",_),this.assertValidity(),u(O,this,_)}toRawBytes(_=!0){return this.toBytes(_)}toHex(_=!0){return gm(this.toBytes(_))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}O.BASE=new O(t.Gx,t.Gy,r.ONE),O.ZERO=new O(r.ZERO,r.ONE,r.ZERO),O.Fp=r,O.Fn=n;const k=n.BITS,F=Ote(O,e.endo?Math.ceil(k/2):k);return O}function U7(t){return Uint8Array.of(t?2:3)}function Vte(t,e,r={}){B_(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||W0,i=e.hmac||(($,...I)=>U_(e.hash,$,ad(...I))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l($){const I=a>>pg;return $>I}function u($){return l($)?o.neg($):$}function f($,I){if(!o.isValidNot0(I))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class d{constructor(I,N,p){f("r",I),f("s",N),this.r=I,this.s=N,p!=null&&(this.recovery=p),Object.freeze(this)}static fromCompact(I){const N=o.BYTES,p=ws("compactSignature",I,N*2);return new d(o.fromBytes(p.subarray(0,N)),o.fromBytes(p.subarray(N,N*2)))}static fromDER(I){const{r:N,s:p}=wl.toSig(ws("DER",I));return new d(N,p)}assertValidity(){}addRecoveryBit(I){return new d(this.r,this.s,I)}recoverPublicKey(I){const N=s.ORDER,{r:p,s:y,recovery:w}=this;if(w==null||![0,1,2,3].includes(w))throw new Error("recovery id invalid");if(a*qte<N&&w>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=w===2||w===3?p+a:p;if(!s.isValid(x))throw new Error("recovery id 2 or 3 invalid");const T=s.toBytes(x),U=t.fromHex(ad(U7((w&1)===0),T)),B=o.inv(x),P=S(ws("msgHash",I)),E=o.create(-P*B),L=o.create(y*B),G=t.BASE.multiplyUnsafe(E).add(U.multiplyUnsafe(L));if(G.is0())throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(I){if(I==="compact")return ad(o.toBytes(this.r),o.toBytes(this.s));if(I==="der")return gS(wl.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return gm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return gm(this.toBytes("compact"))}}const h=M7(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),m={isValidPrivateKey($){try{return h($),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const $=a;return Ite(n(P7($)),$)},precompute($=8,I=t.BASE){return I.precompute($,!1)}};function g($,I=!0){return t.fromPrivateKey($).toBytes(I)}function b($){if(typeof $=="bigint")return!1;if($ instanceof t)return!0;const I=ws("key",$).length,N=s.BYTES,p=N+1,y=2*N+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===p))return I===p||I===y}function v($,I,N=!0){if(b($)===!0)throw new Error("first arg must be private key");if(b(I)===!1)throw new Error("second arg must be public key");return t.fromHex(I).multiply(h($)).toBytes(N)}const C=e.bits2int||function($){if($.length>8192)throw new Error("input is too large");const I=L_($),N=$.length*8-c;return N>0?I>>BigInt(N):I},S=e.bits2int_modN||function($){return o.create(C($))},D=F_(c);function O($){return F2("num < 2^"+c,$,hg,D),o.toBytes($)}function k($,I,N=F){if(["recovered","canonical"].some(G=>G in N))throw new Error("sign() legacy options not supported");const{hash:p}=e;let{lowS:y,prehash:w,extraEntropy:x}=N;y==null&&(y=!0),$=ws("msgHash",$),HR(N),w&&($=ws("prehashed msgHash",p($)));const T=S($),U=h(I),B=[O(U),O(T)];if(x!=null&&x!==!1){const G=x===!0?n(s.BYTES):x;B.push(ws("extraEntropy",G))}const P=ad(...B),E=T;function L(G){const R=C(G);if(!o.isValidNot0(R))return;const V=o.inv(R),K=t.BASE.multiply(R).toAffine(),X=o.create(K.x);if(X===hg)return;const Q=o.create(V*o.create(E+X*U));if(Q===hg)return;let ie=(K.x===X?0:2)|Number(K.y&pg),le=Q;return y&&l(Q)&&(le=u(Q),ie^=1),new d(X,le,ie)}return{seed:P,k2sig:L}}const F={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function _($,I,N=F){const{seed:p,k2sig:y}=k($,I,N);return wte(e.hash.outputLen,o.BYTES,i)(p,y)}t.BASE.precompute(8);function M($,I,N,p=A){const y=$;I=ws("msgHash",I),N=ws("publicKey",N),HR(p);const{lowS:w,prehash:x,format:T}=p;if("strict"in p)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');const U=typeof y=="string"||dS(y),B=!U&&!T&&typeof y=="object"&&y!==null&&typeof y.r=="bigint"&&typeof y.s=="bigint";if(!U&&!B)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let P,E;try{if(B)if(T===void 0||T==="js")P=new d(y.r,y.s);else throw new Error("invalid format");if(U){try{T!=="compact"&&(P=d.fromDER(y))}catch(ie){if(!(ie instanceof wl.Err))throw ie}!P&&T!=="der"&&(P=d.fromCompact(y))}E=t.fromHex(N)}catch{return!1}if(!P||w&&P.hasHighS())return!1;x&&(I=e.hash(I));const{r:L,s:G}=P,R=S(I),V=o.inv(G),K=o.create(R*V),X=o.create(L*V),Q=t.BASE.multiplyUnsafe(K).add(E.multiplyUnsafe(X));return Q.is0()?!1:o.create(Q.x)===L}return Object.freeze({getPublicKey:g,getSharedSecret:v,sign:_,verify:M,utils:m,Point:t,Signature:d})}function Jte(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=q0(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function Yte(t){const{CURVE:e,curveOpts:r}=Jte(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function Xte(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function Qte(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=Yte(t),i=Kte(e,r),s=Vte(i,n,r);return Xte(t,s)}function j2(t,e){const r=n=>Qte({...t,hash:n});return{...r(e),create:r}}const $7={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},L7={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},F7={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Zte=q0($7.p),ere=q0(L7.p),tre=q0(F7.p),rre=j2({...$7,Fp:Zte,lowS:!1},M_);j2({...L7,Fp:ere,lowS:!1},uee),j2({...F7,Fp:tre,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},lee);const nre=rre,B7="base10",Zi="base16",Es="base64pad",Pu="base64url",vy="utf8",j7=0,Tl=1,xy=2,ire=0,WR=1,gg=12,ES=32;function sre(){const t=B2.utils.randomPrivateKey(),e=B2.getPublicKey(t);return{privateKey:Ss(t,Zi),publicKey:Ss(e,Zi)}}function H2(){const t=W0(ES);return Ss(t,Zi)}function ore(t,e){const r=B2.getSharedSecret(So(t,Zi),So(e,Zi)),n=mte($_,r,void 0,void 0,ES);return Ss(n,Zi)}function Vb(t){const e=$_(So(t,Zi));return Ss(e,Zi)}function Eo(t){const e=$_(So(t,vy));return Ss(e,Zi)}function H7(t){return So(`${t}`,B7)}function Rd(t){return Number(Ss(t,B7))}function W7(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function q7(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function are(t){const e=H7(typeof t.type<"u"?t.type:j7);if(Rd(e)===Tl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?So(t.senderPublicKey,Zi):void 0,n=typeof t.iv<"u"?So(t.iv,Zi):W0(gg),i=So(t.symKey,Zi),s=v7(i,n).encrypt(So(t.message,vy)),o=z7({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Pu?W7(o):o}function cre(t){const e=So(t.symKey,Zi),{sealed:r,iv:n}=ym({encoded:t.encoded,encoding:t.encoding}),i=v7(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Ss(i,vy)}function lre(t,e){const r=H7(xy),n=W0(gg),i=So(t,vy),s=z7({type:r,sealed:i,iv:n});return e===Pu?W7(s):s}function ure(t,e){const{sealed:r}=ym({encoded:t,encoding:e});return Ss(r,vy)}function z7(t){if(Rd(t.type)===xy)return Ss(fg([t.type,t.sealed]),Es);if(Rd(t.type)===Tl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ss(fg([t.type,t.senderPublicKey,t.iv,t.sealed]),Es)}return Ss(fg([t.type,t.iv,t.sealed]),Es)}function ym(t){const e=(t.encoding||Es)===Pu?q7(t.encoded):t.encoded,r=So(e,Es),n=r.slice(ire,WR),i=WR;if(Rd(n)===Tl){const c=i+ES,l=c+gg,u=r.slice(i,c),f=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:f,senderPublicKey:u}}if(Rd(n)===xy){const c=r.slice(i),l=W0(gg);return{type:n,sealed:c,iv:l}}const s=i+gg,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function fre(t,e){const r=ym({encoded:t,encoding:e?.encoding});return G7({type:Rd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ss(r.senderPublicKey,Zi):void 0,receiverPublicKey:e?.receiverPublicKey})}function G7(t){const e=t?.type||j7;if(e===Tl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function qR(t){return t.type===Tl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function zR(t){return t.type===xy}function dre(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return fg([new Uint8Array([4]),e,r])}function hre(t,e){const[r,n,i]=t.split("."),s=Buffer.from(q7(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=$_(c),u=dre(e);if(!nre.verify(fg([o,a]),l,u))throw new Error("Invalid signature");return x2(t).payload}const pre="irn";function _1(t){return t?.relay||{protocol:pre}}function Vh(t){const e=YQ[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function gre(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function GR(t){if(!t.includes("wc:")){const l=n7(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:mre(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:gre(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function mre(t){return t.startsWith("//")?t.substring(2):t}function yre(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function KR(t){const e=new URLSearchParams,r=yre(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function fb(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var bre=Object.defineProperty,wre=Object.defineProperties,_re=Object.getOwnPropertyDescriptors,VR=Object.getOwnPropertySymbols,Ere=Object.prototype.hasOwnProperty,vre=Object.prototype.propertyIsEnumerable,JR=(t,e,r)=>e in t?bre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xre=(t,e)=>{for(var r in e||(e={}))Ere.call(e,r)&&JR(t,r,e[r]);if(VR)for(var r of VR(e))vre.call(e,r)&&JR(t,r,e[r]);return t},Are=(t,e)=>wre(t,_re(e));function z0(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Cre(t){const e=[];return Object.values(t).forEach(r=>{e.push(...z0(r.accounts))}),e}function Nre(t,e){const r=[];return Object.values(t).forEach(n=>{z0(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Sre(t,e){const r=[];return Object.values(t).forEach(n=>{z0(n.accounts).includes(e)&&r.push(...n.events)}),r}function j_(t){return t.includes(":")}function Jh(t){return j_(t)?t.split(":")[0]:t}function YR(t){var e,r,n;const i={};if(!kc(t))return i;for(const[s,o]of Object.entries(t)){const a=j_(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Jh(s);i[u]=Are(xre({},i[u]),{chains:Dc(a,(e=i[u])==null?void 0:e.chains),methods:Dc(c,(r=i[u])==null?void 0:r.methods),events:Dc(l,(n=i[u])==null?void 0:n.events)})}return i}function Ire(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function XR(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Ire(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Dc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Tre(t,e){var r,n,i,s,o,a;const c=YR(t),l=YR(e),u={},f=Object.keys(c).concat(Object.keys(l));for(const d of f)u[d]={chains:Dc((r=c[d])==null?void 0:r.chains,(n=l[d])==null?void 0:n.chains),methods:Dc((i=c[d])==null?void 0:i.methods,(s=l[d])==null?void 0:s.methods),events:Dc((o=c[d])==null?void 0:o.events,(a=l[d])==null?void 0:a.events)};return u}const Rre={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Pre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ae(t,e){const{message:r,code:n}=Pre[t];return{message:e?`${r} ${e}`:r,code:n}}function Lr(t,e){const{message:r,code:n}=Rre[t];return{message:e?`${r} ${e}`:r,code:n}}function Rl(t,e){return!!Array.isArray(t)}function kc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $n(t){return typeof t>"u"}function pn(t,e){return e&&$n(t)?!0:typeof t=="string"&&!!t.trim().length}function vS(t,e){return e&&$n(t)?!0:typeof t=="number"&&!isNaN(t)}function Ore(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return od(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=z0(a),f=r[o];(!od(Q9(o,f),u)||!od(f.methods,c)||!od(f.events,l))&&(s=!1)}),s):!1}function E1(t){return pn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Dre(t){if(pn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&E1(r)}}return!1}function kre(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(pn(t,!1)){if(e(t))return!0;const r=n7(t);return e(r)}}catch{}return!1}function Mre(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Ure(t){return t?.topic}function $re(t,e){let r=null;return pn(t?.publicKey,!1)||(r=Ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function QR(t){let e=!0;return Rl(t)?t.length&&(e=t.every(r=>pn(r,!1))):e=!1,e}function Lre(t,e,r){let n=null;return Rl(e)&&e.length?e.forEach(i=>{n||E1(i)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):E1(t)||(n=Lr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Fre(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Lre(i,Q9(i,s),`${e} ${r}`);o&&(n=o)}),n}function Bre(t,e){let r=null;return Rl(t)?t.forEach(n=>{r||Dre(n)||(r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Lr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function jre(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Bre(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Hre(t,e){let r=null;return QR(t?.methods)?QR(t?.events)||(r=Lr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Lr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function K7(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Hre(n,`${e}, namespace`);i&&(r=i)}),r}function Wre(t,e,r){let n=null;if(t&&kc(t)){const i=K7(t,e);i&&(n=i);const s=Fre(t,e,r);s&&(n=s)}else n=Ae("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function Vv(t,e){let r=null;if(t&&kc(t)){const n=K7(t,e);n&&(r=n);const i=jre(t,e);i&&(r=i)}else r=Ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function V7(t){return pn(t.protocol,!0)}function qre(t,e){let r=!1;return t?t&&Rl(t)&&t.length&&t.forEach(n=>{r=V7(n)}):r=!0,r}function zre(t){return typeof t=="number"}function ys(t){return typeof t<"u"&&typeof t!==null}function Gre(t){return!(!t||typeof t!="object"||!t.code||!vS(t.code,!1)||!t.message||!pn(t.message,!1))}function Kre(t){return!($n(t)||!pn(t.method,!1))}function Vre(t){return!($n(t)||$n(t.result)&&$n(t.error)||!vS(t.id,!1)||!pn(t.jsonrpc,!1))}function Jre(t){return!($n(t)||!pn(t.name,!1))}function ZR(t,e){return!(!E1(e)||!Cre(t).includes(e))}function Yre(t,e,r){return pn(r,!1)?Nre(t,e).includes(r):!1}function Xre(t,e,r){return pn(r,!1)?Sre(t,e).includes(r):!1}function eP(t,e,r){let n=null;const i=Qre(t),s=Zre(e),o=Object.keys(i),a=Object.keys(s),c=tP(Object.keys(t)),l=tP(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),od(o,a)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=z0(e[f].accounts);d.includes(f)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(od(i[f].methods,s[f].methods)?od(i[f].events,s[f].events)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function Qre(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function tP(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Zre(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:z0(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function ene(t,e){return vS(t,!1)&&t<=e.max&&t>=e.min}function rP(){const t=_y();return new Promise(e=>{switch(t){case Vs.browser:e(tne());break;case Vs.reactNative:e(rne());break;case Vs.node:e(nne());break;default:e(!0)}})}function tne(){return H0()&&navigator?.onLine}async function rne(){return pf()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function nne(){return!0}function ine(t){switch(_y()){case Vs.browser:sne(t);break;case Vs.reactNative:one(t);break}}function sne(t){!pf()&&H0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function one(t){pf()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function ane(){var t;return H0()&&Ll.getDocument()?((t=Ll.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Jv={};class wp{static get(e){return Jv[e]}static set(e,r){Jv[e]=r}static delete(e){delete Jv[e]}}function cne(t){const e=j0.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function lne({publicKey:t,signature:e,payload:r}){var n;const i=W2(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=dne(r.address),a=r.era==="00"?new Uint8Array([0]):W2(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${fne(r.tip)}`),f=pne(u),d=new Uint8Array([0,...t,o,...e,...a,...l,...f,...i]),h=hne(d.length+1);return new Uint8Array([...h,s,...d])}function une(t){const e=W2(t),r=eZ.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function W2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function fne(t){return t.startsWith("0x")?t.slice(2):t}function dne(t){const e=j0.decode(t)[0];return e===42?0:e===60?2:1}function hne(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function pne(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function gne(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=cne(t.transaction.address),n=lne({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return une(i)}const mne="PARSE_ERROR",yne="INVALID_REQUEST",bne="METHOD_NOT_FOUND",wne="INVALID_PARAMS",J7="INTERNAL_ERROR",xS="SERVER_ERROR",_ne=[-32700,-32600,-32601,-32602,-32603],mg={[mne]:{code:-32700,message:"Parse error"},[yne]:{code:-32600,message:"Invalid Request"},[bne]:{code:-32601,message:"Method not found"},[wne]:{code:-32602,message:"Invalid params"},[J7]:{code:-32603,message:"Internal error"},[xS]:{code:-32e3,message:"Server error"}},Y7=xS;function Ene(t){return _ne.includes(t)}function nP(t){return Object.keys(mg).includes(t)?mg[t]:mg[Y7]}function vne(t){const e=Object.values(mg).find(r=>r.code===t);return e||mg[Y7]}function X7(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Yv={},Qc={},iP;function xne(){if(iP)return Qc;iP=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.isBrowserCryptoAvailable=Qc.getSubtleCrypto=Qc.getBrowerCrypto=void 0;function t(){return Da?.crypto||Da?.msCrypto||{}}Qc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Qc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Qc.isBrowserCryptoAvailable=r,Qc}var Zc={},sP;function Ane(){if(sP)return Zc;sP=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.isBrowser=Zc.isNode=Zc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Zc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Zc.isNode=e;function r(){return!t()&&!e()}return Zc.isBrowser=r,Zc}var oP;function Cne(){return oP||(oP=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=py;e.__exportStar(xne(),t),e.__exportStar(Ane(),t)})(Yv)),Yv}var Nne=Cne();function mc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Uu(t=6){return BigInt(mc(t))}function vc(t,e,r){return{id:r||mc(),jsonrpc:"2.0",method:t,params:e}}function bm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function H_(t,e,r){return{id:t,jsonrpc:"2.0",error:Sne(e)}}function Sne(t,e){return typeof t>"u"?nP(J7):(typeof t=="string"&&(t=Object.assign(Object.assign({},nP(xS)),{message:t})),Ene(t.code)&&(t=vne(t.code)),t)}let Ine=class{},Tne=class extends Ine{constructor(){super()}},Rne=class extends Tne{constructor(e){super()}};const Pne="^https?:",One="^wss?:";function Dne(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Q7(t,e){const r=Dne(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function aP(t){return Q7(t,Pne)}function cP(t){return Q7(t,One)}function kne(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Z7(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function AS(t){return Z7(t)&&"method"in t}function W_(t){return Z7(t)&&(yc(t)||vo(t))}function yc(t){return"result"in t}function vo(t){return"error"in t}let jo=class extends Rne{constructor(e){super(e),this.events=new Bo.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(vc(e.method,e.params||[],e.id||Uu().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{vo(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),W_(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Mne=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Une=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",lP=t=>t.split("?")[0],uP=10,$ne=Mne();let Lne=class{constructor(e){if(this.url=e,this.events=new Bo.EventEmitter,this.registering=!1,!cP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send($l(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!cP(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Nne.isReactNative()?void 0:{rejectUnauthorized:!kne(e)},s=new $ne(e,[],i);Une()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Sd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=H_(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return X7(e,lP(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>uP&&this.events.setMaxListeners(uP)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${lP(this.url)}`));return this.events.emit("register_error",r),r}};var Fne={};const eU="wc",tU=2,q2="core",Fc=`${eU}@2:${q2}:`,Bne={logger:"error"},jne={database:":memory:"},Hne="crypto",fP="client_ed25519_seed",Wne=Ce.ONE_DAY,qne="keychain",zne="0.3",Gne="messages",Kne="0.3",Vne=Ce.SIX_HOURS,Jne="publisher",rU="irn",Yne="error",nU="wss://relay.walletconnect.org",Xne="relayer",an={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Qne="_subscription",oo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Zne=.1,z2="2.21.7",kr={link_mode:"link_mode",relay:"relay"},Jb={inbound:"inbound",outbound:"outbound"},eie="0.3",tie="WALLETCONNECT_CLIENT_ID",dP="WALLETCONNECT_LINK_MODE_APPS",Ms={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},rie="subscription",nie="0.3",iie="pairing",sie="0.3",_p={wc_pairingDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:0}}},Qf={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ea={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},oie="history",aie="0.3",cie="expirer",wo={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},lie="0.3",uie="verify-api",fie="https://verify.walletconnect.com",iU="https://verify.walletconnect.org",yg=iU,die=`${yg}/v3`,hie=[fie,iU],pie="echo",gie="https://echo.walletconnect.com",hc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},al={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},du={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ep={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Ff={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},vp={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},mie=.1,yie="event-client",bie=86400,wie="https://pulse.walletconnect.org/batch";function _ie(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,b=0,v=0,C=m.length;v!==C&&m[v]===0;)v++,g++;for(var S=(C-v)*u+1>>>0,D=new Uint8Array(S);v!==C;){for(var O=m[v],k=0,F=S-1;(O!==0||k<b)&&F!==-1;F--,k++)O+=256*D[F]>>>0,D[F]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=k,v++}for(var A=S-b;A!==S&&D[A]===0;)A++;for(var _=c.repeat(g);A<S;++A)_+=t.charAt(D[A]);return _}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var b=0,v=0;m[g]===c;)b++,g++;for(var C=(m.length-g)*l+1>>>0,S=new Uint8Array(C);m[g];){var D=r[m.charCodeAt(g)];if(D===255)return;for(var O=0,k=C-1;(D!==0||O<v)&&k!==-1;k--,O++)D+=a*S[k]>>>0,S[k]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");v=O,g++}if(m[g]!==" "){for(var F=C-v;F!==C&&S[F]===0;)F++;for(var A=new Uint8Array(b+(C-F)),_=b;F!==C;)A[_++]=S[F++];return A}}}function h(m){var g=d(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:h}}var Eie=_ie,vie=Eie;const sU=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},xie=t=>new TextEncoder().encode(t),Aie=t=>new TextDecoder().decode(t);class Cie{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Nie{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oU(this,e)}}class Sie{constructor(e){this.decoders=e}or(e){return oU(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const oU=(t,e)=>new Sie({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Iie{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Cie(e,r,n),this.decoder=new Nie(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const q_=({name:t,prefix:e,encode:r,decode:n})=>new Iie(t,e,r,n),Ay=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=vie(r,e);return q_({prefix:t,name:e,encode:n,decode:s=>sU(i(s))})},Tie=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Rie=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>q_({prefix:e,name:t,encode(i){return Rie(i,n,r)},decode(i){return Tie(i,n,r,t)}}),Pie=q_({prefix:"\0",name:"identity",encode:t=>Aie(t),decode:t=>xie(t)});var Oie=Object.freeze({__proto__:null,identity:Pie});const Die=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var kie=Object.freeze({__proto__:null,base2:Die});const Mie=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Uie=Object.freeze({__proto__:null,base8:Mie});const $ie=Ay({prefix:"9",name:"base10",alphabet:"0123456789"});var Lie=Object.freeze({__proto__:null,base10:$ie});const Fie=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Bie=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var jie=Object.freeze({__proto__:null,base16:Fie,base16upper:Bie});const Hie=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Wie=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qie=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zie=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Gie=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Kie=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vie=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jie=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yie=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Xie=Object.freeze({__proto__:null,base32:Hie,base32upper:Wie,base32pad:qie,base32padupper:zie,base32hex:Gie,base32hexupper:Kie,base32hexpad:Vie,base32hexpadupper:Jie,base32z:Yie});const Qie=Ay({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Zie=Ay({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var ese=Object.freeze({__proto__:null,base36:Qie,base36upper:Zie});const tse=Ay({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rse=Ay({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nse=Object.freeze({__proto__:null,base58btc:tse,base58flickr:rse});const ise=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sse=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ose=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ase=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var cse=Object.freeze({__proto__:null,base64:ise,base64pad:sse,base64url:ose,base64urlpad:ase});const aU=Array.from(""),lse=aU.reduce((t,e,r)=>(t[r]=e,t),[]),use=aU.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function fse(t){return t.reduce((e,r)=>(e+=lse[r],e),"")}function dse(t){const e=[];for(const r of t){const n=use[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const hse=q_({prefix:"",name:"base256emoji",encode:fse,decode:dse});var pse=Object.freeze({__proto__:null,base256emoji:hse}),gse=cU,hP=128,mse=-128,yse=Math.pow(2,31);function cU(t,e,r){e=e||[],r=r||0;for(var n=r;t>=yse;)e[r++]=t&255|hP,t/=128;for(;t&mse;)e[r++]=t&255|hP,t>>>=7;return e[r]=t|0,cU.bytes=r-n+1,e}var bse=G2,wse=128,pP=127;function G2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw G2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&pP)<<i:(o&pP)*Math.pow(2,i),i+=7}while(o>=wse);return G2.bytes=s-n,r}var _se=Math.pow(2,7),Ese=Math.pow(2,14),vse=Math.pow(2,21),xse=Math.pow(2,28),Ase=Math.pow(2,35),Cse=Math.pow(2,42),Nse=Math.pow(2,49),Sse=Math.pow(2,56),Ise=Math.pow(2,63),Tse=function(t){return t<_se?1:t<Ese?2:t<vse?3:t<xse?4:t<Ase?5:t<Cse?6:t<Nse?7:t<Sse?8:t<Ise?9:10},Rse={encode:gse,decode:bse,encodingLength:Tse},lU=Rse;const gP=(t,e,r=0)=>(lU.encode(t,e,r),e),mP=t=>lU.encodingLength(t),K2=(t,e)=>{const r=e.byteLength,n=mP(t),i=n+mP(r),s=new Uint8Array(i+r);return gP(t,s,0),gP(r,s,n),s.set(e,i),new Pse(t,r,e,s)};class Pse{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const uU=({name:t,code:e,encode:r})=>new Ose(t,e,r);class Ose{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?K2(this.code,r):r.then(n=>K2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const fU=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Dse=uU({name:"sha2-256",code:18,encode:fU("SHA-256")}),kse=uU({name:"sha2-512",code:19,encode:fU("SHA-512")});var Mse=Object.freeze({__proto__:null,sha256:Dse,sha512:kse});const dU=0,Use="identity",hU=sU,$se=t=>K2(dU,hU(t)),Lse={code:dU,name:Use,encode:hU,digest:$se};var Fse=Object.freeze({__proto__:null,identity:Lse});new TextEncoder,new TextDecoder;const yP={...Oie,...kie,...Uie,...Lie,...jie,...Xie,...ese,...nse,...cse,...pse};({...Mse,...Fse});function pU(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Bse(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?pU(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function gU(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const bP=gU("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Xv=gU("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Bse(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),jse={utf8:bP,"utf-8":bP,hex:yP.base16,latin1:Xv,ascii:Xv,binary:Xv,...yP};function Hse(t,e="utf8"){const r=jse[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pU(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Wse=Object.defineProperty,qse=(t,e,r)=>e in t?Wse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uc=(t,e,r)=>qse(t,typeof e!="symbol"?e+"":e,r);class zse{constructor(e,r){this.core=e,this.logger=r,uc(this,"keychain",new Map),uc(this,"name",qne),uc(this,"version",zne),uc(this,"initialized",!1),uc(this,"storagePrefix",Fc),uc(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),uc(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),uc(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),uc(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=Ae("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),uc(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,P2(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?O2(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Gse=Object.defineProperty,Kse=(t,e,r)=>e in t?Gse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ri=(t,e,r)=>Kse(t,typeof e!="symbol"?e+"":e,r);class Vse{constructor(e,r,n){this.core=e,this.logger=r,ri(this,"name",Hne),ri(this,"keychain"),ri(this,"randomSessionIdentifier",H2()),ri(this,"initialized",!1),ri(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ri(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ri(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=KT(i);return I9(s.publicKey)}),ri(this,"generateKeyPair",()=>{this.isInitialized();const i=sre();return this.setPrivateKey(i.publicKey,i.privateKey)}),ri(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=KT(s),a=this.randomSessionIdentifier;return await SY(a,i,Wne,o)}),ri(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=ore(a,s);return this.setSymKey(c,o)}),ri(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Vb(i);return await this.keychain.set(o,i),o}),ri(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ri(this,"encode",async(i,s,o)=>{this.isInitialized();const a=G7(o),c=$l(s);if(zR(a))return lre(c,o?.encoding);if(qR(a)){const d=a.senderPublicKey,h=a.receiverPublicKey;i=await this.generateSharedKey(d,h)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return are({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),ri(this,"decode",async(i,s,o)=>{this.isInitialized();const a=fre(s,o);if(zR(a)){const c=ure(s,o?.encoding);return Sd(c)}if(qR(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=cre({symKey:c,encoded:s,encoding:o?.encoding});return Sd(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ri(this,"getPayloadType",(i,s=Es)=>{const o=ym({encoded:i,encoding:s});return Rd(o.type)}),ri(this,"getPayloadSenderPublicKey",(i,s=Es)=>{const o=ym({encoded:i,encoding:s});return o.senderPublicKey?Ss(o.senderPublicKey,Zi):void 0}),this.core=e,this.logger=Bi(r,this.name),this.keychain=n||new zse(this.core,this.logger)}get context(){return Ps(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(fP)}catch{e=H2(),await this.keychain.set(fP,e)}return Hse(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Jse=Object.defineProperty,Yse=Object.defineProperties,Xse=Object.getOwnPropertyDescriptors,wP=Object.getOwnPropertySymbols,Qse=Object.prototype.hasOwnProperty,Zse=Object.prototype.propertyIsEnumerable,V2=(t,e,r)=>e in t?Jse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eoe=(t,e)=>{for(var r in e||(e={}))Qse.call(e,r)&&V2(t,r,e[r]);if(wP)for(var r of wP(e))Zse.call(e,r)&&V2(t,r,e[r]);return t},toe=(t,e)=>Yse(t,Xse(e)),Ds=(t,e,r)=>V2(t,typeof e!="symbol"?e+"":e,r);class roe extends CK{constructor(e,r){super(e,r),this.logger=e,this.core=r,Ds(this,"messages",new Map),Ds(this,"messagesWithoutClientAck",new Map),Ds(this,"name",Gne),Ds(this,"version",Kne),Ds(this,"initialized",!1),Ds(this,"storagePrefix",Fc),Ds(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ds(this,"set",async(n,i,s)=>{this.isInitialized();const o=Eo(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===Jb.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,toe(eoe({},c),{[o]:i}))}return await this.persist(),o}),Ds(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Ds(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Ds(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Eo(i);return typeof s[o]<"u"}),Ds(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Eo(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Ds(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Bi(e,this.name),this.core=r}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,P2(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,P2(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?O2(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?O2(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var noe=Object.defineProperty,ioe=Object.defineProperties,soe=Object.getOwnPropertyDescriptors,_P=Object.getOwnPropertySymbols,ooe=Object.prototype.hasOwnProperty,aoe=Object.prototype.propertyIsEnumerable,J2=(t,e,r)=>e in t?noe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ah=(t,e)=>{for(var r in e||(e={}))ooe.call(e,r)&&J2(t,r,e[r]);if(_P)for(var r of _P(e))aoe.call(e,r)&&J2(t,r,e[r]);return t},EP=(t,e)=>ioe(t,soe(e)),ao=(t,e,r)=>J2(t,typeof e!="symbol"?e+"":e,r);class coe extends NK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ao(this,"events",new Bo.EventEmitter),ao(this,"name",Jne),ao(this,"queue",new Map),ao(this,"publishTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),ao(this,"initialPublishTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),ao(this,"needsTransportRestart",!1),ao(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=s?.ttl||Vne,d=s?.prompt||!1,h=s?.tag||0,m=s?.id||Uu().toString(),g=Vh(_1().protocol),b={id:m,method:s?.publishMethod||g.publish,params:ah({topic:n,message:i,ttl:f,prompt:d,tag:h,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},v=`Failed to publish payload, please try again. id:${m} tag:${h}`;try{$n((o=b.params)==null?void 0:o.prompt)&&((a=b.params)==null||delete a.prompt),$n((c=b.params)==null?void 0:c.tag)&&((l=b.params)==null||delete l.tag);const C=new Promise(async S=>{const D=({id:k})=>{var F;((F=b.id)==null?void 0:F.toString())===k.toString()&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(an.publish,D),S())};this.relayer.events.on(an.publish,D);const O=Sc(new Promise((k,F)=>{this.rpcPublish(b,s).then(k).catch(A=>{this.logger.warn(A,A?.message),F(A)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${h}`);try{await O,this.events.removeListener(an.publish,D)}catch(k){this.queue.set(m,{request:b,opts:s,attempt:1}),this.logger.warn(k,k?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:n,message:i,opts:s}}),await Sc(C,this.publishTimeout,v)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw C}finally{this.queue.delete(m)}}),ao(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:d,publishMethod:h,prompt:m,tag:g,ttl:b=Ce.FIVE_MINUTES}=u,v=u.id||Uu().toString(),C=Vh(_1().protocol),S=h||C.publish,D={id:v,method:S,params:ah(EP(ah({},l),{ttl:b,prompt:m,tag:g,attestation:f}),d)},O=`Failed to publish custom payload, please try again. id:${v} tag:${g}`;try{$n((i=D.params)==null?void 0:i.prompt)&&((s=D.params)==null||delete s.prompt),$n((o=D.params)==null?void 0:o.tag)&&((a=D.params)==null||delete a.tag);const k=new Promise(async F=>{const A=({id:M})=>{var $;(($=D.id)==null?void 0:$.toString())===M.toString()&&(this.removeRequestFromQueue(M),this.relayer.events.removeListener(an.publish,A),F())};this.relayer.events.on(an.publish,A);const _=Sc(new Promise((M,$)=>{this.rpcPublish(D,u).then(M).catch(I=>{this.logger.warn(I,I?.message),$(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${S} id:${v} tag:${g}`);try{await _,this.events.removeListener(an.publish,A)}catch(M){this.queue.set(v,{request:D,opts:u,attempt:1}),this.logger.warn(M,M?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,payload:l,opts:u}}),await Sc(k,this.publishTimeout,O)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw k}finally{this.queue.delete(v)}}),ao(this,"on",(n,i)=>{this.events.on(n,i)}),ao(this,"once",(n,i)=>{this.events.once(n,i)}),ao(this,"off",(n,i)=>{this.events.off(n,i)}),ao(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Bi(r,this.name),this.registerEventListeners()}get context(){return Ps(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(an.publish,ah(ah({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,EP(ah({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Gd.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(an.connection_stalled);return}this.checkQueue()}),this.relayer.on(an.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var loe=Object.defineProperty,uoe=(t,e,r)=>e in t?loe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ch=(t,e,r)=>uoe(t,typeof e!="symbol"?e+"":e,r);class foe{constructor(){ch(this,"map",new Map),ch(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),ch(this,"get",e=>this.map.get(e)||[]),ch(this,"exists",(e,r)=>this.get(e).includes(r)),ch(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),ch(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var doe=Object.defineProperty,hoe=Object.defineProperties,poe=Object.getOwnPropertyDescriptors,vP=Object.getOwnPropertySymbols,goe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,Y2=(t,e,r)=>e in t?doe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xp=(t,e)=>{for(var r in e||(e={}))goe.call(e,r)&&Y2(t,r,e[r]);if(vP)for(var r of vP(e))moe.call(e,r)&&Y2(t,r,e[r]);return t},Qv=(t,e)=>hoe(t,poe(e)),ar=(t,e,r)=>Y2(t,typeof e!="symbol"?e+"":e,r);class yoe extends TK{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ar(this,"subscriptions",new Map),ar(this,"topicMap",new foe),ar(this,"events",new Bo.EventEmitter),ar(this,"name",rie),ar(this,"version",nie),ar(this,"pending",new Map),ar(this,"cached",[]),ar(this,"initialized",!1),ar(this,"storagePrefix",Fc),ar(this,"subscribeTimeout",Ce.toMiliseconds(Ce.ONE_MINUTE)),ar(this,"initialSubscribeTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),ar(this,"clientId"),ar(this,"batchSubscribeTopicsLimit",500),ar(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ar(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=_1(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),ar(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),ar(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),ar(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),ar(this,"on",(n,i)=>{this.events.on(n,i)}),ar(this,"once",(n,i)=>{this.events.once(n,i)}),ar(this,"off",(n,i)=>{this.events.off(n,i)}),ar(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),ar(this,"start",async()=>{await this.onConnect()}),ar(this,"stop",async()=>{await this.onDisconnect()}),ar(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ar(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),ar(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Gd.pulse,async()=>{await this.checkPending()}),this.events.on(Ms.created,async n=>{const i=Ms.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(Ms.deleted,async n=>{const i=Ms.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Bi(r,this.name),this.clientId=""}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=_1(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Lr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===kr.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Vh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===kr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},Ce.toMiliseconds(Ce.ONE_SECOND)),o;const l=new Promise(async f=>{const d=h=>{h.topic===e&&(this.events.removeListener(Ms.created,d),f(h.id))};this.events.on(Ms.created,d);try{const h=await Sc(new Promise((m,g)=>{this.relayer.request(a).catch(b=>{this.logger.warn(b,b?.message),g(b)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Ms.created,d),f(h)}catch{}}),u=await Sc(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(an.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Vh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Sc(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Vh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Sc(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(an.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Vh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,Qv(xp({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,xp({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,xp({},r)),this.topicMap.set(r.topic,e),this.events.emit(Ms.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Ms.deleted,Qv(xp({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ms.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Ms.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>Qv(xp({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await SZ(Ce.toMiliseconds(Ce.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Eo(e+await this.getClientId())}}var boe=Object.defineProperty,xP=Object.getOwnPropertySymbols,woe=Object.prototype.hasOwnProperty,_oe=Object.prototype.propertyIsEnumerable,X2=(t,e,r)=>e in t?boe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AP=(t,e)=>{for(var r in e||(e={}))woe.call(e,r)&&X2(t,r,e[r]);if(xP)for(var r of xP(e))_oe.call(e,r)&&X2(t,r,e[r]);return t},Lt=(t,e,r)=>X2(t,typeof e!="symbol"?e+"":e,r);class Eoe extends SK{constructor(e){super(e),Lt(this,"protocol","wc"),Lt(this,"version",2),Lt(this,"core"),Lt(this,"logger"),Lt(this,"events",new Bo.EventEmitter),Lt(this,"provider"),Lt(this,"messages"),Lt(this,"subscriber"),Lt(this,"publisher"),Lt(this,"name",Xne),Lt(this,"transportExplicitlyClosed",!1),Lt(this,"initialized",!1),Lt(this,"connectionAttemptInProgress",!1),Lt(this,"relayUrl"),Lt(this,"projectId"),Lt(this,"packageName"),Lt(this,"bundleId"),Lt(this,"hasExperiencedNetworkDisruption",!1),Lt(this,"pingTimeout"),Lt(this,"heartBeatTimeout",Ce.toMiliseconds(Ce.THIRTY_SECONDS+Ce.FIVE_SECONDS)),Lt(this,"reconnectTimeout"),Lt(this,"connectPromise"),Lt(this,"reconnectInProgress",!1),Lt(this,"requestsInFlight",[]),Lt(this,"connectTimeout",Ce.toMiliseconds(Ce.ONE_SECOND*15)),Lt(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Uu().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Lt(this,"resetPingTimeout",()=>{m1()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Lt(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Lt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(an.connect)}),Lt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Lt(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(an.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Lt(this,"registerProviderListeners",()=>{this.provider.on(oo.payload,this.onPayloadHandler),this.provider.on(oo.connect,this.onConnectHandler),this.provider.on(oo.disconnect,this.onDisconnectHandler),this.provider.on(oo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Bi(e.logger,this.name):my($0({level:e.logger||Yne})),this.messages=new roe(this.logger,e.core),this.subscriber=new yoe(this,this.logger),this.publisher=new coe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||nU,fZ()?this.packageName=dR():dZ()&&(this.bundleId=dR()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Ps(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:kr.relay},Jb.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Ms.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Ms.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,AP({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&f(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Sc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await rP())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Mn(Ce.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(an.message,e),await this.recordMessageEvent(e,Jb.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(oo.disconnect,s),await Sc(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(oo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(oo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(oo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,Ce.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(m1())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new jo(new Lne(yZ({sdkVersion:z2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),AS(e)){if(!e.method.endsWith(Qne))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:kr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(AP({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else W_(e)&&this.events.emit(an.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Jb.inbound),this.events.emit(an.message,e))}async acknowledgePayload(e){const r=bm(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(oo.payload,this.onPayloadHandler),this.provider.off(oo.connect,this.onConnectHandler),this.provider.off(oo.disconnect,this.onDisconnectHandler),this.provider.off(oo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await rP();ine(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Gd.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&ane())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(an.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Ce.toMiliseconds(Zne)))))}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function voe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function CP(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function NP(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const xoe="[object RegExp]",Aoe="[object String]",Coe="[object Number]",Noe="[object Boolean]",SP="[object Arguments]",Soe="[object Symbol]",Ioe="[object Date]",Toe="[object Map]",Roe="[object Set]",Poe="[object Array]",Ooe="[object Function]",Doe="[object ArrayBuffer]",Zv="[object Object]",koe="[object Error]",Moe="[object DataView]",Uoe="[object Uint8Array]",$oe="[object Uint8ClampedArray]",Loe="[object Uint16Array]",Foe="[object Uint32Array]",Boe="[object BigUint64Array]",joe="[object Int8Array]",Hoe="[object Int16Array]",Woe="[object Int32Array]",qoe="[object BigInt64Array]",zoe="[object Float32Array]",Goe="[object Float64Array]";function Koe(){}function IP(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function Voe(t,e,r){return qp(t,e,void 0,void 0,void 0,void 0,r)}function qp(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return bg(t,e,s,o)}return bg(t,e,s,o)}function bg(t,e,r,n){if(Object.is(t,e))return!0;let i=NP(t),s=NP(e);if(i===SP&&(i=Zv),s===SP&&(s=Zv),i!==s)return!1;switch(i){case Aoe:return t.toString()===e.toString();case Coe:{const c=t.valueOf(),l=e.valueOf();return voe(c,l)}case Noe:case Ioe:case Soe:return Object.is(t.valueOf(),e.valueOf());case xoe:return t.source===e.source&&t.flags===e.flags;case Ooe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Toe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!qp(l,e.get(c),c,t,e,r,n))return!1;return!0}case Roe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],d=l.findIndex(h=>qp(f,h,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case Poe:case Uoe:case $oe:case Loe:case Foe:case Boe:case joe:case Hoe:case Woe:case qoe:case zoe:case Goe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!qp(t[c],e[c],c,t,e,r,n))return!1;return!0}case Doe:return t.byteLength!==e.byteLength?!1:bg(new Uint8Array(t),new Uint8Array(e),r,n);case Moe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:bg(new Uint8Array(t),new Uint8Array(e),r,n);case koe:return t.name===e.name&&t.message===e.message;case Zv:{if(!(bg(t.constructor,e.constructor,r,n)||IP(t)&&IP(e)))return!1;const c=[...Object.keys(t),...CP(t)],l=[...Object.keys(e),...CP(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],d=t[f];if(!Object.hasOwn(e,f))return!1;const h=e[f];if(!qp(d,h,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function Joe(t,e){return Voe(t,e,Koe)}var Yoe=Object.defineProperty,TP=Object.getOwnPropertySymbols,Xoe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,Q2=(t,e,r)=>e in t?Yoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RP=(t,e)=>{for(var r in e||(e={}))Xoe.call(e,r)&&Q2(t,r,e[r]);if(TP)for(var r of TP(e))Qoe.call(e,r)&&Q2(t,r,e[r]);return t},os=(t,e,r)=>Q2(t,typeof e!="symbol"?e+"":e,r);class Vd extends IK{constructor(e,r,n,i=Fc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,os(this,"map",new Map),os(this,"version",eie),os(this,"cached",[]),os(this,"initialized",!1),os(this,"getKey"),os(this,"storagePrefix",Fc),os(this,"recentlyDeleted",[]),os(this,"recentlyDeletedLimit",200),os(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!$n(o)?this.map.set(this.getKey(o),o):Mre(o)?this.map.set(o.id,o):Ure(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),os(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),os(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),os(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Joe(a[c],o[c]))):this.values)),os(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=RP(RP({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),os(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Bi(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Zoe=Object.defineProperty,eae=(t,e,r)=>e in t?Zoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vt=(t,e,r)=>eae(t,typeof e!="symbol"?e+"":e,r);class tae{constructor(e,r){this.core=e,this.logger=r,vt(this,"name",iie),vt(this,"version",sie),vt(this,"events",new YN),vt(this,"pairings"),vt(this,"initialized",!1),vt(this,"storagePrefix",Fc),vt(this,"ignoredPayloadTypes",[Tl]),vt(this,"registeredMethods",[]),vt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),vt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),vt(this,"create",async n=>{this.isInitialized();const i=H2(),s=await this.core.crypto.setSymKey(i),o=Mn(Ce.FIVE_MINUTES),a={protocol:rU},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=KR({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(Qf.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),vt(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[hc.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=GR(n.uri);i.props.properties.topic=s,i.addTrace(hc.pairing_uri_validation_success),i.addTrace(hc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(hc.existing_pairing),u.active)throw i.setError(al.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(hc.pairing_not_expired)}const f=c||Mn(Ce.FIVE_MINUTES),d={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,d),i.addTrace(hc.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Qf.create,d),i.addTrace(hc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(hc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(al.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(h){throw i.setError(al.subscribe_pairing_topic_failure),h}return i.addTrace(hc.subscribe_pairing_topic_success),d}),vt(this,"activate",async({topic:n})=>{this.isInitialized();const i=Mn(Ce.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),vt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Vf();this.events.once(Kt("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),vt(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),vt(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),vt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),vt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Lr("USER_DISCONNECTED")),await this.deletePairing(i))}),vt(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return KR({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),vt(this,"sendRequest",async(n,i,s)=>{const o=vc(i,s),a=await this.core.crypto.encode(n,o),c=_p[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),vt(this,"sendResult",async(n,i,s)=>{const o=bm(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=_p[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),vt(this,"sendError",async(n,i,s)=>{const o=H_(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=_p[c]?_p[c].res:_p.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),vt(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Lr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),vt(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Au(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),vt(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),vt(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),vt(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Qf.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),vt(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{yc(i)?this.events.emit(Kt("pairing_ping",s),{}):vo(i)&&this.events.emit(Kt("pairing_ping",s),{error:i.error})},500)}),vt(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Qf.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),vt(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Lr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),vt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Lr("WC_METHOD_UNSUPPORTED",n))}),vt(this,"isValidPair",(n,i)=>{var s;if(!ys(n)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(al.malformed_pairing_uri),new Error(a)}if(!kre(n.uri)){const{message:a}=Ae("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(al.malformed_pairing_uri),new Error(a)}const o=GR(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(al.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ae("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(al.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&Ce.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(al.pairing_expired);const{message:a}=Ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),vt(this,"isValidPing",async n=>{if(!ys(n)){const{message:s}=Ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),vt(this,"isValidDisconnect",async n=>{if(!ys(n)){const{message:s}=Ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),vt(this,"isValidPairingTopic",async n=>{if(!pn(n,!1)){const{message:i}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Au(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=Ae("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Bi(r,this.name),this.pairings=new Vd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ps(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(an.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==kr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);AS(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):W_(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(wo.expired,async e=>{const{topic:r}=r7(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Qf.expire,{topic:r}))})}}var rae=Object.defineProperty,nae=(t,e,r)=>e in t?rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ni=(t,e,r)=>nae(t,typeof e!="symbol"?e+"":e,r);class iae extends AK{constructor(e,r){super(e,r),this.core=e,this.logger=r,ni(this,"records",new Map),ni(this,"events",new Bo.EventEmitter),ni(this,"name",oie),ni(this,"version",aie),ni(this,"cached",[]),ni(this,"initialized",!1),ni(this,"storagePrefix",Fc),ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ni(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Mn(Ce.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(ea.created,o)}),ni(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vo(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(ea.updated,i))}),ni(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ni(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(ea.deleted,s)}}),this.persist()}),ni(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ni(this,"on",(n,i)=>{this.events.on(n,i)}),ni(this,"once",(n,i)=>{this.events.once(n,i)}),ni(this,"off",(n,i)=>{this.events.off(n,i)}),ni(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:vc(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ea.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ea.created,e=>{const r=ea.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.updated,e=>{const r=ea.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(ea.deleted,e=>{const r=ea.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Gd.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Ce.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(ea.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var sae=Object.defineProperty,oae=(t,e,r)=>e in t?sae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vi=(t,e,r)=>oae(t,typeof e!="symbol"?e+"":e,r);class aae extends RK{constructor(e,r){super(e,r),this.core=e,this.logger=r,vi(this,"expirations",new Map),vi(this,"events",new Bo.EventEmitter),vi(this,"name",cie),vi(this,"version",lie),vi(this,"cached",[]),vi(this,"initialized",!1),vi(this,"storagePrefix",Fc),vi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),vi(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),vi(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(wo.created,{target:s,expiration:o})}),vi(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),vi(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(wo.deleted,{target:i,expiration:s})}}),vi(this,"on",(n,i)=>{this.events.on(n,i)}),vi(this,"once",(n,i)=>{this.events.once(n,i)}),vi(this,"off",(n,i)=>{this.events.off(n,i)}),vi(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Bi(r,this.name)}get context(){return Ps(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return bZ(e);if(typeof e=="number")return wZ(e);const{message:r}=Ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(wo.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;Ce.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(wo.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Gd.pulse,()=>this.checkExpirations()),this.events.on(wo.created,e=>{const r=wo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(wo.expired,e=>{const r=wo.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(wo.deleted,e=>{const r=wo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cae=Object.defineProperty,lae=(t,e,r)=>e in t?cae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fn=(t,e,r)=>lae(t,typeof e!="symbol"?e+"":e,r);class uae extends PK{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,fn(this,"name",uie),fn(this,"abortController"),fn(this,"isDevEnv"),fn(this,"verifyUrlV3",die),fn(this,"storagePrefix",Fc),fn(this,"version",tU),fn(this,"publicKey"),fn(this,"fetchPromise"),fn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Ce.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),fn(this,"register",async i=>{if(!H0()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Ll.getDocument(),u=this.startAbortTimer(Ce.ONE_SECOND*5),f=await new Promise((d,h)=>{const m=()=>{window.removeEventListener("message",b),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const b=v=>{if(v.data&&typeof v.data=="string")try{const C=JSON.parse(v.data);if(C.type==="verify_attestation"){if(x2(C.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",b),d(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};l.body.appendChild(g),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),fn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(x2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),fn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(Ce.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),fn(this,"getVerifyUrl",i=>{let s=i||yg;return hie.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${yg}`),s=yg),s}),fn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Ce.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),fn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),fn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),fn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),fn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),fn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),fn(this,"validateAttestation",(i,s)=>{const o=hre(i,s.publicKey),a={hasExpired:Ce.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Bi(r,this.name),this.abortController=new AbortController,this.isDevEnv=lS(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ps(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ce.toMiliseconds(e))}}var fae=Object.defineProperty,dae=(t,e,r)=>e in t?fae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PP=(t,e,r)=>dae(t,typeof e!="symbol"?e+"":e,r);class hae extends OK{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,PP(this,"context",pie),PP(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${gie}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=Bi(r,this.context)}}var pae=Object.defineProperty,OP=Object.getOwnPropertySymbols,gae=Object.prototype.hasOwnProperty,mae=Object.prototype.propertyIsEnumerable,Z2=(t,e,r)=>e in t?pae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ap=(t,e)=>{for(var r in e||(e={}))gae.call(e,r)&&Z2(t,r,e[r]);if(OP)for(var r of OP(e))mae.call(e,r)&&Z2(t,r,e[r]);return t},Wn=(t,e,r)=>Z2(t,typeof e!="symbol"?e+"":e,r);class yae extends DK{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Wn(this,"context",yie),Wn(this,"storagePrefix",Fc),Wn(this,"storageVersion",mie),Wn(this,"events",new Map),Wn(this,"shouldPersist",!1),Wn(this,"init",async()=>{if(!lS())try{const i={eventId:pR(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:e7(this.core.relayer.protocol,this.core.relayer.version,z2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Wn(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=pR(),u=this.core.projectId||"",f=Date.now(),d=Ap({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Wn(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Ap(Ap({},a),this.setMethods(a.eventId))}),Wn(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Wn(this,"setEventListeners",()=>{this.core.heartbeat.on(Gd.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Ce.fromMiliseconds(Date.now())-Ce.fromMiliseconds(i.timestamp)>bie&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Wn(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Wn(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Wn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Wn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Ap(Ap({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Wn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Wn(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${wie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${z2}${s}`,{method:"POST",body:JSON.stringify(i)})}),Wn(this,"getAppDomain",()=>Z9().url),this.logger=Bi(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var bae=Object.defineProperty,DP=Object.getOwnPropertySymbols,wae=Object.prototype.hasOwnProperty,_ae=Object.prototype.propertyIsEnumerable,eC=(t,e,r)=>e in t?bae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kP=(t,e)=>{for(var r in e||(e={}))wae.call(e,r)&&eC(t,r,e[r]);if(DP)for(var r of DP(e))_ae.call(e,r)&&eC(t,r,e[r]);return t},ur=(t,e,r)=>eC(t,typeof e!="symbol"?e+"":e,r);let Eae=class mU extends _K{constructor(e){var r;super(e),ur(this,"protocol",eU),ur(this,"version",tU),ur(this,"name",q2),ur(this,"relayUrl"),ur(this,"projectId"),ur(this,"customStoragePrefix"),ur(this,"events",new Bo.EventEmitter),ur(this,"logger"),ur(this,"heartbeat"),ur(this,"relayer"),ur(this,"crypto"),ur(this,"storage"),ur(this,"history"),ur(this,"expirer"),ur(this,"pairing"),ur(this,"verify"),ur(this,"echoClient"),ur(this,"linkModeSupportedApps"),ur(this,"eventClient"),ur(this,"initialized",!1),ur(this,"logChunkController"),ur(this,"on",(a,c)=>this.events.on(a,c)),ur(this,"once",(a,c)=>this.events.once(a,c)),ur(this,"off",(a,c)=>this.events.off(a,c)),ur(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),ur(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:kr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||nU,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=$0({level:typeof e?.logger=="string"&&e.logger?e.logger:Bne.logger,name:q2}),{logger:s,chunkLoggerController:o}=QN({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Bi(s,this.name),this.heartbeat=new wG,this.crypto=new Vse(this,this.logger,e?.keychain),this.history=new iae(this,this.logger),this.expirer=new aae(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new tK(kP(kP({},jne),e?.storageOptions)),this.relayer=new Eoe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tae(this,this.logger),this.verify=new uae(this,this.logger,this.storage),this.echoClient=new hae(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new yae(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new mU(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(tie,n),r}get context(){return Ps(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(dP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(dP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Fne.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const vae=Eae,yU="wc",bU=2,wU="client",CS=`${yU}@${bU}:${wU}:`,ex={name:wU,logger:"error"},MP="WALLETCONNECT_DEEPLINK_CHOICE",xae="proposal",UP="Proposal expired",Aae="session",lh=Ce.SEVEN_DAYS,Cae="engine",ii={wc_sessionPropose:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Ce.FIVE_MINUTES,prompt:!1,tag:1119}}},tx={min:Ce.FIVE_MINUTES,max:Ce.SEVEN_DAYS},fc={idle:"IDLE",active:"ACTIVE"},Nae={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Sae="request",Iae=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Tae="wc",Rae="auth",Pae="authKeys",Oae="pairingTopics",Dae="requests",z_=`${Tae}@${1.5}:${Rae}:`,Yb=`${z_}:PUB_KEY`;var kae=Object.defineProperty,Mae=Object.defineProperties,Uae=Object.getOwnPropertyDescriptors,$P=Object.getOwnPropertySymbols,$ae=Object.prototype.hasOwnProperty,Lae=Object.prototype.propertyIsEnumerable,tC=(t,e,r)=>e in t?kae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qt=(t,e)=>{for(var r in e||(e={}))$ae.call(e,r)&&tC(t,r,e[r]);if($P)for(var r of $P(e))Lae.call(e,r)&&tC(t,r,e[r]);return t},xi=(t,e)=>Mae(t,Uae(e)),we=(t,e,r)=>tC(t,typeof e!="symbol"?e+"":e,r);class Fae extends $K{constructor(e){super(e),we(this,"name",Cae),we(this,"events",new YN),we(this,"initialized",!1),we(this,"requestQueue",{state:fc.idle,queue:[]}),we(this,"sessionRequestQueue",{state:fc.idle,queue:[]}),we(this,"emittedSessionRequests",new IZ({limit:500})),we(this,"requestQueueDelay",Ce.ONE_SECOND),we(this,"expectedPairingMethodMap",new Map),we(this,"recentlyDeletedMap",new Map),we(this,"recentlyDeletedLimit",200),we(this,"relayMessageCache",[]),we(this,"pendingSessions",new Map),we(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ii)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay)))}),we(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=xi(Qt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Tre(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,f,d=!1;try{if(u){const k=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),k}if(!u||!d){const{topic:k,uri:F}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=k,f=F}if(!u){const{message:k}=Ae("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(k)}const h=await this.client.core.crypto.generateKeyPair(),m=ii.wc_sessionPropose.req.ttl||Ce.FIVE_MINUTES,g=Mn(m),b=xi(Qt(Qt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:rU}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:mc()}),v=Kt("session_connect",b.id),{reject:C,resolve:S,done:D}=Vf(m,UP),O=({id:k})=>{k===b.id&&(this.client.events.off("proposal_expire",O),this.pendingSessions.delete(b.id),this.events.emit(v,{error:{message:UP,code:0}}))};return this.client.events.on("proposal_expire",O),this.events.once(v,({error:k,session:F})=>{this.client.events.off("proposal_expire",O),k?C(k):F&&S(F)}),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}),await this.setProposal(b.id,b),{uri:f,approval:D}}),we(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),we(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[du.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(_){throw o.setError(Ep.no_internet_connection),_}try{await this.isValidProposalId(r?.id)}catch(_){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(Ep.proposal_not_found),_}try{await this.isValidApprove(r)}catch(_){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Ep.session_approve_namespace_validation_failure),_}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:b,optionalNamespaces:v}=h;let C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});C||(C=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:du.session_approve_started,properties:{topic:m,trace:[du.session_approve_started,du.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),D=g.publicKey,O=await this.client.core.crypto.generateSharedKey(S,D),k=Qt(Qt(Qt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:Mn(lh)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),F=kr.relay;C.addTrace(du.subscribing_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:F,internal:{skipSubscribe:!0}})}catch(_){throw C.setError(Ep.subscribe_session_topic_failure),_}C.addTrace(du.subscribe_session_topic_success);const A=xi(Qt({},k),{topic:O,requiredNamespaces:b,optionalNamespaces:v,pairingTopic:m,acknowledged:!1,self:k.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:kr.relay});await this.client.session.set(O,A),C.addTrace(du.store_session);try{await this.sendApproveSession({sessionTopic:O,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:S},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),C.addTrace(du.session_approve_publish_success)}catch(_){throw this.client.logger.error(_),this.client.session.delete(O,Lr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(O),_}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(O,Mn(lh)),{topic:O,acknowledged:()=>Promise.resolve(this.client.session.get(O))}}),we(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:ii.wc_sessionPropose.reject}),await this.deleteProposal(n)}),we(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Vf(),c=mc(),l=Uu().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Kt("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),we(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=mc(),{done:s,resolve:o,reject:a}=Vf();return this.events.once(Kt("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Mn(lh)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),we(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:n,request:i,topic:s,expiry:o=ii.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===kr.relay&&await this.confirmOnlineStateOrThrow();const c=mc(),l=Uu().toString(),{done:u,resolve:f,reject:d}=Vf(o,"Request expired. Please try again.");this.events.once(Kt("session_request",c),({error:b,result:v})=>{b?d(b):f(v)});const h="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:{request:xi(Qt({},i),{expiryTimestamp:Mn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const g={request:xi(Qt({},i),{expiryTimestamp:Mn(o)}),chainId:n};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(v=>d(v)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),b()}),new Promise(async b=>{var v;if(!((v=a.sessionConfig)!=null&&v.disableDeepLink)){const C=await xZ(this.client.core.storage,MP);await _Z({id:c,topic:s,wcDeepLink:C})}b()}),u()]).then(b=>b[2])}),we(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===kr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);yc(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):vo(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),we(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=mc(),s=Uu().toString(),{done:o,resolve:a,reject:c}=Vf();this.events.once(Kt("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),we(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Uu().toString(),a=mc();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),we(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Lr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=Ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),we(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>Ore(n,r)))),we(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),we(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?kr.link_mode:kr.relay;o===kr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:d,exp:h,nbf:m,methods:g=[],expiry:b}=r,v=[...r.resources||[]],{topic:C,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:S}});const D=await this.client.core.crypto.generateKeyPair(),O=Vb(D);if(await Promise.all([this.client.auth.authKeys.set(Yb,{responseTopic:O,publicKey:D}),this.client.auth.pairingTopics.set(O,{topic:O,pairingTopic:C})]),await this.client.core.relayer.subscribe(O,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${C}`),g.length>0){const{namespace:U}=yd(a[0]);let B=Fee(U,"request",g);Kb(v)&&(B=jee(B,v.pop())),v.push(B)}const k=b&&b>ii.wc_sessionAuthenticate.req.ttl?b:ii.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:h,nbf:m,resources:v},requester:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Mn(k)},A={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},_={requiredNamespaces:{},optionalNamespaces:A,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:Mn(ii.wc_sessionPropose.req.ttl),id:mc()},{done:M,resolve:$,reject:I}=Vf(k,"Request expired"),N=mc(),p=Kt("session_connect",_.id),y=Kt("session_request",N),w=async({error:U,session:B})=>{this.events.off(y,x),U?I(U):B&&$({session:B})},x=async U=>{var B,P,E;if(await this.deletePendingAuthRequest(N,{message:"fulfilled",code:0}),U.error){const Q=Lr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return U.error.code===Q.code?void 0:(this.events.off(p,w),I(U.error.message))}await this.deleteProposal(_.id),this.events.off(p,w);const{cacaos:L,responder:G}=U.result,R=[],V=[];for(const Q of L){await CR({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,"Signature verification failed"),I(Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ie}=Q,le=Kb(ie.resources),H=[D2(ie.iss)],Y=y1(ie.iss);if(le){const W=NR(le),Z=SR(le);R.push(...W),H.push(...Z)}for(const W of H)V.push(`${W}:${Y}`)}const K=await this.client.core.crypto.generateSharedKey(D,G.publicKey);let X;R.length>0&&(X={topic:K,acknowledged:!0,self:{publicKey:D,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:Mn(lh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:XR([...new Set(R)],[...new Set(V)]),transportType:o},await this.client.core.relayer.subscribe(K,{transportType:o}),await this.client.session.set(K,X),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:G.metadata}),X=this.client.session.get(K)),(B=this.client.metadata.redirect)!=null&&B.linkMode&&(P=G.metadata.redirect)!=null&&P.linkMode&&(E=G.metadata.redirect)!=null&&E.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(K,{transportType:kr.link_mode})),$({auths:L,session:X})};this.events.once(p,w),this.events.once(y,x);let T;try{if(s){const U=vc("wc_sessionAuthenticate",F,N);this.client.core.history.set(C,U);const B=await this.client.core.crypto.encode("",U,{type:xy,encoding:Pu});T=fb(n,C,B)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:F,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:N}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:_,expiry:ii.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:_.id})])}catch(U){throw this.events.off(p,w),this.events.off(y,x),U}return await this.setProposal(_.id,_),await this.setAuthRequest(N,{request:xi(Qt({},F),{verifyContext:{}}),pairingTopic:C,transportType:o}),{uri:T??S,response:M}}),we(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Ff.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(vp.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(vp.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||kr.relay;a===kr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Vb(c),f={type:Tl,receiverPublicKey:c,senderPublicKey:l},d=[],h=[];for(const b of i){if(!await CR({cacao:b,projectId:this.client.core.projectId})){s.setError(vp.invalid_cacao);const O=Lr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:O,encodeOpts:f}),new Error(O.message)}s.addTrace(Ff.cacaos_verified);const{p:v}=b,C=Kb(v.resources),S=[D2(v.iss)],D=y1(v.iss);if(C){const O=NR(C),k=SR(C);d.push(...O),S.push(...k)}for(const O of S)h.push(`${O}:${D}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Ff.create_authenticated_session_topic);let g;if(d?.length>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Mn(lh),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:XR([...new Set(d)],[...new Set(h)]),transportType:a},s.addTrace(Ff.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(b){throw s.setError(vp.subscribe_authenticated_session_topic_failure),b}s.addTrace(Ff.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Ff.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Ff.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(vp.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),we(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===kr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Vb(o),l={type:Tl,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:ii.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),we(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return y7(n,i)}),we(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),we(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),we(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Lr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(MP).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Lr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=fc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),we(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Ep.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Lr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),we(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=fc.idle,this.client.events.emit("session_request_expire",{id:r}))}),we(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),we(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),we(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Mn(ii.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),we(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=kr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),we(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Mn(ii.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),we(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:d={}}=r,h=vc(i,s,c);let m;const g=!!u;try{const C=g?Pu:Es;m=await this.client.core.crypto.encode(n,h,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),C}let b;if(Iae.includes(i)){const C=Eo(JSON.stringify(h)),S=Eo(m);b=await this.client.core.verify.register({id:S,decryptedId:C})}const v=Qt(Qt({},ii[i].req),d);if(v.attestation=b,o&&(v.ttl=o),a&&(v.id=a),this.client.core.history.set(n,h),g){const C=fb(u,n,m);await global.Linking.openURL(C,this.client.name)}else v.tvf=xi(Qt({},f),{correlationId:h.id}),l?(v.internal=xi(Qt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,v)):this.client.core.relayer.publish(n,m,v).catch(C=>this.client.logger.error(C));return h.id}),we(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=vc("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Es}),a=Eo(JSON.stringify(s)),c=Eo(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:xi(Qt({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),we(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=bm(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Es}),u=vc("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(n,u,{encoding:Es});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:xi(Qt({},a),{publishMethod:"wc_approveSession"})})}),we(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=bm(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=f?Pu:Es;u=await this.client.core.crypto.encode(i,l,xi(Qt({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let d,h;try{d=await this.client.core.history.get(i,n);const m=d.request;try{h=this.getTVFParams(n,m.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(f){const m=fb(c,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=d.request.method,g=ii[m].res;g.tvf=xi(Qt({},h),{correlationId:n}),o?(g.internal=xi(Qt({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(l)}),we(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=H_(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=f?Pu:Es;u=await this.client.core.crypto.encode(i,l,xi(Qt({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),h}let d;try{d=await this.client.core.history.get(i,n)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),h}if(f){const h=fb(c,i,u);await global.Linking.openURL(h,this.client.name)}else{const h=d.request.method,m=a||ii[h].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(l)}),we(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Au(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Au(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),we(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),we(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),we(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===fc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=fc.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=fc.idle}),we(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),we(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),we(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=Ae("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),we(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),we(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(al.proposal_listener_not_found)),this.isValidConnect(Qt({},i.params));const u=a.expiryTimestamp||Mn(ii.wc_sessionPropose.req.ttl),f=Qt({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const d=await this.getVerifyContext({attestationId:s,hash:Eo(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(hc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:ii.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),we(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(yc(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(vo(n)){await this.deleteProposal(s);const o=Kt("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),we(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:d}=n.params,h=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(h.proposalId),g=xi(Qt(Qt(Qt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),d&&{sessionConfig:d}),{transportType:kr.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Kt("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;yc(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Kt("session_approve",i),{})):vo(n)&&(await this.client.session.delete(r,Lr("USER_DISCONNECTED")),this.events.emit(Kt("session_approve",i),{error:n.error}))}),we(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=wp.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Lr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Qt({topic:r},i));try{wp.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw wp.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),we(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Kt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);yc(n)?this.events.emit(Kt("session_update",i),{}):vo(n)&&this.events.emit(Kt("session_update",i),{error:n.error})}),we(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Mn(lh)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),we(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Kt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);yc(n)?this.events.emit(Kt("session_extend",i),{}):vo(n)&&this.events.emit(Kt("session_extend",i),{error:n.error})}),we(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),we(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Kt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);yc(n)?this.events.emit(Kt("session_ping",i),{}):vo(n)&&this.events.emit(Kt("session_ping",i),{error:n.error})},500)}),we(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(an.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Lr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),we(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:d}=a;try{await this.isValidRequest(Qt({topic:o},d));const h=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Eo(JSON.stringify(vc("wc_sessionRequest",d,f))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:f,topic:o,params:d,verifyContext:m};await this.setPendingSessionRequest(g),u===kr.link_mode&&(n=h.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=h.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:f,topic:o,error:h}),this.client.logger.error(h)}}),we(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Kt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);yc(n)?this.events.emit(Kt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Kt("session_request",i),{error:n.error})}),we(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=wp.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Qt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),wp.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),we(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),yc(n)?this.events.emit(Kt("session_request",i),{result:n.result}):vo(n)&&this.events.emit(Kt("session_request",i),{error:n.error})}),we(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,d=await this.getVerifyContext({attestationId:o,hash:Eo(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:d,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:h,pairingTopic:i,transportType:c}),c===kr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),h={type:Tl,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:h,rpcOpts:ii.wc_sessionAuthenticate.autoReject,appLink:d})}}),we(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),we(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=fc.idle,this.processSessionRequestQueue()},Ce.toMiliseconds(this.requestQueueDelay))}),we(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Kt("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Kt("session_request",s.request.id),{error:n})})}),we(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===fc.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),we(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=fc.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),we(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:vc("wc_sessionPropose",xi(Qt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),we(this,"isValidConnect",async r=>{if(!ys(r)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if($n(n)||await this.isValidPairingTopic(n),!qre(c)){const{message:l}=Ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!$n(i)&&kc(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!$n(s)&&kc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),$n(o)||this.validateSessionProps(o,"sessionProperties"),!$n(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),we(this,"validateNamespaces",(r,n)=>{const i=Wre(r,"connect()",n);if(i)throw new Error(i.message)}),we(this,"isValidApprove",async r=>{if(!ys(r))throw new Error(Ae("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=Vv(i,"approve()");if(l)throw new Error(l.message);const u=eP(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!pn(s,!0)){const{message:f}=Ae("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if($n(o)||this.validateSessionProps(o,"sessionProperties"),!$n(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(d=>f.has(d.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),we(this,"isValidReject",async r=>{if(!ys(r)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!Gre(i)){const{message:s}=Ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),we(this,"isValidSessionSettleRequest",r=>{if(!ys(r)){const{message:l}=Ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!V7(n)){const{message:l}=Ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=$re(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Vv(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Au(o)){const{message:l}=Ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),we(this,"isValidUpdate",async r=>{if(!ys(r)){const{message:c}=Ae("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=Vv(i,"update()");if(o)throw new Error(o.message);const a=eP(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),we(this,"isValidExtend",async r=>{if(!ys(r)){const{message:i}=Ae("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),we(this,"isValidRequest",async r=>{if(!ys(r)){const{message:c}=Ae("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!ZR(a,s)){const{message:c}=Ae("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Kre(i)){const{message:c}=Ae("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Yre(a,s,i.method)){const{message:c}=Ae("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!ene(o,tx)){const{message:c}=Ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${tx.min} and ${tx.max}`);throw new Error(c)}}),we(this,"isValidRespond",async r=>{var n;if(!ys(r)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Vre(s)){const{message:o}=Ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),we(this,"isValidPing",async r=>{if(!ys(r)){const{message:i}=Ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),we(this,"isValidEmit",async r=>{if(!ys(r)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!ZR(o,s)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Jre(i)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Xre(o,s,i.name)){const{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),we(this,"isValidDisconnect",async r=>{if(!ys(r)){const{message:i}=Ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),we(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!pn(i,!1))throw new Error("uri is required parameter");if(!pn(s,!1))throw new Error("domain is required parameter");if(!pn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>yd(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=yd(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),we(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||yg,validation:"UNKNOWN",origin:o.url||""}};try{if(a===kr.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),we(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=Ae("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),we(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),we(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),we(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),we(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,f,d;return!r||n!==kr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((d=r?.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),we(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),we(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=hR(r,"topic")||"",i=decodeURIComponent(hR(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:kr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),we(this,"registerLinkModeListeners",async()=>{var r;if(lS()||pf()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),we(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),we(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),we(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=Nae[s];if(s==="sui_signTransaction")return[xee(n.transactionBytes)];if(s==="near_signTransaction")return[ER(n)];if(s==="near_signTransactions")return n.map(c=>ER(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[gne({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Rl(n)?n.map(c=>vR(c)):[vR(n)];if(s==="cosmos_signDirect")return[Cee(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Rl(a))return s==="solana_signAllTransactions"?a.map(c=>vee(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(an.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Yb)?this.client.auth.authKeys.get(Yb):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===kr.link_mode?Pu:Es});AS(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Eo(n)})):W_(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(wo.expired,async e=>{const{topic:r,id:n}=r7(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ae("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ae("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Qf.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Qf.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!pn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Au(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=Ae("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!pn(e,!1)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Au(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=Ae("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=Ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(pn(e,!1)){const{message:r}=Ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=Ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!zre(e)){const{message:r}=Ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=Ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Au(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=Ae("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Bae extends Vd{constructor(e,r){super(e,r,xae,CS),this.core=e,this.logger=r}}let jae=class extends Vd{constructor(e,r){super(e,r,Aae,CS),this.core=e,this.logger=r}};class Hae extends Vd{constructor(e,r){super(e,r,Sae,CS,n=>n.id),this.core=e,this.logger=r}}class Wae extends Vd{constructor(e,r){super(e,r,Pae,z_,()=>Yb),this.core=e,this.logger=r}}class qae extends Vd{constructor(e,r){super(e,r,Oae,z_),this.core=e,this.logger=r}}class zae extends Vd{constructor(e,r){super(e,r,Dae,z_,n=>n.id),this.core=e,this.logger=r}}var Gae=Object.defineProperty,Kae=(t,e,r)=>e in t?Gae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rx=(t,e,r)=>Kae(t,typeof e!="symbol"?e+"":e,r);class Vae{constructor(e,r){this.core=e,this.logger=r,rx(this,"authKeys"),rx(this,"pairingTopics"),rx(this,"requests"),this.authKeys=new Wae(this.core,this.logger),this.pairingTopics=new qae(this.core,this.logger),this.requests=new zae(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Jae=Object.defineProperty,Yae=(t,e,r)=>e in t?Jae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xt=(t,e,r)=>Yae(t,typeof e!="symbol"?e+"":e,r);let Xae=class _U extends UK{constructor(e){super(e),xt(this,"protocol",yU),xt(this,"version",bU),xt(this,"name",ex.name),xt(this,"metadata"),xt(this,"core"),xt(this,"logger"),xt(this,"events",new Bo.EventEmitter),xt(this,"engine"),xt(this,"session"),xt(this,"proposal"),xt(this,"pendingRequest"),xt(this,"auth"),xt(this,"signConfig"),xt(this,"on",(n,i)=>this.events.on(n,i)),xt(this,"once",(n,i)=>this.events.once(n,i)),xt(this,"off",(n,i)=>this.events.off(n,i)),xt(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),xt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),xt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),xt(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),xt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),xt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||ex.name,this.metadata=pZ(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:my($0({level:e?.logger||ex.logger}));this.core=e?.core||new vae(e),this.logger=Bi(r,this.name),this.session=new jae(this.core,this.logger),this.proposal=new Bae(this.core,this.logger),this.pendingRequest=new Hae(this.core,this.logger),this.engine=new Fae(this),this.auth=new Vae(this.core,this.logger)}static async init(e){const r=new _U(e);return await r.initialize(),r}get context(){return Ps(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var db={exports:{}},LP;function Qae(){return LP||(LP=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Da<"u"&&Da,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Da<"u"&&Da||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(y){return y&&DataView.prototype.isPrototypeOf(y)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(y){return y&&u.indexOf(Object.prototype.toString.call(y))>-1};function d(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function h(y){return typeof y!="string"&&(y=String(y)),y}function m(y){var w={next:function(){var x=y.shift();return{done:x===void 0,value:x}}};return c.iterable&&(w[Symbol.iterator]=function(){return w}),w}function g(y){this.map={},y instanceof g?y.forEach(function(w,x){this.append(x,w)},this):Array.isArray(y)?y.forEach(function(w){if(w.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+w.length);this.append(w[0],w[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(w){this.append(w,y[w])},this)}g.prototype.append=function(y,w){y=d(y),w=h(w);var x=this.map[y];this.map[y]=x?x+", "+w:w},g.prototype.delete=function(y){delete this.map[d(y)]},g.prototype.get=function(y){return y=d(y),this.has(y)?this.map[y]:null},g.prototype.has=function(y){return this.map.hasOwnProperty(d(y))},g.prototype.set=function(y,w){this.map[d(y)]=h(w)},g.prototype.forEach=function(y,w){for(var x in this.map)this.map.hasOwnProperty(x)&&y.call(w,this.map[x],x,this)},g.prototype.keys=function(){var y=[];return this.forEach(function(w,x){y.push(x)}),m(y)},g.prototype.values=function(){var y=[];return this.forEach(function(w){y.push(w)}),m(y)},g.prototype.entries=function(){var y=[];return this.forEach(function(w,x){y.push([x,w])}),m(y)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function b(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function v(y){return new Promise(function(w,x){y.onload=function(){w(y.result)},y.onerror=function(){x(y.error)}})}function C(y){var w=new FileReader,x=v(w);return w.readAsArrayBuffer(y),x}function S(y){var w=new FileReader,x=v(w),T=/charset=([A-Za-z0-9_-]+)/.exec(y.type),U=T?T[1]:"utf-8";return w.readAsText(y,U),x}function D(y){for(var w=new Uint8Array(y),x=new Array(w.length),T=0;T<w.length;T++)x[T]=String.fromCharCode(w[T]);return x.join("")}function O(y){if(y.slice)return y.slice(0);var w=new Uint8Array(y.byteLength);return w.set(new Uint8Array(y)),w.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:c.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:c.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():c.arrayBuffer&&c.blob&&l(y)?(this._bodyArrayBuffer=O(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||f(y))?this._bodyArrayBuffer=O(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=b(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(C);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=b(this);if(y)return y;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(D(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function A(y){var w=y.toUpperCase();return F.indexOf(w)>-1?w:y}function _(y,w){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var x=w.body;if(y instanceof _){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,w.headers||(this.headers=new g(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!x&&y._bodyInit!=null&&(x=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new g(w.headers)),this.method=A(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal||(function(){if("AbortController"in a){var B=new AbortController;return B.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var T=/([?&])_=[^&]*/;if(T.test(this.url))this.url=this.url.replace(T,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function M(y){var w=new FormData;return y.trim().split("&").forEach(function(x){if(x){var T=x.split("="),U=T.shift().replace(/\+/g," "),B=T.join("=").replace(/\+/g," ");w.append(decodeURIComponent(U),decodeURIComponent(B))}}),w}function $(y){var w=new g,x=y.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(T){return T.indexOf(`
`)===0?T.substr(1,T.length):T}).forEach(function(T){var U=T.split(":"),B=U.shift().trim();if(B){var P=U.join(":").trim();try{w.append(B,P)}catch(E){console.warn("Response "+E.message)}}}),w}k.call(_.prototype);function I(y,w){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new g(w.headers),this.url=w.url||"",this._initBody(y)}k.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},I.error=function(){var y=new I(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var N=[301,302,303,307,308];I.redirect=function(y,w){if(N.indexOf(w)===-1)throw new RangeError("Invalid status code");return new I(null,{status:w,headers:{location:y}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,x){this.message=w,this.name=x;var T=Error(w);this.stack=T.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function p(y,w){return new Promise(function(x,T){var U=new _(y,w);if(U.signal&&U.signal.aborted)return T(new o.DOMException("Aborted","AbortError"));var B=new XMLHttpRequest;function P(){B.abort()}B.onload=function(){var G={statusText:B.statusText,headers:$(B.getAllResponseHeaders()||"")};U.url.indexOf("file://")===0&&(B.status<200||B.status>599)?G.status=200:G.status=B.status,G.url="responseURL"in B?B.responseURL:G.headers.get("X-Request-URL");var R="response"in B?B.response:B.responseText;setTimeout(function(){x(new I(R,G))},0)},B.onerror=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},B.ontimeout=function(){setTimeout(function(){T(new TypeError("Network request timed out"))},0)},B.onabort=function(){setTimeout(function(){T(new o.DOMException("Aborted","AbortError"))},0)};function E(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(B.open(U.method,E(U.url),!0),U.credentials==="include"?B.withCredentials=!0:U.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&(c.blob?B.responseType="blob":c.arrayBuffer&&(B.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof g||a.Headers&&w.headers instanceof a.Headers)){var L=[];Object.getOwnPropertyNames(w.headers).forEach(function(G){L.push(d(G)),B.setRequestHeader(G,h(w.headers[G]))}),U.headers.forEach(function(G,R){L.indexOf(R)===-1&&B.setRequestHeader(R,G)})}else U.headers.forEach(function(G,R){B.setRequestHeader(R,G)});U.signal&&(U.signal.addEventListener("abort",P),B.onreadystatechange=function(){B.readyState===4&&U.signal.removeEventListener("abort",P)}),B.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return p.polyfill=!0,a.fetch||(a.fetch=p,a.Headers=g,a.Request=_,a.Response=I),o.Headers=g,o.Request=_,o.Response=I,o.fetch=p,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(db,db.exports)),db.exports}var Zae=Qae();const FP=Ts(Zae);var ece=Object.defineProperty,tce=Object.defineProperties,rce=Object.getOwnPropertyDescriptors,BP=Object.getOwnPropertySymbols,nce=Object.prototype.hasOwnProperty,ice=Object.prototype.propertyIsEnumerable,jP=(t,e,r)=>e in t?ece(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HP=(t,e)=>{for(var r in e||(e={}))nce.call(e,r)&&jP(t,r,e[r]);if(BP)for(var r of BP(e))ice.call(e,r)&&jP(t,r,e[r]);return t},WP=(t,e)=>tce(t,rce(e));const sce={Accept:"application/json","Content-Type":"application/json"},oce="POST",qP={headers:sce,method:oce},zP=10;let ic=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Bo.EventEmitter,this.isAvailable=!1,this.registering=!1,!aP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=$l(e),n=await(await FP(this.url,WP(HP({},qP),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!aP(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=$l({id:1,jsonrpc:"2.0",method:"test",params:[]});await FP(e,WP(HP({},qP),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Sd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=H_(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return X7(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>zP&&this.events.setMaxListeners(zP)}};const GP="error",ace="wss://relay.walletconnect.org",cce="wc",lce="universal_provider",hb=`${cce}@2:${lce}:`,EU="https://rpc.walletconnect.org/v1/",vU="generic",uce=`${EU}bundler`,Ho={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function NS(t){return t==null||typeof t!="object"&&typeof t!="function"}function xU(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function AU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const fce="[object RegExp]",CU="[object String]",NU="[object Number]",SU="[object Boolean]",IU="[object Arguments]",dce="[object Symbol]",hce="[object Date]",pce="[object Map]",gce="[object Set]",mce="[object Array]",yce="[object ArrayBuffer]",bce="[object Object]",wce="[object DataView]",_ce="[object Uint8Array]",Ece="[object Uint8ClampedArray]",vce="[object Uint16Array]",xce="[object Uint32Array]",Ace="[object Int8Array]",Cce="[object Int16Array]",Nce="[object Int32Array]",Sce="[object Float32Array]",Ice="[object Float64Array]";function SS(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tce(t,e){return Yh(t,void 0,t,new Map,e)}function Yh(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(NS(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yh(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Yh(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Yh(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(SS(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Yh(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Zf(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Zf(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Zf(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Zf(o,t,r,n,i),o}if(typeof t=="object"&&Rce(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Zf(o,t,r,n,i),o}return t}function Zf(t,e,r=t,n,i){const s=[...Object.keys(e),...xU(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Yh(e[a],a,r,n,i))}}function Rce(t){switch(AU(t)){case IU:case mce:case yce:case wce:case SU:case hce:case Sce:case Ice:case Ace:case Cce:case Nce:case pce:case NU:case bce:case fce:case gce:case CU:case dce:case _ce:case Ece:case vce:case xce:return!0;default:return!1}}function Pce(t,e){return Tce(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case NU:case CU:case SU:{const o=new t.constructor(t?.valueOf());return Zf(o,t),o}case IU:{const o={};return Zf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function KP(t){return Pce(t)}function VP(t){return t!==null&&typeof t=="object"&&AU(t)==="[object Arguments]"}function JP(t){return typeof t=="object"&&t!==null}function Oce(){}function Dce(t){return SS(t)}function kce(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Mce(t){if(NS(t))return t;if(Array.isArray(t)||SS(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Uce(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=rC(i,o,n,new Map)}return i}function rC(t,e,r,n){if(NS(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return Mce(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...xU(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(VP(a)&&(a={...a}),VP(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=KP(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let d=0;d<f.length;d++){const h=f[d];u[h]=c[h]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||JP(c)&&JP(a)?t[o]=rC(c,a,r,n):c==null&&kce(a)?t[o]=rC({},a,r,n):c==null&&Dce(a)?t[o]=KP(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function $ce(t,...e){return Uce(t,...e,Oce)}var Lce=Object.defineProperty,Fce=Object.defineProperties,Bce=Object.getOwnPropertyDescriptors,YP=Object.getOwnPropertySymbols,jce=Object.prototype.hasOwnProperty,Hce=Object.prototype.propertyIsEnumerable,XP=(t,e,r)=>e in t?Lce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pb=(t,e)=>{for(var r in e||(e={}))jce.call(e,r)&&XP(t,r,e[r]);if(YP)for(var r of YP(e))Hce.call(e,r)&&XP(t,r,e[r]);return t},Wce=(t,e)=>Fce(t,Bce(e));function Ys(t,e,r){var n;const i=yd(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${EU}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Jd(t){return t.includes(":")?t.split(":")[1]:t}function TU(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function qce(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function QP(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function gb(t={},e={}){const r=QP(ZP(t)),n=QP(ZP(e));return $ce(r,n)}function ZP(t){var e,r,n,i,s;const o={};if(!kc(t))return o;for(const[a,c]of Object.entries(t)){const l=j_(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],d=c.rpcMap||{},h=Jh(a);o[h]=Wce(pb(pb({},o[h]),c),{chains:Dc(l,(e=o[h])==null?void 0:e.chains),methods:Dc(u,(r=o[h])==null?void 0:r.methods),events:Dc(f,(n=o[h])==null?void 0:n.events)}),(kc(d)||kc(((i=o[h])==null?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=pb(pb({},d),(s=o[h])==null?void 0:s.rpcMap))}return o}function e6(t){return t.includes(":")?t.split(":")[2]:t}function t6(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=j_(r)?[r]:n.chains?n.chains:TU(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function nx(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const RU={},Wt=t=>RU[t],ix=(t,e)=>{RU[t]=e};var zce=Object.defineProperty,r6=Object.getOwnPropertySymbols,Gce=Object.prototype.hasOwnProperty,Kce=Object.prototype.propertyIsEnumerable,n6=(t,e,r)=>e in t?zce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i6=(t,e)=>{for(var r in e||(e={}))Gce.call(e,r)&&n6(t,r,e[r]);if(r6)for(var r of r6(e))Kce.call(e,r)&&n6(t,r,e[r]);return t};const s6="eip155",Vce=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Jce=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,sx=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,o6=t=>Object.keys(t).filter(e=>Vce.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),Yce=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!kc(i)&&!kc(n))return;const o=o6(n);for(const a of r){const c=Jce(a);if(!c)continue;s[sx(c)]=o;const l=i?.[`${s6}:${c}`];if(l){const u=l?.[`${s6}:${c}:${e}`];s[sx(c)]=i6(i6({},s[sx(c)]),o6(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Xce=Object.defineProperty,Qce=(t,e,r)=>e in t?Xce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uh=(t,e,r)=>Qce(t,typeof e!="symbol"?e+"":e,r);class Zce{constructor(e){uh(this,"name","polkadot"),uh(this,"client"),uh(this,"httpProviders"),uh(this,"events"),uh(this,"namespace"),uh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Jd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var ele=Object.defineProperty,tle=Object.defineProperties,rle=Object.getOwnPropertyDescriptors,a6=Object.getOwnPropertySymbols,nle=Object.prototype.hasOwnProperty,ile=Object.prototype.propertyIsEnumerable,nC=(t,e,r)=>e in t?ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c6=(t,e)=>{for(var r in e||(e={}))nle.call(e,r)&&nC(t,r,e[r]);if(a6)for(var r of a6(e))ile.call(e,r)&&nC(t,r,e[r]);return t},l6=(t,e)=>tle(t,rle(e)),fh=(t,e,r)=>nC(t,typeof e!="symbol"?e+"":e,r);class sle{constructor(e){fh(this,"name","eip155"),fh(this,"client"),fh(this,"chainId"),fh(this,"namespace"),fh(this,"httpProviders"),fh(this,"events"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Jd(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,d=u?.[f];if(d)return d;let h;try{h=Yce(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:l6(c6({},l.sessionProperties||{}),{capabilities:l6(c6({},u||{}),{[f]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vc("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${uce}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var ole=Object.defineProperty,ale=(t,e,r)=>e in t?ole(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dh=(t,e,r)=>ale(t,typeof e!="symbol"?e+"":e,r);class cle{constructor(e){dh(this,"name","solana"),dh(this,"client"),dh(this,"httpProviders"),dh(this,"events"),dh(this,"namespace"),dh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Jd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var lle=Object.defineProperty,ule=(t,e,r)=>e in t?lle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hh=(t,e,r)=>ule(t,typeof e!="symbol"?e+"":e,r);class fle{constructor(e){hh(this,"name","cosmos"),hh(this,"client"),hh(this,"httpProviders"),hh(this,"events"),hh(this,"namespace"),hh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Jd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var dle=Object.defineProperty,hle=(t,e,r)=>e in t?dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ph=(t,e,r)=>hle(t,typeof e!="symbol"?e+"":e,r);class ple{constructor(e){ph(this,"name","algorand"),ph(this,"client"),ph(this,"httpProviders"),ph(this,"events"),ph(this,"namespace"),ph(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new jo(new ic(n,Wt("disableProviderPing")))}}var gle=Object.defineProperty,mle=(t,e,r)=>e in t?gle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gh=(t,e,r)=>mle(t,typeof e!="symbol"?e+"":e,r);class yle{constructor(e){gh(this,"name","cip34"),gh(this,"client"),gh(this,"httpProviders"),gh(this,"events"),gh(this,"namespace"),gh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Jd(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var ble=Object.defineProperty,wle=(t,e,r)=>e in t?ble(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mh=(t,e,r)=>wle(t,typeof e!="symbol"?e+"":e,r);class _le{constructor(e){mh(this,"name","elrond"),mh(this,"client"),mh(this,"httpProviders"),mh(this,"events"),mh(this,"namespace"),mh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Jd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var Ele=Object.defineProperty,vle=(t,e,r)=>e in t?Ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yh=(t,e,r)=>vle(t,typeof e!="symbol"?e+"":e,r);class xle{constructor(e){yh(this,"name","multiversx"),yh(this,"client"),yh(this,"httpProviders"),yh(this,"events"),yh(this,"namespace"),yh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Jd(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var Ale=Object.defineProperty,Cle=(t,e,r)=>e in t?Ale(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bh=(t,e,r)=>Cle(t,typeof e!="symbol"?e+"":e,r);class Nle{constructor(e){bh(this,"name","near"),bh(this,"client"),bh(this,"httpProviders"),bh(this,"events"),bh(this,"namespace"),bh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new ic(n,Wt("disableProviderPing")))}}var Sle=Object.defineProperty,Ile=(t,e,r)=>e in t?Sle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wh=(t,e,r)=>Ile(t,typeof e!="symbol"?e+"":e,r);class Tle{constructor(e){wh(this,"name","tezos"),wh(this,"client"),wh(this,"httpProviders"),wh(this,"events"),wh(this,"namespace"),wh(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||Ys(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace);return typeof n>"u"?void 0:new jo(new ic(n))}}var Rle=Object.defineProperty,Ple=(t,e,r)=>e in t?Rle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_h=(t,e,r)=>Ple(t,typeof e!="symbol"?e+"":e,r);class Ole{constructor(e){_h(this,"name",vU),_h(this,"client"),_h(this,"httpProviders"),_h(this,"events"),_h(this,"namespace"),_h(this,"chainId"),this.namespace=e.namespace,this.events=Wt("events"),this.client=Wt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Ho.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return yd(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=yd(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||Ys(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jo(new ic(n,Wt("disableProviderPing")))}}var Dle=Object.defineProperty,kle=Object.defineProperties,Mle=Object.getOwnPropertyDescriptors,u6=Object.getOwnPropertySymbols,Ule=Object.prototype.hasOwnProperty,$le=Object.prototype.propertyIsEnumerable,iC=(t,e,r)=>e in t?Dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mb=(t,e)=>{for(var r in e||(e={}))Ule.call(e,r)&&iC(t,r,e[r]);if(u6)for(var r of u6(e))$le.call(e,r)&&iC(t,r,e[r]);return t},ox=(t,e)=>kle(t,Mle(e)),co=(t,e,r)=>iC(t,typeof e!="symbol"?e+"":e,r);let Lle=class PU{constructor(e){co(this,"client"),co(this,"namespaces"),co(this,"optionalNamespaces"),co(this,"sessionProperties"),co(this,"scopedProperties"),co(this,"events",new YN),co(this,"rpcProviders",{}),co(this,"session"),co(this,"providerOpts"),co(this,"logger"),co(this,"uri"),co(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:my($0({level:e?.logger||GP})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new PU(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:mb({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,bm(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Lr("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=t6(this.session.namespaces);this.namespaces=gb(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=t6(i.namespaces);return this.namespaces=gb(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Rl(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await Xae.init({core:this.providerOpts.core,logger:this.providerOpts.logger||GP,relayUrl:this.providerOpts.relayUrl||ace,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Jh(r)))];ix("client",this.client),ix("events",this.events),ix("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=qce(r,this.session);if(n?.length===0)return;const i=TU(n),s=gb(this.namespaces,this.optionalNamespaces),o=ox(mb({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new sle({namespace:o});break;case"algorand":this.rpcProviders[r]=new ple({namespace:o});break;case"solana":this.rpcProviders[r]=new cle({namespace:o});break;case"cosmos":this.rpcProviders[r]=new fle({namespace:o});break;case"polkadot":this.rpcProviders[r]=new Zce({namespace:o});break;case"cip34":this.rpcProviders[r]=new yle({namespace:o});break;case"elrond":this.rpcProviders[r]=new _le({namespace:o});break;case"multiversx":this.rpcProviders[r]=new xle({namespace:o});break;case"near":this.rpcProviders[r]=new Nle({namespace:o});break;case"tezos":this.rpcProviders[r]=new Tle({namespace:o});break;default:this.rpcProviders[r]=new Ole({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Rl(o)&&this.events.emit("accountsChanged",o.map(e6))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Jh(o),l=nx(o)!==nx(a)?`${c}:${nx(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=ox(mb({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",ox(mb({},Lr("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ho.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[vU]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=gb(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Jh(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Jh(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(e6);if(!Rl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${hb}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${hb}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${hb}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(hb)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}},Bf=null;const Ws={getSIWX(){return he.state.siwx},async initializeIfEnabled(t=J.getActiveCaipAddress()){const e=he.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(J.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(he.state.remoteFeatures?.emailCapture){const o=J.getAccountData(r)?.user;await At.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Bf&&await Bf,(await e.getSessions(`${r}:${n}`,i)).length)return;await At.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Ne._getClient()?.disconnect().catch(console.error),Ve.reset("Connect"),Nc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=he.state.siwx,e=Pe.getPlainAddress(J.getActiveCaipAddress()),r=jp(),n=Ne._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();xe.getConnectorId(r.chainNamespace)===ae.CONNECTOR_ID.AUTH&&Ve.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),J.setLastConnectedSIWECaipNetwork(r),At.close(),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!At.state.open||Ve.state.view==="ApproveTransaction")&&await At.open({view:"SIWXSignMessage"}),Nc.showError("Error signing message"),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=J.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");n&&n.length>0?await J.switchActiveNetwork(r):await Ne.disconnect()}else await Ne.disconnect()}else At.close();At.close(),Dt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=J.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,Pe.getPlainAddress(J.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=he.state.siwx;let r=t?.address;if(!r){const i=J.getActiveCaipAddress();r=Pe.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=J.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Ve.state.view==="ApproveTransaction",r=Ve.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=Ws.getSIWX(),o=jp();if(!s||!i.includes(ae.CHAIN.EVM)||he.state.remoteFeatures?.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await Ws.addEmbeddedWalletSession(l,u.message,u.signature),J.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Bf)return Bf;const n=Ws.getSIWX();return n?(Bf=n.addSession({data:t,message:e,signature:r}).finally(()=>{Bf=null}),Bf):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=Ws.getSIWX(),i=jp(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:jp()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(Nc.showLoading("Authenticating...",{autoClose:!1}),Me.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&J.setLastConnectedSIWECaipNetwork(i),Dt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Ws.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),Dt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Ws.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{Nc.hide()}}return!0},getSIWXEventProperties(){const t=J.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:J.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Is(t)===jn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Tt={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:ae.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},Ac={ConnectorExplorerIds:{[ae.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ae.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ae.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[ae.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Tt.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Tt.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Tt.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Tt.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Tt.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Tt.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Tt.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Tt.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Tt.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Tt.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Tt.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Tt.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[ae.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ae.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ae.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ae.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ae.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ae.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ae.CONNECTOR_ID.COINBASE]:"Coinbase",[ae.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ae.CONNECTOR_ID.LEDGER]:"Ledger",[ae.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[ae.CONNECTOR_ID.INJECTED]:"INJECTED",[ae.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[ae.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[ae.CONNECTOR_ID.AUTH]:"AUTH",[Tt.CONNECTOR_TYPE_AUTH]:"AUTH"}},Fn={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${Tt.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=J.state.activeChain;return ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>xe.getConnectorId(e)===ae.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return ae.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},Fle=new AbortController,Ai={EmbeddedWalletAbortController:Fle,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Kh()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},Ble={createLogger(t,e="error"){const r=$0({level:e}),{logger:n}=QN({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},jle="rpc.walletconnect.org";function f6(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const ax=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Dh={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===jle}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ae.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ae.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return ax.includes(e)?f6(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(d=>d.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:Ac.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>Dh.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(Qy(i.url,i.config))}),ax.includes(t.caipNetworkId)&&n.push(Qy(f6(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(Qy(i))}),iT(n)},extendWagmiTransports(t,e,r){if(ax.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return iT([r,Qy(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ae.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=be.getActiveCaipNetworkId(),r=J.getAllRequestedCaipNetworks(),n=Array.from(J.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},v1={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},as=mr({providers:{...v1},providerIds:{...v1}}),ht={state:as,subscribeKey(t,e){return Fi(as,t,e)},subscribe(t){return fi(as,()=>{t(as)})},subscribeProviders(t){return fi(as.providers,()=>t(as.providers))},setProvider(t,e){t&&e&&(as.providers[t]=Cd(e))},getProvider(t){if(t)return as.providers[t]},setProviderId(t,e){e&&(as.providerIds[t]=e)},getProviderId(t){if(t)return as.providerIds[t]},reset(){as.providers={...v1},as.providerIds={...v1}},resetChain(t){as.providers[t]=void 0,as.providerIds[t]=void 0}},d6={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},si={set(t,e){qs.isClient&&localStorage.setItem(`${$e.STORAGE_KEY}${t}`,e)},get(t){return qs.isClient?localStorage.getItem(`${$e.STORAGE_KEY}${t}`):null},delete(t,e){qs.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${$e.STORAGE_KEY}${t}`))}},yb=30*1e3,qs={checkIfAllowedToTriggerEmail(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<yb){const r=Math.ceil((yb-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=si.get($e.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<yb)return Math.ceil((yb-e)/1e3)}return 0},checkIfRequestExists(t){return jn.NOT_SAFE_RPC_METHODS.includes(t.method)||jn.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(d6.transactionHash)||t?.match(d6.signedMessage))?$e.RPC_RESPONSE_TYPE_TX:$e.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return jn.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var jt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(jt||(jt={}));var sC;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(sC||(sC={}));const Re=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ou=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},Ee=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Hle=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Qa extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qa.create=t=>new Qa(t);const wm=(t,e)=>{let r;switch(t.code){case Ee.invalid_type:t.received===Re.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,jt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${jt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:r="Invalid input";break;case Ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:r=`Invalid enum value. Expected ${jt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:r="Invalid function arguments";break;case Ee.invalid_return_type:r="Invalid function return type";break;case Ee.invalid_date:r="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:jt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ee.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ee.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ee.custom:r="Invalid input";break;case Ee.invalid_intersection_types:r="Intersection results could not be merged";break;case Ee.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:r="Number must be finite";break;default:r=e.defaultError,jt.assertNever(t)}return{message:r}};let OU=wm;function Wle(t){OU=t}function x1(){return OU}const A1=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},qle=[];function Ue(t,e){const r=A1({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,x1(),wm].filter(n=>!!n)});t.common.issues.push(r)}class $i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return rt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return $i.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const rt=Object.freeze({status:"aborted"}),DU=t=>({status:"dirty",value:t}),ts=t=>({status:"valid",value:t}),oC=t=>t.status==="aborted",aC=t=>t.status==="dirty",_m=t=>t.status==="valid",C1=t=>typeof Promise<"u"&&t instanceof Promise;var ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ze||(ze={}));class Bc{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h6=(t,e)=>{if(_m(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qa(t.common.issues);return this._error=r,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class ct{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ou(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ou(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $i,ctx:{common:e.parent.common,data:e.data,parsedType:Ou(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(C1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ou(e)},s=this._parseSync({data:e,path:i.path,parent:i});return h6(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ou(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(C1(i)?i:Promise.resolve(i));return h6(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Ee.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new tc({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Pl.create(this,this._def)}nullable(){return Dd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this,this._def)}promise(){return S0.create(this,this._def)}or(e){return Am.create([this,e],this._def)}and(e){return Cm.create(this,e,this._def)}transform(e){return new tc({...ot(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Rm({...ot(this._def),innerType:this,defaultValue:r,typeName:Xe.ZodDefault})}brand(){return new MU({typeName:Xe.ZodBranded,type:this,...ot(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new T1({...ot(this._def),innerType:this,catchValue:r,typeName:Xe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Cy.create(this,e)}readonly(){return P1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zle=/^c[^\s-]{8,}$/i,Gle=/^[a-z][a-z0-9]*$/,Kle=/^[0-9A-HJKMNP-TV-Z]{26}$/,Vle=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Jle=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yle="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cx;const Xle=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Qle=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Zle=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function eue(t,e){return!!((e==="v4"||!e)&&Xle.test(t)||(e==="v6"||!e)&&Qle.test(t))}class ja extends ct{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.string,received:s.parsedType}),rt}const n=new $i;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ue(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Ue(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Jle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"email",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")cx||(cx=new RegExp(Yle,"u")),cx.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Vle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")zle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Gle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Kle.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ue(i,{validation:"url",code:Ee.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Zle(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?eue(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ue(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),n.dirty()):jt.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Ee.invalid_string,...ze.errToObj(n)})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ze.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...ze.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ze.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ze.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ze.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ze.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ze.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ze.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ze.errToObj(r)})}nonempty(e){return this.min(1,ze.errToObj(e))}trim(){return new ja({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ja.create=t=>{var e;return new ja({checks:[],typeName:Xe.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};function tue(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ju extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.number,received:s.parsedType}),rt}let n;const i=new $i;for(const s of this._def.checks)s.kind==="int"?jt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?tue(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_finite,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Ju({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Ju({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ju.create=t=>new Ju({checks:[],typeName:Xe.ZodNumber,coerce:t?.coerce||!1,...ot(t)});class Yu extends ct{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Re.bigint){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.bigint,received:s.parsedType}),rt}let n;const i=new $i;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ue(n,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):jt.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ze.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ze.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ze.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ze.toString(r))}setLimit(e,r,n,i){return new Yu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ze.toString(i)}]})}_addCheck(e){return new Yu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ze.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yu.create=t=>{var e;return new Yu({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};class Em extends ct{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.boolean,received:n.parsedType}),rt}return ts(e.data)}}Em.create=t=>new Em({typeName:Xe.ZodBoolean,coerce:t?.coerce||!1,...ot(t)});class Pd extends ct{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_type,expected:Re.date,received:s.parsedType}),rt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ue(s,{code:Ee.invalid_date}),rt}const n=new $i;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ue(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):jt.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Pd({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ze.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ze.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Pd.create=t=>new Pd({checks:[],coerce:t?.coerce||!1,typeName:Xe.ZodDate,...ot(t)});class N1 extends ct{_parse(e){if(this._getType(e)!==Re.symbol){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.symbol,received:n.parsedType}),rt}return ts(e.data)}}N1.create=t=>new N1({typeName:Xe.ZodSymbol,...ot(t)});class vm extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.undefined,received:n.parsedType}),rt}return ts(e.data)}}vm.create=t=>new vm({typeName:Xe.ZodUndefined,...ot(t)});class xm extends ct{_parse(e){if(this._getType(e)!==Re.null){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.null,received:n.parsedType}),rt}return ts(e.data)}}xm.create=t=>new xm({typeName:Xe.ZodNull,...ot(t)});class N0 extends ct{constructor(){super(...arguments),this._any=!0}_parse(e){return ts(e.data)}}N0.create=t=>new N0({typeName:Xe.ZodAny,...ot(t)});class bd extends ct{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ts(e.data)}}bd.create=t=>new bd({typeName:Xe.ZodUnknown,...ot(t)});class Bl extends ct{_parse(e){const r=this._getOrReturnCtx(e);return Ue(r,{code:Ee.invalid_type,expected:Re.never,received:r.parsedType}),rt}}Bl.create=t=>new Bl({typeName:Xe.ZodNever,...ot(t)});class S1 extends ct{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.void,received:n.parsedType}),rt}return ts(e.data)}}S1.create=t=>new S1({typeName:Xe.ZodVoid,...ot(t)});class Za extends ct{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Re.array)return Ue(r,{code:Ee.invalid_type,expected:Re.array,received:r.parsedType}),rt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(Ue(r,{code:o?Ee.too_big:Ee.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ue(r,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ue(r,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Bc(r,o,r.path,a)))).then(o=>$i.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Bc(r,o,r.path,a)));return $i.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Za({...this._def,minLength:{value:e,message:ze.toString(r)}})}max(e,r){return new Za({...this._def,maxLength:{value:e,message:ze.toString(r)}})}length(e,r){return new Za({...this._def,exactLength:{value:e,message:ze.toString(r)}})}nonempty(e){return this.min(1,e)}}Za.create=(t,e)=>new Za({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ot(e)});function kh(t){if(t instanceof Gr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Pl.create(kh(n))}return new Gr({...t._def,shape:()=>e})}else return t instanceof Za?new Za({...t._def,type:kh(t.element)}):t instanceof Pl?Pl.create(kh(t.unwrap())):t instanceof Dd?Dd.create(kh(t.unwrap())):t instanceof jc?jc.create(t.items.map(e=>kh(e))):t}class Gr extends ct{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=jt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Re.object){const l=this._getOrReturnCtx(e);return Ue(l,{code:Ee.invalid_type,expected:Re.object,received:l.parsedType}),rt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Bl&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Bc(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Bl){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(Ue(i,{code:Ee.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Bc(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>$i.mergeObjectSync(n,l)):$i.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ze.errToObj,new Gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=ze.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Gr({...this._def,unknownKeys:"strip"})}passthrough(){return new Gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Gr({...this._def,catchall:e})}pick(e){const r={};return jt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}omit(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Gr({...this._def,shape:()=>r})}deepPartial(){return kh(this)}partial(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Gr({...this._def,shape:()=>r})}required(e){const r={};return jt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Pl;)s=s._def.innerType;r[n]=s}}),new Gr({...this._def,shape:()=>r})}keyof(){return kU(jt.objectKeys(this.shape))}}Gr.create=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strip",catchall:Bl.create(),typeName:Xe.ZodObject,...ot(e)});Gr.strictCreate=(t,e)=>new Gr({shape:()=>t,unknownKeys:"strict",catchall:Bl.create(),typeName:Xe.ZodObject,...ot(e)});Gr.lazycreate=(t,e)=>new Gr({shape:t,unknownKeys:"strip",catchall:Bl.create(),typeName:Xe.ZodObject,...ot(e)});class Am extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Qa(a.ctx.common.issues));return Ue(r,{code:Ee.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Qa(c));return Ue(r,{code:Ee.invalid_union,unionErrors:a}),rt}}get options(){return this._def.options}}Am.create=(t,e)=>new Am({options:t,typeName:Xe.ZodUnion,...ot(e)});const Xb=t=>t instanceof Sm?Xb(t.schema):t instanceof tc?Xb(t.innerType()):t instanceof Im?[t.value]:t instanceof Xu?t.options:t instanceof Tm?Object.keys(t.enum):t instanceof Rm?Xb(t._def.innerType):t instanceof vm?[void 0]:t instanceof xm?[null]:null;class G_ extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.object)return Ue(r,{code:Ee.invalid_type,expected:Re.object,received:r.parsedType}),rt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(Ue(r,{code:Ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Xb(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new G_({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...ot(n)})}}function cC(t,e){const r=Ou(t),n=Ou(e);if(t===e)return{valid:!0,data:t};if(r===Re.object&&n===Re.object){const i=jt.objectKeys(e),s=jt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=cC(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=cC(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Re.date&&n===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Cm extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(oC(s)||oC(o))return rt;const a=cC(s.value,o.value);return a.valid?((aC(s)||aC(o))&&r.dirty(),{status:r.value,value:a.data}):(Ue(n,{code:Ee.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Cm.create=(t,e,r)=>new Cm({left:t,right:e,typeName:Xe.ZodIntersection,...ot(r)});class jc extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.array)return Ue(n,{code:Ee.invalid_type,expected:Re.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Ue(n,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Ue(n,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Bc(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>$i.mergeArray(r,o)):$i.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new jc({...this._def,rest:e})}}jc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jc({items:t,typeName:Xe.ZodTuple,rest:null,...ot(e)})};class Nm extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.object)return Ue(n,{code:Ee.invalid_type,expected:Re.object,received:n.parsedType}),rt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Bc(n,a,n.path,a)),value:o._parse(new Bc(n,n.data[a],n.path,a))});return n.common.async?$i.mergeObjectAsync(r,i):$i.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ct?new Nm({keyType:e,valueType:r,typeName:Xe.ZodRecord,...ot(n)}):new Nm({keyType:ja.create(),valueType:e,typeName:Xe.ZodRecord,...ot(r)})}}class I1 extends ct{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.map)return Ue(n,{code:Ee.invalid_type,expected:Re.map,received:n.parsedType}),rt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Bc(n,a,n.path,[l,"key"])),value:s._parse(new Bc(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return rt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}I1.create=(t,e,r)=>new I1({valueType:e,keyType:t,typeName:Xe.ZodMap,...ot(r)});class Od extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.set)return Ue(n,{code:Ee.invalid_type,expected:Re.set,received:n.parsedType}),rt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ue(n,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ue(n,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return rt;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new Bc(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new Od({...this._def,minSize:{value:e,message:ze.toString(r)}})}max(e,r){return new Od({...this._def,maxSize:{value:e,message:ze.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Od.create=(t,e)=>new Od({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ot(e)});class i0 extends ct{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.function)return Ue(r,{code:Ee.invalid_type,expected:Re.function,received:r.parsedType}),rt;function n(a,c){return A1({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,x1(),wm].filter(l=>!!l),issueData:{code:Ee.invalid_arguments,argumentsError:c}})}function i(a,c){return A1({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,x1(),wm].filter(l=>!!l),issueData:{code:Ee.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof S0){const a=this;return ts(async function(...c){const l=new Qa([]),u=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(h=>{throw l.addIssue(i(f,h)),l})})}else{const a=this;return ts(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Qa([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new Qa([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new i0({...this._def,args:jc.create(e).rest(bd.create())})}returns(e){return new i0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new i0({args:e||jc.create([]).rest(bd.create()),returns:r||bd.create(),typeName:Xe.ZodFunction,...ot(n)})}}class Sm extends ct{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Sm.create=(t,e)=>new Sm({getter:t,typeName:Xe.ZodLazy,...ot(e)});class Im extends ct{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ue(r,{received:r.data,code:Ee.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Im.create=(t,e)=>new Im({value:t,typeName:Xe.ZodLiteral,...ot(e)});function kU(t,e){return new Xu({values:t,typeName:Xe.ZodEnum,...ot(e)})}class Xu extends ct{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{expected:jt.joinValues(n),received:r.parsedType,code:Ee.invalid_type}),rt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ue(r,{received:r.data,code:Ee.invalid_enum_value,options:n}),rt}return ts(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Xu.create(e)}exclude(e){return Xu.create(this.options.filter(r=>!e.includes(r)))}}Xu.create=kU;class Tm extends ct{_parse(e){const r=jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const i=jt.objectValues(r);return Ue(n,{expected:jt.joinValues(i),received:n.parsedType,code:Ee.invalid_type}),rt}if(r.indexOf(e.data)===-1){const i=jt.objectValues(r);return Ue(n,{received:n.data,code:Ee.invalid_enum_value,options:i}),rt}return ts(e.data)}get enum(){return this._def.values}}Tm.create=(t,e)=>new Tm({values:t,typeName:Xe.ZodNativeEnum,...ot(e)});class S0 extends ct{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ue(r,{code:Ee.invalid_type,expected:Re.promise,received:r.parsedType}),rt;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return ts(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}S0.create=(t,e)=>new S0({type:t,typeName:Xe.ZodPromise,...ot(e)});class tc extends ct{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ue(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?rt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_m(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>_m(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);jt.assertNever(i)}}tc.create=(t,e,r)=>new tc({schema:t,typeName:Xe.ZodEffects,effect:e,...ot(r)});tc.createWithPreprocess=(t,e,r)=>new tc({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...ot(r)});class Pl extends ct{_parse(e){return this._getType(e)===Re.undefined?ts(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pl.create=(t,e)=>new Pl({innerType:t,typeName:Xe.ZodOptional,...ot(e)});class Dd extends ct{_parse(e){return this._getType(e)===Re.null?ts(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dd.create=(t,e)=>new Dd({innerType:t,typeName:Xe.ZodNullable,...ot(e)});class Rm extends ct{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Rm.create=(t,e)=>new Rm({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class T1 extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return C1(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Qa(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}T1.create=(t,e)=>new T1({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class R1 extends ct{_parse(e){if(this._getType(e)!==Re.nan){const n=this._getOrReturnCtx(e);return Ue(n,{code:Ee.invalid_type,expected:Re.nan,received:n.parsedType}),rt}return{status:"valid",value:e.data}}}R1.create=t=>new R1({typeName:Xe.ZodNaN,...ot(t)});const rue=Symbol("zod_brand");class MU extends ct{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Cy extends ct{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),DU(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Cy({in:e,out:r,typeName:Xe.ZodPipeline})}}class P1 extends ct{_parse(e){const r=this._def.innerType._parse(e);return _m(r)&&(r.value=Object.freeze(r.value)),r}}P1.create=(t,e)=>new P1({innerType:t,typeName:Xe.ZodReadonly,...ot(e)});const UU=(t,e={},r)=>t?N0.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):N0.create(),nue={object:Gr.lazycreate};var Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const iue=(t,e={message:`Input not instance of ${t.name}`})=>UU(r=>r instanceof t,e),$U=ja.create,LU=Ju.create,sue=R1.create,oue=Yu.create,FU=Em.create,aue=Pd.create,cue=N1.create,lue=vm.create,uue=xm.create,fue=N0.create,due=bd.create,hue=Bl.create,pue=S1.create,gue=Za.create,mue=Gr.create,yue=Gr.strictCreate,bue=Am.create,wue=G_.create,_ue=Cm.create,Eue=jc.create,vue=Nm.create,xue=I1.create,Aue=Od.create,Cue=i0.create,Nue=Sm.create,Sue=Im.create,Iue=Xu.create,Tue=Tm.create,Rue=S0.create,p6=tc.create,Pue=Pl.create,Oue=Dd.create,Due=tc.createWithPreprocess,kue=Cy.create,Mue=()=>$U().optional(),Uue=()=>LU().optional(),$ue=()=>FU().optional(),Lue={string:(t=>ja.create({...t,coerce:!0})),number:(t=>Ju.create({...t,coerce:!0})),boolean:(t=>Em.create({...t,coerce:!0})),bigint:(t=>Yu.create({...t,coerce:!0})),date:(t=>Pd.create({...t,coerce:!0}))},Fue=rt;var j=Object.freeze({__proto__:null,defaultErrorMap:wm,setErrorMap:Wle,getErrorMap:x1,makeIssue:A1,EMPTY_PATH:qle,addIssueToContext:Ue,ParseStatus:$i,INVALID:rt,DIRTY:DU,OK:ts,isAborted:oC,isDirty:aC,isValid:_m,isAsync:C1,get util(){return jt},get objectUtil(){return sC},ZodParsedType:Re,getParsedType:Ou,ZodType:ct,ZodString:ja,ZodNumber:Ju,ZodBigInt:Yu,ZodBoolean:Em,ZodDate:Pd,ZodSymbol:N1,ZodUndefined:vm,ZodNull:xm,ZodAny:N0,ZodUnknown:bd,ZodNever:Bl,ZodVoid:S1,ZodArray:Za,ZodObject:Gr,ZodUnion:Am,ZodDiscriminatedUnion:G_,ZodIntersection:Cm,ZodTuple:jc,ZodRecord:Nm,ZodMap:I1,ZodSet:Od,ZodFunction:i0,ZodLazy:Sm,ZodLiteral:Im,ZodEnum:Xu,ZodNativeEnum:Tm,ZodPromise:S0,ZodEffects:tc,ZodTransformer:tc,ZodOptional:Pl,ZodNullable:Dd,ZodDefault:Rm,ZodCatch:T1,ZodNaN:R1,BRAND:rue,ZodBranded:MU,ZodPipeline:Cy,ZodReadonly:P1,custom:UU,Schema:ct,ZodSchema:ct,late:nue,get ZodFirstPartyTypeKind(){return Xe},coerce:Lue,any:fue,array:gue,bigint:oue,boolean:FU,date:aue,discriminatedUnion:wue,effect:p6,enum:Iue,function:Cue,instanceof:iue,intersection:_ue,lazy:Nue,literal:Sue,map:xue,nan:sue,nativeEnum:Tue,never:hue,null:uue,nullable:Oue,number:LU,object:mue,oboolean:$ue,onumber:Uue,optional:Pue,ostring:Mue,pipeline:kue,preprocess:Due,promise:Rue,record:vue,set:Aue,strictObject:yue,string:$U,symbol:cue,transformer:p6,tuple:Eue,undefined:lue,union:bue,unknown:due,void:pue,NEVER:Fue,ZodIssueCode:Ee,quotelessJson:Hle,ZodError:Qa});const Jr=j.object({message:j.string()});function Oe(t){return j.literal($e[t])}const K_=j.object({serializedMessage:j.string().optional(),accountAddress:j.string(),chainId:j.string(),notBefore:j.string().optional(),domain:j.string(),uri:j.string(),version:j.string(),nonce:j.string(),statement:j.string().optional(),resources:j.array(j.string()).optional(),requestId:j.string().optional(),issuedAt:j.string().optional(),expirationTime:j.string().optional()});j.object({accessList:j.array(j.string()),blockHash:j.string().nullable(),blockNumber:j.string().nullable(),chainId:j.string().or(j.number()),from:j.string(),gas:j.string(),hash:j.string(),input:j.string().nullable(),maxFeePerGas:j.string(),maxPriorityFeePerGas:j.string(),nonce:j.string(),r:j.string(),s:j.string(),to:j.string(),transactionIndex:j.string().nullable(),type:j.string(),v:j.string(),value:j.string()});const Bue=j.object({chainId:j.string().or(j.number()),rpcUrl:j.optional(j.string())}),jue=j.object({email:j.string().email()}),Hue=j.object({otp:j.string()}),Wue=j.object({uri:j.string(),preferredAccountType:j.optional(j.string()),chainId:j.optional(j.string().or(j.number())),siwxMessage:j.optional(K_),rpcUrl:j.optional(j.string())}),que=j.object({chainId:j.optional(j.string().or(j.number())),preferredAccountType:j.optional(j.string()),socialUri:j.optional(j.string()),siwxMessage:j.optional(K_),rpcUrl:j.optional(j.string())}),zue=j.object({provider:j.enum(["google","github","apple","facebook","x","discord"])}),Gue=j.object({email:j.string().email()}),Kue=j.object({otp:j.string()}),Vue=j.object({otp:j.string()}),Jue=j.object({themeMode:j.optional(j.enum(["light","dark"])),themeVariables:j.optional(j.record(j.string(),j.string().or(j.number()))),w3mThemeVariables:j.optional(j.record(j.string(),j.string()))}),Yue=j.object({metadata:j.object({name:j.string(),description:j.string(),url:j.string(),icons:j.array(j.string())}).optional(),sdkVersion:j.string().optional(),sdkType:j.string().optional(),projectId:j.string()}),Xue=j.object({type:j.string()}),Que=j.object({action:j.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Zue=j.object({url:j.string()}),efe=j.object({userName:j.string()}),tfe=j.object({email:j.string().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:j.string().optional().nullable(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(K_)}),rfe=j.object({action:j.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),nfe=j.object({email:j.string().email().optional().nullable(),address:j.string(),chainId:j.string().or(j.number()),smartAccountDeployed:j.optional(j.boolean()),accounts:j.array(j.object({address:j.string(),type:j.enum([jn.ACCOUNT_TYPES.EOA,jn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:j.optional(j.string()),signature:j.string().optional(),message:j.string().optional(),siwxMessage:j.optional(K_)}),ife=j.object({uri:j.string()}),sfe=j.object({isConnected:j.boolean()}),ofe=j.object({chainId:j.string().or(j.number())}),afe=j.object({chainId:j.string().or(j.number())}),cfe=j.object({newEmail:j.string().email()}),lfe=j.object({smartAccountEnabledNetworks:j.array(j.number())});j.object({address:j.string(),isDeployed:j.boolean()});const ufe=j.object({version:j.string().optional()}),ffe=j.object({type:j.string(),address:j.string()}),dfe=j.any(),hfe=j.object({method:j.literal("eth_accounts")}),pfe=j.object({method:j.literal("eth_blockNumber")}),gfe=j.object({method:j.literal("eth_call"),params:j.array(j.any())}),mfe=j.object({method:j.literal("eth_chainId")}),yfe=j.object({method:j.literal("eth_estimateGas"),params:j.array(j.any())}),bfe=j.object({method:j.literal("eth_feeHistory"),params:j.array(j.any())}),wfe=j.object({method:j.literal("eth_gasPrice")}),_fe=j.object({method:j.literal("eth_getAccount"),params:j.array(j.any())}),Efe=j.object({method:j.literal("eth_getBalance"),params:j.array(j.any())}),vfe=j.object({method:j.literal("eth_getBlockByHash"),params:j.array(j.any())}),xfe=j.object({method:j.literal("eth_getBlockByNumber"),params:j.array(j.any())}),Afe=j.object({method:j.literal("eth_getBlockReceipts"),params:j.array(j.any())}),Cfe=j.object({method:j.literal("eth_getBlockTransactionCountByHash"),params:j.array(j.any())}),Nfe=j.object({method:j.literal("eth_getBlockTransactionCountByNumber"),params:j.array(j.any())}),Sfe=j.object({method:j.literal("eth_getCode"),params:j.array(j.any())}),Ife=j.object({method:j.literal("eth_getFilterChanges"),params:j.array(j.any())}),Tfe=j.object({method:j.literal("eth_getFilterLogs"),params:j.array(j.any())}),Rfe=j.object({method:j.literal("eth_getLogs"),params:j.array(j.any())}),Pfe=j.object({method:j.literal("eth_getProof"),params:j.array(j.any())}),Ofe=j.object({method:j.literal("eth_getStorageAt"),params:j.array(j.any())}),Dfe=j.object({method:j.literal("eth_getTransactionByBlockHashAndIndex"),params:j.array(j.any())}),kfe=j.object({method:j.literal("eth_getTransactionByBlockNumberAndIndex"),params:j.array(j.any())}),Mfe=j.object({method:j.literal("eth_getTransactionByHash"),params:j.array(j.any())}),Ufe=j.object({method:j.literal("eth_getTransactionCount"),params:j.array(j.any())}),$fe=j.object({method:j.literal("eth_getTransactionReceipt"),params:j.array(j.any())}),Lfe=j.object({method:j.literal("eth_getUncleCountByBlockHash"),params:j.array(j.any())}),Ffe=j.object({method:j.literal("eth_getUncleCountByBlockNumber"),params:j.array(j.any())}),Bfe=j.object({method:j.literal("eth_maxPriorityFeePerGas")}),jfe=j.object({method:j.literal("eth_newBlockFilter")}),Hfe=j.object({method:j.literal("eth_newFilter"),params:j.array(j.any())}),Wfe=j.object({method:j.literal("eth_newPendingTransactionFilter")}),qfe=j.object({method:j.literal("eth_sendRawTransaction"),params:j.array(j.any())}),zfe=j.object({method:j.literal("eth_syncing"),params:j.array(j.any())}),Gfe=j.object({method:j.literal("eth_uninstallFilter"),params:j.array(j.any())}),g6=j.object({method:j.literal("personal_sign"),params:j.array(j.any())}),Kfe=j.object({method:j.literal("eth_signTypedData_v4"),params:j.array(j.any())}),Vfe=j.object({method:j.literal("eth_sendTransaction"),params:j.array(j.any())}),Jfe=j.object({method:j.literal("solana_signMessage"),params:j.object({message:j.string(),pubkey:j.string()})}),Yfe=j.object({method:j.literal("solana_signTransaction"),params:j.object({transaction:j.string()})}),Xfe=j.object({method:j.literal("solana_signAllTransactions"),params:j.object({transactions:j.array(j.string())})}),Qfe=j.object({method:j.literal("solana_signAndSendTransaction"),params:j.object({transaction:j.string(),options:j.object({skipPreflight:j.boolean().optional(),preflightCommitment:j.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:j.number().optional(),minContextSlot:j.number().optional()}).optional()})}),Zfe=j.object({method:j.literal("wallet_sendCalls"),params:j.array(j.object({chainId:j.string().or(j.number()).optional(),from:j.string().optional(),version:j.string().optional(),capabilities:j.any().optional(),calls:j.array(j.object({to:j.string().startsWith("0x"),data:j.string().startsWith("0x").optional(),value:j.string().optional()}))}))}),ede=j.object({method:j.literal("wallet_getCallsStatus"),params:j.array(j.string())}),tde=j.object({method:j.literal("wallet_getCapabilities"),params:j.array(j.string().or(j.number()).optional()).optional()}),rde=j.object({method:j.literal("wallet_grantPermissions"),params:j.array(j.any())}),nde=j.object({method:j.literal("wallet_revokePermissions"),params:j.any()}),ide=j.object({method:j.literal("wallet_getAssets"),params:j.any()}),m6=j.object({token:j.string()}),De=j.object({id:j.string().optional()}),lx={appEvent:De.extend({type:Oe("APP_SWITCH_NETWORK"),payload:Bue}).or(De.extend({type:Oe("APP_CONNECT_EMAIL"),payload:jue})).or(De.extend({type:Oe("APP_CONNECT_DEVICE")})).or(De.extend({type:Oe("APP_CONNECT_OTP"),payload:Hue})).or(De.extend({type:Oe("APP_CONNECT_SOCIAL"),payload:Wue})).or(De.extend({type:Oe("APP_GET_FARCASTER_URI")})).or(De.extend({type:Oe("APP_CONNECT_FARCASTER")})).or(De.extend({type:Oe("APP_GET_USER"),payload:j.optional(que)})).or(De.extend({type:Oe("APP_GET_SOCIAL_REDIRECT_URI"),payload:zue})).or(De.extend({type:Oe("APP_SIGN_OUT")})).or(De.extend({type:Oe("APP_IS_CONNECTED"),payload:j.optional(m6)})).or(De.extend({type:Oe("APP_GET_CHAIN_ID")})).or(De.extend({type:Oe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(De.extend({type:Oe("APP_INIT_SMART_ACCOUNT")})).or(De.extend({type:Oe("APP_SET_PREFERRED_ACCOUNT"),payload:Xue})).or(De.extend({type:Oe("APP_RPC_REQUEST"),payload:g6.or(ide).or(hfe).or(pfe).or(gfe).or(mfe).or(yfe).or(bfe).or(wfe).or(_fe).or(Efe).or(vfe).or(xfe).or(Afe).or(Cfe).or(Nfe).or(Sfe).or(Ife).or(Tfe).or(Rfe).or(Pfe).or(Ofe).or(Dfe).or(kfe).or(Mfe).or(Ufe).or($fe).or(Lfe).or(Ffe).or(Bfe).or(jfe).or(Hfe).or(Wfe).or(qfe).or(zfe).or(Gfe).or(g6).or(Kfe).or(Vfe).or(Jfe).or(Yfe).or(Xfe).or(Qfe).or(ede).or(Zfe).or(tde).or(rde).or(nde).and(j.object({chainId:j.string().or(j.number()).optional(),chainNamespace:j.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:j.string().optional()}))})).or(De.extend({type:Oe("APP_UPDATE_EMAIL"),payload:Gue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Kue})).or(De.extend({type:Oe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Vue})).or(De.extend({type:Oe("APP_SYNC_THEME"),payload:Jue})).or(De.extend({type:Oe("APP_SYNC_DAPP_DATA"),payload:Yue})).or(De.extend({type:Oe("APP_RELOAD")})).or(De.extend({type:Oe("APP_RPC_ABORT")})),frameEvent:De.extend({type:Oe("FRAME_SWITCH_NETWORK_ERROR"),payload:Jr}).or(De.extend({type:Oe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:afe})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Que})).or(De.extend({type:Oe("FRAME_CONNECT_EMAIL_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Zue})).or(De.extend({type:Oe("FRAME_GET_FARCASTER_URI_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:efe})).or(De.extend({type:Oe("FRAME_CONNECT_FARCASTER_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_CONNECT_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:tfe})).or(De.extend({type:Oe("FRAME_CONNECT_SOCIAL_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_GET_USER_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_GET_USER_SUCCESS"),payload:nfe})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:ife})).or(De.extend({type:Oe("FRAME_SIGN_OUT_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_SIGN_OUT_SUCCESS")})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_IS_CONNECTED_SUCCESS"),payload:sfe})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:ofe})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_RPC_REQUEST_SUCCESS"),payload:dfe})).or(De.extend({type:Oe("FRAME_SESSION_UPDATE"),payload:m6})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:rfe})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:cfe})).or(De.extend({type:Oe("FRAME_SYNC_THEME_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_SYNC_THEME_SUCCESS")})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:lfe})).or(De.extend({type:Oe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:ffe})).or(De.extend({type:Oe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_READY"),payload:ufe})).or(De.extend({type:Oe("FRAME_RELOAD_ERROR"),payload:Jr})).or(De.extend({type:Oe("FRAME_RELOAD_SUCCESS")}))};function ux(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function sde({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=ae.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(uq);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",dq),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class ode{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=ae.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:f}){if(!ux($e.FRAME_EVENT_KEY,f))return;const d=lx.frameEvent.safeParse(f);if(!d.success){console.warn("W3mFrame: invalid frame event",d.error.message);return}d.data?.id===a&&(c(d.data),window.removeEventListener("message",u))}qs.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{qs.isClient&&window.addEventListener("message",({data:c})=>{if(!ux($e.FRAME_EVENT_KEY,c))return;const l=lx.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{qs.isClient&&window.addEventListener("message",({data:c})=>{if(!ux($e.APP_EVENT_KEY,c))return;const l=lx.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(qs.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(qs.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),qs.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=sde({projectId:e,chainId:n,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class ade{constructor(e){const r=$0({level:fq}),{logger:n,chunkLoggerController:i}=QN({opts:r});this.logger=Bi(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class cde{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new ade(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(r);this.w3mFrame=new ode({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!si.get($e.EMAIL_LOGIN_USED_KEY)}getEmail(){return si.get($e.EMAIL)}getUsername(){return si.get($e.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:$e.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{qs.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:$e.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){try{return this.appEvent({type:$e.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:$e.APP_CONNECT_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:$e.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:$e.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:$e.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:$e.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){try{const r=await this.appEvent({type:$e.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){try{return this.appEvent({type:$e.APP_SYNC_THEME,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){try{return this.appEvent({type:$e.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:$e.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:$e.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){if(e?.socialUri)try{await this.init();const r=this.getRpcUrl(e.chainId),n=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:r}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting social"),r}else try{const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.getUser({chainId:r,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(r)});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async getUser(e){try{await this.init();const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.appEvent({type:$e.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){try{await this.init();const i=this.getRpcUrl(r),s=await this.appEvent({type:$e.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:$e.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:$e.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const r=this.getRpcUrl(e),n=await this.appEvent({type:$e.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(n.chainId),n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error switching network"),r}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const n=setTimeout(()=>{r()},3e3);await this.appEvent({type:$e.APP_SIGN_OUT}),clearTimeout(n),r()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const r=e;try{if(jn.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const n=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(n)?.id;r.chainNamespace=n,r.chainId=i,r.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:$e.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(s,r),s}catch(n){throw this.rpcErrorHandler?.(n,r),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_IS_CONNECTED_ERROR&&e(),r.type===$e.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===$e.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:jn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:r})=>{jn.SAFE_RPC_METHODS.includes(r)||e.abort(),await this.appEvent({type:$e.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let r,n;function i(c){return c.replace("@w3m-app/","")}const s=[$e.APP_SYNC_DAPP_DATA,$e.APP_SYNC_THEME,$e.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[$e.APP_CONNECT_EMAIL,$e.APP_CONNECT_DEVICE,$e.APP_CONNECT_OTP,$e.APP_CONNECT_SOCIAL,$e.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const f=new AbortController;if(o==="RPC_REQUEST"){const h=e;this.openRpcRequests.set(u,{...h.payload,abortController:f})}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const d=(h,m)=>{h.id===u&&(m?.logger.info?.({framEvent:h,id:u},"Received frame response"),this.openRpcRequests.delete(h.id),h.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&c(h.payload),c(void 0)):h.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in h&&l(new Error(h.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,h=>d(h,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){si.set($e.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){si.set($e.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&si.set($e.EMAIL,e),si.set($e.EMAIL_LOGIN_USED_KEY,"true"),si.delete($e.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){si.delete($e.EMAIL_LOGIN_USED_KEY),si.delete($e.EMAIL),si.delete($e.LAST_USED_CHAIN_KEY),si.delete($e.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&si.set($e.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=si.get($e.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){si.set($e.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=Vi.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r);return(e?n.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):n[0])?.rpcUrls.default.http?.[0]}}class wg{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){return wg.instance||(wg.instance=new cde({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!he.state.remoteFeatures?.emailCapture})),wg.instance}}var y6={};const lde={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof y6<"u"?y6.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},lC={filterOutDuplicatesByRDNS(t){const e=he.state.enableEIP6963?xe.state.connectors:[],r=be.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Pe.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=xe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=be.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=xe.state,{featuredWalletIds:r}=he.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||he.state.features?.connectMethodsOrder,n=e||xe.state.connectors;if(r)return r;const{injected:i,announced:s}=Qb.getConnectorsByType(n,We.state.recommended,We.state.featured),o=i.filter(Qb.showConnector),a=s.filter(Qb.showConnector);return o.length||a.length?["wallet","email","social"]:lde.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&We.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&We.state.excludedWallets.some(n=>Fn.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},Qb={getConnectorsByType(t,e,r){const{customWallets:n}=he.state,i=be.getRecentWallets(),s=lC.filterOutDuplicateWallets(e),o=lC.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&We.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&We.state.excludedWallets.some(i=>Fn.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Pe.isMobile()||Pe.isMobile()&&!e&&!Ne.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(J.state.chains.values()).some(r=>xe.getConnectorId(r.namespace)===ae.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=he.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:he.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),d=new Set(f.map(g=>g.type)),h=c.filter(g=>d.has(g)).map(g=>({type:g,isEnabled:!0})),m=f.filter(({type:g})=>!h.some(({type:v})=>v===g));return Array.from(new Set([...h,...m].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Pe.isMobile())return{accounts:[],chainId:void 0};if(t.id===ae.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zb=globalThis,IS=Zb.ShadowRoot&&(Zb.ShadyCSS===void 0||Zb.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,TS=Symbol(),b6=new WeakMap;let BU=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==TS)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(IS&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=b6.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&b6.set(r,e))}return e}toString(){return this.cssText}};const ga=t=>new BU(typeof t=="string"?t:t+"",void 0,TS),Du=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new BU(r,t,TS)},ude=(t,e)=>{if(IS)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),i=Zb.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},w6=IS?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return ga(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:fde,defineProperty:dde,getOwnPropertyDescriptor:hde,getOwnPropertyNames:pde,getOwnPropertySymbols:gde,getPrototypeOf:mde}=Object,V_=globalThis,_6=V_.trustedTypes,yde=_6?_6.emptyScript:"",bde=V_.reactiveElementPolyfillSupport,_g=(t,e)=>t,uC={toAttribute(t,e){switch(e){case Boolean:t=t?yde:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},jU=(t,e)=>!fde(t,e),E6={attribute:!0,type:String,converter:uC,reflect:!1,useDefault:!1,hasChanged:jU};Symbol.metadata??=Symbol("metadata"),V_.litPropertyMetadata??=new WeakMap;let Mh=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=E6){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&dde(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=hde(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??E6}static _$Ei(){if(this.hasOwnProperty(_g("elementProperties")))return;const e=mde(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(_g("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(_g("properties"))){const r=this.properties,n=[...pde(r),...gde(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(w6(i))}else e!==void 0&&r.push(w6(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ude(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:uC).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:uC;this._$Em=i;const a=o.fromAttribute(r,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??jU)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Mh.elementStyles=[],Mh.shadowRootOptions={mode:"open"},Mh[_g("elementProperties")]=new Map,Mh[_g("finalized")]=new Map,bde?.({ReactiveElement:Mh}),(V_.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const RS=globalThis,O1=RS.trustedTypes,v6=O1?O1.createPolicy("lit-html",{createHTML:t=>t}):void 0,HU="$lit$",ku=`lit$${Math.random().toFixed(9).slice(2)}$`,WU="?"+ku,wde=`<${WU}>`,kd=document,Pm=()=>kd.createComment(""),Om=t=>t===null||typeof t!="object"&&typeof t!="function",PS=Array.isArray,_de=t=>PS(t)||typeof t?.[Symbol.iterator]=="function",fx=`[ 	
\f\r]`,Cp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,x6=/-->/g,A6=/>/g,jf=RegExp(`>|${fx}(?:([^\\s"'>=/]+)(${fx}*=${fx}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),C6=/'/g,N6=/"/g,qU=/^(?:script|style|textarea|title)$/i,zU=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),FMe=zU(1),BMe=zU(2),I0=Symbol.for("lit-noChange"),Kn=Symbol.for("lit-nothing"),S6=new WeakMap,ud=kd.createTreeWalker(kd,129);function GU(t,e){if(!PS(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return v6!==void 0?v6.createHTML(e):e}const Ede=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Cp;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Cp?u[1]==="!--"?o=x6:u[1]!==void 0?o=A6:u[2]!==void 0?(qU.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=jf):u[3]!==void 0&&(o=jf):o===jf?u[0]===">"?(o=i??Cp,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?jf:u[3]==='"'?N6:C6):o===N6||o===C6?o=jf:o===x6||o===A6?o=Cp:(o=jf,i=void 0);const h=o===jf&&t[a+1].startsWith("/>")?" ":"";s+=o===Cp?c+wde:f>=0?(n.push(l),c.slice(0,f)+HU+c.slice(f)+ku+h):c+ku+(f===-2?a:h)}return[GU(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let fC=class KU{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Ede(e,r);if(this.el=KU.createElement(l,n),ud.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=ud.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(HU)){const d=u[o++],h=i.getAttribute(f).split(ku),m=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:m[2],strings:h,ctor:m[1]==="."?xde:m[1]==="?"?Ade:m[1]==="@"?Cde:J_}),i.removeAttribute(f)}else f.startsWith(ku)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(qU.test(i.tagName)){const f=i.textContent.split(ku),d=f.length-1;if(d>0){i.textContent=O1?O1.emptyScript:"";for(let h=0;h<d;h++)i.append(f[h],Pm()),ud.nextNode(),c.push({type:2,index:++s});i.append(f[d],Pm())}}}else if(i.nodeType===8)if(i.data===WU)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(ku,f+1))!==-1;)c.push({type:7,index:s}),f+=ku.length-1}s++}}static createElement(e,r){const n=kd.createElement("template");return n.innerHTML=e,n}};function T0(t,e,r=t,n){if(e===I0)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=Om(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=T0(t,i._$AS(t,e.values),i,n)),e}class vde{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??kd).importNode(r,!0);ud.currentNode=i;let s=ud.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new Ny(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new Nde(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=ud.nextNode(),o++)}return ud.currentNode=kd,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class Ny{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Kn,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=T0(this,e,r),Om(e)?e===Kn||e==null||e===""?(this._$AH!==Kn&&this._$AR(),this._$AH=Kn):e!==this._$AH&&e!==I0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):_de(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Kn&&Om(this._$AH)?this._$AA.nextSibling.data=e:this.T(kd.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=fC.createElement(GU(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new vde(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=S6.get(e.strings);return r===void 0&&S6.set(e.strings,r=new fC(e)),r}k(e){PS(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new Ny(this.O(Pm()),this.O(Pm()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class J_{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Kn,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Kn}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=T0(this,e,r,0),o=!Om(e)||e!==this._$AH&&e!==I0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=T0(this,a[n+c],r,c),l===I0&&(l=this._$AH[c]),o||=!Om(l)||l!==this._$AH[c],l===Kn?e=Kn:e!==Kn&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Kn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class xde extends J_{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Kn?void 0:e}}class Ade extends J_{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Kn)}}class Cde extends J_{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=T0(this,e,r,0)??Kn)===I0)return;const n=this._$AH,i=e===Kn&&n!==Kn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Kn&&(n===Kn||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class Nde{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){T0(this,e)}}const Sde=RS.litHtmlPolyfillSupport;Sde?.(fC,Ny),(RS.litHtmlVersions??=[]).push("3.3.1");const Ide=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new Ny(e.insertBefore(Pm(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const OS=globalThis;class ew extends Mh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Ide(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return I0}}ew._$litElement$=!0,ew.finalized=!0,OS.litElementHydrateSupport?.({LitElement:ew});const Tde=OS.litElementPolyfillSupport;Tde?.({LitElement:ew});(OS.litElementVersions??=[]).push("4.2.1");const Rde={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},D1={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},Pde={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},Ode={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Dde={regular:"KHTeka",mono:"KHTekaMono"},kde={regular:"400",medium:"500"},Mde={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Ude={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},$de={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Lde={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},dC={colors:Rde,fontFamily:Dde,fontWeight:kde,textSize:Mde,typography:Ude,tokens:{core:D1.core,theme:D1.dark},borderRadius:Pde,spacing:Ode,durations:Lde,easings:$de},I6="--apkt",ul={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${I6}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${I6}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...dC,tokens:{...dC.tokens,theme:t==="light"?D1.light:D1.dark}},{cssVariables:n}=ul.createCSSVariables(r),i=ul.assignCSSVariables(n,r),s=ul.generateW3MVariables(e),o=ul.generateW3MOverrides(e),a=ul.generateScaledVariables(e),c=ul.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=ul.applyColorMixToVariables(e,l),f={...l,...u};return`:root {${Object.entries(f).map(([h,m])=>`${h}:${m.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:Fde}=ul.createCSSVariables(dC);function jMe(t,...e){return Du(t,...e.map(r=>ga(typeof r=="function"?r(Fde):r)))}let ed,fd,Ic,Ua,k1;const cl={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function M1(t,e="dark"){ed&&document.head.removeChild(ed),ed=document.createElement("style"),ed.textContent=ul.createRootStyles(e,t),document.head.appendChild(ed)}function HMe(t,e="dark"){if(k1=t,fd=document.createElement("style"),Ic=document.createElement("style"),Ua=document.createElement("style"),fd.textContent=s0(t).core.cssText,Ic.textContent=s0(t).dark.cssText,Ua.textContent=s0(t).light.cssText,document.head.appendChild(fd),document.head.appendChild(Ic),document.head.appendChild(Ua),M1(t,e),hC(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(cl)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}hC(e)}function hC(t="dark"){Ic&&Ua&&ed&&(t==="light"?(M1(k1,t),Ic.removeAttribute("media"),Ua.media="enabled"):(M1(k1,t),Ua.removeAttribute("media"),Ic.media="enabled"))}function Bde(t){if(k1=t,fd&&Ic&&Ua&&(fd.textContent=s0(t).core.cssText,Ic.textContent=s0(t).dark.cssText,Ua.textContent=s0(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];fd.textContent=fd.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Ic.textContent=Ic.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),Ua.textContent=Ua.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(ed){const e=Ua?.media==="enabled"?"light":"dark";M1(t,e)}}function s0(t){const e=!!t?.["--w3m-font-family"];return{core:Du`
      ${e?Du``:Du`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ga(cl["KHTeka-400-woff2"])}) format('woff2'),
                url(${ga(cl["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ga(cl["KHTeka-300-woff2"])}) format('woff2'),
                url(${ga(cl["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${ga(cl["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${ga(cl["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${ga(cl["KHTeka-400-woff2"])}) format('woff2'),
                url(${ga(cl["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Du`
      :root {
      }
    `,light:Du`
      :root {
      }
    `}}const WMe=Du`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,qMe=Du`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,o0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([o0.getAddresses(t),o0.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:o0.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Ac.NetworkImageIds[e.id]]}]})}},Eh={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},jde=KM({id:56,name:"BNB Smart Chain",blockTime:750,nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Hde=KM({id:97,name:"BNB Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0});function Qu(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const T6=Qu({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),R6=Qu({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Qu({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Qu({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Qu({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Qu({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Wde={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Ol={getMethodsByChainNamespace(t){return Wde[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case T6.caipNetworkId:u.chains.push(T6.deprecatedCaipNetworkId);break;case R6.caipNetworkId:u.chains.push(R6.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await lg.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=Ol.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(f=>{const d=c.find(g=>g.includes(`${e}:${l}:${f}`));if(!d)return;const{chainId:h,chainNamespace:m}=Vi.parseCaipAddress(d);return{address:f,chainId:h,chainNamespace:m}}).filter(f=>f!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>Vi.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class qde{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case ae.CHAIN.EVM:await this.syncEVMConnections(e);break;case ae.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case ae.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Ol.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await Qb.fetchProviderData(a);if(c.length>0&&l){const u=r.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),a.provider&&a.id!==ae.CONNECTOR_ID.AUTH&&a.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const c=Ol.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===ae.CONNECTOR_ID.WALLET_CONNECT){const d=Ol.getWalletConnectAccounts(n,this.namespace);d.length>0&&s({connectorId:a.id,accounts:d.map(h=>({address:h.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(d=>Pe.createAccount(ae.CHAIN.BITCOIN,d.address,d.purpose||"payment",d.publicKey,d.path));if(u&&u.length>1&&(u=[{namespace:ae.CHAIN.BITCOIN,publicKey:u[Eh.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[Eh.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[Eh.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:ae.CHAIN.BITCOIN,publicKey:u[Eh.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[Eh.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[Eh.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(d=>d.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(d=>({address:d.address,type:d.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>Fn.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>Fn.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Fn.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>Fn.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>Fn.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const Nl={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class DS{constructor({provider:e,namespace:r}){this.id=ae.CONNECTOR_ID.WALLET_CONNECT,this.name=Ac.ConnectorNamesMap[ae.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Ac.ConnectorImageIds[ae.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=J.getCaipNetworks.bind(J),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=he.state.universalProviderConfigOverride,i=Ol.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Ws.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:zde})}}const zde=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Gde=[ae.CONNECTOR_ID.AUTH,ae.CONNECTOR_ID.WALLET_CONNECT];class VU{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getConnectorId=r=>xe.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new qde({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:ae.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:ae.CONNECTOR_ID.AUTH,type:"AUTH",name:ae.CONNECTOR_NAMES.AUTH,provider:e,imageId:Ac.ConnectorImageIds[ae.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!Fn.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){Me.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=Is(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof DS);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=Pe.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Pe.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=Pe.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=Pe.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?o0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),Fn.isLowerCaseMatch(this.getConnectorId(ae.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(Gde.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class Kde extends VU{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new DS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>Pe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&It.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Me.state.balanceLoading&&e.chainId===J.state.activeCaipNetwork?.id)return{balance:Me.state.balance||"0.00",symbol:Me.state.balanceSymbol||""};const i=(await Me.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return J.state.activeCaipNetwork?.chainNamespace===ae.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:j0.encode(new TextEncoder().encode(n)),pubkey:i}},J.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},J.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ae.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:J3(r.id)}]})}catch(i){if(i.code===Nl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Nl.ERROR_INVALID_CHAIN_ID||i.code===Nl.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Nl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:J3(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const Vde=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],bb={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?It.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?It.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>It.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?It.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},Jde={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=bb[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=bb[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return bb[t].processApi(e)},processFallbackFeature(t,e){return bb[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await We.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?It.DEFAULT_REMOTE_FEATURES:It.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Vde){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),It.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ai.open({debugMessage:Ai.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class Yde{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=J.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=J.getNetworkData(r)?.caipNetwork;return s||J.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return J.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>J.getCaipNetworks(r),this.getActiveChainNamespace=()=>J.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{J.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>J.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>J.state.activeChain===r||!r?J.state.activeCaipAddress:J.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{Ke.setClientId(r)},this.getProvider=r=>ht.getProvider(r),this.getProviderType=r=>ht.getProviderId(r),this.getPreferredAccountType=r=>Is(r),this.setCaipAddress=(r,n)=>{Me.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{Me.setBalance(r,n,i)},this.setProfileName=(r,n)=>{Me.setProfileName(r,n)},this.setProfileImage=(r,n)=>{Me.setProfileImage(r,n)},this.setUser=(r,n)=>{Me.setUser(r,n)},this.resetAccount=r=>{Me.resetAccount(r)},this.setCaipNetwork=r=>{J.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{J.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{Me.setStatus(r,n),xe.isConnected()?be.setConnectionStatus("connected"):be.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>J.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...xe.state.allConnectors,...r];xe.setConnectors(n)},this.setConnections=(r,n)=>{be.setConnections(r,n),Ne.setConnections(r,n)},this.fetchIdentity=r=>Ke.fetchIdentity(r),this.getReownName=r=>lg.getNamesForAddress(r),this.getConnectors=()=>xe.getConnectors(),this.getConnectorImage=r=>TM.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?o1.getConnectionsData(r).connections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?o1.getConnectionsData(r).recentConnections:(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Ne.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}be.deleteAddressFromConnection(r),Ne.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=ht.getProviderId(n),s=r?{...r,type:i}:void 0;Me.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!J.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{Me.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{Me.removeAddressLabel(r,n)},this.getAddress=r=>J.state.activeChain===r||!r?Me.state.address:J.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>J.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{J.resetNetwork(r)},this.addConnector=r=>{xe.addConnector(r)},this.resetWcConnection=()=>{Ne.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{Me.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{Me.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{J.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{he.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),he.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await Jde.fetchRemoteFeatures(e),he.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&h2.setOnrampProviders(this.remoteFeatures.onramp),(he.state.remoteFeatures?.email||Array.isArray(he.state.remoteFeatures?.socials)&&he.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),he.state.features?.reownAuthentication||he.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await Gn(async()=>{const{ReownAuthentication:i}=await import("./features-CA0m-WgQ.js");return{ReownAuthentication:i}},[],import.meta.url),n=he.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),he.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await We.fetchAllowedOrigins();if(!Pe.isClient())return;const r=window.location.origin;Ol.isOriginAllowed(r,e,Nl.DEFAULT_ALLOWED_ANCESTORS)||ai.open(Ai.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":ai.open(Ai.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;ai.open({displayMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,Dt.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&bs.setThemeMode(e.themeMode),e.themeVariables&&bs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");J.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&J.setActiveCaipNetwork(r)}initializeConnectionController(e){Ne.initialize(e.adapters??[]),Ne.setWcBasic(e.basic??!1)}initializeConnectorController(){xe.initialize(this.chainNamespaces)}initializeProjectSettings(e){he.setProjectId(e.projectId),he.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){he.setDebug(e.debug!==!1),he.setEnableWalletConnect(e.enableWalletConnect!==!1),he.setEnableWalletGuide(e.enableWalletGuide!==!1),he.setEnableWallets(e.enableWallets!==!1),he.setEIP6963Enabled(e.enableEIP6963!==!1),he.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),he.setEnableReconnect(e.enableReconnect!==!1),he.setEnableAuthLogger(e.enableAuthLogger!==!1),he.setCustomRpcUrls(e.customRpcUrls),he.setEnableEmbedded(e.enableEmbedded),he.setAllWallets(e.allWallets),he.setIncludeWalletIds(e.includeWalletIds),he.setExcludeWalletIds(e.excludeWalletIds),he.setFeaturedWalletIds(e.featuredWalletIds),he.setTokens(e.tokens),he.setTermsConditionsUrl(e.termsConditionsUrl),he.setPrivacyPolicyUrl(e.privacyPolicyUrl),he.setCustomWallets(e.customWallets),he.setFeatures(e.features),he.setAllowUnsupportedChain(e.allowUnsupportedChain),he.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),he.setPreferUniversalLinks(e.experimental_preferUniversalLinks),he.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),he.setMetadata(e.metadata),he.setDisableAppend(e.disableAppend),he.setEnableEmbedded(e.enableEmbedded),he.setSIWX(e.siwx),this.features=he.state.features??{},!e.projectId){ai.open(Ai.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===ae.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");he.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Pe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=Dh.getUnsupportedNetwork(`${r}:${e}`);J.setActiveCaipNetwork(n)}}getDefaultNetwork(){return Dh.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return Dh.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return Dh.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?Dh.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(J.state.chains.get(e)?.accountState?.caipAddress||!he.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=J.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=Ne.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),be.setConnectedNamespaces([...J.state.chains.keys()]),await this.syncWalletConnectAccount(),await Ws.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=J.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),be.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||J.state.activeChain,o=xe.getConnectorId(s),a=r===ae.CONNECTOR_ID.AUTH||o===ae.CONNECTOR_ID.AUTH,c=r===ae.CONNECTOR_ID.WALLET_CONNECT||o===ae.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(J.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const f=u.map(async m=>{const g=xe.getConnectorId(m),b=await this.disconnectNamespace(m,r||g);b&&(a&&be.deleteConnectedSocialProvider(),b.connections.forEach(v=>{be.addDisconnectedConnectorId(v.connectorId,m)})),i&&this.onDisconnectNamespace({chainNamespace:m,closeModal:!1})}),d=await Promise.allSettled(f);St.resetSend(),Ne.resetWcConnection(),Ws.getSIWX()?.signOutOnDisconnect&&await Ws.clearSessions(),xe.setFilterByNamespace(void 0),Ne.syncStorageConnections();const h=d.filter(m=>m.status==="rejected");if(h.length>0)throw new Error(h.map(m=>m.reason.message).join(", "));Dt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=J.state.activeChain,n=this.getAdapter(J.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:Me.state.address,provider:ht.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(It.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=ht.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===ae.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=ht.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=J.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:Me.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),Me.state.profileImage||!1},getEnsAddress:async e=>await Ol.resolveReownName(e),writeContract:async e=>{const r=J.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=ht.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(J.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(J.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!Me.state.address||this.updateNativeBalance(Me.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Ne.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=J.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===Tt.CONNECTOR_TYPE_AUTH&&ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>xe.getConnectorId(f)===ae.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return be.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),be.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===Tt.CONNECTOR_TYPE_AUTH,i=Fn.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=J.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=ht.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=ht.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(be.addConnectedNamespace(c),be.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){ai.warn(Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(ht.getProviderId(J.state.activeChain)===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=ht.getProvider(r),s=ht.getProviderId(r);if(e.chainNamespace===J.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===Tt.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Vi.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new Kde({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=be.getConnectionStatus();he.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(be.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=J.state.activeChain===e,c=J.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(Ne.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=Me.state.address,s=J.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=J.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=J.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),be.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>Ne.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Pe.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===ae.CHAIN.EVM&&Pe.isSafeApp()&&xe.setConnectorId(ae.CONNECTOR_ID.SAFE,e);const r=xe.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ae.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case ae.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};J.resetAccount(r),J.resetNetwork(r),be.removeConnectedNamespace(r);const i=Array.from(J.state.chains.keys());(r?[r]:i).forEach(o=>be.addDisconnectedConnectorId(xe.getConnectorId(o)||"",o)),xe.removeConnectorId(r),ht.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&At.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=be.getConnections()[e]??[];return{hasDisconnected:be.isConnectorDisconnected(i,e),hasConnected:o.some(a=>Fn.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=xe.getConnectorId(e),i=this.getCaipNetwork(e),o=xe.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=J.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=Vi.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=Vi.validateCaipAddress(a),{chainId:l,address:u}=Vi.parseCaipAddress(c);if(ht.setProviderId(n,Tt.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&J.state.activeCaipNetwork&&i.namespace!==ae.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:J.state.activeCaipNetwork});ht.setProvider(n,f)}else ht.setProvider(n,this.universalProvider);xe.setConnectorId(ae.CONNECTOR_ID.WALLET_CONNECT,n),be.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await J.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){ht.setProviderId(i,e),ht.setProvider(i,r),xe.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===J.state.activeChain,n=J.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=be.getActiveNetworkProps(),c=s||a,l=J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME,u=J.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(m=>m.id.toString()===c.toString()),d=this.getCaipNetworks().find(m=>m.chainNamespace===o);if(!u&&!f&&!d){const m=this.getApprovedCaipNetworkIds()||[],g=m.find(v=>Vi.parseCaipNetworkId(v)?.chainId===c.toString()),b=m.find(v=>Vi.parseCaipNetworkId(v)?.chainNamespace===o);f=this.getCaipNetworks().find(v=>v.caipNetworkId===g),d=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const h=f||d;h?.chainNamespace===J.state.activeChain?he.state.enableNetworkSwitch&&!he.state.allowUnsupportedChain&&J.state.activeCaipNetwork?.name===ae.UNSUPPORTED_NETWORK_NAME?J.showUnsupportedChainUI():this.setCaipNetwork(h):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),Fn.isLowerCaseMatch(i,Me.state.address)||this.syncAccountInfo(i,h?.id,o),r?await this.syncBalance({address:i,chainId:h?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=xe.getConnectorId(e),n=ht.getProviderId(e);if(n===Tt.CONNECTOR_TYPE_ANNOUNCED||n===Tt.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===Tt.CONNECTOR_TYPE_WALLET_CONNECT){const i=ht.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===ae.CONNECTOR_ID.COINBASE_SDK||r===ae.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!AM.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=J.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=Ble.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};he.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await Lle.init(r),he.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Ol.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{Ne.setUri(r)},onConnect:r=>{const{address:n}=Pe.getAccount(r[0]);Ne.finalizeWcConnection(n)},onDisconnect:()=>{J.state.noAdapters&&this.resetAccount(e),Ne.resetWcConnection()},onChainChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=J.state.activeChain,i=n&&xe.state.activeConnectorIds[n]===ae.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(J.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Pe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Dt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Ai.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Ai.ALERT_ERRORS[o];a&&(ai.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&Ne.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return At.open({...e,data:{swap:e.arguments}})}return At.open(e)}async close(){await this.injectModalUi(),At.close()}setLoading(e,r){At.setLoading(e,r)}async disconnect(e){await Ne.disconnect({namespace:e})}getSIWX(){return he.state.siwx}getError(){return""}getChainId(){return J.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){ai.open(Ai.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await J.switchActiveNetwork(r)}getWalletProvider(){return J.state.activeChain?ht.state.providers[J.state.activeChain]:null}getWalletProviderType(){return ht.getProviderId(J.state.activeChain)}subscribeProviders(e){return ht.subscribeProviders(e)}getThemeMode(){return bs.state.themeMode}getThemeVariables(){return bs.state.themeVariables}setThemeMode(e){bs.setThemeMode(e),hC(bs.state.themeMode)}setTermsConditionsUrl(e){he.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){he.setPrivacyPolicyUrl(e)}setThemeVariables(e){bs.setThemeVariables(e),Bde(bs.state.themeVariables)}subscribeTheme(e){return bs.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?Ne.subscribe(e):(ai.open(ae.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?J.state.chains.get(e)?.accountState?.connectedWalletInfo:Me.state.connectedWalletInfo}getAccount(e){const r=e||J.state.activeChain,n=xe.getAuthConnector(r),i=J.getAccountData(r),s=be.getConnectedConnectorId(J.state.activeChain),o=Ne.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>Pe.createAccount(r,l,u||"eoa",f)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:Pe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===ae.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:be.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Is(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?J.subscribeChainProp("accountState",n,r):J.subscribe(n),xe.subscribe(n)}subscribeNetwork(e){return J.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?Me.subscribeKey("connectedWalletInfo",e,r):Me.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Me.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){J.subscribeKey("activeCaipNetwork",e)}getState(){return Ba.state}getRemoteFeatures(){return he.state.remoteFeatures}subscribeState(e){return Ba.subscribe(e)}subscribeRemoteFeatures(e){return he.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Nc.showError(e)}showSuccessMessage(e){Nc.showSuccess(e)}getEvent(){return{...Dt.state}}subscribeEvents(e){return Dt.subscribe(e)}replace(e){Ve.replace(e)}redirect(e){Ve.push(e)}popTransactionStack(e){Ve.popTransactionStack(e)}isOpen(){return At.state.open}isTransactionStackEmpty(){return Ve.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){he.setFeatures(e)}updateRemoteFeatures(e){he.setRemoteFeatures(e)}updateOptions(e){const n={...he.state||{},...e};he.setOptions(n)}setConnectMethodsOrder(e){he.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){he.setWalletFeaturesOrder(e)}setCollapseWallets(e){he.setCollapseWallets(e)}setSocialsOrder(e){he.setSocialsOrder(e)}getConnectMethodsOrder(){return lC.getConnectOrderMethod(he.state.features,xe.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||J.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&J.removeNetwork(e,r)}}let P6=!1;class Xde extends Yde{async onAuthProviderConnected(e){const r=Fn.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await Ws.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===ae.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=he.state.defaultAccountTypes[r],s=Is(r),o=e.preferredAccountType||s||i;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...Me.state.user||{},...u},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{qs.checkIfRequestExists(r)?qs.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(jn.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(jn.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const i=qs.checkIfRequestIsSafe(n),s=Me.state.address,o=J.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=J.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const i=J.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,i)})}async syncAuthConnectorTheme(e){if(!e)return;const r=bs.getSnapshot(),n=he.getSnapshot();await Promise.all([e.syncDappData({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:zg(r.themeVariables,r.themeMode)})])}async syncAuthConnector(e,r){const n=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),i=r===J.state.activeChain;if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername();this.setUser({...Me.state?.user||{},username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),r&&n&&i){const l=await e.getSmartAccountEnabledNetworks();if(J.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],r),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:ae.CONNECTOR_ID.AUTH,info:{name:ae.CONNECTOR_ID.AUTH},type:Tt.CONNECTOR_TYPE_AUTH,provider:e,chainId:J.getNetworkData(r)?.caipNetwork?.id,chain:r}),this.setStatus("connected",r);const u=be.getConnectedSocialProvider();u?Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:Me.state.address,properties:{provider:u,reconnect:!0}}):Dt.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:Me.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else xe.getConnectorId(r)===ae.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),be.removeConnectedNamespace(r))}this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){try{if(!Pe.isTelegram())return;const r=be.getTelegramSocialProvider();if(!r||!Pe.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Me.setSocialProvider(r,e),await this.authProvider?.init();const s=xe.getAuthConnector();r&&s&&(this.setLoading(!0,e),await Ne.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),be.setConnectedSocialProvider(r),be.removeTelegramSocialProvider(),Dt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){if(!ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=n||i,a=Fn.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=wg.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Ai.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?ai.open(Ai.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?ai.open(Ai.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&ai.open(Ai.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>jp(l),getCaipNetworks:l=>J.getCaipNetworks(l)}),Ba.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===J.state.activeChain&&he.state.enableReconnect;he.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&We.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const r=J.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(n);if(n===r&&i){const o=this.getAdapter(n),a=ht.getProvider(n),c=ht.getProviderId(n);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=ht.getProviderId(r)===Tt.CONNECTOR_TYPE_AUTH,c=ht.getProviderId(n),l=c===Tt.CONNECTOR_TYPE_AUTH,u=ae.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{J.state.activeChain=e.chainNamespace,i?await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:ae.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:Tt.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===Tt.CONNECTOR_TYPE_WALLET_CONNECT){if(!J.state.noAdapters){const f=this.getAdapter(n),d=ht.getProvider(n),h=ht.getProviderId(n);await f?.switchNetwork({caipNetwork:e,provider:d,providerType:h})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),Ba.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){const i=`${n}:${r}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=xe.getConnectorId(n)===ae.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,n):(this.setProfileName(a,n),this.setProfileImage(c,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=ht.getProviderId(e);if(r===Tt.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=be.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Pe.isClient()&&!P6)try{const e={...It.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Pe.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!he.state.disableAppend&&!he.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}P6=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Pe.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(Gn(()=>import("./embedded-wallet-C1ejn_rF.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),r.email&&n.push(Gn(()=>import("./email-lHqP4mN_.js"),__vite__mapDeps([15,3,16,13,7,12,5,6,11,17,9]),import.meta.url)),r.socials&&n.push(Gn(()=>import("./socials-DkEMWiPE.js"),__vite__mapDeps([18,3,5,19,6,20,12,21,11,7,22,4,23]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(Gn(()=>import("./swaps-D_XYCzgJ.js"),__vite__mapDeps([24,3,11,7,12,5,25,26,27,23,28,4,9,6]),import.meta.url)),e.send&&n.push(Gn(()=>import("./send-CT2n-wV6.js"),__vite__mapDeps([29,3,11,7,12,5,6,30,13,28,4,23,27,9,31,32,33]),import.meta.url)),e.receive&&n.push(Gn(()=>import("./receive-zKShqOJq.js"),__vite__mapDeps([34,3,5,4,22]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(Gn(()=>import("./onramp-oMFm7jPj.js"),__vite__mapDeps([35,3,5,36,7,19,6,4,37,38,13,30,11,12,21,39,9]),import.meta.url)),r.payWithExchange&&n.push(Gn(()=>import("./pay-with-exchange-Cf7ZhYA1.js"),__vite__mapDeps([40,3,11,7,10,4,5,36,23,39,12,9,6,13,31,32]),import.meta.url)),r.activity&&n.push(Gn(()=>import("./transactions-CMELsO6X.js"),__vite__mapDeps([41,3,42,12,5,13,4,23]),import.meta.url)),(e.pay||r.payments)&&n.push(Gn(()=>import("./index-Bz_JQlju.js"),__vite__mapDeps([43,3,5,11,7,44,4,12,10,36,32,21]),import.meta.url)),r.emailCapture&&n.push(Gn(()=>import("./data-capture-c6yAqfxO.js"),__vite__mapDeps([45,3,16,13,7,46]),import.meta.url)),await Promise.all([...n,Gn(()=>import("./index-y9X69yEg.js"),__vite__mapDeps([47,3,5,4,7,33,12,48,38,13,30,8,10,36,11,44,42,23,31,25,26,32,6,9,17,19,20,21,22,14,37]),import.meta.url),Gn(()=>import("./w3m-modal-DVXEpGZH.js"),__vite__mapDeps([49,3,5,10,4,8,7,12,26,48,38,13,30,27]),import.meta.url)])}}function JU(t){const e=ut(t?.namespace||J.state.activeChain),r=ut(J.state.chains),n=ut({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){const l=be.getConnectedConnectorId(c),u=c?xe.getAuthConnector(c):void 0,f=c||J.state.activeChain,d=f?a.get(f)?.accountState:void 0;n.value.address=Pe.getPlainAddress(d?.caipAddress),n.value.caipAddress=d?.caipAddress,n.value.status=d?.status,n.value.isConnected=!!d?.caipAddress,n.value.embeddedWalletInfo=u&&l===ae.CONNECTOR_ID.AUTH?{user:d?.user,authProvider:d?.socialProvider??"email",accountType:Is(f),isSmartAccountDeployed:!!d?.smartAccountDeployed}:void 0}const s=J.subscribeKey("activeChain",a=>{e.value=t?.namespace||a,i(r.value,e.value)}),o=J.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return df(()=>{i(r.value,e.value)}),hf(()=>{o(),s()}),n}let tw;function Qde(t){t&&(tw=t)}function dx(t){const e=ut(ht.state.providers[t]),r=ut(ht.state.providerIds[t]),n=ht.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return hf(()=>{n?.()}),Wl({walletProvider:e,walletProviderType:r})}function Zde(){if(!tw)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await tw?.open(r)}async function e(){await tw?.close()}return Wl({open:t,close:e})}const ehe="1.8.1";let zp;function the(t){return zp||(zp=new Xde({...t,sdkVersion:Pe.generateSdkVersion(t.adapters??[],"html",ehe)}),Qde(zp)),zp}function YU(){const t=ut({caipNetwork:J.state.activeCaipNetwork,chainId:J.state.activeCaipNetwork?.id,caipNetworkId:J.state.activeCaipNetwork?.caipNetworkId,switchNetwork:r=>{zp?.switchNetwork(r)}}),e=J.subscribeKey("activeCaipNetwork",r=>{t.value.caipNetwork=r,t.value.chainId=r?.id,t.value.caipNetworkId=r?.caipNetworkId});return hf(()=>{e()}),t}var rw={exports:{}};const rhe={},nhe=Object.freeze(Object.defineProperty({__proto__:null,default:rhe},Symbol.toStringTag,{value:"Module"})),ihe=Vr(nhe);var she=rw.exports,O6;function ohe(){return O6||(O6=1,(function(t){(function(e,r){function n(N,p){if(!N)throw new Error(p||"Assertion failed")}function i(N,p){N.super_=p;var y=function(){};y.prototype=p.prototype,N.prototype=new y,N.prototype.constructor=N}function s(N,p,y){if(s.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((p==="le"||p==="be")&&(y=p,p=10),this._init(N||0,p||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ihe.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,y){return p.cmp(y)>0?p:y},s.min=function(p,y){return p.cmp(y)<0?p:y},s.prototype._init=function(p,y,w){if(typeof p=="number")return this._initNumber(p,y,w);if(typeof p=="object")return this._initArray(p,y,w);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),p=p.toString().replace(/\s+/g,"");var x=0;p[0]==="-"&&(x++,this.negative=1),x<p.length&&(y===16?this._parseHex(p,x,w):(this._parseBase(p,y,x),w==="le"&&this._initArray(this.toArray(),y,w)))},s.prototype._initNumber=function(p,y,w){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),y,w)},s.prototype._initArray=function(p,y,w){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var T,U,B=0;if(w==="be")for(x=p.length-1,T=0;x>=0;x-=3)U=p[x]|p[x-1]<<8|p[x-2]<<16,this.words[T]|=U<<B&67108863,this.words[T+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,T++);else if(w==="le")for(x=0,T=0;x<p.length;x+=3)U=p[x]|p[x+1]<<8|p[x+2]<<16,this.words[T]|=U<<B&67108863,this.words[T+1]=U>>>26-B&67108863,B+=24,B>=26&&(B-=26,T++);return this._strip()};function a(N,p){var y=N.charCodeAt(p);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+N)}function c(N,p,y){var w=a(N,y);return y-1>=p&&(w|=a(N,y-1)<<4),w}s.prototype._parseHex=function(p,y,w){this.length=Math.ceil((p.length-y)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var T=0,U=0,B;if(w==="be")for(x=p.length-1;x>=y;x-=2)B=c(p,y,x)<<T,this.words[U]|=B&67108863,T>=18?(T-=18,U+=1,this.words[U]|=B>>>26):T+=8;else{var P=p.length-y;for(x=P%2===0?y+1:y;x<p.length;x+=2)B=c(p,y,x)<<T,this.words[U]|=B&67108863,T>=18?(T-=18,U+=1,this.words[U]|=B>>>26):T+=8}this._strip()};function l(N,p,y,w){for(var x=0,T=0,U=Math.min(N.length,y),B=p;B<U;B++){var P=N.charCodeAt(B)-48;x*=w,P>=49?T=P-49+10:P>=17?T=P-17+10:T=P,n(P>=0&&T<w,"Invalid character"),x+=T}return x}s.prototype._parseBase=function(p,y,w){this.words=[0],this.length=1;for(var x=0,T=1;T<=67108863;T*=y)x++;x--,T=T/y|0;for(var U=p.length-w,B=U%x,P=Math.min(U,U-B)+w,E=0,L=w;L<P;L+=x)E=l(p,L,L+x,y),this.imuln(T),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(B!==0){var G=1;for(E=l(p,L,p.length,y),L=0;L<B;L++)G*=y;this.imuln(G),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var y=0;y<this.length;y++)p.words[y]=this.words[y];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(N,p){N.words=p.words,N.length=p.length,N.negative=p.negative,N.red=p.red}if(s.prototype._move=function(p){u(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,y){p=p||10,y=y|0||1;var w;if(p===16||p==="hex"){w="";for(var x=0,T=0,U=0;U<this.length;U++){var B=this.words[U],P=((B<<x|T)&16777215).toString(16);T=B>>>24-x&16777215,x+=2,x>=26&&(x-=26,U--),T!==0||U!==this.length-1?w=d[6-P.length]+P+w:w=P+w}for(T!==0&&(w=T.toString(16)+w);w.length%y!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(p===(p|0)&&p>=2&&p<=36){var E=h[p],L=m[p];w="";var G=this.clone();for(G.negative=0;!G.isZero();){var R=G.modrn(L).toString(p);G=G.idivn(L),G.isZero()?w=R+w:w=d[E-R.length]+R+w}for(this.isZero()&&(w="0"+w);w.length%y!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(p,y){return this.toArrayLike(o,p,y)}),s.prototype.toArray=function(p,y){return this.toArrayLike(Array,p,y)};var g=function(p,y){return p.allocUnsafe?p.allocUnsafe(y):new p(y)};s.prototype.toArrayLike=function(p,y,w){this._strip();var x=this.byteLength(),T=w||Math.max(1,x);n(x<=T,"byte array longer than desired length"),n(T>0,"Requested array length <= 0");var U=g(p,T),B=y==="le"?"LE":"BE";return this["_toArrayLike"+B](U,x),U},s.prototype._toArrayLikeLE=function(p,y){for(var w=0,x=0,T=0,U=0;T<this.length;T++){var B=this.words[T]<<U|x;p[w++]=B&255,w<p.length&&(p[w++]=B>>8&255),w<p.length&&(p[w++]=B>>16&255),U===6?(w<p.length&&(p[w++]=B>>24&255),x=0,U=0):(x=B>>>24,U+=2)}if(w<p.length)for(p[w++]=x;w<p.length;)p[w++]=0},s.prototype._toArrayLikeBE=function(p,y){for(var w=p.length-1,x=0,T=0,U=0;T<this.length;T++){var B=this.words[T]<<U|x;p[w--]=B&255,w>=0&&(p[w--]=B>>8&255),w>=0&&(p[w--]=B>>16&255),U===6?(w>=0&&(p[w--]=B>>24&255),x=0,U=0):(x=B>>>24,U+=2)}if(w>=0)for(p[w--]=x;w>=0;)p[w--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var y=p,w=0;return y>=4096&&(w+=13,y>>>=13),y>=64&&(w+=7,y>>>=7),y>=8&&(w+=4,y>>>=4),y>=2&&(w+=2,y>>>=2),w+y},s.prototype._zeroBits=function(p){if(p===0)return 26;var y=p,w=0;return(y&8191)===0&&(w+=13,y>>>=13),(y&127)===0&&(w+=7,y>>>=7),(y&15)===0&&(w+=4,y>>>=4),(y&3)===0&&(w+=2,y>>>=2),(y&1)===0&&w++,w},s.prototype.bitLength=function(){var p=this.words[this.length-1],y=this._countBits(p);return(this.length-1)*26+y};function b(N){for(var p=new Array(N.bitLength()),y=0;y<p.length;y++){var w=y/26|0,x=y%26;p[y]=N.words[w]>>>x&1}return p}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,y=0;y<this.length;y++){var w=this._zeroBits(this.words[y]);if(p+=w,w!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var y=0;y<p.length;y++)this.words[y]=this.words[y]|p.words[y];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var y;this.length>p.length?y=p:y=this;for(var w=0;w<y.length;w++)this.words[w]=this.words[w]&p.words[w];return this.length=y.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var y,w;this.length>p.length?(y=this,w=p):(y=p,w=this);for(var x=0;x<w.length;x++)this.words[x]=y.words[x]^w.words[x];if(this!==y)for(;x<y.length;x++)this.words[x]=y.words[x];return this.length=y.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var y=Math.ceil(p/26)|0,w=p%26;this._expand(y),w>0&&y--;for(var x=0;x<y;x++)this.words[x]=~this.words[x]&67108863;return w>0&&(this.words[x]=~this.words[x]&67108863>>26-w),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,y){n(typeof p=="number"&&p>=0);var w=p/26|0,x=p%26;return this._expand(w+1),y?this.words[w]=this.words[w]|1<<x:this.words[w]=this.words[w]&~(1<<x),this._strip()},s.prototype.iadd=function(p){var y;if(this.negative!==0&&p.negative===0)return this.negative=0,y=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,y=this.isub(p),p.negative=1,y._normSign();var w,x;this.length>p.length?(w=this,x=p):(w=p,x=this);for(var T=0,U=0;U<x.length;U++)y=(w.words[U]|0)+(x.words[U]|0)+T,this.words[U]=y&67108863,T=y>>>26;for(;T!==0&&U<w.length;U++)y=(w.words[U]|0)+T,this.words[U]=y&67108863,T=y>>>26;if(this.length=w.length,T!==0)this.words[this.length]=T,this.length++;else if(w!==this)for(;U<w.length;U++)this.words[U]=w.words[U];return this},s.prototype.add=function(p){var y;return p.negative!==0&&this.negative===0?(p.negative=0,y=this.sub(p),p.negative^=1,y):p.negative===0&&this.negative!==0?(this.negative=0,y=p.sub(this),this.negative=1,y):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var y=this.iadd(p);return p.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var w=this.cmp(p);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,T;w>0?(x=this,T=p):(x=p,T=this);for(var U=0,B=0;B<T.length;B++)y=(x.words[B]|0)-(T.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;for(;U!==0&&B<x.length;B++)y=(x.words[B]|0)+U,U=y>>26,this.words[B]=y&67108863;if(U===0&&B<x.length&&x!==this)for(;B<x.length;B++)this.words[B]=x.words[B];return this.length=Math.max(this.length,B),x!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function v(N,p,y){y.negative=p.negative^N.negative;var w=N.length+p.length|0;y.length=w,w=w-1|0;var x=N.words[0]|0,T=p.words[0]|0,U=x*T,B=U&67108863,P=U/67108864|0;y.words[0]=B;for(var E=1;E<w;E++){for(var L=P>>>26,G=P&67108863,R=Math.min(E,p.length-1),V=Math.max(0,E-N.length+1);V<=R;V++){var K=E-V|0;x=N.words[K]|0,T=p.words[V]|0,U=x*T+G,L+=U/67108864|0,G=U&67108863}y.words[E]=G|0,P=L|0}return P!==0?y.words[E]=P|0:y.length--,y._strip()}var C=function(p,y,w){var x=p.words,T=y.words,U=w.words,B=0,P,E,L,G=x[0]|0,R=G&8191,V=G>>>13,K=x[1]|0,X=K&8191,Q=K>>>13,ie=x[2]|0,le=ie&8191,H=ie>>>13,Y=x[3]|0,W=Y&8191,Z=Y>>>13,fe=x[4]|0,oe=fe&8191,ge=fe>>>13,_e=x[5]|0,q=_e&8191,z=_e>>>13,ne=x[6]|0,se=ne&8191,pe=ne>>>13,me=x[7]|0,ee=me&8191,ce=me>>>13,ke=x[8]|0,Le=ke&8191,Ge=ke>>>13,Br=x[9]|0,nt=Br&8191,Rt=Br>>>13,Xo=T[0]|0,lt=Xo&8191,gt=Xo>>>13,sc=T[1]|0,er=sc&8191,yr=sc>>>13,Af=T[2]|0,br=Af&8191,wr=Af>>>13,Cf=T[3]|0,_r=Cf&8191,Er=Cf>>>13,Nf=T[4]|0,vr=Nf&8191,xr=Nf>>>13,Sf=T[5]|0,Ar=Sf&8191,Cr=Sf>>>13,If=T[6]|0,Nr=If&8191,Sr=If>>>13,Tf=T[7]|0,Ir=Tf&8191,Tr=Tf>>>13,Rf=T[8]|0,Rr=Rf&8191,Pr=Rf>>>13,Pf=T[9]|0,Or=Pf&8191,Dr=Pf>>>13;w.negative=p.negative^y.negative,w.length=19,P=Math.imul(R,lt),E=Math.imul(R,gt),E=E+Math.imul(V,lt)|0,L=Math.imul(V,gt);var Yl=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Yl>>>26)|0,Yl&=67108863,P=Math.imul(X,lt),E=Math.imul(X,gt),E=E+Math.imul(Q,lt)|0,L=Math.imul(Q,gt),P=P+Math.imul(R,er)|0,E=E+Math.imul(R,yr)|0,E=E+Math.imul(V,er)|0,L=L+Math.imul(V,yr)|0;var Xl=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Xl>>>26)|0,Xl&=67108863,P=Math.imul(le,lt),E=Math.imul(le,gt),E=E+Math.imul(H,lt)|0,L=Math.imul(H,gt),P=P+Math.imul(X,er)|0,E=E+Math.imul(X,yr)|0,E=E+Math.imul(Q,er)|0,L=L+Math.imul(Q,yr)|0,P=P+Math.imul(R,br)|0,E=E+Math.imul(R,wr)|0,E=E+Math.imul(V,br)|0,L=L+Math.imul(V,wr)|0;var Ql=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Ql>>>26)|0,Ql&=67108863,P=Math.imul(W,lt),E=Math.imul(W,gt),E=E+Math.imul(Z,lt)|0,L=Math.imul(Z,gt),P=P+Math.imul(le,er)|0,E=E+Math.imul(le,yr)|0,E=E+Math.imul(H,er)|0,L=L+Math.imul(H,yr)|0,P=P+Math.imul(X,br)|0,E=E+Math.imul(X,wr)|0,E=E+Math.imul(Q,br)|0,L=L+Math.imul(Q,wr)|0,P=P+Math.imul(R,_r)|0,E=E+Math.imul(R,Er)|0,E=E+Math.imul(V,_r)|0,L=L+Math.imul(V,Er)|0;var Zl=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(Zl>>>26)|0,Zl&=67108863,P=Math.imul(oe,lt),E=Math.imul(oe,gt),E=E+Math.imul(ge,lt)|0,L=Math.imul(ge,gt),P=P+Math.imul(W,er)|0,E=E+Math.imul(W,yr)|0,E=E+Math.imul(Z,er)|0,L=L+Math.imul(Z,yr)|0,P=P+Math.imul(le,br)|0,E=E+Math.imul(le,wr)|0,E=E+Math.imul(H,br)|0,L=L+Math.imul(H,wr)|0,P=P+Math.imul(X,_r)|0,E=E+Math.imul(X,Er)|0,E=E+Math.imul(Q,_r)|0,L=L+Math.imul(Q,Er)|0,P=P+Math.imul(R,vr)|0,E=E+Math.imul(R,xr)|0,E=E+Math.imul(V,vr)|0,L=L+Math.imul(V,xr)|0;var eu=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(eu>>>26)|0,eu&=67108863,P=Math.imul(q,lt),E=Math.imul(q,gt),E=E+Math.imul(z,lt)|0,L=Math.imul(z,gt),P=P+Math.imul(oe,er)|0,E=E+Math.imul(oe,yr)|0,E=E+Math.imul(ge,er)|0,L=L+Math.imul(ge,yr)|0,P=P+Math.imul(W,br)|0,E=E+Math.imul(W,wr)|0,E=E+Math.imul(Z,br)|0,L=L+Math.imul(Z,wr)|0,P=P+Math.imul(le,_r)|0,E=E+Math.imul(le,Er)|0,E=E+Math.imul(H,_r)|0,L=L+Math.imul(H,Er)|0,P=P+Math.imul(X,vr)|0,E=E+Math.imul(X,xr)|0,E=E+Math.imul(Q,vr)|0,L=L+Math.imul(Q,xr)|0,P=P+Math.imul(R,Ar)|0,E=E+Math.imul(R,Cr)|0,E=E+Math.imul(V,Ar)|0,L=L+Math.imul(V,Cr)|0;var DE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(DE>>>26)|0,DE&=67108863,P=Math.imul(se,lt),E=Math.imul(se,gt),E=E+Math.imul(pe,lt)|0,L=Math.imul(pe,gt),P=P+Math.imul(q,er)|0,E=E+Math.imul(q,yr)|0,E=E+Math.imul(z,er)|0,L=L+Math.imul(z,yr)|0,P=P+Math.imul(oe,br)|0,E=E+Math.imul(oe,wr)|0,E=E+Math.imul(ge,br)|0,L=L+Math.imul(ge,wr)|0,P=P+Math.imul(W,_r)|0,E=E+Math.imul(W,Er)|0,E=E+Math.imul(Z,_r)|0,L=L+Math.imul(Z,Er)|0,P=P+Math.imul(le,vr)|0,E=E+Math.imul(le,xr)|0,E=E+Math.imul(H,vr)|0,L=L+Math.imul(H,xr)|0,P=P+Math.imul(X,Ar)|0,E=E+Math.imul(X,Cr)|0,E=E+Math.imul(Q,Ar)|0,L=L+Math.imul(Q,Cr)|0,P=P+Math.imul(R,Nr)|0,E=E+Math.imul(R,Sr)|0,E=E+Math.imul(V,Nr)|0,L=L+Math.imul(V,Sr)|0;var kE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(kE>>>26)|0,kE&=67108863,P=Math.imul(ee,lt),E=Math.imul(ee,gt),E=E+Math.imul(ce,lt)|0,L=Math.imul(ce,gt),P=P+Math.imul(se,er)|0,E=E+Math.imul(se,yr)|0,E=E+Math.imul(pe,er)|0,L=L+Math.imul(pe,yr)|0,P=P+Math.imul(q,br)|0,E=E+Math.imul(q,wr)|0,E=E+Math.imul(z,br)|0,L=L+Math.imul(z,wr)|0,P=P+Math.imul(oe,_r)|0,E=E+Math.imul(oe,Er)|0,E=E+Math.imul(ge,_r)|0,L=L+Math.imul(ge,Er)|0,P=P+Math.imul(W,vr)|0,E=E+Math.imul(W,xr)|0,E=E+Math.imul(Z,vr)|0,L=L+Math.imul(Z,xr)|0,P=P+Math.imul(le,Ar)|0,E=E+Math.imul(le,Cr)|0,E=E+Math.imul(H,Ar)|0,L=L+Math.imul(H,Cr)|0,P=P+Math.imul(X,Nr)|0,E=E+Math.imul(X,Sr)|0,E=E+Math.imul(Q,Nr)|0,L=L+Math.imul(Q,Sr)|0,P=P+Math.imul(R,Ir)|0,E=E+Math.imul(R,Tr)|0,E=E+Math.imul(V,Ir)|0,L=L+Math.imul(V,Tr)|0;var ME=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(ME>>>26)|0,ME&=67108863,P=Math.imul(Le,lt),E=Math.imul(Le,gt),E=E+Math.imul(Ge,lt)|0,L=Math.imul(Ge,gt),P=P+Math.imul(ee,er)|0,E=E+Math.imul(ee,yr)|0,E=E+Math.imul(ce,er)|0,L=L+Math.imul(ce,yr)|0,P=P+Math.imul(se,br)|0,E=E+Math.imul(se,wr)|0,E=E+Math.imul(pe,br)|0,L=L+Math.imul(pe,wr)|0,P=P+Math.imul(q,_r)|0,E=E+Math.imul(q,Er)|0,E=E+Math.imul(z,_r)|0,L=L+Math.imul(z,Er)|0,P=P+Math.imul(oe,vr)|0,E=E+Math.imul(oe,xr)|0,E=E+Math.imul(ge,vr)|0,L=L+Math.imul(ge,xr)|0,P=P+Math.imul(W,Ar)|0,E=E+Math.imul(W,Cr)|0,E=E+Math.imul(Z,Ar)|0,L=L+Math.imul(Z,Cr)|0,P=P+Math.imul(le,Nr)|0,E=E+Math.imul(le,Sr)|0,E=E+Math.imul(H,Nr)|0,L=L+Math.imul(H,Sr)|0,P=P+Math.imul(X,Ir)|0,E=E+Math.imul(X,Tr)|0,E=E+Math.imul(Q,Ir)|0,L=L+Math.imul(Q,Tr)|0,P=P+Math.imul(R,Rr)|0,E=E+Math.imul(R,Pr)|0,E=E+Math.imul(V,Rr)|0,L=L+Math.imul(V,Pr)|0;var UE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(UE>>>26)|0,UE&=67108863,P=Math.imul(nt,lt),E=Math.imul(nt,gt),E=E+Math.imul(Rt,lt)|0,L=Math.imul(Rt,gt),P=P+Math.imul(Le,er)|0,E=E+Math.imul(Le,yr)|0,E=E+Math.imul(Ge,er)|0,L=L+Math.imul(Ge,yr)|0,P=P+Math.imul(ee,br)|0,E=E+Math.imul(ee,wr)|0,E=E+Math.imul(ce,br)|0,L=L+Math.imul(ce,wr)|0,P=P+Math.imul(se,_r)|0,E=E+Math.imul(se,Er)|0,E=E+Math.imul(pe,_r)|0,L=L+Math.imul(pe,Er)|0,P=P+Math.imul(q,vr)|0,E=E+Math.imul(q,xr)|0,E=E+Math.imul(z,vr)|0,L=L+Math.imul(z,xr)|0,P=P+Math.imul(oe,Ar)|0,E=E+Math.imul(oe,Cr)|0,E=E+Math.imul(ge,Ar)|0,L=L+Math.imul(ge,Cr)|0,P=P+Math.imul(W,Nr)|0,E=E+Math.imul(W,Sr)|0,E=E+Math.imul(Z,Nr)|0,L=L+Math.imul(Z,Sr)|0,P=P+Math.imul(le,Ir)|0,E=E+Math.imul(le,Tr)|0,E=E+Math.imul(H,Ir)|0,L=L+Math.imul(H,Tr)|0,P=P+Math.imul(X,Rr)|0,E=E+Math.imul(X,Pr)|0,E=E+Math.imul(Q,Rr)|0,L=L+Math.imul(Q,Pr)|0,P=P+Math.imul(R,Or)|0,E=E+Math.imul(R,Dr)|0,E=E+Math.imul(V,Or)|0,L=L+Math.imul(V,Dr)|0;var $E=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+($E>>>26)|0,$E&=67108863,P=Math.imul(nt,er),E=Math.imul(nt,yr),E=E+Math.imul(Rt,er)|0,L=Math.imul(Rt,yr),P=P+Math.imul(Le,br)|0,E=E+Math.imul(Le,wr)|0,E=E+Math.imul(Ge,br)|0,L=L+Math.imul(Ge,wr)|0,P=P+Math.imul(ee,_r)|0,E=E+Math.imul(ee,Er)|0,E=E+Math.imul(ce,_r)|0,L=L+Math.imul(ce,Er)|0,P=P+Math.imul(se,vr)|0,E=E+Math.imul(se,xr)|0,E=E+Math.imul(pe,vr)|0,L=L+Math.imul(pe,xr)|0,P=P+Math.imul(q,Ar)|0,E=E+Math.imul(q,Cr)|0,E=E+Math.imul(z,Ar)|0,L=L+Math.imul(z,Cr)|0,P=P+Math.imul(oe,Nr)|0,E=E+Math.imul(oe,Sr)|0,E=E+Math.imul(ge,Nr)|0,L=L+Math.imul(ge,Sr)|0,P=P+Math.imul(W,Ir)|0,E=E+Math.imul(W,Tr)|0,E=E+Math.imul(Z,Ir)|0,L=L+Math.imul(Z,Tr)|0,P=P+Math.imul(le,Rr)|0,E=E+Math.imul(le,Pr)|0,E=E+Math.imul(H,Rr)|0,L=L+Math.imul(H,Pr)|0,P=P+Math.imul(X,Or)|0,E=E+Math.imul(X,Dr)|0,E=E+Math.imul(Q,Or)|0,L=L+Math.imul(Q,Dr)|0;var LE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(LE>>>26)|0,LE&=67108863,P=Math.imul(nt,br),E=Math.imul(nt,wr),E=E+Math.imul(Rt,br)|0,L=Math.imul(Rt,wr),P=P+Math.imul(Le,_r)|0,E=E+Math.imul(Le,Er)|0,E=E+Math.imul(Ge,_r)|0,L=L+Math.imul(Ge,Er)|0,P=P+Math.imul(ee,vr)|0,E=E+Math.imul(ee,xr)|0,E=E+Math.imul(ce,vr)|0,L=L+Math.imul(ce,xr)|0,P=P+Math.imul(se,Ar)|0,E=E+Math.imul(se,Cr)|0,E=E+Math.imul(pe,Ar)|0,L=L+Math.imul(pe,Cr)|0,P=P+Math.imul(q,Nr)|0,E=E+Math.imul(q,Sr)|0,E=E+Math.imul(z,Nr)|0,L=L+Math.imul(z,Sr)|0,P=P+Math.imul(oe,Ir)|0,E=E+Math.imul(oe,Tr)|0,E=E+Math.imul(ge,Ir)|0,L=L+Math.imul(ge,Tr)|0,P=P+Math.imul(W,Rr)|0,E=E+Math.imul(W,Pr)|0,E=E+Math.imul(Z,Rr)|0,L=L+Math.imul(Z,Pr)|0,P=P+Math.imul(le,Or)|0,E=E+Math.imul(le,Dr)|0,E=E+Math.imul(H,Or)|0,L=L+Math.imul(H,Dr)|0;var FE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(FE>>>26)|0,FE&=67108863,P=Math.imul(nt,_r),E=Math.imul(nt,Er),E=E+Math.imul(Rt,_r)|0,L=Math.imul(Rt,Er),P=P+Math.imul(Le,vr)|0,E=E+Math.imul(Le,xr)|0,E=E+Math.imul(Ge,vr)|0,L=L+Math.imul(Ge,xr)|0,P=P+Math.imul(ee,Ar)|0,E=E+Math.imul(ee,Cr)|0,E=E+Math.imul(ce,Ar)|0,L=L+Math.imul(ce,Cr)|0,P=P+Math.imul(se,Nr)|0,E=E+Math.imul(se,Sr)|0,E=E+Math.imul(pe,Nr)|0,L=L+Math.imul(pe,Sr)|0,P=P+Math.imul(q,Ir)|0,E=E+Math.imul(q,Tr)|0,E=E+Math.imul(z,Ir)|0,L=L+Math.imul(z,Tr)|0,P=P+Math.imul(oe,Rr)|0,E=E+Math.imul(oe,Pr)|0,E=E+Math.imul(ge,Rr)|0,L=L+Math.imul(ge,Pr)|0,P=P+Math.imul(W,Or)|0,E=E+Math.imul(W,Dr)|0,E=E+Math.imul(Z,Or)|0,L=L+Math.imul(Z,Dr)|0;var BE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(BE>>>26)|0,BE&=67108863,P=Math.imul(nt,vr),E=Math.imul(nt,xr),E=E+Math.imul(Rt,vr)|0,L=Math.imul(Rt,xr),P=P+Math.imul(Le,Ar)|0,E=E+Math.imul(Le,Cr)|0,E=E+Math.imul(Ge,Ar)|0,L=L+Math.imul(Ge,Cr)|0,P=P+Math.imul(ee,Nr)|0,E=E+Math.imul(ee,Sr)|0,E=E+Math.imul(ce,Nr)|0,L=L+Math.imul(ce,Sr)|0,P=P+Math.imul(se,Ir)|0,E=E+Math.imul(se,Tr)|0,E=E+Math.imul(pe,Ir)|0,L=L+Math.imul(pe,Tr)|0,P=P+Math.imul(q,Rr)|0,E=E+Math.imul(q,Pr)|0,E=E+Math.imul(z,Rr)|0,L=L+Math.imul(z,Pr)|0,P=P+Math.imul(oe,Or)|0,E=E+Math.imul(oe,Dr)|0,E=E+Math.imul(ge,Or)|0,L=L+Math.imul(ge,Dr)|0;var jE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(jE>>>26)|0,jE&=67108863,P=Math.imul(nt,Ar),E=Math.imul(nt,Cr),E=E+Math.imul(Rt,Ar)|0,L=Math.imul(Rt,Cr),P=P+Math.imul(Le,Nr)|0,E=E+Math.imul(Le,Sr)|0,E=E+Math.imul(Ge,Nr)|0,L=L+Math.imul(Ge,Sr)|0,P=P+Math.imul(ee,Ir)|0,E=E+Math.imul(ee,Tr)|0,E=E+Math.imul(ce,Ir)|0,L=L+Math.imul(ce,Tr)|0,P=P+Math.imul(se,Rr)|0,E=E+Math.imul(se,Pr)|0,E=E+Math.imul(pe,Rr)|0,L=L+Math.imul(pe,Pr)|0,P=P+Math.imul(q,Or)|0,E=E+Math.imul(q,Dr)|0,E=E+Math.imul(z,Or)|0,L=L+Math.imul(z,Dr)|0;var HE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(HE>>>26)|0,HE&=67108863,P=Math.imul(nt,Nr),E=Math.imul(nt,Sr),E=E+Math.imul(Rt,Nr)|0,L=Math.imul(Rt,Sr),P=P+Math.imul(Le,Ir)|0,E=E+Math.imul(Le,Tr)|0,E=E+Math.imul(Ge,Ir)|0,L=L+Math.imul(Ge,Tr)|0,P=P+Math.imul(ee,Rr)|0,E=E+Math.imul(ee,Pr)|0,E=E+Math.imul(ce,Rr)|0,L=L+Math.imul(ce,Pr)|0,P=P+Math.imul(se,Or)|0,E=E+Math.imul(se,Dr)|0,E=E+Math.imul(pe,Or)|0,L=L+Math.imul(pe,Dr)|0;var WE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(WE>>>26)|0,WE&=67108863,P=Math.imul(nt,Ir),E=Math.imul(nt,Tr),E=E+Math.imul(Rt,Ir)|0,L=Math.imul(Rt,Tr),P=P+Math.imul(Le,Rr)|0,E=E+Math.imul(Le,Pr)|0,E=E+Math.imul(Ge,Rr)|0,L=L+Math.imul(Ge,Pr)|0,P=P+Math.imul(ee,Or)|0,E=E+Math.imul(ee,Dr)|0,E=E+Math.imul(ce,Or)|0,L=L+Math.imul(ce,Dr)|0;var qE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(qE>>>26)|0,qE&=67108863,P=Math.imul(nt,Rr),E=Math.imul(nt,Pr),E=E+Math.imul(Rt,Rr)|0,L=Math.imul(Rt,Pr),P=P+Math.imul(Le,Or)|0,E=E+Math.imul(Le,Dr)|0,E=E+Math.imul(Ge,Or)|0,L=L+Math.imul(Ge,Dr)|0;var zE=(B+P|0)+((E&8191)<<13)|0;B=(L+(E>>>13)|0)+(zE>>>26)|0,zE&=67108863,P=Math.imul(nt,Or),E=Math.imul(nt,Dr),E=E+Math.imul(Rt,Or)|0,L=Math.imul(Rt,Dr);var GE=(B+P|0)+((E&8191)<<13)|0;return B=(L+(E>>>13)|0)+(GE>>>26)|0,GE&=67108863,U[0]=Yl,U[1]=Xl,U[2]=Ql,U[3]=Zl,U[4]=eu,U[5]=DE,U[6]=kE,U[7]=ME,U[8]=UE,U[9]=$E,U[10]=LE,U[11]=FE,U[12]=BE,U[13]=jE,U[14]=HE,U[15]=WE,U[16]=qE,U[17]=zE,U[18]=GE,B!==0&&(U[19]=B,w.length++),w};Math.imul||(C=v);function S(N,p,y){y.negative=p.negative^N.negative,y.length=N.length+p.length;for(var w=0,x=0,T=0;T<y.length-1;T++){var U=x;x=0;for(var B=w&67108863,P=Math.min(T,p.length-1),E=Math.max(0,T-N.length+1);E<=P;E++){var L=T-E,G=N.words[L]|0,R=p.words[E]|0,V=G*R,K=V&67108863;U=U+(V/67108864|0)|0,K=K+B|0,B=K&67108863,U=U+(K>>>26)|0,x+=U>>>26,U&=67108863}y.words[T]=B,w=U,U=x}return w!==0?y.words[T]=w:y.length--,y._strip()}function D(N,p,y){return S(N,p,y)}s.prototype.mulTo=function(p,y){var w,x=this.length+p.length;return this.length===10&&p.length===10?w=C(this,p,y):x<63?w=v(this,p,y):x<1024?w=S(this,p,y):w=D(this,p,y),w},s.prototype.mul=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),this.mulTo(p,y)},s.prototype.mulf=function(p){var y=new s(null);return y.words=new Array(this.length+p.length),D(this,p,y)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var y=p<0;y&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var w=0,x=0;x<this.length;x++){var T=(this.words[x]|0)*p,U=(T&67108863)+(w&67108863);w>>=26,w+=T/67108864|0,w+=U>>>26,this.words[x]=U&67108863}return w!==0&&(this.words[x]=w,this.length++),this.length=p===0?1:this.length,y?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var y=b(p);if(y.length===0)return new s(1);for(var w=this,x=0;x<y.length&&y[x]===0;x++,w=w.sqr());if(++x<y.length)for(var T=w.sqr();x<y.length;x++,T=T.sqr())y[x]!==0&&(w=w.mul(T));return w},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26,x=67108863>>>26-y<<26-y,T;if(y!==0){var U=0;for(T=0;T<this.length;T++){var B=this.words[T]&x,P=(this.words[T]|0)-B<<y;this.words[T]=P|U,U=B>>>26-y}U&&(this.words[T]=U,this.length++)}if(w!==0){for(T=this.length-1;T>=0;T--)this.words[T+w]=this.words[T];for(T=0;T<w;T++)this.words[T]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,y,w){n(typeof p=="number"&&p>=0);var x;y?x=(y-y%26)/26:x=0;var T=p%26,U=Math.min((p-T)/26,this.length),B=67108863^67108863>>>T<<T,P=w;if(x-=U,x=Math.max(0,x),P){for(var E=0;E<U;E++)P.words[E]=this.words[E];P.length=U}if(U!==0)if(this.length>U)for(this.length-=U,E=0;E<this.length;E++)this.words[E]=this.words[E+U];else this.words[0]=0,this.length=1;var L=0;for(E=this.length-1;E>=0&&(L!==0||E>=x);E--){var G=this.words[E]|0;this.words[E]=L<<26-T|G>>>T,L=G&B}return P&&L!==0&&(P.words[P.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,y,w){return n(this.negative===0),this.iushrn(p,y,w)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26,x=1<<y;if(this.length<=w)return!1;var T=this.words[w];return!!(T&x)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var y=p%26,w=(p-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(y!==0&&w++,this.length=Math.min(w,this.length),y!==0){var x=67108863^67108863>>>y<<y;this.words[this.length-1]&=x}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,y,w){var x=p.length+w,T;this._expand(x);var U,B=0;for(T=0;T<p.length;T++){U=(this.words[T+w]|0)+B;var P=(p.words[T]|0)*y;U-=P&67108863,B=(U>>26)-(P/67108864|0),this.words[T+w]=U&67108863}for(;T<this.length-w;T++)U=(this.words[T+w]|0)+B,B=U>>26,this.words[T+w]=U&67108863;if(B===0)return this._strip();for(n(B===-1),B=0,T=0;T<this.length;T++)U=-(this.words[T]|0)+B,B=U>>26,this.words[T]=U&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,y){var w=this.length-p.length,x=this.clone(),T=p,U=T.words[T.length-1]|0,B=this._countBits(U);w=26-B,w!==0&&(T=T.ushln(w),x.iushln(w),U=T.words[T.length-1]|0);var P=x.length-T.length,E;if(y!=="mod"){E=new s(null),E.length=P+1,E.words=new Array(E.length);for(var L=0;L<E.length;L++)E.words[L]=0}var G=x.clone()._ishlnsubmul(T,1,P);G.negative===0&&(x=G,E&&(E.words[P]=1));for(var R=P-1;R>=0;R--){var V=(x.words[T.length+R]|0)*67108864+(x.words[T.length+R-1]|0);for(V=Math.min(V/U|0,67108863),x._ishlnsubmul(T,V,R);x.negative!==0;)V--,x.negative=0,x._ishlnsubmul(T,1,R),x.isZero()||(x.negative^=1);E&&(E.words[R]=V)}return E&&E._strip(),x._strip(),y!=="div"&&w!==0&&x.iushrn(w),{div:E||null,mod:x}},s.prototype.divmod=function(p,y,w){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var x,T,U;return this.negative!==0&&p.negative===0?(U=this.neg().divmod(p,y),y!=="mod"&&(x=U.div.neg()),y!=="div"&&(T=U.mod.neg(),w&&T.negative!==0&&T.iadd(p)),{div:x,mod:T}):this.negative===0&&p.negative!==0?(U=this.divmod(p.neg(),y),y!=="mod"&&(x=U.div.neg()),{div:x,mod:U.mod}):(this.negative&p.negative)!==0?(U=this.neg().divmod(p.neg(),y),y!=="div"&&(T=U.mod.neg(),w&&T.negative!==0&&T.isub(p)),{div:U.div,mod:T}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?y==="div"?{div:this.divn(p.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,y)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var y=this.divmod(p);if(y.mod.isZero())return y.div;var w=y.div.negative!==0?y.mod.isub(p):y.mod,x=p.ushrn(1),T=p.andln(1),U=w.cmp(x);return U<0||T===1&&U===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var w=(1<<26)%p,x=0,T=this.length-1;T>=0;T--)x=(w*x+(this.words[T]|0))%p;return y?-x:x},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var y=p<0;y&&(p=-p),n(p<=67108863);for(var w=0,x=this.length-1;x>=0;x--){var T=(this.words[x]|0)+w*67108864;this.words[x]=T/p|0,w=T%p}return this._strip(),y?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var y=this,w=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var x=new s(1),T=new s(0),U=new s(0),B=new s(1),P=0;y.isEven()&&w.isEven();)y.iushrn(1),w.iushrn(1),++P;for(var E=w.clone(),L=y.clone();!y.isZero();){for(var G=0,R=1;(y.words[0]&R)===0&&G<26;++G,R<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(x.isOdd()||T.isOdd())&&(x.iadd(E),T.isub(L)),x.iushrn(1),T.iushrn(1);for(var V=0,K=1;(w.words[0]&K)===0&&V<26;++V,K<<=1);if(V>0)for(w.iushrn(V);V-- >0;)(U.isOdd()||B.isOdd())&&(U.iadd(E),B.isub(L)),U.iushrn(1),B.iushrn(1);y.cmp(w)>=0?(y.isub(w),x.isub(U),T.isub(B)):(w.isub(y),U.isub(x),B.isub(T))}return{a:U,b:B,gcd:w.iushln(P)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var y=this,w=p.clone();y.negative!==0?y=y.umod(p):y=y.clone();for(var x=new s(1),T=new s(0),U=w.clone();y.cmpn(1)>0&&w.cmpn(1)>0;){for(var B=0,P=1;(y.words[0]&P)===0&&B<26;++B,P<<=1);if(B>0)for(y.iushrn(B);B-- >0;)x.isOdd()&&x.iadd(U),x.iushrn(1);for(var E=0,L=1;(w.words[0]&L)===0&&E<26;++E,L<<=1);if(E>0)for(w.iushrn(E);E-- >0;)T.isOdd()&&T.iadd(U),T.iushrn(1);y.cmp(w)>=0?(y.isub(w),x.isub(T)):(w.isub(y),T.isub(x))}var G;return y.cmpn(1)===0?G=x:G=T,G.cmpn(0)<0&&G.iadd(p),G},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var y=this.clone(),w=p.clone();y.negative=0,w.negative=0;for(var x=0;y.isEven()&&w.isEven();x++)y.iushrn(1),w.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;w.isEven();)w.iushrn(1);var T=y.cmp(w);if(T<0){var U=y;y=w,w=U}else if(T===0||w.cmpn(1)===0)break;y.isub(w)}while(!0);return w.iushln(x)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var y=p%26,w=(p-y)/26,x=1<<y;if(this.length<=w)return this._expand(w+1),this.words[w]|=x,this;for(var T=x,U=w;T!==0&&U<this.length;U++){var B=this.words[U]|0;B+=T,T=B>>>26,B&=67108863,this.words[U]=B}return T!==0&&(this.words[U]=T,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var y=p<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var w;if(this.length>1)w=1;else{y&&(p=-p),n(p<=67108863,"Number is too big");var x=this.words[0]|0;w=x===p?0:x<p?-1:1}return this.negative!==0?-w|0:w},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var y=this.ucmp(p);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var y=0,w=this.length-1;w>=0;w--){var x=this.words[w]|0,T=p.words[w]|0;if(x!==T){x<T?y=-1:x>T&&(y=1);break}}return y},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new $(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var O={k256:null,p224:null,p192:null,p25519:null};function k(N,p){this.name=N,this.p=new s(p,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},k.prototype.ireduce=function(p){var y=p,w;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),w=y.bitLength();while(w>this.n);var x=w<this.n?-1:y.ucmp(this.p);return x===0?(y.words[0]=0,y.length=1):x>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},k.prototype.split=function(p,y){p.iushrn(this.n,0,y)},k.prototype.imulK=function(p){return p.imul(this.k)};function F(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,k),F.prototype.split=function(p,y){for(var w=4194303,x=Math.min(p.length,9),T=0;T<x;T++)y.words[T]=p.words[T];if(y.length=x,p.length<=9){p.words[0]=0,p.length=1;return}var U=p.words[9];for(y.words[y.length++]=U&w,T=10;T<p.length;T++){var B=p.words[T]|0;p.words[T-10]=(B&w)<<4|U>>>22,U=B}U>>>=22,p.words[T-10]=U,U===0&&p.length>10?p.length-=10:p.length-=9},F.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var y=0,w=0;w<p.length;w++){var x=p.words[w]|0;y+=x*977,p.words[w]=y&67108863,y=x*64+(y/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function A(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(A,k);function _(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(_,k);function M(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(M,k),M.prototype.imulK=function(p){for(var y=0,w=0;w<p.length;w++){var x=(p.words[w]|0)*19+y,T=x&67108863;x>>>=26,p.words[w]=T,y=x}return y!==0&&(p.words[p.length++]=y),p},s._prime=function(p){if(O[p])return O[p];var y;if(p==="k256")y=new F;else if(p==="p224")y=new A;else if(p==="p192")y=new _;else if(p==="p25519")y=new M;else throw new Error("Unknown prime "+p);return O[p]=y,y};function $(N){if(typeof N=="string"){var p=s._prime(N);this.m=p.p,this.prime=p}else n(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,y){n((p.negative|y.negative)===0,"red works only with positives"),n(p.red&&p.red===y.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,y){this._verify2(p,y);var w=p.add(y);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},$.prototype.iadd=function(p,y){this._verify2(p,y);var w=p.iadd(y);return w.cmp(this.m)>=0&&w.isub(this.m),w},$.prototype.sub=function(p,y){this._verify2(p,y);var w=p.sub(y);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},$.prototype.isub=function(p,y){this._verify2(p,y);var w=p.isub(y);return w.cmpn(0)<0&&w.iadd(this.m),w},$.prototype.shl=function(p,y){return this._verify1(p),this.imod(p.ushln(y))},$.prototype.imul=function(p,y){return this._verify2(p,y),this.imod(p.imul(y))},$.prototype.mul=function(p,y){return this._verify2(p,y),this.imod(p.mul(y))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(p,w)}for(var x=this.m.subn(1),T=0;!x.isZero()&&x.andln(1)===0;)T++,x.iushrn(1);n(!x.isZero());var U=new s(1).toRed(this),B=U.redNeg(),P=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,P).cmp(B)!==0;)E.redIAdd(B);for(var L=this.pow(E,x),G=this.pow(p,x.addn(1).iushrn(1)),R=this.pow(p,x),V=T;R.cmp(U)!==0;){for(var K=R,X=0;K.cmp(U)!==0;X++)K=K.redSqr();n(X<V);var Q=this.pow(L,new s(1).iushln(V-X-1));G=G.redMul(Q),L=Q.redSqr(),R=R.redMul(L),V=X}return G},$.prototype.invm=function(p){var y=p._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},$.prototype.pow=function(p,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return p.clone();var w=4,x=new Array(1<<w);x[0]=new s(1).toRed(this),x[1]=p;for(var T=2;T<x.length;T++)x[T]=this.mul(x[T-1],p);var U=x[0],B=0,P=0,E=y.bitLength()%26;for(E===0&&(E=26),T=y.length-1;T>=0;T--){for(var L=y.words[T],G=E-1;G>=0;G--){var R=L>>G&1;if(U!==x[0]&&(U=this.sqr(U)),R===0&&B===0){P=0;continue}B<<=1,B|=R,P++,!(P!==w&&(T!==0||G!==0))&&(U=this.mul(U,x[B]),P=0,B=0)}E=26}return U},$.prototype.convertTo=function(p){var y=p.umod(this.m);return y===p?y.clone():y},$.prototype.convertFrom=function(p){var y=p.clone();return y.red=null,y},s.mont=function(p){return new I(p)};function I(N){$.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,$),I.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},I.prototype.convertFrom=function(p){var y=this.imod(p.mul(this.rinv));return y.red=null,y},I.prototype.imul=function(p,y){if(p.isZero()||y.isZero())return p.words[0]=0,p.length=1,p;var w=p.imul(y),x=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=w.isub(x).iushrn(this.shift),U=T;return T.cmp(this.m)>=0?U=T.isub(this.m):T.cmpn(0)<0&&(U=T.iadd(this.m)),U._forceRed(this)},I.prototype.mul=function(p,y){if(p.isZero()||y.isZero())return new s(0)._forceRed(this);var w=p.mul(y),x=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=w.isub(x).iushrn(this.shift),U=T;return T.cmp(this.m)>=0?U=T.isub(this.m):T.cmpn(0)<0&&(U=T.iadd(this.m)),U._forceRed(this)},I.prototype.invm=function(p){var y=this.imod(p._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,she)})(rw)),rw.exports}var ahe=ohe();const te=Ts(ahe),che="logger/5.8.0";let D6=!1,k6=!1;const nw={debug:1,default:2,info:2,warning:3,error:4,off:5};let M6=nw.default,hx=null;function lhe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const U6=lhe();var pC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(pC||(pC={}));var ma;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ma||(ma={}));const $6="0123456789abcdef";let re=class wn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();nw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(M6>nw[n])&&console.log.apply(console,r)}debug(...e){this._log(wn.levels.DEBUG,e)}info(...e){this._log(wn.levels.INFO,e)}warn(...e){this._log(wn.levels.WARNING,e)}makeError(e,r,n){if(k6)return this.makeError("censored error",r,{});r||(r=wn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=$6[l[f]>>4],u+=$6[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ma.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ma.CALL_EXCEPTION:case ma.INSUFFICIENT_FUNDS:case ma.MISSING_NEW:case ma.NONCE_EXPIRED:case ma.REPLACEMENT_UNDERPRICED:case ma.TRANSACTION_REPLACED:case ma.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,wn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){U6&&this.throwError("platform missing String.prototype.normalize",wn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:U6})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,wn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,wn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,wn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",wn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",wn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hx||(hx=new wn(che)),hx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),D6){if(!e)return;this.globalLogger().throwError("error censorship permanent",wn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}k6=!!e,D6=!!r}static setLogLevel(e){const r=nw[e.toLowerCase()];if(r==null){wn.globalLogger().warn("invalid log level - "+e);return}M6=r}static from(e){return new wn(e)}};re.errors=ma;re.levels=pC;const uhe="bytes/5.8.0",Yr=new re(uhe);function XU(t){return!!t.toHexString}function a0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return a0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Y_(t){return pt(t)&&!(t.length%2)||G0(t)}function L6(t){return typeof t=="number"&&t==t&&t%1===0}function G0(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!L6(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!L6(r)||r<0||r>=256)return!1}return!0}function de(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),a0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),XU(t)&&(t=t.toHexString()),pt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Yr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return a0(new Uint8Array(n))}return G0(t)?a0(new Uint8Array(t)):Yr.throwArgumentError("invalid arrayify value","value",t)}function Gt(t){const e=t.map(i=>de(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),a0(n)}function Dl(t){let e=de(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function iw(t,e){t=de(t),t.length>e&&Yr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),a0(r)}function pt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const px="0123456789abcdef";function ye(t,e){if(e||(e={}),typeof t=="number"){Yr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=px[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),XU(t))return t.toHexString();if(pt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(G0(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=px[(i&240)>>4]+px[i&15]}return r}return Yr.throwArgumentError("invalid hexlify value","value",t)}function Md(t){if(typeof t!="string")t=ye(t);else if(!pt(t)||t.length%2)return null;return(t.length-2)/2}function gn(t,e,r){return typeof t!="string"?t=ye(t):(!pt(t)||t.length%2)&&Yr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ji(t){let e="0x";return t.forEach(r=>{e+=ye(r).substring(2)}),e}function kS(t){const e=fhe(ye(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function fhe(t){typeof t!="string"&&(t=ye(t)),pt(t)||Yr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function sr(t,e){for(typeof t!="string"?t=ye(t):pt(t)||Yr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Yr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function K0(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Y_(t)){let r=de(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64))):r.length===65?(e.r=ye(r.slice(0,32)),e.s=ye(r.slice(32,64)),e.v=r[64]):Yr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Yr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ye(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=iw(de(e._vs),32);e._vs=ye(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Yr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ye(i);e.s==null?e.s=o:e.s!==o&&Yr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Yr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Yr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!pt(e.r)?Yr.throwArgumentError("signature missing or invalid r","signature",t):e.r=sr(e.r,32),e.s==null||!pt(e.s)?Yr.throwArgumentError("signature missing or invalid s","signature",t):e.s=sr(e.s,32);const r=de(e.s);r[0]>=128&&Yr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ye(r);e._vs&&(pt(e._vs)||Yr.throwArgumentError("signature invalid _vs","signature",t),e._vs=sr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Yr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function F6(t){return t=K0(t),ye(Gt([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const QU="bignumber/5.8.0";var U1=te.BN;const fl=new re(QU),gx={},B6=9007199254740991;function dhe(t){return t!=null&&(ve.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||pt(t)||typeof t=="bigint"||G0(t))}let j6=!1,ve=class oa{constructor(e,r){e!==gx&&fl.throwError("cannot call constructor directly; use BigNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return cs(mt(this).fromTwos(e))}toTwos(e){return cs(mt(this).toTwos(e))}abs(){return this._hex[0]==="-"?oa.from(this._hex.substring(1)):this}add(e){return cs(mt(this).add(mt(e)))}sub(e){return cs(mt(this).sub(mt(e)))}div(e){return oa.from(e).isZero()&&lo("division-by-zero","div"),cs(mt(this).div(mt(e)))}mul(e){return cs(mt(this).mul(mt(e)))}mod(e){const r=mt(e);return r.isNeg()&&lo("division-by-zero","mod"),cs(mt(this).umod(r))}pow(e){const r=mt(e);return r.isNeg()&&lo("negative-power","pow"),cs(mt(this).pow(r))}and(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","and"),cs(mt(this).and(r))}or(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","or"),cs(mt(this).or(r))}xor(e){const r=mt(e);return(this.isNegative()||r.isNeg())&&lo("unbound-bitwise-result","xor"),cs(mt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&lo("negative-width","mask"),cs(mt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&lo("negative-width","shl"),cs(mt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&lo("negative-width","shr"),cs(mt(this).shrn(e))}eq(e){return mt(this).eq(mt(e))}lt(e){return mt(this).lt(mt(e))}lte(e){return mt(this).lte(mt(e))}gt(e){return mt(this).gt(mt(e))}gte(e){return mt(this).gte(mt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return mt(this).isZero()}toNumber(){try{return mt(this).toNumber()}catch{lo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return fl.throwError("this platform does not support BigInt",re.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?j6||(j6=!0,fl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?fl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",re.errors.UNEXPECTED_ARGUMENT,{}):fl.throwError("BigNumber.toString does not accept parameters",re.errors.UNEXPECTED_ARGUMENT,{})),mt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof oa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new oa(gx,Dm(e)):e.match(/^-?[0-9]+$/)?new oa(gx,Dm(new U1(e))):fl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&lo("underflow","BigNumber.from",e),(e>=B6||e<=-B6)&&lo("overflow","BigNumber.from",e),oa.from(String(e));const r=e;if(typeof r=="bigint")return oa.from(r.toString());if(G0(r))return oa.from(ye(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return oa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(pt(n)||n[0]==="-"&&pt(n.substring(1))))return oa.from(n)}return fl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Dm(t){if(typeof t!="string")return Dm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&fl.throwArgumentError("invalid hex","value",t),t=Dm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function cs(t){return ve.from(Dm(t))}function mt(t){const e=ve.from(t).toHexString();return e[0]==="-"?new U1("-"+e.substring(3),16):new U1(e.substring(2),16)}function lo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),fl.throwError(t,re.errors.NUMERIC_FAULT,n)}function hhe(t){return new U1(t,36).toString(16)}const Yi=new re(QU),Eg={},ZU=ve.from(0),e$=ve.from(-1);function t$(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Yi.throwError(t,re.errors.NUMERIC_FAULT,i)}let vg="0";for(;vg.length<256;)vg+=vg;function MS(t){if(typeof t!="number")try{t=ve.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+vg.substring(0,t):Yi.throwArgumentError("invalid decimal size","decimals",t)}function sw(t,e){e==null&&(e=0);const r=MS(e);t=ve.from(t);const n=t.lt(ZU);n&&(t=t.mul(e$));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function pc(t,e){e==null&&(e=0);const r=MS(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Yi.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Yi.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Yi.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&t$("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=ve.from(s),c=ve.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(e$)),l}class c0{constructor(e,r,n,i){e!==Eg&&Yi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=MS(i),Object.freeze(this)}static from(e){if(e instanceof c0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Yi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Yi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Yi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Yi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new c0(Eg,r,n,i)}}class oi{constructor(e,r,n,i){e!==Eg&&Yi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",re.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Yi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=pc(this._value,this.format.decimals),n=pc(e._value,e.format.decimals);return oi.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=pc(this._value,this.format.decimals),n=pc(e._value,e.format.decimals);return oi.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=pc(this._value,this.format.decimals),n=pc(e._value,e.format.decimals);return oi.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=pc(this._value,this.format.decimals),n=pc(e._value,e.format.decimals);return oi.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(H6.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=oi.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(H6.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Yi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=oi.from("1"+vg.substring(0,e),this.format),i=phe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Yi.throwArgumentError("invalid byte width","width",e);const r=ve.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return sr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return oi.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!dhe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),oi.fromString(sw(e,r),c0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=c0.from(r),i=pc(e,n.decimals);!n.signed&&i.lt(ZU)&&t$("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=sr(s,n.width/8));const o=sw(i,n.decimals);return new oi(Eg,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=c0.from(r);if(de(e).length>n.width/8)throw new Error("overflow");let i=ve.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=sw(i,n.decimals);return new oi(Eg,s,o,n)}static from(e,r){if(typeof e=="string")return oi.fromString(e,r);if(G0(e))return oi.fromBytes(e,r);try{return oi.fromValue(e,0,r)}catch(n){if(n.code!==re.errors.INVALID_ARGUMENT)throw n}return Yi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const H6=oi.from(1),phe=oi.from("0.5"),ghe="properties/5.8.0";var mhe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const $1=new re(ghe);function ue(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Cs(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function rn(t){return mhe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function r$(t,e){(!t||typeof t!="object")&&$1.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||$1.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Bn(t){const e={};for(const r in t)e[r]=t[r];return e}const yhe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function n$(t){if(t==null||yhe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!n$(n))return!1}return!0}return $1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function bhe(t){if(n$(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>jl(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ue(e,r,jl(n))}return e}return $1.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function jl(t){return bhe(t)}let Zs=class{constructor(e){for(const r in e)this[r]=jl(e[r])}};const Sy="abi/5.8.0",Ct=new re(Sy),Ud={};let W6={calldata:!0,memory:!0,storage:!0},whe={calldata:!0,memory:!0};function wb(t,e){if(t==="bytes"||t==="string"){if(W6[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&whe[e])return!0;return(W6[e]||e==="payable")&&Ct.throwArgumentError("invalid modifier","name",e),!1}function _he(t,e){let r=t;function n(a){Ct.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Bh(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),wb(o.type,o.name)&&(o.name=""),o.type=Bh(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),wb(o.type,o.name)&&(o.name=""),o.type=Bh(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Bh(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):wb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Ct.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):wb(o.type,o.name)&&(o.name=""),s.type=Bh(s.type),s}function ow(t,e){for(let r in e)ue(t,r,e[r])}const Bt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ehe=new RegExp(/^(.*)\[([0-9]*)\]$/);let Mc=class bu{constructor(e,r){e!==Ud&&Ct.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ow(this,r);let n=this.type.match(Ehe);n?ow(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:bu.fromObject({type:n[1],components:this.components}),baseType:"array"}):ow(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Bt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Bt.full?", ":",")+")"):r+=this.type,e!==Bt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Bt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?bu.fromString(e,r):bu.fromObject(e)}static fromObject(e){return bu.isParamType(e)?e:new bu(Ud,{name:e.name||null,type:Bh(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(bu.fromObject):null})}static fromString(e,r){function n(i){return bu.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(_he(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function km(t,e){return xhe(t).map(r=>Mc.fromString(r,e))}let X_=class Gp{constructor(e,r){e!==Ud&&Ct.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ow(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Gp.isFragment(e)?e:typeof e=="string"?Gp.fromString(e):Gp.fromObject(e)}static fromObject(e){if(Gp.isFragment(e))return e;switch(e.type){case"function":return F1.fromObject(e);case"event":return gC.fromObject(e);case"constructor":return L1.fromObject(e);case"error":return z6.fromObject(e);case"fallback":case"receive":return null}return Ct.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?gC.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?F1.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?L1.fromString(e.trim()):e.split(" ")[0]==="error"?z6.fromString(e.substring(5).trim()):Ct.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},gC=class Uh extends X_{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Uh.fromString(e):Uh.fromObject(e)}static fromObject(e){if(Uh.isEventFragment(e))return e;e.type!=="event"&&Ct.throwArgumentError("invalid event object","value",e);const r={name:Mm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Mc.fromObject):[],type:"event"};return new Uh(Ud,r)}static fromString(e){let r=e.match(Um);r||Ct.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ct.warn("unknown modifier: "+i)}}),Uh.fromObject({name:r[1].trim(),anonymous:n,inputs:km(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function i$(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ct.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ct.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function s$(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function o$(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ct.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ct.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ct.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ct.throwArgumentError("unable to determine stateMutability","value",t),e}let L1=class $h extends X_{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Bt.sighash&&Ct.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?$h.fromString(e):$h.fromObject(e)}static fromObject(e){if($h.isConstructorFragment(e))return e;e.type!=="constructor"&&Ct.throwArgumentError("invalid constructor object","value",e);let r=o$(e);r.constant&&Ct.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Mc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new $h(Ud,n)}static fromString(e){let r={type:"constructor"};e=i$(e,r);let n=e.match(Um);return(!n||n[1].trim()!=="constructor")&&Ct.throwArgumentError("invalid constructor string","value",e),r.inputs=km(n[2].trim(),!1),s$(n[3].trim(),r),$h.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},F1=class Lh extends L1{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",e!==Bt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?Lh.fromString(e):Lh.fromObject(e)}static fromObject(e){if(Lh.isFunctionFragment(e))return e;e.type!=="function"&&Ct.throwArgumentError("invalid function object","value",e);let r=o$(e);const n={type:e.type,name:Mm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Mc.fromObject):[],outputs:e.outputs?e.outputs.map(Mc.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new Lh(Ud,n)}static fromString(e){let r={type:"function"};e=i$(e,r);let n=e.split(" returns ");n.length>2&&Ct.throwArgumentError("invalid function string","value",e);let i=n[0].match(Um);if(i||Ct.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Mm(r.name),r.inputs=km(i[2],!1),s$(i[3].trim(),r),n.length>1){let s=n[1].match(Um);(s[1].trim()!=""||s[3].trim()!="")&&Ct.throwArgumentError("unexpected tokens","value",e),r.outputs=km(s[2],!1)}else r.outputs=[];return Lh.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function q6(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ct.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let z6=class Fh extends X_{format(e){if(e||(e=Bt.sighash),Bt[e]||Ct.throwArgumentError("invalid format type","format",e),e===Bt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Bt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Bt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Fh.fromString(e):Fh.fromObject(e)}static fromObject(e){if(Fh.isErrorFragment(e))return e;e.type!=="error"&&Ct.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Mm(e.name),inputs:e.inputs?e.inputs.map(Mc.fromObject):[]};return q6(new Fh(Ud,r))}static fromString(e){let r={type:"error"},n=e.match(Um);return n||Ct.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Mm(r.name),r.inputs=km(n[2],!1),q6(Fh.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function Bh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const vhe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Mm(t){return(!t||!t.match(vhe))&&Ct.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Um=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function xhe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ct.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const US=new re(Sy);function Ahe(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let zl=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){US.throwArgumentError(e,this.localName,r)}},mC=class{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ji(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Gt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=Gt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&US.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Gt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},Che=class yC{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):yC.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:US.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new yC(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}};var mx={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var G6;function Nhe(){return G6||(G6=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Da:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],v=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(R){return Object.prototype.toString.call(R)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(R){return typeof R=="object"&&R.buffer&&R.buffer.constructor===ArrayBuffer});for(var D=function(R,V,K){return function(X){return new E(R,V,R).update(X)[K]()}},O=function(R,V,K){return function(X,Q){return new E(R,V,Q).update(X)[K]()}},k=function(R,V,K){return function(X,Q,ie,le){return p["cshake"+R].update(X,Q,ie,le)[K]()}},F=function(R,V,K){return function(X,Q,ie,le){return p["kmac"+R].update(X,Q,ie,le)[K]()}},A=function(R,V,K,X){for(var Q=0;Q<C.length;++Q){var ie=C[Q];R[ie]=V(K,X,ie)}return R},_=function(R,V){var K=D(R,V,"hex");return K.create=function(){return new E(R,V,R)},K.update=function(X){return K.create().update(X)},A(K,D,R,V)},M=function(R,V){var K=O(R,V,"hex");return K.create=function(X){return new E(R,V,X)},K.update=function(X,Q){return K.create(Q).update(X)},A(K,O,R,V)},$=function(R,V){var K=S[R],X=k(R,V,"hex");return X.create=function(Q,ie,le){return!ie&&!le?p["shake"+R].create(Q):new E(R,V,Q).bytepad([ie,le],K)},X.update=function(Q,ie,le,H){return X.create(ie,le,H).update(Q)},A(X,k,R,V)},I=function(R,V){var K=S[R],X=F(R,V,"hex");return X.create=function(Q,ie,le){return new L(R,V,ie).bytepad(["KMAC",le],K).bytepad([Q],K)},X.update=function(Q,ie,le,H){return X.create(Q,le,H).update(ie)},A(X,F,R,V)},N=[{name:"keccak",padding:d,bits:b,createMethod:_},{name:"sha3",padding:h,bits:b,createMethod:_},{name:"shake",padding:u,bits:v,createMethod:M},{name:"cshake",padding:f,bits:v,createMethod:$},{name:"kmac",padding:f,bits:v,createMethod:I}],p={},y=[],w=0;w<N.length;++w)for(var x=N[w],T=x.bits,U=0;U<T.length;++U){var B=x.name+"_"+T[U];if(y.push(B),p[B]=x.createMethod(T[U],x.padding),x.name!=="sha3"){var P=x.name+T[U];y.push(P),p[P]=p[B]}}function E(R,V,K){this.blocks=[],this.s=[],this.padding=V,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(R<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}E.prototype.update=function(R){if(this.finalized)throw new Error(r);var V,K=typeof R;if(K!=="string"){if(K==="object"){if(R===null)throw new Error(e);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!c||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);V=!0}for(var X=this.blocks,Q=this.byteCount,ie=R.length,le=this.blockCount,H=0,Y=this.s,W,Z;H<ie;){if(this.reset)for(this.reset=!1,X[0]=this.block,W=1;W<le+1;++W)X[W]=0;if(V)for(W=this.start;H<ie&&W<Q;++H)X[W>>2]|=R[H]<<m[W++&3];else for(W=this.start;H<ie&&W<Q;++H)Z=R.charCodeAt(H),Z<128?X[W>>2]|=Z<<m[W++&3]:Z<2048?(X[W>>2]|=(192|Z>>6)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):Z<55296||Z>=57344?(X[W>>2]|=(224|Z>>12)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]):(Z=65536+((Z&1023)<<10|R.charCodeAt(++H)&1023),X[W>>2]|=(240|Z>>18)<<m[W++&3],X[W>>2]|=(128|Z>>12&63)<<m[W++&3],X[W>>2]|=(128|Z>>6&63)<<m[W++&3],X[W>>2]|=(128|Z&63)<<m[W++&3]);if(this.lastByteIndex=W,W>=Q){for(this.start=W-Q,this.block=X[le],W=0;W<le;++W)Y[W]^=X[W];G(Y),this.reset=!0}else this.start=W}return this},E.prototype.encode=function(R,V){var K=R&255,X=1,Q=[K];for(R=R>>8,K=R&255;K>0;)Q.unshift(K),R=R>>8,K=R&255,++X;return V?Q.push(X):Q.unshift(X),this.update(Q),Q.length},E.prototype.encodeString=function(R){var V,K=typeof R;if(K!=="string"){if(K==="object"){if(R===null)throw new Error(e);if(c&&R.constructor===ArrayBuffer)R=new Uint8Array(R);else if(!Array.isArray(R)&&(!c||!ArrayBuffer.isView(R)))throw new Error(e)}else throw new Error(e);V=!0}var X=0,Q=R.length;if(V)X=Q;else for(var ie=0;ie<R.length;++ie){var le=R.charCodeAt(ie);le<128?X+=1:le<2048?X+=2:le<55296||le>=57344?X+=3:(le=65536+((le&1023)<<10|R.charCodeAt(++ie)&1023),X+=4)}return X+=this.encode(X*8),this.update(R),X},E.prototype.bytepad=function(R,V){for(var K=this.encode(V),X=0;X<R.length;++X)K+=this.encodeString(R[X]);var Q=V-K%V,ie=[];return ie.length=Q,this.update(ie),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var R=this.blocks,V=this.lastByteIndex,K=this.blockCount,X=this.s;if(R[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(R[0]=R[K],V=1;V<K+1;++V)R[V]=0;for(R[K-1]|=2147483648,V=0;V<K;++V)X[V]^=R[V];G(X)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le="",H;ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)H=V[Q],le+=l[H>>4&15]+l[H&15]+l[H>>12&15]+l[H>>8&15]+l[H>>20&15]+l[H>>16&15]+l[H>>28&15]+l[H>>24&15];ie%R===0&&(G(V),Q=0)}return X&&(H=V[Q],le+=l[H>>4&15]+l[H&15],X>1&&(le+=l[H>>12&15]+l[H>>8&15]),X>2&&(le+=l[H>>20&15]+l[H>>16&15])),le},E.prototype.arrayBuffer=function(){this.finalize();var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=this.outputBits>>3,H;X?H=new ArrayBuffer(K+1<<2):H=new ArrayBuffer(le);for(var Y=new Uint32Array(H);ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)Y[ie]=V[Q];ie%R===0&&G(V)}return X&&(Y[Q]=V[Q],H=H.slice(0,le)),H},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var R=this.blockCount,V=this.s,K=this.outputBlocks,X=this.extraBytes,Q=0,ie=0,le=[],H,Y;ie<K;){for(Q=0;Q<R&&ie<K;++Q,++ie)H=ie<<2,Y=V[Q],le[H]=Y&255,le[H+1]=Y>>8&255,le[H+2]=Y>>16&255,le[H+3]=Y>>24&255;ie%R===0&&G(V)}return X&&(H=ie<<2,Y=V[Q],le[H]=Y&255,X>1&&(le[H+1]=Y>>8&255),X>2&&(le[H+2]=Y>>16&255)),le};function L(R,V,K){E.call(this,R,V,K)}L.prototype=new E,L.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var G=function(R){var V,K,X,Q,ie,le,H,Y,W,Z,fe,oe,ge,_e,q,z,ne,se,pe,me,ee,ce,ke,Le,Ge,Br,nt,Rt,Xo,lt,gt,sc,er,yr,Af,br,wr,Cf,_r,Er,Nf,vr,xr,Sf,Ar,Cr,If,Nr,Sr,Tf,Ir,Tr,Rf,Rr,Pr,Pf,Or,Dr,Yl,Xl,Ql,Zl,eu;for(X=0;X<48;X+=2)Q=R[0]^R[10]^R[20]^R[30]^R[40],ie=R[1]^R[11]^R[21]^R[31]^R[41],le=R[2]^R[12]^R[22]^R[32]^R[42],H=R[3]^R[13]^R[23]^R[33]^R[43],Y=R[4]^R[14]^R[24]^R[34]^R[44],W=R[5]^R[15]^R[25]^R[35]^R[45],Z=R[6]^R[16]^R[26]^R[36]^R[46],fe=R[7]^R[17]^R[27]^R[37]^R[47],oe=R[8]^R[18]^R[28]^R[38]^R[48],ge=R[9]^R[19]^R[29]^R[39]^R[49],V=oe^(le<<1|H>>>31),K=ge^(H<<1|le>>>31),R[0]^=V,R[1]^=K,R[10]^=V,R[11]^=K,R[20]^=V,R[21]^=K,R[30]^=V,R[31]^=K,R[40]^=V,R[41]^=K,V=Q^(Y<<1|W>>>31),K=ie^(W<<1|Y>>>31),R[2]^=V,R[3]^=K,R[12]^=V,R[13]^=K,R[22]^=V,R[23]^=K,R[32]^=V,R[33]^=K,R[42]^=V,R[43]^=K,V=le^(Z<<1|fe>>>31),K=H^(fe<<1|Z>>>31),R[4]^=V,R[5]^=K,R[14]^=V,R[15]^=K,R[24]^=V,R[25]^=K,R[34]^=V,R[35]^=K,R[44]^=V,R[45]^=K,V=Y^(oe<<1|ge>>>31),K=W^(ge<<1|oe>>>31),R[6]^=V,R[7]^=K,R[16]^=V,R[17]^=K,R[26]^=V,R[27]^=K,R[36]^=V,R[37]^=K,R[46]^=V,R[47]^=K,V=Z^(Q<<1|ie>>>31),K=fe^(ie<<1|Q>>>31),R[8]^=V,R[9]^=K,R[18]^=V,R[19]^=K,R[28]^=V,R[29]^=K,R[38]^=V,R[39]^=K,R[48]^=V,R[49]^=K,_e=R[0],q=R[1],Cr=R[11]<<4|R[10]>>>28,If=R[10]<<4|R[11]>>>28,Rt=R[20]<<3|R[21]>>>29,Xo=R[21]<<3|R[20]>>>29,Xl=R[31]<<9|R[30]>>>23,Ql=R[30]<<9|R[31]>>>23,vr=R[40]<<18|R[41]>>>14,xr=R[41]<<18|R[40]>>>14,yr=R[2]<<1|R[3]>>>31,Af=R[3]<<1|R[2]>>>31,z=R[13]<<12|R[12]>>>20,ne=R[12]<<12|R[13]>>>20,Nr=R[22]<<10|R[23]>>>22,Sr=R[23]<<10|R[22]>>>22,lt=R[33]<<13|R[32]>>>19,gt=R[32]<<13|R[33]>>>19,Zl=R[42]<<2|R[43]>>>30,eu=R[43]<<2|R[42]>>>30,Rr=R[5]<<30|R[4]>>>2,Pr=R[4]<<30|R[5]>>>2,br=R[14]<<6|R[15]>>>26,wr=R[15]<<6|R[14]>>>26,se=R[25]<<11|R[24]>>>21,pe=R[24]<<11|R[25]>>>21,Tf=R[34]<<15|R[35]>>>17,Ir=R[35]<<15|R[34]>>>17,sc=R[45]<<29|R[44]>>>3,er=R[44]<<29|R[45]>>>3,Le=R[6]<<28|R[7]>>>4,Ge=R[7]<<28|R[6]>>>4,Pf=R[17]<<23|R[16]>>>9,Or=R[16]<<23|R[17]>>>9,Cf=R[26]<<25|R[27]>>>7,_r=R[27]<<25|R[26]>>>7,me=R[36]<<21|R[37]>>>11,ee=R[37]<<21|R[36]>>>11,Tr=R[47]<<24|R[46]>>>8,Rf=R[46]<<24|R[47]>>>8,Sf=R[8]<<27|R[9]>>>5,Ar=R[9]<<27|R[8]>>>5,Br=R[18]<<20|R[19]>>>12,nt=R[19]<<20|R[18]>>>12,Dr=R[29]<<7|R[28]>>>25,Yl=R[28]<<7|R[29]>>>25,Er=R[38]<<8|R[39]>>>24,Nf=R[39]<<8|R[38]>>>24,ce=R[48]<<14|R[49]>>>18,ke=R[49]<<14|R[48]>>>18,R[0]=_e^~z&se,R[1]=q^~ne&pe,R[10]=Le^~Br&Rt,R[11]=Ge^~nt&Xo,R[20]=yr^~br&Cf,R[21]=Af^~wr&_r,R[30]=Sf^~Cr&Nr,R[31]=Ar^~If&Sr,R[40]=Rr^~Pf&Dr,R[41]=Pr^~Or&Yl,R[2]=z^~se&me,R[3]=ne^~pe&ee,R[12]=Br^~Rt&lt,R[13]=nt^~Xo&gt,R[22]=br^~Cf&Er,R[23]=wr^~_r&Nf,R[32]=Cr^~Nr&Tf,R[33]=If^~Sr&Ir,R[42]=Pf^~Dr&Xl,R[43]=Or^~Yl&Ql,R[4]=se^~me&ce,R[5]=pe^~ee&ke,R[14]=Rt^~lt&sc,R[15]=Xo^~gt&er,R[24]=Cf^~Er&vr,R[25]=_r^~Nf&xr,R[34]=Nr^~Tf&Tr,R[35]=Sr^~Ir&Rf,R[44]=Dr^~Xl&Zl,R[45]=Yl^~Ql&eu,R[6]=me^~ce&_e,R[7]=ee^~ke&q,R[16]=lt^~sc&Le,R[17]=gt^~er&Ge,R[26]=Er^~vr&yr,R[27]=Nf^~xr&Af,R[36]=Tf^~Tr&Sf,R[37]=Ir^~Rf&Ar,R[46]=Xl^~Zl&Rr,R[47]=Ql^~eu&Pr,R[8]=ce^~_e&z,R[9]=ke^~q&ne,R[18]=sc^~Le&Br,R[19]=er^~Ge&nt,R[28]=vr^~yr&br,R[29]=xr^~Af&wr,R[38]=Tr^~Sf&Cr,R[39]=Rf^~Ar&If,R[48]=Zl^~Rr&Pf,R[49]=eu^~Pr&Or,R[0]^=g[X],R[1]^=g[X+1]};if(a)t.exports=p;else for(w=0;w<y.length;++w)i[y[w]]=p[y[w]]})()})(mx)),mx.exports}var She=Nhe();const V0=Ts(She);function zt(t){return"0x"+V0.keccak_256(de(t))}const Ihe="rlp/5.8.0",bc=new re(Ihe);function K6(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function V6(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function a$(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(a$(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=K6(n.length);return i.unshift(247+i.length),i.concat(n)}Y_(t)||bc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(de(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=K6(e.length);return r.unshift(183+r.length),r.concat(e)}function R0(t){return ye(a$(t))}function J6(t,e,r,n){const i=[];for(;r<e+1+n;){const s=c$(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&bc.throwError("child data too short",re.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function c$(t,e){if(t.length===0&&bc.throwError("data too short",re.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&bc.throwError("data short segment too short",re.errors.BUFFER_OVERRUN,{});const n=V6(t,e+1,r);return e+1+r+n>t.length&&bc.throwError("data long segment too short",re.errors.BUFFER_OVERRUN,{}),J6(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&bc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{}),J6(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&bc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const n=V6(t,e+1,r);e+1+r+n>t.length&&bc.throwError("data array too short",re.errors.BUFFER_OVERRUN,{});const i=ye(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&bc.throwError("data too short",re.errors.BUFFER_OVERRUN,{});const n=ye(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ye(t[e])}}function $S(t){const e=de(t),r=c$(e,0);return r.consumed!==e.length&&bc.throwArgumentError("invalid rlp data","data",t),r.result}const The="address/5.8.0",Xh=new re(The);function Y6(t){pt(t,20)||Xh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=de(zt(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Rhe=9007199254740991;function Phe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const LS={};for(let t=0;t<10;t++)LS[String(t)]=String(t);for(let t=0;t<26;t++)LS[String.fromCharCode(65+t)]=String(10+t);const X6=Math.floor(Phe(Rhe));function Ohe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>LS[n]).join("");for(;e.length>=X6;){let n=e.substring(0,X6);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Yt(t){let e=null;if(typeof t!="string"&&Xh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Y6(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Xh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Ohe(t)&&Xh.throwArgumentError("bad icap checksum","address",t),e=hhe(t.substring(4));e.length<40;)e="0"+e;e=Y6("0x"+e)}else Xh.throwArgumentError("invalid address","address",t);return e}function l$(t){let e=null;try{e=Yt(t.from)}catch{Xh.throwArgumentError("missing from address","transaction",t)}const r=Dl(de(ve.from(t.nonce).toHexString()));return Yt(gn(zt(R0([e,r])),12))}let Dhe=class extends zl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Yt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Yt(sr(e.readValue().toHexString(),20))}},khe=class extends zl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const Qh=new re(Sy);function u$(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Qh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Qh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Qh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Qh.throwArgumentError("types/value length mismatch","tuple",r);let i=new mC(t.wordSize),s=new mC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function f$(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let Mhe=class extends zl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Qh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return u$(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Qh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new khe(this.coder));return e.coerce(this.name,f$(e,n))}},Uhe=class extends zl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},d$=class extends zl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},$he=class extends d${constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}},Lhe=class extends zl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}},Fhe=class extends zl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const Bhe="0x0000000000000000000000000000000000000000",h$=ve.from(-1),FS=ve.from(0),p$=ve.from(1),g$=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),jhe="0x0000000000000000000000000000000000000000000000000000000000000000";let Hhe=class extends zl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=g$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(p$).mul(h$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(FS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const Whe="strings/5.8.0",m$=new re(Whe);var Hl;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Hl||(Hl={}));var Ls;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ls||(Ls={}));function qhe(t,e,r,n,i){return m$.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function y$(t,e,r,n,i){if(t===Ls.BAD_PREFIX||t===Ls.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Ls.OVERRUN?r.length-e-1:0}function zhe(t,e,r,n,i){return t===Ls.OVERLONG?(n.push(i),0):(n.push(65533),y$(t,e,r))}const Ghe=Object.freeze({error:qhe,ignore:y$,replace:zhe});function b$(t,e){e==null&&(e=Ghe.error),t=de(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Ls.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ls.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ls.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Ls.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Ls.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ls.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ls.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Qr(t,e=Hl.current){e!=Hl.current&&(m$.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return de(r)}function Khe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function J0(t,e){return Khe(b$(t,e))}function Vhe(t,e=Hl.current){return b$(Qr(t,e))}let Jhe=class extends d${constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Qr(r))}decode(e){return J0(super.decode(e))}},_b=class extends zl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return u$(e,this.coders,r)}decode(e){return e.coerce(this.name,f$(e,this.coders))}};const Eb=new re(Sy),Yhe=new RegExp(/^bytes([0-9]*)$/),Xhe=new RegExp(/^(u?int)([0-9]*)$/);let Qhe=class{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Dhe(e.name);case"bool":return new Uhe(e.name);case"string":return new Jhe(e.name);case"bytes":return new $he(e.name);case"array":return new Mhe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new _b((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new Fhe(e.name)}let r=e.type.match(Xhe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Eb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new Hhe(n/8,r[1]==="int",e.name)}if(r=e.type.match(Yhe),r){let n=parseInt(r[1]);return(n===0||n>32)&&Eb.throwArgumentError("invalid bytes length","param",e),new Lhe(n,e.name)}return Eb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Che(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new mC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Mc.from(i)));return new _b(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Eb.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Mc.from(o))),i=new _b(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Mc.from(o)));return new _b(i,"_").decode(this._getReader(de(r),n))}};const Zhe=new Qhe;function Ha(t){return zt(Qr(t))}const w$="hash/5.8.0";function _$(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return de(e)}function E$(t){t=de(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function v$(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function e0e(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function t0e(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let O=1;O<n;O++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let O=0;O<f;O++)b=b<<1|u();let v=[],C=0,S=d;for(;;){let O=Math.floor(((b-C+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;O<s[M]?F=M:k=M}if(k==0)break;v.push(k);let A=C+Math.floor(S*s[k]/i),_=C+Math.floor(S*s[k+1]/i)-1;for(;((A^_)&h)==0;)b=b<<1&g|u(),A=A<<1&g,_=_<<1&g|1;for(;A&~_&m;)b=b&h|b<<1&g>>>1|u(),A=A<<1^h,_=(_^h)<<1|h|1;C=A,S=1+_-A}let D=n-4;return v.map(O=>{switch(O-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return O-1}})}function r0e(t){let e=0;return()=>t[e++]}function n0e(t){return r0e(t0e(t))}function i0e(t){return t&1?~t>>1:t>>1}function s0e(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Q6(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function o0e(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=i0e(e());return r}function B1(t,e){let r=Q6(t(),t),n=t(),i=Q6(n,t),s=s0e(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function a0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(l0e(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(u0e(r,t))}return e0e(v$(e))}function c0e(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function x$(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)o0e(t,r).forEach((s,o)=>n[o].push(s));return n}function l0e(t,e){let r=1+e(),n=e(),i=c0e(e),s=x$(i.length,1+t,e);return v$(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function u0e(t,e){let r=1+e();return x$(r,1+t,e).map(i=>[i[0],i.slice(1)])}function f0e(t){let e=B1(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=B1(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function d0e(){return n0e(_$("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Q_=d0e(),h0e=new Set(B1(Q_)),p0e=new Set(B1(Q_)),g0e=a0e(Q_),m0e=f0e(Q_),Z6=45,eO=95;function A$(t){return Vhe(t)}function y0e(t){return t.filter(e=>e!=65039)}function C$(t){for(let e of t.split(".")){let r=A$(e);try{for(let n=r.lastIndexOf(eO)-1;n>=0;n--)if(r[n]!==eO)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Z6&&r[3]===Z6)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function b0e(t){return C$(w0e(t,y0e))}function w0e(t,e){let r=A$(t).reverse(),n=[];for(;r.length;){let i=E0e(r);if(i){n.push(...e(i));continue}let s=r.pop();if(h0e.has(s)){n.push(s);continue}if(p0e.has(s))continue;let o=g0e[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return C$(_0e(String.fromCodePoint(...n)))}function _0e(t){return t.normalize("NFC")}function E0e(t,e){var r;let n=m0e,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const v0e=new re(w$),N$=new Uint8Array(32);N$.fill(0);function tO(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function S$(t){const e=Qr(b0e(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(tO(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(tO(e.slice(n))),r}function aw(t){typeof t!="string"&&v0e.throwArgumentError("invalid ENS name; not a string","name",t);let e=N$;const r=S$(t);for(;r.length;)e=zt(Gt([e,zt(r.pop())]));return ye(e)}function x0e(t){return ye(Gt(S$(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const A0e=`Ethereum Signed Message:
`;function I$(t){return typeof t=="string"&&(t=Qr(t)),zt(Gt([Qr(A0e),Qr(String(t.length)),t]))}var C0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qr=new re(w$),T$=new Uint8Array(32);T$.fill(0);const N0e=ve.from(-1),R$=ve.from(0),P$=ve.from(1),S0e=ve.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function I0e(t){const e=de(t),r=e.length%32;return r?Ji([e,T$.slice(r)]):ye(e)}const T0e=sr(P$.toHexString(),32),R0e=sr(R$.toHexString(),32),rO={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yx=["name","version","chainId","verifyingContract","salt"];function nO(t){return function(e){return typeof e!="string"&&qr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const P0e={name:nO("name"),version:nO("version"),chainId:function(t){try{return ve.from(t).toString()}catch{}return qr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Yt(t).toLowerCase()}catch{}return qr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=de(t);if(e.length!==32)throw new Error("bad length");return ye(e)}catch{}return qr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function bx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&qr.throwArgumentError("invalid numeric width","type",t);const i=S0e.mask(r?n-1:n),s=r?i.add(P$).mul(N0e):R$;return function(o){const a=ve.from(o);return(a.lt(s)||a.gt(i))&&qr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),sr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&qr.throwArgumentError("invalid bytes width","type",t),function(n){return de(n).length!==r&&qr.throwArgumentError(`invalid length for ${t}`,"value",n),I0e(n)}}}switch(t){case"address":return function(e){return sr(Yt(e),32)};case"bool":return function(e){return e?T0e:R0e};case"bytes":return function(e){return zt(e)};case"string":return function(e){return Ha(e)}}return null}function iO(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let $m=class aa{constructor(e){ue(this,"types",Object.freeze(jl(e))),ue(this,"_encoderCache",{}),ue(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&qr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!bx(u)&&(n[u]||qr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?qr.throwArgumentError("missing primary type","types",e):s.length>1&&qr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),ue(this,"primaryType",s[0]);function o(a,c){c[a]&&qr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=iO(a,e[a])+c.map(l=>iO(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=bx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(zt)),zt(Ji(c))}}const n=this.types[e];if(n){const i=Ha(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?zt(l):l});return o.unshift(i),Ji(o)}}return qr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||qr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return zt(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(bx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&qr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):qr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new aa(e)}static getPrimaryType(e){return aa.from(e).primaryType}static hashStruct(e,r,n){return aa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=rO[n];i||qr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>yx.indexOf(n.name)-yx.indexOf(i.name)),aa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ji(["0x1901",aa.hashDomain(e),aa.from(r).hash(n)])}static hash(e,r,n){return zt(aa.encode(e,r,n))}static resolveNames(e,r,n,i){return C0e(this,void 0,void 0,function*(){e=Bn(e);const s={};e.verifyingContract&&!pt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=aa.from(r);o.visit(n,(a,c)=>(a==="address"&&!pt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){aa.hashDomain(e);const i={},s=[];yx.forEach(c=>{const l=e[c];l!=null&&(i[c]=P0e[c](l),s.push({name:c,type:rO[c]}))});const o=aa.from(r),a=Bn(r);return a.EIP712Domain?qr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return ye(de(l));if(c.match(/^u?int/))return ve.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&qr.throwArgumentError("invalid string","value",l),l}return qr.throwArgumentError("unsupported type","type",c)})}}};const jr=new re(Sy);let O0e=class extends Zs{},D0e=class extends Zs{},k0e=class extends Zs{},bC=class extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}};const M0e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function sO(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let oO=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>X_.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Cs(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){jr.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){jr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",L1.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=Bt.full),e===Bt.sighash&&jr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Bt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return Zhe}static getAddress(e){return Yt(e)}static getSighash(e){return gn(Ha(e.format()),0,4)}static getEventTopic(e){return Ha(e.format())}getFunction(e){if(pt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];jr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching function","name",n):i.length>1&&jr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[F1.fromString(e).format()];return r||jr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(pt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];jr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching event","name",n):i.length>1&&jr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[gC.fromString(e).format()];return r||jr.throwArgumentError("no matching event","signature",e),r}getError(e){if(pt(e)){const n=Cs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}jr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?jr.throwArgumentError("no matching error","name",n):i.length>1&&jr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[F1.fromString(e).format()];return r||jr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Cs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Cs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&jr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=M0e[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return jr.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&jr.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Ha(o):s.type==="bytes"?zt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),sr(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&jr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?jr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&jr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Ha(c));else if(o.type==="bytes")n.push(zt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!pt(n[0],32)||n[0].toLowerCase()!==d)&&jr.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Mc.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Gt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new bC({_isIndexed:!0,hash:null});else if(o[h])l[h]=new bC({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw sO(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw sO(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new D0e({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new O0e({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new k0e({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const U0e="abstract-provider/5.8.0";var $0e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const L0e=new re(U0e);class F0e extends Zs{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Iy{constructor(){L0e.checkAbstract(new.target,Iy),ue(this,"_isProvider",!0)}getFeeData(){return $0e(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield rn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=ve.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const B0e="abstract-signer/5.8.0";var ta=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const mo=new re(B0e),j0e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],H0e=[re.errors.INSUFFICIENT_FUNDS,re.errors.NONCE_EXPIRED,re.errors.REPLACEMENT_UNDERPRICED];class Y0{constructor(){mo.checkAbstract(new.target,Y0),ue(this,"_isSigner",!0)}getBalance(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return ta(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield rn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return ta(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield rn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return ta(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return ta(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return ta(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)j0e.indexOf(n)===-1&&mo.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Bn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&mo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return ta(this,void 0,void 0,function*(){const r=yield rn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>ta(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&mo.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?mo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&mo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&mo.throwError("network does not support EIP-1559",re.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):mo.throwError("failed to get consistent fee data",re.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(H0e.indexOf(i.code)>=0)throw i;return mo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&mo.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield rn(r)})}_checkProvider(e){this.provider||mo.throwError("missing provider",re.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class BS extends Y0{constructor(e,r){super(),ue(this,"address",e),ue(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{mo.throwError(e,re.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new BS(this.address,e)}}var wx={},rr={},_x,aO;function Ty(){if(aO)return _x;aO=1,_x=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},_x}var vb={exports:{}},cO;function W0e(){return cO||(cO=1,typeof Object.create=="function"?vb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vb.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),vb.exports}var lO;function Hc(){if(lO)return rr;lO=1;var t=Ty(),e=W0e();rr.inherits=e;function r(I,N){return(I.charCodeAt(N)&64512)!==55296||N<0||N+1>=I.length?!1:(I.charCodeAt(N+1)&64512)===56320}function n(I,N){if(Array.isArray(I))return I.slice();if(!I)return[];var p=[];if(typeof I=="string")if(N){if(N==="hex")for(I=I.replace(/[^a-z0-9]+/ig,""),I.length%2!==0&&(I="0"+I),w=0;w<I.length;w+=2)p.push(parseInt(I[w]+I[w+1],16))}else for(var y=0,w=0;w<I.length;w++){var x=I.charCodeAt(w);x<128?p[y++]=x:x<2048?(p[y++]=x>>6|192,p[y++]=x&63|128):r(I,w)?(x=65536+((x&1023)<<10)+(I.charCodeAt(++w)&1023),p[y++]=x>>18|240,p[y++]=x>>12&63|128,p[y++]=x>>6&63|128,p[y++]=x&63|128):(p[y++]=x>>12|224,p[y++]=x>>6&63|128,p[y++]=x&63|128)}else for(w=0;w<I.length;w++)p[w]=I[w]|0;return p}rr.toArray=n;function i(I){for(var N="",p=0;p<I.length;p++)N+=a(I[p].toString(16));return N}rr.toHex=i;function s(I){var N=I>>>24|I>>>8&65280|I<<8&16711680|(I&255)<<24;return N>>>0}rr.htonl=s;function o(I,N){for(var p="",y=0;y<I.length;y++){var w=I[y];N==="little"&&(w=s(w)),p+=c(w.toString(16))}return p}rr.toHex32=o;function a(I){return I.length===1?"0"+I:I}rr.zero2=a;function c(I){return I.length===7?"0"+I:I.length===6?"00"+I:I.length===5?"000"+I:I.length===4?"0000"+I:I.length===3?"00000"+I:I.length===2?"000000"+I:I.length===1?"0000000"+I:I}rr.zero8=c;function l(I,N,p,y){var w=p-N;t(w%4===0);for(var x=new Array(w/4),T=0,U=N;T<x.length;T++,U+=4){var B;y==="big"?B=I[U]<<24|I[U+1]<<16|I[U+2]<<8|I[U+3]:B=I[U+3]<<24|I[U+2]<<16|I[U+1]<<8|I[U],x[T]=B>>>0}return x}rr.join32=l;function u(I,N){for(var p=new Array(I.length*4),y=0,w=0;y<I.length;y++,w+=4){var x=I[y];N==="big"?(p[w]=x>>>24,p[w+1]=x>>>16&255,p[w+2]=x>>>8&255,p[w+3]=x&255):(p[w+3]=x>>>24,p[w+2]=x>>>16&255,p[w+1]=x>>>8&255,p[w]=x&255)}return p}rr.split32=u;function f(I,N){return I>>>N|I<<32-N}rr.rotr32=f;function d(I,N){return I<<N|I>>>32-N}rr.rotl32=d;function h(I,N){return I+N>>>0}rr.sum32=h;function m(I,N,p){return I+N+p>>>0}rr.sum32_3=m;function g(I,N,p,y){return I+N+p+y>>>0}rr.sum32_4=g;function b(I,N,p,y,w){return I+N+p+y+w>>>0}rr.sum32_5=b;function v(I,N,p,y){var w=I[N],x=I[N+1],T=y+x>>>0,U=(T<y?1:0)+p+w;I[N]=U>>>0,I[N+1]=T}rr.sum64=v;function C(I,N,p,y){var w=N+y>>>0,x=(w<N?1:0)+I+p;return x>>>0}rr.sum64_hi=C;function S(I,N,p,y){var w=N+y;return w>>>0}rr.sum64_lo=S;function D(I,N,p,y,w,x,T,U){var B=0,P=N;P=P+y>>>0,B+=P<N?1:0,P=P+x>>>0,B+=P<x?1:0,P=P+U>>>0,B+=P<U?1:0;var E=I+p+w+T+B;return E>>>0}rr.sum64_4_hi=D;function O(I,N,p,y,w,x,T,U){var B=N+y+x+U;return B>>>0}rr.sum64_4_lo=O;function k(I,N,p,y,w,x,T,U,B,P){var E=0,L=N;L=L+y>>>0,E+=L<N?1:0,L=L+x>>>0,E+=L<x?1:0,L=L+U>>>0,E+=L<U?1:0,L=L+P>>>0,E+=L<P?1:0;var G=I+p+w+T+B+E;return G>>>0}rr.sum64_5_hi=k;function F(I,N,p,y,w,x,T,U,B,P){var E=N+y+x+U+P;return E>>>0}rr.sum64_5_lo=F;function A(I,N,p){var y=N<<32-p|I>>>p;return y>>>0}rr.rotr64_hi=A;function _(I,N,p){var y=I<<32-p|N>>>p;return y>>>0}rr.rotr64_lo=_;function M(I,N,p){return I>>>p}rr.shr64_hi=M;function $(I,N,p){var y=I<<32-p|N>>>p;return y>>>0}return rr.shr64_lo=$,rr}var Ex={},uO;function Ry(){if(uO)return Ex;uO=1;var t=Hc(),e=Ty();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Ex.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},Ex}var Hf={},dc={},fO;function O$(){if(fO)return dc;fO=1;var t=Hc(),e=t.rotr32;function r(u,f,d,h){if(u===0)return n(f,d,h);if(u===1||u===3)return s(f,d,h);if(u===2)return i(f,d,h)}dc.ft_1=r;function n(u,f,d){return u&f^~u&d}dc.ch32=n;function i(u,f,d){return u&f^u&d^f&d}dc.maj32=i;function s(u,f,d){return u^f^d}dc.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}dc.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}dc.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}dc.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return dc.g1_256=l,dc}var vx,dO;function q0e(){if(dO)return vx;dO=1;var t=Hc(),e=Ry(),r=O$(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),vx=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,d){for(var h=this.W,m=0;m<16;m++)h[m]=f[d+m];for(;m<h.length;m++)h[m]=n(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);var g=this.h[0],b=this.h[1],v=this.h[2],C=this.h[3],S=this.h[4];for(m=0;m<h.length;m++){var D=~~(m/20),O=s(n(g,5),o(D,b,v,C),S,h[m],c[D]);S=C,C=v,v=n(b,30),b=g,g=O}this.h[0]=i(this.h[0],g),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],v),this.h[3]=i(this.h[3],C),this.h[4]=i(this.h[4],S)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},vx}var xx,hO;function D$(){if(hO)return xx;hO=1;var t=Hc(),e=Ry(),r=O$(),n=Ty(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,d=r.g1_256,h=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(g,h),xx=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(v,C){for(var S=this.W,D=0;D<16;D++)S[D]=v[C+D];for(;D<S.length;D++)S[D]=s(d(S[D-2]),S[D-7],f(S[D-15]),S[D-16]);var O=this.h[0],k=this.h[1],F=this.h[2],A=this.h[3],_=this.h[4],M=this.h[5],$=this.h[6],I=this.h[7];for(n(this.k.length===S.length),D=0;D<S.length;D++){var N=o(I,u(_),a(_,M,$),this.k[D],S[D]),p=i(l(O),c(O,k,F));I=$,$=M,M=_,_=i(A,N),A=F,F=k,k=O,O=i(N,p)}this.h[0]=i(this.h[0],O),this.h[1]=i(this.h[1],k),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],A),this.h[4]=i(this.h[4],_),this.h[5]=i(this.h[5],M),this.h[6]=i(this.h[6],$),this.h[7]=i(this.h[7],I)},g.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},xx}var Ax,pO;function z0e(){if(pO)return Ax;pO=1;var t=Hc(),e=D$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Ax=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Ax}var Cx,gO;function k$(){if(gO)return Cx;gO=1;var t=Hc(),e=Ry(),r=Ty(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,d=t.sum64_5_hi,h=t.sum64_5_lo,m=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}t.inherits(b,m),Cx=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(p,y){for(var w=this.W,x=0;x<32;x++)w[x]=p[y+x];for(;x<w.length;x+=2){var T=$(w[x-4],w[x-3]),U=I(w[x-4],w[x-3]),B=w[x-14],P=w[x-13],E=_(w[x-30],w[x-29]),L=M(w[x-30],w[x-29]),G=w[x-32],R=w[x-31];w[x]=u(T,U,B,P,E,L,G,R),w[x+1]=f(T,U,B,P,E,L,G,R)}},b.prototype._update=function(p,y){this._prepareBlock(p,y);var w=this.W,x=this.h[0],T=this.h[1],U=this.h[2],B=this.h[3],P=this.h[4],E=this.h[5],L=this.h[6],G=this.h[7],R=this.h[8],V=this.h[9],K=this.h[10],X=this.h[11],Q=this.h[12],ie=this.h[13],le=this.h[14],H=this.h[15];r(this.k.length===w.length);for(var Y=0;Y<w.length;Y+=2){var W=le,Z=H,fe=F(R,V),oe=A(R,V),ge=v(R,V,K,X,Q),_e=C(R,V,K,X,Q,ie),q=this.k[Y],z=this.k[Y+1],ne=w[Y],se=w[Y+1],pe=d(W,Z,fe,oe,ge,_e,q,z,ne,se),me=h(W,Z,fe,oe,ge,_e,q,z,ne,se);W=O(x,T),Z=k(x,T),fe=S(x,T,U,B,P),oe=D(x,T,U,B,P,E);var ee=c(W,Z,fe,oe),ce=l(W,Z,fe,oe);le=Q,H=ie,Q=K,ie=X,K=R,X=V,R=c(L,G,pe,me),V=l(G,G,pe,me),L=P,G=E,P=U,E=B,U=x,B=T,x=c(pe,me,ee,ce),T=l(pe,me,ee,ce)}a(this.h,0,x,T),a(this.h,2,U,B),a(this.h,4,P,E),a(this.h,6,L,G),a(this.h,8,R,V),a(this.h,10,K,X),a(this.h,12,Q,ie),a(this.h,14,le,H)},b.prototype._digest=function(p){return p==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function v(N,p,y,w,x){var T=N&y^~N&x;return T<0&&(T+=4294967296),T}function C(N,p,y,w,x,T){var U=p&w^~p&T;return U<0&&(U+=4294967296),U}function S(N,p,y,w,x){var T=N&y^N&x^y&x;return T<0&&(T+=4294967296),T}function D(N,p,y,w,x,T){var U=p&w^p&T^w&T;return U<0&&(U+=4294967296),U}function O(N,p){var y=n(N,p,28),w=n(p,N,2),x=n(p,N,7),T=y^w^x;return T<0&&(T+=4294967296),T}function k(N,p){var y=i(N,p,28),w=i(p,N,2),x=i(p,N,7),T=y^w^x;return T<0&&(T+=4294967296),T}function F(N,p){var y=n(N,p,14),w=n(N,p,18),x=n(p,N,9),T=y^w^x;return T<0&&(T+=4294967296),T}function A(N,p){var y=i(N,p,14),w=i(N,p,18),x=i(p,N,9),T=y^w^x;return T<0&&(T+=4294967296),T}function _(N,p){var y=n(N,p,1),w=n(N,p,8),x=s(N,p,7),T=y^w^x;return T<0&&(T+=4294967296),T}function M(N,p){var y=i(N,p,1),w=i(N,p,8),x=o(N,p,7),T=y^w^x;return T<0&&(T+=4294967296),T}function $(N,p){var y=n(N,p,19),w=n(p,N,29),x=s(N,p,6),T=y^w^x;return T<0&&(T+=4294967296),T}function I(N,p){var y=i(N,p,19),w=i(p,N,29),x=o(N,p,6),T=y^w^x;return T<0&&(T+=4294967296),T}return Cx}var Nx,mO;function G0e(){if(mO)return Nx;mO=1;var t=Hc(),e=k$();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Nx=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Nx}var yO;function K0e(){return yO||(yO=1,Hf.sha1=q0e(),Hf.sha224=z0e(),Hf.sha256=D$(),Hf.sha384=G0e(),Hf.sha512=k$()),Hf}var Sx={},bO;function V0e(){if(bO)return Sx;bO=1;var t=Hc(),e=Ry(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),Sx.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(b,v){for(var C=this.h[0],S=this.h[1],D=this.h[2],O=this.h[3],k=this.h[4],F=C,A=S,_=D,M=O,$=k,I=0;I<80;I++){var N=n(r(s(C,c(I,S,D,O),b[f[I]+v],l(I)),h[I]),k);C=k,k=O,O=r(D,10),D=S,S=N,N=n(r(s(F,c(79-I,A,_,M),b[d[I]+v],u(I)),m[I]),$),F=$,$=M,M=r(_,10),_=A,A=N}N=i(this.h[1],D,M),this.h[1]=i(this.h[2],O,$),this.h[2]=i(this.h[3],k,F),this.h[3]=i(this.h[4],C,A),this.h[4]=i(this.h[0],S,_),this.h[0]=N},a.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(g,b,v,C){return g<=15?b^v^C:g<=31?b&v|~b&C:g<=47?(b|~v)^C:g<=63?b&C|v&~C:b^(v|~C)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Sx}var Ix,wO;function J0e(){if(wO)return Ix;wO=1;var t=Hc(),e=Ty();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return Ix=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Ix}var _O;function Y0e(){return _O||(_O=1,(function(t){var e=t;e.utils=Hc(),e.common=Ry(),e.sha=K0e(),e.ripemd=V0e(),e.hmac=J0e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(wx)),wx}var X0e=Y0e();const Ye=Ts(X0e);function X0(t,e,r){return r={path:e,exports:{},require:function(n,i){return Q0e(n,i??r.path)}},t(r,r.exports),r.exports}function Q0e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var jS=M$;function M$(t,e){if(!t)throw new Error(e||"Assertion failed")}M$.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Wa=X0(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),eo=X0(function(t,e){var r=e;r.assert=jS,r.toArray=Wa.toArray,r.zero2=Wa.zero2,r.toHex=Wa.toHex,r.encode=Wa.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var v;(g&1)===0?v=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?v=-g:v=g),u[1].push(v),2*f===b+1&&(f=1-f),2*d===v+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),j1=eo.getNAF,Z0e=eo.getJSF,H1=eo.assert;function gf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Yd=gf;gf.prototype.point=function(){throw new Error("Not implemented")};gf.prototype.validate=function(){throw new Error("Not implemented")};gf.prototype._fixedNafMul=function(e,r){H1(e.precomputed);var n=e._getDoubles(),i=j1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};gf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=j1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];H1(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};gf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=j1(n[m],o[m],this._bitLength),c[g]=j1(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],C=Z0e(n[m],n[g]);for(l=Math.max(C[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=C[0][f]|0,D=C[1][f]|0;c[m][f]=v[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var A=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(A=!1);if(!A)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var _=k[f];_!==0&&(_>0?d=a[f][_-1>>1]:_<0&&(d=a[f][-_-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Wo(t,e){this.curve=t,this.type=e,this.precomputed=null}gf.BasePoint=Wo;Wo.prototype.eq=function(){throw new Error("Not implemented")};Wo.prototype.validate=function(){return this.curve.validate(this)};gf.prototype.decodePoint=function(e,r){e=eo.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?H1(e[e.length-1]%2===0):e[0]===7&&H1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Wo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Wo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Wo.prototype.encode=function(e,r){return eo.encode(this._encode(r),e)};Wo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Wo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Wo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Wo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Wo.prototype._getBeta=function(){return null};Wo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var HS=X0(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),epe=eo.assert;function qo(t){Yd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}HS(qo,Yd);var tpe=qo;qo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],epe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};qo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};qo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,v,C;n.cmpn(0)!==0;){var S=i.div(n);v=i.sub(S.mul(n)),C=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&v.cmp(r)<0)l=g.neg(),u=s,f=v.neg(),d=C;else if(f&&++b===2)break;g=v,i=n,n=v,a=s,s=C,c=o,o=D}h=v.neg(),m=C;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};qo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};qo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};qo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};qo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Xn(t,e,r,n){Yd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}HS(Xn,Yd.BasePoint);qo.prototype.point=function(e,r,n){return new Xn(this,e,r,n)};qo.prototype.pointFromJSON=function(e,r){return Xn.fromJSON(this,e,r)};Xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xn.prototype.isInfinity=function(){return this.inf};Xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xn.prototype.getX=function(){return this.x.fromRed()};Xn.prototype.getY=function(){return this.y.fromRed()};Xn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function gi(t,e,r,n){Yd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}HS(gi,Yd.BasePoint);qo.prototype.jpoint=function(e,r,n){return new gi(this,e,r,n)};gi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};gi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};gi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};gi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};gi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),v=g.redISub(b),C=m.redMul(v);C=C.redIAdd(C).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=C}return this.curve.jpoint(o,u.redMul(s),c)};gi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};gi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};gi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var v=d.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=m.redMul(g.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};gi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};gi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};gi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};gi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};gi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};gi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};gi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var cw=X0(function(t,e){var r=e;r.base=Yd,r.short=tpe,r.mont=null,r.edwards=null}),lw=X0(function(t,e){var r=e,n=eo.assert;function i(a){a.type==="short"?this.curve=new cw.short(a):a.type==="edwards"?this.curve=new cw.edwards(a):this.curve=new cw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Zu(t){if(!(this instanceof Zu))return new Zu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Wa.toArray(t.entropy,t.entropyEnc||"hex"),r=Wa.toArray(t.nonce,t.nonceEnc||"hex"),n=Wa.toArray(t.pers,t.persEnc||"hex");jS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var U$=Zu;Zu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Zu.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};Zu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Zu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Wa.toArray(e,r),n=Wa.toArray(n,i),jS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Zu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Wa.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Wa.encode(o,r)};var wC=eo.assert;function Di(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var WS=Di;Di.fromPublic=function(e,r,n){return r instanceof Di?r:new Di(e,{pub:r,pubEnc:n})};Di.fromPrivate=function(e,r,n){return r instanceof Di?r:new Di(e,{priv:r,privEnc:n})};Di.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Di.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Di.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Di.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Di.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?wC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Di.prototype.derive=function(e){return e.validate()||wC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Di.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Di.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Di.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rpe=eo.assert;function Z_(t,e){if(t instanceof Z_)return t;this._importDER(t,e)||(rpe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var eE=Z_;function npe(){this.place=0}function Tx(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function EO(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Z_.prototype._importDER=function(e,r){e=eo.toArray(e,r);var n=new npe;if(e[n.place++]!==48)return!1;var i=Tx(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Tx(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Tx(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function Rx(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Z_.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=EO(r),n=EO(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Rx(i,r.length),i=i.concat(r),i.push(2),Rx(i,n.length);var s=i.concat(n),o=[48];return Rx(o,s.length),o=o.concat(s),eo.encode(o,e)};var ipe=(function(){throw new Error("unsupported")}),td=eo.assert;function Uo(t){if(!(this instanceof Uo))return new Uo(t);typeof t=="string"&&(td(Object.prototype.hasOwnProperty.call(lw,t),"Unknown curve "+t),t=lw[t]),t instanceof lw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var spe=Uo;Uo.prototype.keyPair=function(e){return new WS(this,e)};Uo.prototype.keyFromPrivate=function(e,r){return WS.fromPrivate(this,e,r)};Uo.prototype.keyFromPublic=function(e,r){return WS.fromPublic(this,e,r)};Uo.prototype.genKeyPair=function(e){e||(e={});for(var r=new U$({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ipe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Uo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Uo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){td(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),td(e.length>>>0===e.length);for(var s=0;s<e.length;s++)td((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),td(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);td(new te(c).eq(e),"Can not sign message");for(var l=new U$({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new eE({r:g,s:b,recoveryParam:v})}}}}}};Uo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new eE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Uo.prototype.recoverPubKey=function(t,e,r,n){td((3&r)===r,"The recovery param is more than two bits"),e=new eE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Uo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new eE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ope=X0(function(t,e){var r=e;r.version="6.6.1",r.utils=eo,r.rand=(function(){throw new Error("unsupported")}),r.curve=cw,r.curves=lw,r.ec=spe,r.eddsa=null}),ape=ope.ec;const cpe="signing-key/5.8.0",_C=new re(cpe);let Px=null;function Iu(){return Px||(Px=new ape("secp256k1")),Px}let l0=class{constructor(e){ue(this,"curve","secp256k1"),ue(this,"privateKey",ye(e)),Md(this.privateKey)!==32&&_C.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Iu().keyFromPrivate(de(this.privateKey));ue(this,"publicKey","0x"+r.getPublic(!1,"hex")),ue(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ue(this,"_isSigningKey",!0)}_addPoint(e){const r=Iu().keyFromPublic(de(this.publicKey)),n=Iu().keyFromPublic(de(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Iu().keyFromPrivate(de(this.privateKey)),n=de(e);n.length!==32&&_C.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return K0({recoveryParam:i.recoveryParam,r:sr("0x"+i.r.toString(16),32),s:sr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Iu().keyFromPrivate(de(this.privateKey)),n=Iu().keyFromPublic(de($$(e)));return sr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function lpe(t,e){const r=K0(e),n={r:de(r.r),s:de(r.s)};return"0x"+Iu().recoverPubKey(de(t),n,r.recoveryParam).encode("hex",!1)}function $$(t,e){const r=de(t);return r.length===32?new l0(r).publicKey:r.length===33?"0x"+Iu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ye(r):_C.throwArgumentError("invalid public or private key","key","[REDACTED]")}const upe="transactions/5.8.0",Ri=new re(upe);var vO;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(vO||(vO={}));function qS(t){return t==="0x"?null:Yt(t)}function Si(t){return t==="0x"?FS:ve.from(t)}const fpe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],dpe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function kl(t){const e=$$(t);return Yt(gn(zt(gn(e,1)),12))}function tE(t,e){return kl(lpe(de(t),e))}function Fs(t,e){const r=Dl(ve.from(t).toHexString());return r.length>32&&Ri.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Ox(t,e){return{address:Yt(t),storageKeys:(e||[]).map((r,n)=>(Md(r)!==32&&Ri.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Q0(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Ri.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Ox(r[0],r[1])):Ox(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Ox(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function L$(t){return Q0(t).map(e=>[e.address,e.storageKeys])}function F$(t,e){if(t.gasPrice!=null){const n=ve.from(t.gasPrice),i=ve.from(t.maxFeePerGas||0);n.eq(i)||Ri.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Fs(t.chainId||0,"chainId"),Fs(t.nonce||0,"nonce"),Fs(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fs(t.maxFeePerGas||0,"maxFeePerGas"),Fs(t.gasLimit||0,"gasLimit"),t.to!=null?Yt(t.to):"0x",Fs(t.value||0,"value"),t.data||"0x",L$(t.accessList||[])];if(e){const n=K0(e);r.push(Fs(n.recoveryParam,"recoveryParam")),r.push(Dl(n.r)),r.push(Dl(n.s))}return Ji(["0x02",R0(r)])}function B$(t,e){const r=[Fs(t.chainId||0,"chainId"),Fs(t.nonce||0,"nonce"),Fs(t.gasPrice||0,"gasPrice"),Fs(t.gasLimit||0,"gasLimit"),t.to!=null?Yt(t.to):"0x",Fs(t.value||0,"value"),t.data||"0x",L$(t.accessList||[])];if(e){const n=K0(e);r.push(Fs(n.recoveryParam,"recoveryParam")),r.push(Dl(n.r)),r.push(Dl(n.s))}return Ji(["0x01",R0(r)])}function hpe(t,e){r$(t,dpe);const r=[];fpe.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=de(ye(a,c)),o.length&&a.length!==o.length&&a.length>0&&Ri.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Dl(a),a.length>o.maxLength&&Ri.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(ye(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Ri.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Y_(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(ye(n)),r.push("0x"),r.push("0x")),!e)return R0(r);const i=K0(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Ri.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(ye(s)),r.push(Dl(de(i.r))),r.push(Dl(de(i.s))),R0(r)}function xO(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Ri.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),hpe(t,e);switch(t.type){case 1:return B$(t,e);case 2:return F$(t,e)}return Ri.throwError(`unsupported transaction type: ${t.type}`,re.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function j$(t,e,r){try{const n=Si(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Ri.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=sr(e[1],32),t.s=sr(e[2],32);try{const n=zt(r(t));t.from=tE(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function ppe(t){const e=$S(t.slice(1));e.length!==9&&e.length!==12&&Ri.throwArgumentError("invalid component count for transaction type: 2","payload",ye(t));const r=Si(e[2]),n=Si(e[3]),i={type:2,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Si(e[4]),to:qS(e[5]),value:Si(e[6]),data:e[7],accessList:Q0(e[8])};return e.length===9||(i.hash=zt(t),j$(i,e.slice(9),F$)),i}function gpe(t){const e=$S(t.slice(1));e.length!==8&&e.length!==11&&Ri.throwArgumentError("invalid component count for transaction type: 1","payload",ye(t));const r={type:1,chainId:Si(e[0]).toNumber(),nonce:Si(e[1]).toNumber(),gasPrice:Si(e[2]),gasLimit:Si(e[3]),to:qS(e[4]),value:Si(e[5]),data:e[6],accessList:Q0(e[7])};return e.length===8||(r.hash=zt(t),j$(r,e.slice(8),B$)),r}function mpe(t){const e=$S(t);e.length!==9&&e.length!==6&&Ri.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Si(e[0]).toNumber(),gasPrice:Si(e[1]),gasLimit:Si(e[2]),to:qS(e[3]),value:Si(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=ve.from(e[6]).toNumber()}catch{return r}if(r.r=sr(e[7],32),r.s=sr(e[8],32),ve.from(r.r).isZero()&&ve.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(ye(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=zt(R0(i));try{r.from=tE(s,{r:ye(r.r),s:ye(r.s),recoveryParam:n})}catch{}r.hash=zt(t)}return r.type=null,r}function ype(t){const e=de(t);if(e[0]>127)return mpe(e);switch(e[0]){case 1:return gpe(e);case 2:return ppe(e)}return Ri.throwError(`unsupported transaction type: ${e[0]}`,re.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const bpe="contracts/5.7.0";var $d=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const nn=new re(bpe);function W1(t,e){return $d(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&nn.throwArgumentError("invalid address or ENS name","name",r);try{return Yt(r)}catch{}t||nn.throwError("a provider or signer is needed to resolve ENS names",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&nn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function uw(t,e,r){return $d(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>uw(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield W1(t,e):r.type==="tuple"?yield uw(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>uw(t,n,r.arrayChildren))):Promise.reject(nn.makeError("invalid value for array",re.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function rE(t,e,r){return $d(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Bn(r.pop())),nn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=rn({override:W1(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>$d(this,void 0,void 0,function*(){return Yt(l.signer)!==l.override&&nn.throwError("Contract with a Signer cannot override from",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=W1(t.provider,n.from));const i=yield rn({args:uw(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:rn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=ve.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=ve.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=ve.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=ve.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=ve.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Q0(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=de(s);for(let f=0;f<u.length;f++)l+=4,u[f]&&(l+=64);o.gasLimit=ve.from(e.gas).add(l)}if(a.value){const l=ve.from(a.value);!l.isZero()&&!e.payable&&nn.throwError("non-payable method cannot override value",re.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Bn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&nn.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,re.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function wpe(t,e){return function(...r){return rE(t,e,r)}}function _pe(t,e){const r=t.signer||t.provider;return function(...n){return $d(this,void 0,void 0,function*(){r||nn.throwError("estimate require a provider or signer",re.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield rE(t,e,n);return yield r.estimateGas(i)})}}function Epe(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=jl(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function H$(t,e,r){const n=t.signer||t.provider;return function(...i){return $d(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Bn(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield rE(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===re.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function vpe(t,e){return function(...r){return $d(this,void 0,void 0,function*(){t.signer||nn.throwError("sending a transaction requires a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield rE(t,e,r),i=yield t.signer.sendTransaction(n);return Epe(t,i),i})}}function AO(t,e,r){return e.constant?H$(t,e,r):vpe(t,e)}function W$(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Lm{constructor(e,r){ue(this,"tag",e),ue(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class xpe extends Lm{constructor(){super("error",null)}}class CO extends Lm{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&nn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(W$(s),s),ue(this,"address",e),ue(this,"interface",r),ue(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Ahe(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class NO extends Lm{constructor(e,r){super("*",{address:e}),ue(this,"address",e),ue(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Ape{constructor(e,r,n){ue(this,"interface",Cs(new.target,"getInterface")(r)),n==null?(ue(this,"provider",null),ue(this,"signer",null)):Y0.isSigner(n)?(ue(this,"provider",n.provider||null),ue(this,"signer",n)):Iy.isProvider(n)?(ue(this,"provider",n),ue(this,"signer",null)):nn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ue(this,"callStatic",{}),ue(this,"estimateGas",{}),ue(this,"functions",{}),ue(this,"populateTransaction",{}),ue(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];ue(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?ue(this.filters,a,this.filters[c[0]]):nn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(ue(this,"_runningEvents",{}),ue(this,"_wrappedEmits",{}),e==null&&nn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ue(this,"address",e),this.provider)ue(this,"resolvedAddress",W1(this.provider,e));else try{ue(this,"resolvedAddress",Promise.resolve(Yt(e)))}catch{nn.throwError("provider is required to use ENS name as contract address",re.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){nn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&ue(this,o,AO(this,a,!0)),this.functions[o]==null&&ue(this.functions,o,AO(this,a,!1)),this.callStatic[o]==null&&ue(this.callStatic,o,H$(this,a,!0)),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,wpe(this,a)),this.estimateGas[o]==null&&ue(this.estimateGas,o,_pe(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&ue(this,o,this[c])}catch{}this.functions[o]==null&&ue(this.functions,o,this.functions[c]),this.callStatic[o]==null&&ue(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&ue(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&ue(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return l$(e)}static getInterface(e){return oO.isInterface(e)?e:new oO(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&nn.throwError("contract not deployed",re.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||nn.throwError("sending a transactions require a signer",re.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Bn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&nn.throwError("cannot override "+n,re.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new BS(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ue(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return bC.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new xpe);if(e==="event")return this._normalizeRunningEvent(new Lm("event",null));if(e==="*")return this._normalizeRunningEvent(new NO(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new CO(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new CO(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Lm(W$(r),r))}return this._normalizeRunningEvent(new NO(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=jl(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||nn.throwError("events require a provider or a signer with a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Bn(i.filter);return typeof r=="string"&&pt(r,32)?(n!=null&&nn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class wu extends Ape{}let q$=class{constructor(e){ue(this,"alphabet",e),ue(this,"base",e.length),ue(this,"_alphabetMap",{}),ue(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=de(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return de(new Uint8Array(r.reverse()))}};new q$("abcdefghijklmnopqrstuvwxyz234567");const Fm=new q$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Bm;(function(t){t.sha256="sha256",t.sha512="sha512"})(Bm||(Bm={}));const Cpe="sha2/5.8.0",Npe=new re(Cpe);function Spe(t){return"0x"+Ye.ripemd160().update(de(t)).digest("hex")}function ef(t){return"0x"+Ye.sha256().update(de(t)).digest("hex")}function q1(t,e,r){return Bm[t]||Npe.throwError("unsupported algorithm "+t,re.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],de(e)).update(de(r)).digest("hex")}function Py(t,e,r,n,i){t=de(t),e=de(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=de(q1(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=de(q1(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(de(u).slice(0,m),h)}return ye(a)}const Ipe="wordlists/5.8.0",Tpe=new re(Ipe);let zS=class z${constructor(e){Tpe.checkAbstract(new.target,z$),ue(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Ha(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const Rpe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let xg=null;function SO(t){if(xg==null&&(xg=Rpe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),zS.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw xg=null,new Error("BIP39 Wordlist for en (English) FAILED")}let Ppe=class extends zS{constructor(){super("en")}getWord(e){return SO(this),xg[e]}getWordIndex(e){return SO(this),xg.indexOf(e)}};const G$=new Ppe;zS.register(G$);const IO={en:G$},Ope="hdnode/5.8.0",z1=new re(Ope),Dpe=ve.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kpe=Qr("Bitcoin seed"),Np=2147483648;function K$(t){return(1<<t)-1<<8-t}function Mpe(t){return(1<<t)-1}function xb(t){return sr(ye(t),32)}function TO(t){return Fm.encode(Gt([t,gn(ef(ef(t)),0,4)]))}function GS(t){if(t==null)return IO.en;if(typeof t=="string"){const e=IO[t];return e==null&&z1.throwArgumentError("unknown locale","wordlist",t),e}return t}const vh={},tf="m/44'/60'/0'/0/0";let P0=class _u{constructor(e,r,n,i,s,o,a,c){if(e!==vh)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new l0(r);ue(this,"privateKey",l.privateKey),ue(this,"publicKey",l.compressedPublicKey)}else ue(this,"privateKey",null),ue(this,"publicKey",ye(n));ue(this,"parentFingerprint",i),ue(this,"fingerprint",gn(Spe(ef(this.publicKey)),0,4)),ue(this,"address",kl(this.publicKey)),ue(this,"chainCode",s),ue(this,"index",o),ue(this,"depth",a),c==null?(ue(this,"mnemonic",null),ue(this,"path",null)):typeof c=="string"?(ue(this,"mnemonic",null),ue(this,"path",c)):(ue(this,"mnemonic",c),ue(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return TO(Gt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ye(this.depth),this.parentFingerprint,sr(ye(this.index),4),this.chainCode,this.privateKey!=null?Gt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new _u(vh,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Np));const n=new Uint8Array(37);if(e&Np){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(de(this.privateKey),1),r&&(r+="'")}else n.set(de(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=de(q1(Bm.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=xb(ve.from(s).add(this.privateKey).mod(Dpe)):c=new l0(ye(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new _u(vh,a,c,this.fingerprint,xb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Np)throw new Error("invalid path index - "+s);n=n._derive(Np+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Np)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=de(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=de(q1(Bm.sha512,kpe,n));return new _u(vh,xb(i.slice(0,32)),null,"0x00000000",xb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=GS(n),e=nE(KS(e,n),n),_u._fromSeed(Upe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return _u._fromSeed(e,null)}static fromExtendedKey(e){const r=Fm.decode(e);(r.length!==82||TO(r.slice(0,78))!==e)&&z1.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ye(r.slice(5,9)),s=parseInt(ye(r.slice(9,13)).substring(2),16),o=ye(r.slice(13,45)),a=r.slice(45,78);switch(ye(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new _u(vh,null,ye(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new _u(vh,ye(a.slice(1)),null,i,o,s,n,null)}return z1.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function Upe(t,e){e||(e="");const r=Qr("mnemonic"+e,Hl.NFKD);return Py(Qr(t,Hl.NFKD),r,2048,64,"sha512")}function KS(t,e){e=GS(e),z1.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=de(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=K$(o);if((de(ef(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ye(n.slice(0,s/8))}function nE(t,e){if(e=GS(e),t=de(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Mpe(8-n)),n+=3);const i=t.length/4,s=de(ef(t))[0]&K$(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const $pe="random/5.8.0",EC=new re($pe);function Lpe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const RO=Lpe();let fw=RO.crypto||RO.msCrypto;(!fw||!fw.getRandomValues)&&(EC.warn("WARNING: Missing strong random number source"),fw={getRandomValues:function(t){return EC.throwError("no secure random source avaialble",re.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Sl(t){(t<=0||t>1024||t%1||t!=t)&&EC.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return fw.getRandomValues(e),de(e)}var Dx={exports:{}},PO;function Fpe(){return PO||(PO=1,(function(t,e){(function(r){function n(P){return parseInt(P)===P}function i(P){if(!n(P.length))return!1;for(var E=0;E<P.length;E++)if(!n(P[E])||P[E]<0||P[E]>255)return!1;return!0}function s(P,E){if(P.buffer&&ArrayBuffer.isView(P)&&P.name==="Uint8Array")return E&&(P.slice?P=P.slice():P=Array.prototype.slice.call(P)),P;if(Array.isArray(P)){if(!i(P))throw new Error("Array contains invalid value: "+P);return new Uint8Array(P)}if(n(P.length)&&i(P))return new Uint8Array(P);throw new Error("unsupported array-like object")}function o(P){return new Uint8Array(P)}function a(P,E,L,G,R){(G!=null||R!=null)&&(P.slice?P=P.slice(G,R):P=Array.prototype.slice.call(P,G,R)),E.set(P,L)}var c=(function(){function P(L){var G=[],R=0;for(L=encodeURI(L);R<L.length;){var V=L.charCodeAt(R++);V===37?(G.push(parseInt(L.substr(R,2),16)),R+=2):G.push(V)}return s(G)}function E(L){for(var G=[],R=0;R<L.length;){var V=L[R];V<128?(G.push(String.fromCharCode(V)),R++):V>191&&V<224?(G.push(String.fromCharCode((V&31)<<6|L[R+1]&63)),R+=2):(G.push(String.fromCharCode((V&15)<<12|(L[R+1]&63)<<6|L[R+2]&63)),R+=3)}return G.join("")}return{toBytes:P,fromBytes:E}})(),l=(function(){function P(G){for(var R=[],V=0;V<G.length;V+=2)R.push(parseInt(G.substr(V,2),16));return R}var E="0123456789abcdef";function L(G){for(var R=[],V=0;V<G.length;V++){var K=G[V];R.push(E[(K&240)>>4]+E[K&15])}return R.join("")}return{toBytes:P,fromBytes:L}})(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],C=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],D=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],O=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],F=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],_=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function M(P){for(var E=[],L=0;L<P.length;L+=4)E.push(P[L]<<24|P[L+1]<<16|P[L+2]<<8|P[L+3]);return E}var $=function(P){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(P,!0)}),this._prepare()};$.prototype._prepare=function(){var P=u[this.key.length];if(P==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var E=0;E<=P;E++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var L=(P+1)*4,G=this.key.length/4,R=M(this.key),V,E=0;E<G;E++)V=E>>2,this._Ke[V][E%4]=R[E],this._Kd[P-V][E%4]=R[E];for(var K=0,X=G,Q;X<L;){if(Q=R[G-1],R[0]^=d[Q>>16&255]<<24^d[Q>>8&255]<<16^d[Q&255]<<8^d[Q>>24&255]^f[K]<<24,K+=1,G!=8)for(var E=1;E<G;E++)R[E]^=R[E-1];else{for(var E=1;E<G/2;E++)R[E]^=R[E-1];Q=R[G/2-1],R[G/2]^=d[Q&255]^d[Q>>8&255]<<8^d[Q>>16&255]<<16^d[Q>>24&255]<<24;for(var E=G/2+1;E<G;E++)R[E]^=R[E-1]}for(var E=0,ie,le;E<G&&X<L;)ie=X>>2,le=X%4,this._Ke[ie][le]=R[E],this._Kd[P-ie][le]=R[E++],X++}for(var ie=1;ie<P;ie++)for(var le=0;le<4;le++)Q=this._Kd[ie][le],this._Kd[ie][le]=k[Q>>24&255]^F[Q>>16&255]^A[Q>>8&255]^_[Q&255]},$.prototype.encrypt=function(P){if(P.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var E=this._Ke.length-1,L=[0,0,0,0],G=M(P),R=0;R<4;R++)G[R]^=this._Ke[0][R];for(var V=1;V<E;V++){for(var R=0;R<4;R++)L[R]=m[G[R]>>24&255]^g[G[(R+1)%4]>>16&255]^b[G[(R+2)%4]>>8&255]^v[G[(R+3)%4]&255]^this._Ke[V][R];G=L.slice()}for(var K=o(16),X,R=0;R<4;R++)X=this._Ke[E][R],K[4*R]=(d[G[R]>>24&255]^X>>24)&255,K[4*R+1]=(d[G[(R+1)%4]>>16&255]^X>>16)&255,K[4*R+2]=(d[G[(R+2)%4]>>8&255]^X>>8)&255,K[4*R+3]=(d[G[(R+3)%4]&255]^X)&255;return K},$.prototype.decrypt=function(P){if(P.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var E=this._Kd.length-1,L=[0,0,0,0],G=M(P),R=0;R<4;R++)G[R]^=this._Kd[0][R];for(var V=1;V<E;V++){for(var R=0;R<4;R++)L[R]=C[G[R]>>24&255]^S[G[(R+3)%4]>>16&255]^D[G[(R+2)%4]>>8&255]^O[G[(R+1)%4]&255]^this._Kd[V][R];G=L.slice()}for(var K=o(16),X,R=0;R<4;R++)X=this._Kd[E][R],K[4*R]=(h[G[R]>>24&255]^X>>24)&255,K[4*R+1]=(h[G[(R+3)%4]>>16&255]^X>>16)&255,K[4*R+2]=(h[G[(R+2)%4]>>8&255]^X>>8)&255,K[4*R+3]=(h[G[(R+1)%4]&255]^X)&255;return K};var I=function(P){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(P)};I.prototype.encrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(P.length),L=o(16),G=0;G<P.length;G+=16)a(P,L,0,G,G+16),L=this._aes.encrypt(L),a(L,E,G);return E},I.prototype.decrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(P.length),L=o(16),G=0;G<P.length;G+=16)a(P,L,0,G,G+16),L=this._aes.decrypt(L),a(L,E,G);return E};var N=function(P,E){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(E,!0),this._aes=new $(P)};N.prototype.encrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(P.length),L=o(16),G=0;G<P.length;G+=16){a(P,L,0,G,G+16);for(var R=0;R<16;R++)L[R]^=this._lastCipherblock[R];this._lastCipherblock=this._aes.encrypt(L),a(this._lastCipherblock,E,G)}return E},N.prototype.decrypt=function(P){if(P=s(P),P.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(P.length),L=o(16),G=0;G<P.length;G+=16){a(P,L,0,G,G+16),L=this._aes.decrypt(L);for(var R=0;R<16;R++)E[G+R]=L[R]^this._lastCipherblock[R];a(P,this._lastCipherblock,0,G,G+16)}return E};var p=function(P,E,L){if(!(this instanceof p))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");L||(L=1),this.segmentSize=L,this._shiftRegister=s(E,!0),this._aes=new $(P)};p.prototype.encrypt=function(P){if(P.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var E=s(P,!0),L,G=0;G<E.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var R=0;R<this.segmentSize;R++)E[G+R]^=L[R];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(E,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return E},p.prototype.decrypt=function(P){if(P.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var E=s(P,!0),L,G=0;G<E.length;G+=this.segmentSize){L=this._aes.encrypt(this._shiftRegister);for(var R=0;R<this.segmentSize;R++)E[G+R]^=L[R];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(P,this._shiftRegister,16-this.segmentSize,G,G+this.segmentSize)}return E};var y=function(P,E){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(E,!0),this._lastPrecipherIndex=16,this._aes=new $(P)};y.prototype.encrypt=function(P){for(var E=s(P,!0),L=0;L<E.length;L++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),E[L]^=this._lastPrecipher[this._lastPrecipherIndex++];return E},y.prototype.decrypt=y.prototype.encrypt;var w=function(P){if(!(this instanceof w))throw Error("Counter must be instanitated with `new`");P!==0&&!P&&(P=1),typeof P=="number"?(this._counter=o(16),this.setValue(P)):this.setBytes(P)};w.prototype.setValue=function(P){if(typeof P!="number"||parseInt(P)!=P)throw new Error("invalid counter value (must be an integer)");for(var E=15;E>=0;--E)this._counter[E]=P%256,P=P>>8},w.prototype.setBytes=function(P){if(P=s(P,!0),P.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=P},w.prototype.increment=function(){for(var P=15;P>=0;P--)if(this._counter[P]===255)this._counter[P]=0;else{this._counter[P]++;break}};var x=function(P,E){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",E instanceof w||(E=new w(E)),this._counter=E,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(P)};x.prototype.encrypt=function(P){for(var E=s(P,!0),L=0;L<E.length;L++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),E[L]^=this._remainingCounter[this._remainingCounterIndex++];return E},x.prototype.decrypt=x.prototype.encrypt;function T(P){P=s(P,!0);var E=16-P.length%16,L=o(P.length+E);a(P,L);for(var G=P.length;G<L.length;G++)L[G]=E;return L}function U(P){if(P=s(P,!0),P.length<16)throw new Error("PKCS#7 invalid length");var E=P[P.length-1];if(E>16)throw new Error("PKCS#7 padding byte out of range");for(var L=P.length-E,G=0;G<E;G++)if(P[L+G]!==E)throw new Error("PKCS#7 invalid padding byte");var R=o(L);return a(P,R,0,0,L),R}var B={AES:$,Counter:w,ModeOfOperation:{ecb:I,cbc:N,cfb:p,ofb:y,ctr:x},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:T,strip:U}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=B})()})(Dx)),Dx.exports}var Bpe=Fpe();const mn=Ts(Bpe),V$="json-wallets/5.8.0";function wd(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Sp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function VS(t){return typeof t=="string"?Qr(t,Hl.NFKC):de(t)}function sn(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function jpe(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Hpe=new re(V$);let Wpe=class extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function J$(t,e){const r=JSON.parse(t);e=VS(e);const n=Yt(sn(r,"ethaddr")),i=wd(sn(r,"encseed"));(!i||i.length%16!==0)&&Hpe.throwArgumentError("invalid encseed","json",t);const s=de(Py(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new mn.ModeOfOperation.cbc(s,o),l=mn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Qr(u),d=zt(f);return new Wpe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function Y$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function X$(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var kx={exports:{}},OO;function qpe(){return OO||(OO=1,(function(t,e){(function(r){function i(g){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let v=1779033703,C=3144134277,S=1013904242,D=2773480762,O=1359893119,k=2600822924,F=528734635,A=1541459225;const _=new Uint32Array(64);function M(x){let T=0,U=x.length;for(;U>=64;){let B=v,P=C,E=S,L=D,G=O,R=k,V=F,K=A,X,Q,ie,le,H;for(Q=0;Q<16;Q++)ie=T+Q*4,_[Q]=(x[ie]&255)<<24|(x[ie+1]&255)<<16|(x[ie+2]&255)<<8|x[ie+3]&255;for(Q=16;Q<64;Q++)X=_[Q-2],le=(X>>>17|X<<15)^(X>>>19|X<<13)^X>>>10,X=_[Q-15],H=(X>>>7|X<<25)^(X>>>18|X<<14)^X>>>3,_[Q]=(le+_[Q-7]|0)+(H+_[Q-16]|0)|0;for(Q=0;Q<64;Q++)le=(((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))+(G&R^~G&V)|0)+(K+(b[Q]+_[Q]|0)|0)|0,H=((B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10))+(B&P^B&E^P&E)|0,K=V,V=R,R=G,G=L+le|0,L=E,E=P,P=B,B=le+H|0;v=v+B|0,C=C+P|0,S=S+E|0,D=D+L|0,O=O+G|0,k=k+R|0,F=F+V|0,A=A+K|0,T+=64,U-=64}}M(g);let $,I=g.length%64,N=g.length/536870912|0,p=g.length<<3,y=I<56?56:120,w=g.slice(g.length-I,g.length);for(w.push(128),$=I+1;$<y;$++)w.push(0);return w.push(N>>>24&255),w.push(N>>>16&255),w.push(N>>>8&255),w.push(N>>>0&255),w.push(p>>>24&255),w.push(p>>>16&255),w.push(p>>>8&255),w.push(p>>>0&255),M(w),[v>>>24&255,v>>>16&255,v>>>8&255,v>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255]}function s(g,b,v){g=g.length<=64?g:i(g);const C=64+b.length+4,S=new Array(C),D=new Array(64);let O,k=[];for(O=0;O<64;O++)S[O]=54;for(O=0;O<g.length;O++)S[O]^=g[O];for(O=0;O<b.length;O++)S[64+O]=b[O];for(O=C-4;O<C;O++)S[O]=0;for(O=0;O<64;O++)D[O]=92;for(O=0;O<g.length;O++)D[O]^=g[O];function F(){for(let A=C-1;A>=C-4;A--){if(S[A]++,S[A]<=255)return;S[A]=0}}for(;v>=32;)F(),k=k.concat(i(D.concat(i(S)))),v-=32;return v>0&&(F(),k=k.concat(i(D.concat(i(S))).slice(0,v))),k}function o(g,b,v,C,S){let D;for(u(g,(2*v-1)*16,S,0,16),D=0;D<2*v;D++)l(g,D*16,S,16),c(S,C),u(S,0,g,b+D*16,16);for(D=0;D<v;D++)u(g,b+D*2*16,g,D*16,16);for(D=0;D<v;D++)u(g,b+(D*2+1)*16,g,(D+v)*16,16)}function a(g,b){return g<<b|g>>>32-b}function c(g,b){u(g,0,b,0,16);for(let v=8;v>0;v-=2)b[4]^=a(b[0]+b[12],7),b[8]^=a(b[4]+b[0],9),b[12]^=a(b[8]+b[4],13),b[0]^=a(b[12]+b[8],18),b[9]^=a(b[5]+b[1],7),b[13]^=a(b[9]+b[5],9),b[1]^=a(b[13]+b[9],13),b[5]^=a(b[1]+b[13],18),b[14]^=a(b[10]+b[6],7),b[2]^=a(b[14]+b[10],9),b[6]^=a(b[2]+b[14],13),b[10]^=a(b[6]+b[2],18),b[3]^=a(b[15]+b[11],7),b[7]^=a(b[3]+b[15],9),b[11]^=a(b[7]+b[3],13),b[15]^=a(b[11]+b[7],18),b[1]^=a(b[0]+b[3],7),b[2]^=a(b[1]+b[0],9),b[3]^=a(b[2]+b[1],13),b[0]^=a(b[3]+b[2],18),b[6]^=a(b[5]+b[4],7),b[7]^=a(b[6]+b[5],9),b[4]^=a(b[7]+b[6],13),b[5]^=a(b[4]+b[7],18),b[11]^=a(b[10]+b[9],7),b[8]^=a(b[11]+b[10],9),b[9]^=a(b[8]+b[11],13),b[10]^=a(b[9]+b[8],18),b[12]^=a(b[15]+b[14],7),b[13]^=a(b[12]+b[15],9),b[14]^=a(b[13]+b[12],13),b[15]^=a(b[14]+b[13],18);for(let v=0;v<16;++v)g[v]+=b[v]}function l(g,b,v,C){for(let S=0;S<C;S++)v[S]^=g[b+S]}function u(g,b,v,C,S){for(;S--;)v[C++]=g[b++]}function f(g){if(!g||typeof g.length!="number")return!1;for(let b=0;b<g.length;b++){const v=g[b];if(typeof v!="number"||v%1||v<0||v>=256)return!1}return!0}function d(g,b){if(typeof g!="number"||g%1)throw new Error("invalid "+b);return g}function h(g,b,v,C,S,D,O){if(v=d(v,"N"),C=d(C,"r"),S=d(S,"p"),D=d(D,"dkLen"),v===0||(v&v-1)!==0)throw new Error("N must be power of 2");if(v>2147483647/128/C)throw new Error("N too large");if(C>2147483647/128/S)throw new Error("r too large");if(!f(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!f(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let k=s(g,b,S*128*C);const F=new Uint32Array(S*32*C);for(let G=0;G<F.length;G++){const R=G*4;F[G]=(k[R+3]&255)<<24|(k[R+2]&255)<<16|(k[R+1]&255)<<8|(k[R+0]&255)<<0}const A=new Uint32Array(64*C),_=new Uint32Array(32*C*v),M=32*C,$=new Uint32Array(16),I=new Uint32Array(16),N=S*v*2;let p=0,y=null,w=!1,x=0,T=0,U,B;const P=O?parseInt(1e3/C):4294967295,E=typeof setImmediate<"u"?setImmediate:setTimeout,L=function(){if(w)return O(new Error("cancelled"),p/N);let G;switch(x){case 0:B=T*32*C,u(F,B,A,0,M),x=1,U=0;case 1:G=v-U,G>P&&(G=P);for(let V=0;V<G;V++)u(A,0,_,(U+V)*M,M),o(A,M,C,$,I);if(U+=G,p+=G,O){const V=parseInt(1e3*p/N);if(V!==y){if(w=O(null,p/N),w)break;y=V}}if(U<v)break;U=0,x=2;case 2:G=v-U,G>P&&(G=P);for(let V=0;V<G;V++){const K=(2*C-1)*16,X=A[K]&v-1;l(_,X*M,A,M),o(A,M,C,$,I)}if(U+=G,p+=G,O){const V=parseInt(1e3*p/N);if(V!==y){if(w=O(null,p/N),w)break;y=V}}if(U<v)break;if(u(A,0,F,B,M),T++,T<S){x=0;break}k=[];for(let V=0;V<F.length;V++)k.push(F[V]>>0&255),k.push(F[V]>>8&255),k.push(F[V]>>16&255),k.push(F[V]>>24&255);const R=s(g,k,D);return O&&O(null,1,R),R}O&&E(L)};if(!O)for(;;){const G=L();if(G!=null)return G}L()}const m={scrypt:function(g,b,v,C,S,D,O){return new Promise(function(k,F){let A=0;O&&O(0),h(g,b,v,C,S,D,function(_,M,$){if(_)F(_);else if($)O&&A!==1&&O(1),k(new Uint8Array($));else if(O&&M!==A)return A=M,O(M)})})},syncScrypt:function(g,b,v,C,S,D){return new Uint8Array(h(g,b,v,C,S,D))}};t.exports=m})()})(kx)),kx.exports}var zpe=qpe();const Z0=Ts(zpe);var Gpe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const vC=new re(V$);function DO(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let Kpe=class extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function Vpe(t,e,r){if(sn(t,"crypto/cipher")==="aes-128-ctr"){const i=wd(sn(t,"crypto/cipherparams/iv")),s=new mn.Counter(i),o=new mn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function Q$(t,e){const r=wd(sn(t,"crypto/ciphertext"));if(ye(zt(Gt([e.slice(16,32),r]))).substring(2)!==sn(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Vpe(t,e.slice(0,16),r);i||vC.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=kl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Yt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(sn(t,"x-ethers/version")==="0.1"){const c=wd(sn(t,"x-ethers/mnemonicCiphertext")),l=wd(sn(t,"x-ethers/mnemonicCounter")),u=new mn.Counter(l),f=new mn.ModeOfOperation.ctr(s,u),d=sn(t,"x-ethers/path")||tf,h=sn(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=nE(m,h),b=P0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Kpe(a)}function Z$(t,e,r,n,i){return de(Py(t,e,r,n,i))}function Jpe(t,e,r,n,i){return Promise.resolve(Z$(t,e,r,n,i))}function eL(t,e,r,n,i){const s=VS(e),o=sn(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return vC.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=wd(sn(t,"crypto/kdfparams/salt")),l=parseInt(sn(t,"crypto/kdfparams/n")),u=parseInt(sn(t,"crypto/kdfparams/r")),f=parseInt(sn(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=wd(sn(t,"crypto/kdfparams/salt"));let l=null;const u=sn(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(sn(t,"crypto/kdfparams/c")),d=parseInt(sn(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return vC.throwArgumentError("unsupported key-derivation function","kdf",o)}function Ype(t,e){const r=JSON.parse(t),n=eL(r,e,Z$,Z0.syncScrypt);return Q$(r,n)}function Xpe(t,e,r){return Gpe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield eL(n,e,Jpe,Z0.scrypt,r);return Q$(n,i)})}function Qpe(t,e,r,n){try{if(Yt(t.address)!==kl(t.privateKey))throw new Error("address/privateKey mismatch");if(DO(t)){const b=t.mnemonic;if(P0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||tf).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=VS(e);let o=null,a=null,c=null;if(DO(t)){const b=t.mnemonic;o=de(KS(b.phrase,b.locale||"en")),a=b.path||tf,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Sl(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Sl(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Sl(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Z0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const v=b.slice(0,16),C=b.slice(16,32),S=b.slice(32,64),D=new mn.Counter(f),O=new mn.ModeOfOperation.ctr(v,D),k=de(O.encrypt(i)),F=zt(Gt([C,k])),A={address:t.address.substring(2).toLowerCase(),id:jpe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const _=Sl(16),M=new mn.Counter(_),$=new mn.ModeOfOperation.ctr(S,M),I=de($.encrypt(o)),N=new Date,p=N.getUTCFullYear()+"-"+Sp(N.getUTCMonth()+1,2)+"-"+Sp(N.getUTCDate(),2)+"T"+Sp(N.getUTCHours(),2)+"-"+Sp(N.getUTCMinutes(),2)+"-"+Sp(N.getUTCSeconds(),2)+".0Z";A["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+A.address,mnemonicCounter:ye(_).substring(2),mnemonicCiphertext:ye(I).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(A)})}function Zpe(t,e,r){if(Y$(t)){r&&r(0);const n=J$(t,e);return r&&r(1),Promise.resolve(n)}return X$(t)?Xpe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function ege(t,e){if(Y$(t))return J$(t,e);if(X$(t))return Ype(t,e);throw new Error("invalid JSON wallet")}const tge="wallet/5.7.0";var kO=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const xh=new re(tge);function rge(t){return t!=null&&pt(t.privateKey,32)&&t.address!=null}function nge(t){const e=t.mnemonic;return e&&e.phrase}class rd extends Y0{constructor(e,r){if(super(),rge(e)){const n=new l0(e.privateKey);if(ue(this,"_signingKey",()=>n),ue(this,"address",kl(this.publicKey)),this.address!==Yt(e.address)&&xh.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),nge(e)){const i=e.mnemonic;ue(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||tf,locale:i.locale||"en"}));const s=this.mnemonic,o=P0.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);kl(o.privateKey)!==this.address&&xh.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ue(this,"_mnemonic",()=>null)}else{if(l0.isSigningKey(e))e.curve!=="secp256k1"&&xh.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ue(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new l0(e);ue(this,"_signingKey",()=>n)}ue(this,"_mnemonic",()=>null),ue(this,"address",kl(this.publicKey))}r&&!Iy.isProvider(r)&&xh.throwArgumentError("invalid provider","provider",r),ue(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new rd(this,e)}signTransaction(e){return rn(e).then(r=>{r.from!=null&&(Yt(r.from)!==this.address&&xh.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(zt(xO(r)));return xO(r,n)})}signMessage(e){return kO(this,void 0,void 0,function*(){return F6(this._signingKey().signDigest(I$(e)))})}_signTypedData(e,r,n){return kO(this,void 0,void 0,function*(){const i=yield $m.resolveNames(e,r,n,s=>(this.provider==null&&xh.throwError("cannot resolve ENS names without a provider",re.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return F6(this._signingKey().signDigest($m.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),Qpe(this,e,r,n)}static createRandom(e){let r=Sl(16);e||(e={}),e.extraEntropy&&(r=de(gn(zt(Gt([r,e.extraEntropy])),0,16)));const n=nE(r,e.locale);return rd.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return Zpe(e,r,n).then(i=>new rd(i))}static fromEncryptedJsonSync(e,r){return new rd(ege(e,r))}static fromMnemonic(e,r,n){return r||(r=tf),new rd(P0.fromMnemonic(e,null,n).derivePath(r))}}function ige(t,e){return tE(I$(t),e)}function sge(t,e,r,n){return tE($m.hash(t,e,r),n)}const oge=Object.freeze(Object.defineProperty({__proto__:null,Wallet:rd,verifyMessage:ige,verifyTypedData:sge},Symbol.toStringTag,{value:"Module"})),age="networks/5.8.0",MO=new re(age);function cge(t){return t&&typeof t.renetwork=="function"}function ya(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return ya(r)},e}function G1(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return G1(t,n)},r}const UO={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ya("homestead")},$O={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ya("ropsten")},LO={chainId:63,name:"classicMordor",_defaultProvider:G1("https://www.ethercluster.com/mordor","classicMordor")},Ab={unspecified:{chainId:0,name:"unspecified"},homestead:UO,mainnet:UO,morden:{chainId:2,name:"morden"},ropsten:$O,testnet:$O,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ya("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ya("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ya("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ya("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ya("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:G1("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:LO,classicTestnet:LO,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:G1("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ya("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ya("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ya("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function lge(t){if(t==null)return null;if(typeof t=="number"){for(const n in Ab){const i=Ab[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Ab[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ab[t.name];if(!e)return typeof t.chainId!="number"&&MO.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&MO.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(cge(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const uge="web/5.8.0";var fge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function dge(t,e){return fge(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:de(new Uint8Array(i))}})}var hge=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ca=new re(uge);function FO(t){return new Promise(e=>{setTimeout(e,t)})}function hu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Y_(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return J0(t)}catch{}return ye(t)}return t}function pge(t){return Qr(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function gge(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ca.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ca.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ca.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const v in t.headers)a[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ca.throwError("basic authentication requires a secure https url",re.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+E$(Qr(v))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Bn(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?_$(h[3]):pge(h[3])};let C=v.body;return r&&(C=r(v.body,v)),Promise.resolve(C)}catch(v){ca.throwError("processing response error",re.errors.SERVER_ERROR,{body:hu(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(v=>{const C=a[v];m[C.key]=C.value}),l.headers=m;const g=(function(){let v=null;return{promise:new Promise(function(D,O){f&&(v=setTimeout(()=>{v!=null&&(v=null,O(ca.makeError("timeout",re.errors.TIMEOUT,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}})(),b=(function(){return hge(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let C=null;try{if(C=yield dge(c,l),v<n){if(C.statusCode===301||C.statusCode===302){const D=C.headers.location||"";if(l.method==="GET"&&D.match(/^https:/)){c=C.headers.location;continue}}else if(C.statusCode===429){let D=!0;if(i&&(D=yield i(v,c)),D){let O=0;const k=C.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?O=parseInt(k)*1e3:O=s*parseInt(String(Math.random()*Math.pow(2,v))),yield FO(O);continue}}}}catch(D){C=D.response,C==null&&(g.cancel(),ca.throwError("missing response",re.errors.SERVER_ERROR,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,serverError:D,url:c}))}let S=C.body;if(u&&C.statusCode===304?S=null:!o&&(C.statusCode<200||C.statusCode>=300)&&(g.cancel(),ca.throwError("bad response",re.errors.SERVER_ERROR,{status:C.statusCode,headers:C.headers,body:hu(S,C.headers?C.headers["content-type"]:null),requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const D=yield r(S,C);return g.cancel(),D}catch(D){if(D.throttleRetry&&v<n){let O=!0;if(i&&(O=yield i(v,c)),O){const k=s*parseInt(String(Math.random()*Math.pow(2,v)));yield FO(k);continue}}g.cancel(),ca.throwError("processing response error",re.errors.SERVER_ERROR,{body:hu(S,C.headers?C.headers["content-type"]:null),error:D,requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return ca.throwError("failed response",re.errors.SERVER_ERROR,{requestBody:hu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function JS(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(J0(s))}catch(c){ca.throwError("invalid JSON",re.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Qr(e);const s=typeof t=="string"?{url:t}:Bn(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Bn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return gge(t,i,n)}function Kp(t,e){return e||(e={}),e=Bn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}var Mx,BO;function mge(){if(BO)return Mx;BO=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(g){var b=g>>25;return(g&33554431)<<5^-(b>>0&1)&996825010^-(b>>1&1)&642813549^-(b>>2&1)&513874426^-(b>>3&1)&1027748829^-(b>>4&1)&705979059}function s(g){for(var b=1,v=0;v<g.length;++v){var C=g.charCodeAt(v);if(C<33||C>126)return"Invalid prefix ("+g+")";b=i(b)^C>>5}for(b=i(b),v=0;v<g.length;++v){var S=g.charCodeAt(v);b=i(b)^S&31}return b}function o(g,b,v){if(v=v||90,g.length+7+b.length>v)throw new TypeError("Exceeds length limit");g=g.toLowerCase();var C=s(g);if(typeof C=="string")throw new Error(C);for(var S=g+"1",D=0;D<b.length;++D){var O=b[D];if(O>>5!==0)throw new Error("Non 5-bit word");C=i(C)^O,S+=t.charAt(O)}for(D=0;D<6;++D)C=i(C);for(C^=1,D=0;D<6;++D){var k=C>>(5-D)*5&31;S+=t.charAt(k)}return S}function a(g,b){if(b=b||90,g.length<8)return g+" too short";if(g.length>b)return"Exceeds length limit";var v=g.toLowerCase(),C=g.toUpperCase();if(g!==v&&g!==C)return"Mixed-case string "+g;g=v;var S=g.lastIndexOf("1");if(S===-1)return"No separator character for "+g;if(S===0)return"Missing prefix for "+g;var D=g.slice(0,S),O=g.slice(S+1);if(O.length<6)return"Data too short";var k=s(D);if(typeof k=="string")return k;for(var F=[],A=0;A<O.length;++A){var _=O.charAt(A),M=e[_];if(M===void 0)return"Unknown character "+_;k=i(k)^M,!(A+6>=O.length)&&F.push(M)}return k!==1?"Invalid checksum for "+g:{prefix:D,words:F}}function c(){var g=a.apply(null,arguments);if(typeof g=="object")return g}function l(g){var b=a.apply(null,arguments);if(typeof b=="object")return b;throw new Error(b)}function u(g,b,v,C){for(var S=0,D=0,O=(1<<v)-1,k=[],F=0;F<g.length;++F)for(S=S<<b|g[F],D+=b;D>=v;)D-=v,k.push(S>>D&O);if(C)D>0&&k.push(S<<v-D&O);else{if(D>=b)return"Excess padding";if(S<<v-D&O)return"Non-zero padding"}return k}function f(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b}function d(g){var b=u(g,8,5,!0);if(Array.isArray(b))return b;throw new Error(b)}function h(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b}function m(g){var b=u(g,5,8,!1);if(Array.isArray(b))return b;throw new Error(b)}return Mx={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:f,toWords:d,fromWordsUnsafe:h,fromWords:m},Mx}var yge=mge();const jO=Ts(yge),iE="providers/5.7.2",Ip=new re(iE);class Fe{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:Fe.allowNull(this.accessList.bind(this),null),blockHash:Fe.allowNull(o,null),blockNumber:Fe.allowNull(c,null),transactionIndex:Fe.allowNull(c,null),confirmations:Fe.allowNull(c,null),from:r,gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),gasLimit:n,to:Fe.allowNull(r,null),value:n,nonce:c,data:s,r:Fe.allowNull(this.uint256),s:Fe.allowNull(this.uint256),v:Fe.allowNull(c),creates:Fe.allowNull(r,null),raw:Fe.allowNull(s)},e.transactionRequest={from:Fe.allowNull(r),nonce:Fe.allowNull(c),gasLimit:Fe.allowNull(n),gasPrice:Fe.allowNull(n),maxPriorityFeePerGas:Fe.allowNull(n),maxFeePerGas:Fe.allowNull(n),to:Fe.allowNull(r),value:Fe.allowNull(n),data:Fe.allowNull(u),type:Fe.allowNull(c),accessList:Fe.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:Fe.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:Fe.allowNull(this.address,null),from:Fe.allowNull(this.address,null),contractAddress:Fe.allowNull(r,null),transactionIndex:c,root:Fe.allowNull(a),gasUsed:n,logsBloom:Fe.allowNull(s),blockHash:o,transactionHash:o,logs:Fe.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:Fe.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:Fe.allowNull(n),status:Fe.allowNull(c),type:l},e.block={hash:Fe.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:Fe.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Fe.allowNull(r),extraData:s,transactions:Fe.allowNull(Fe.arrayOf(o)),baseFeePerGas:Fe.allowNull(n)},e.blockWithTransactions=Bn(e.block),e.blockWithTransactions.transactions=Fe.allowNull(Fe.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Fe.allowNull(i,void 0),toBlock:Fe.allowNull(i,void 0),blockHash:Fe.allowNull(o,void 0),address:Fe.allowNull(r,void 0),topics:Fe.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Fe.allowNull(c),blockHash:Fe.allowNull(o),transactionIndex:c,removed:Fe.allowNull(this.boolean.bind(this)),address:r,data:Fe.allowFalsish(s,"0x"),topics:Fe.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Q0(e||[])}number(e){return e==="0x"?0:ve.from(e).toNumber()}type(e){return e==="0x"||e==null?0:ve.from(e).toNumber()}bigNumber(e){return ve.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),pt(e))?e.toLowerCase():Ip.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Yt(e)}callAddress(e){if(!pt(e,32))return null;const r=Yt(gn(e,12));return r===Bhe?null:r}contractAddress(e){return l$(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||pt(e))return kS(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Md(n)!==32?Ip.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=ve.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!pt(e))throw new Error("invalid uint256");return sr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Fe.check(r,e);return i._difficulty=n==null?null:ve.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Fe.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&ve.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Fe.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;pt(n)&&(n=ve.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),pt(n)&&(n=ve.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return ype(e)}receiptLog(e){return Fe.check(this.formats.receiptLog,e)}receipt(e){const r=Fe.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=ve.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Ip.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Ip.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Ip.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Fe.check(this.formats.filter,e)}filterLog(e){return Fe.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var et=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ft=new re(iE),bge=10;function HO(t){return t==null?"null":(Md(t)!==32&&ft.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function WO(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[HO(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return HO(e)}).join("&")}function wge(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Ah(t){if(typeof t=="string"){if(t=t.toLowerCase(),Md(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+WO(t);if(F0e.isForkEvent(t))throw ft.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+WO(t.topics||[])}throw new Error("invalid event - "+t)}function Tp(){return new Date().getTime()}function qO(t){return new Promise(e=>{setTimeout(e,t)})}const _ge=["block","network","pending","poll"];let Ege=class{constructor(e,r,n){ue(this,"tag",e),ue(this,"listener",r),ue(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=wge(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||_ge.indexOf(this.tag)>=0}};const vge={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ux(t){return sr(ve.from(t).toHexString(),32)}function zO(t){return Fm.encode(Gt([t,gn(ef(ef(t)),0,4)]))}const tL=new RegExp("^(ipfs)://(.*)$","i"),GO=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),tL,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function dw(t,e){try{return J0(jm(t,e))}catch{}return null}function jm(t,e){if(t==="0x")return null;const r=ve.from(gn(t,e,e+32)).toNumber(),n=ve.from(gn(t,r,r+32)).toNumber();return gn(t,r+32,r+32+n)}function $x(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ft.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function KO(t){const e=de(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function xge(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function rL(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=de(t[n]);e[n]=KO(r),e.push(KO(i.length)),e.push(xge(i)),r+=32+Math.ceil(i.length/32)*32}return Ji(e)}class VO{constructor(e,r,n,i){ue(this,"provider",e),ue(this,"name",n),ue(this,"address",e.formatter.address(r)),ue(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>ve.from(e).eq(1)).catch(e=>{if(e.code===re.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return et(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ji([e,aw(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ji(["0x9061b923",rL([x0e(this.name),n.data])]));try{let s=yield this.provider.call(n);return de(s).length%32===4&&ft.throwError("resolver threw error",re.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=jm(s,0)),s}catch(s){if(s.code===re.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return et(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?jm(n,0):null})}_getAddress(e,r){const n=vge[String(e)];if(n==null&&ft.throwError(`unsupported coin type: ${e}`,re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=de(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return zO(Gt([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return zO(Gt([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=jO.toWords(i.slice(2));return a.unshift(o),jO.encode(n.prefix,a)}}return null}getAddress(e){return et(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===jhe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===re.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",Ux(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&ft.throwError("invalid or unsupported coin data",re.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return et(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<GO.length;n++){const i=r.match(GO[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:$x(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=sr(ve.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Ji(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=ve.from(yield this.provider.call({to:l,data:Ji(["0x00fdd58e",sr(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const f={to:this.provider.formatter.address(c[0]),data:Ji([o,u])};let d=dw(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),s==="erc1155"&&(d=d.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=$x(d)),e.push({type:"metadata-url",content:d});const h=yield JS(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(tL)==null)return null;e.push({type:"url-ipfs",content:m}),m=$x(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return et(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Fm.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Fm.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+E$("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return ft.throwError("invalid or unsupported content hash data",re.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return et(this,void 0,void 0,function*(){let r=Qr(e);r=Gt([Ux(64),Ux(r.length),r]),r.length%32!==0&&(r=Gt([r,sr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",ye(r));return n==null||n==="0x"?null:J0(n)})}}let Lx=null,Age=1;class Cge extends Iy{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ue(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Cs(new.target,"getNetwork")(e);r?(ue(this,"_network",r),this.emit("network",r,null)):ft.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return et(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||ft.throwError("no network detected",re.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ue(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Kp(()=>this._ready().then(e=>e,e=>{if(!(e.code===re.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return Lx==null&&(Lx=new Fe),Lx}static getNetwork(e){return lge(e??"homestead")}ccipReadFetch(e,r,n){return et(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield JS({url:l,errorPassThrough:!0},u,(h,m)=>(h.status=m.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return ft.throwError(`response not found during CCIP fetch: ${d}`,re.errors.SERVER_ERROR,{url:c,errorMessage:d});o.push(d)}return ft.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,re.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return et(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Tp()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Tp(),n=rn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Tp();return i=ve.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return et(this,void 0,void 0,function*(){const e=Age++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ft.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",ft.makeError("network block skew detected",re.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return et(this,void 0,void 0,function*(){return ft.throwError("provider does not support network detection",re.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return et(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield qO(0),this._network;const n=ft.makeError("underlying network changed",re.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Tp();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Tp(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return et(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return et(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||u()||o(d)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const m=g=>et(this,void 0,void 0,function*(){l||(yield qO(1e3),this.getTransactionCount(i.from).then(b=>et(this,void 0,void 0,function*(){if(!l){if(b<=i.nonce)d=g;else{{const v=yield this.getTransaction(e);if(v&&v.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=g;){if(l)return;const v=yield this.getBlockWithTransactions(h);for(let C=0;C<v.transactions.length;C++){const S=v.transactions[C];if(S.hash===e)return;if(S.from===i.from&&S.nonce===i.nonce){if(l)return;const D=yield this.waitForTransaction(S.hash,r);if(u())return;let O="replaced";S.data===i.data&&S.to===i.to&&S.value.eq(i.value)?O="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(O="cancelled"),a(ft.makeError("transaction was replaced",re.errors.TRANSACTION_REPLACED,{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:this._wrapTransaction(S),hash:e,receipt:D}));return}}h++}}l||this.once("block",m)}}),b=>{l||this.once("block",m)}))});if(l)return;this.once("block",m),c.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{u()||a(ft.makeError("timeout exceeded",re.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),c.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return et(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return et(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return ve.from(e)}catch(r){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return ve.from(i)}catch(s){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return ve.from(i).toNumber()}catch(s){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return ye(i)}catch(s){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return et(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield rn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>kS(o))}),s=yield this.perform("getStorageAt",i);try{return ye(s)}catch(o){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Md(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&ft.throwError("Transaction hash mismatch from Provider.sendTransaction.",re.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>et(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&ft.throwError("transaction failed",re.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>ye(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return et(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ve.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?ye(s):null))}),this.formatter.transactionRequest(yield rn(n))})}_getFilter(e){return et(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield rn(r))})}_call(e,r,n){return et(this,void 0,void 0,function*(){n>=bge&&ft.throwError("CCIP read exceeded maximum redirections",re.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Md(s)%32===4)try{const o=gn(s,4),a=gn(o,0,32);ve.from(a).eq(i)||ft.throwError("CCIP Read sender did not match",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=ve.from(gn(o,32,64)).toNumber(),u=ve.from(gn(o,l,l+32)).toNumber(),f=gn(o,l+32);for(let v=0;v<u;v++){const C=dw(f,v*32);C==null&&ft.throwError("CCIP Read contained corrupt URL string",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(C)}const d=jm(o,64);ve.from(gn(o,100,128)).isZero()||ft.throwError("CCIP Read callback selector included junk",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const h=gn(o,96,100),m=jm(o,128),g=yield this.ccipReadFetch(e,d,c);g==null&&ft.throwError("CCIP Read disabled or provided no URLs",re.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const b={to:i,data:Ji([h,rL([g,m])])};return this._call(b,r,n+1)}catch(o){if(o.code===re.errors.SERVER_ERROR)throw o}try{return ye(s)}catch(o){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield rn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return ve.from(n)}catch(i){return ft.throwError("bad result from backend",re.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return et(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&ft.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&ft.throwError("ENS name not configured",re.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(pt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),pt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{ft.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Kp(()=>et(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Kp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return et(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Kp(()=>et(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return et(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield rn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Fe.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return et(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return et(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&ft.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return et(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new VO(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return et(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||ft.throwError("network does not support ENS",re.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+aw(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return et(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(pt(e))throw n}typeof e!="string"&&ft.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return et(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=dw(yield this.call({to:n,data:"0x691f3431"+aw(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return et(this,void 0,void 0,function*(){let r=null;if(pt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new VO(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a}try{const a=dw(yield this.call({to:o,data:"0x691f3431"+aw(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==re.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return ft.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new Ege(Ah(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Ah(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Ah(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Ah(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Ah(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Ah(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var dl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const hn=new re(iE),Nge=["call","estimateGas"];function Ag(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=pt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Ag(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Ag(JSON.parse(t),e)}catch{}return null}function nL(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Ag(e,!0);if(s)return s.data;hn.throwError("missing revert data in call exception; Transaction reverted without a reason string",re.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Ag(e.body,!1);s==null&&(s=Ag(e,!1)),s&&hn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===re.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&hn.throwError("insufficient funds for intrinsic transaction cost",re.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&hn.throwError("nonce has already been used",re.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&hn.throwError("replacement fee too low",re.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&hn.throwError("legacy pre-eip-155 transactions not supported",re.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),Nge.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&hn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",re.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function JO(t){return new Promise(function(e){setTimeout(e,t)})}function Sge(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Rp(t){return t&&t.toLowerCase()}const xC={};class iL extends Y0{constructor(e,r,n){if(super(),e!==xC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ue(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ue(this,"_address",this.provider.formatter.address(n)),ue(this,"_index",null)):typeof n=="number"?(ue(this,"_index",n),ue(this,"_address",null)):hn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return hn.throwError("cannot alter JSON-RPC Signer connection",re.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ige(xC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&hn.throwError("unknown account #"+this._index,re.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Bn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Bn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>dl(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&hn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),rn({tx:rn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&hn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&hn.throwError("user rejected transaction",re.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),nL("sendTransaction",o,s)))})}signTransaction(e){return hn.throwError("signing transactions is unsupported",re.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return dl(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Kp(()=>dl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return dl(this,void 0,void 0,function*(){const r=typeof e=="string"?Qr(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ye(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return dl(this,void 0,void 0,function*(){const r=typeof e=="string"?Qr(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),ye(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return dl(this,void 0,void 0,function*(){const i=yield $m.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify($m.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&hn.throwError("user rejected signing",re.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return dl(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class Ige extends iL{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const Tge={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Cg extends Cge{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Cs(this.constructor,"defaultUrl")()),typeof e=="string"?ue(this,"connection",Object.freeze({url:e})):ue(this,"connection",Object.freeze(Bn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return dl(this,void 0,void 0,function*(){yield JO(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Cs(this.constructor,"getNetwork");try{return r(ve.from(e).toNumber())}catch(n){return hn.throwError("could not detect network",re.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return hn.throwError("could not detect network",re.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new iL(xC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:jl(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=JS(this.connection,JSON.stringify(n),Sge).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Rp(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Rp(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Rp(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Rp(r.address),sr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Cs(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Cs(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Rp(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return dl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&ve.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Bn(r),r.transaction=Bn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&hn.throwError(e+" not implemented",re.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return nL(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return JO(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Bn(Tge);if(r)for(const s in r)r[s]&&(n[s]=!0);r$(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=kS(ve.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=ye(e[s]))}),e.accessList&&(i.accessList=Q0(e.accessList)),i}}const YO=new re(iE);let Rge=1;function XO(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:Rge++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:jl(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function Pge(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:jl(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class u0 extends Cg{constructor(e,r){e==null&&YO.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=Pge(e)):e.sendAsync?i=XO(e,e.sendAsync.bind(e)):e.send?i=XO(e,e.send.bind(e)):YO.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ue(this,"jsonRpcFetchFunc",i),ue(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const Oy="abi/5.7.0",Nt=new re(Oy),Ld={};let QO={calldata:!0,memory:!0,storage:!0},Oge={calldata:!0,memory:!0};function Cb(t,e){if(t==="bytes"||t==="string"){if(QO[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&Oge[e])return!0;return(QO[e]||e==="payable")&&Nt.throwArgumentError("invalid modifier","name",e),!1}function Dge(t,e){let r=t;function n(a){Nt.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=jh(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Cb(o.type,o.name)&&(o.name=""),o.type=jh(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Cb(o.type,o.name)&&(o.name=""),o.type=jh(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=jh(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Cb(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&Nt.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Cb(o.type,o.name)&&(o.name=""),s.type=jh(s.type),s}function hw(t,e){for(let r in e)ue(t,r,e[r])}const kt=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),kge=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ln{constructor(e,r){e!==Ld&&Nt.throwError("use fromString",re.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),hw(this,r);let n=this.type.match(kge);n?hw(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Ln.fromObject({type:n[1],components:this.components}),baseType:"array"}):hw(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==kt.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===kt.full?", ":",")+")"):r+=this.type,e!==kt.sighash&&(this.indexed===!0&&(r+=" indexed"),e===kt.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Ln.fromString(e,r):Ln.fromObject(e)}static fromObject(e){return Ln.isParamType(e)?e:new Ln(Ld,{name:e.name||null,type:jh(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ln.fromObject):null})}static fromString(e,r){function n(i){return Ln.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(Dge(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Hm(t,e){return Uge(t).map(r=>Ln.fromString(r,e))}class Tc{constructor(e,r){e!==Ld&&Nt.throwError("use a static from method",re.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),hw(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return Tc.isFragment(e)?e:typeof e=="string"?Tc.fromString(e):Tc.fromObject(e)}static fromObject(e){if(Tc.isFragment(e))return e;switch(e.type){case"function":return La.fromObject(e);case"event":return Cc.fromObject(e);case"constructor":return $a.fromObject(e);case"error":return Al.fromObject(e);case"fallback":case"receive":return null}return Nt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Cc.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?La.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?$a.fromString(e.trim()):e.split(" ")[0]==="error"?Al.fromString(e.substring(5).trim()):Nt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Cc extends Tc{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?Cc.fromString(e):Cc.fromObject(e)}static fromObject(e){if(Cc.isEventFragment(e))return e;e.type!=="event"&&Nt.throwArgumentError("invalid event object","value",e);const r={name:Wm(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],type:"event"};return new Cc(Ld,r)}static fromString(e){let r=e.match(qm);r||Nt.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Nt.warn("unknown modifier: "+i)}}),Cc.fromObject({name:r[1].trim(),anonymous:n,inputs:Hm(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function sL(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Nt.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Nt.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ve.from(r[1]),r[0]):t}function oL(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function aL(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Nt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Nt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Nt.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Nt.throwArgumentError("unable to determine stateMutability","value",t),e}class $a extends Tc{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===kt.sighash&&Nt.throwError("cannot format a constructor for sighash",re.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?$a.fromString(e):$a.fromObject(e)}static fromObject(e){if($a.isConstructorFragment(e))return e;e.type!=="constructor"&&Nt.throwArgumentError("invalid constructor object","value",e);let r=aL(e);r.constant&&Nt.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new $a(Ld,n)}static fromString(e){let r={type:"constructor"};e=sL(e,r);let n=e.match(qm);return(!n||n[1].trim()!=="constructor")&&Nt.throwArgumentError("invalid constructor string","value",e),r.inputs=Hm(n[2].trim(),!1),oL(n[3].trim(),r),$a.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class La extends $a{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",e!==kt.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?La.fromString(e):La.fromObject(e)}static fromObject(e){if(La.isFunctionFragment(e))return e;e.type!=="function"&&Nt.throwArgumentError("invalid function object","value",e);let r=aL(e);const n={type:e.type,name:Wm(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Ln.fromObject):[],outputs:e.outputs?e.outputs.map(Ln.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?ve.from(e.gas):null};return new La(Ld,n)}static fromString(e){let r={type:"function"};e=sL(e,r);let n=e.split(" returns ");n.length>2&&Nt.throwArgumentError("invalid function string","value",e);let i=n[0].match(qm);if(i||Nt.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Wm(r.name),r.inputs=Hm(i[2],!1),oL(i[3].trim(),r),n.length>1){let s=n[1].match(qm);(s[1].trim()!=""||s[3].trim()!="")&&Nt.throwArgumentError("unexpected tokens","value",e),r.outputs=Hm(s[2],!1)}else r.outputs=[];return La.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function ZO(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Nt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Al extends Tc{format(e){if(e||(e=kt.sighash),kt[e]||Nt.throwArgumentError("invalid format type","format",e),e===kt.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==kt.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===kt.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Al.fromString(e):Al.fromObject(e)}static fromObject(e){if(Al.isErrorFragment(e))return e;e.type!=="error"&&Nt.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Wm(e.name),inputs:e.inputs?e.inputs.map(Ln.fromObject):[]};return ZO(new Al(Ld,r))}static fromString(e){let r={type:"error"},n=e.match(qm);return n||Nt.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Wm(r.name),r.inputs=Hm(n[2],!1),ZO(Al.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function jh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const Mge=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Wm(t){return(!t||!t.match(Mge))&&Nt.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const qm=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Uge(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Nt.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const YS=new re(Oy);function $ge(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class Gl{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){YS.throwArgumentError(e,this.localName,r)}}class AC{constructor(e){ue(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Ji(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Gt(e._data))}writeBytes(e){let r=de(e);const n=r.length%this.wordSize;return n&&(r=Gt([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=de(ve.from(e));return r.length>this.wordSize&&YS.throwError("value out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Gt([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class K1{constructor(e,r,n,i){ue(this,"_data",de(e)),ue(this,"wordSize",r||32),ue(this,"_coerceFunc",n),ue(this,"allowLoose",i),this._offset=0}get data(){return ye(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):K1.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:YS.throwError("data out-of-bounds",re.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new K1(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return ve.from(this.readBytes(this.wordSize))}}class Lge extends Gl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Yt(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Yt(sr(e.readValue().toHexString(),20))}}class Fge extends Gl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Zh=new re(Oy);function cL(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Zh.throwError("cannot encode object for signature with missing names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Zh.throwError("cannot encode object for signature with duplicate names",re.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Zh.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Zh.throwArgumentError("types/value length mismatch","tuple",r);let i=new AC(t.wordSize),s=new AC(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function lL(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===re.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===re.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class Bge extends Gl{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Zh.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return cL(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Zh.throwError("insufficient data length",re.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new Fge(this.coder));return e.coerce(this.name,lL(e,n))}}class jge extends Gl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class uL extends Gl{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=de(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Hge extends uL{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ye(super.decode(e)))}}class Wge extends Gl{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=de(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,ye(e.readBytes(this.size)))}}class qge extends Gl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class zge extends Gl{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=ve.from(r),i=g$.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(p$).mul(h$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(FS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class Gge extends uL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Qr(r))}decode(e){return J0(super.decode(e))}}class Nb extends Gl{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return cL(e,this.coders,r)}decode(e){return e.coerce(this.name,lL(e,this.coders))}}const Sb=new re(Oy),Kge=new RegExp(/^bytes([0-9]*)$/),Vge=new RegExp(/^(u?int)([0-9]*)$/);class fL{constructor(e){ue(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Lge(e.name);case"bool":return new jge(e.name);case"string":return new Gge(e.name);case"bytes":return new Hge(e.name);case"array":return new Bge(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Nb((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new qge(e.name)}let r=e.type.match(Vge);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Sb.throwArgumentError("invalid "+r[1]+" bit length","param",e),new zge(n/8,r[1]==="int",e.name)}if(r=e.type.match(Kge),r){let n=parseInt(r[1]);return(n===0||n>32)&&Sb.throwArgumentError("invalid bytes length","param",e),new Wge(n,e.name)}return Sb.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new K1(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new AC(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Ln.from(i)));return new Nb(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Sb.throwError("types/values length mismatch",re.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Ln.from(o))),i=new Nb(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Ln.from(o)));return new Nb(i,"_").decode(this._getReader(de(r),n))}}const dL=new fL,Hr=new re(Oy);class hL extends Zs{}class pL extends Zs{}class Jge extends Zs{}class CC extends Zs{static isIndexed(e){return!!(e&&e._isIndexed)}}const Yge={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function e5(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class Xge{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ue(this,"fragments",r.map(n=>Tc.from(n)).filter(n=>n!=null)),ue(this,"_abiCoder",Cs(new.target,"getAbiCoder")()),ue(this,"functions",{}),ue(this,"errors",{}),ue(this,"events",{}),ue(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Hr.warn("duplicate definition - constructor");return}ue(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Hr.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||ue(this,"deploy",$a.from({payable:!1,type:"constructor"})),ue(this,"_isInterface",!0)}format(e){e||(e=kt.full),e===kt.sighash&&Hr.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===kt.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return dL}static getAddress(e){return Yt(e)}static getSighash(e){return gn(Ha(e.format()),0,4)}static getEventTopic(e){return Ha(e.format())}getFunction(e){if(pt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Hr.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Hr.throwArgumentError("no matching function","name",n):i.length>1&&Hr.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[La.fromString(e).format()];return r||Hr.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(pt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Hr.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Hr.throwArgumentError("no matching event","name",n):i.length>1&&Hr.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[Cc.fromString(e).format()];return r||Hr.throwArgumentError("no matching event","signature",e),r}getError(e){if(pt(e)){const n=Cs(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Hr.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Hr.throwArgumentError("no matching error","name",n):i.length>1&&Hr.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[La.fromString(e).format()];return r||Hr.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Cs(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Cs(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Hr.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=de(r);return ye(n.slice(0,4))!==this.getSighash(e)&&Hr.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ye(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(Gt([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=de(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=ye(n.slice(0,4)),u=Yge[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Hr.throwError("call revert exception"+s,re.errors.CALL_EXCEPTION,{method:e.format(),data:ye(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),ye(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Hr.throwError("too many arguments for "+e.format(),re.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Ha(o):s.type==="bytes"?zt(ye(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=ve.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),sr(ye(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Hr.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Hr.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Hr.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(Ha(c));else if(o.type==="bytes")n.push(zt(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!pt(n[0],32)||n[0].toLowerCase()!==d)&&Hr.throwError("fragment/topic mismatch",re.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Ln.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Gt(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(a==null)l[h]=new CC({_isIndexed:!0,hash:null});else if(o[h])l[h]=new CC({_isIndexed:!0,hash:a[f++]});else try{l[h]=a[f++]}catch(m){l[h]=m}else try{l[h]=c[u++]}catch(m){l[h]=m}if(d.name&&l[d.name]==null){const m=l[h];m instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw e5(`property ${JSON.stringify(d.name)}`,m)}}):l[d.name]=m}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw e5(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new pL({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:ve.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new hL({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=ye(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Jge({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Qge=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:fL,ConstructorFragment:$a,ErrorFragment:Al,EventFragment:Cc,FormatTypes:kt,Fragment:Tc,FunctionFragment:La,Indexed:CC,Interface:Xge,LogDescription:hL,ParamType:Ln,TransactionDescription:pL,checkResultErrors:$ge,defaultAbiCoder:dL},Symbol.toStringTag,{value:"Module"})),Zge="logger/5.8.0";let t5=!1,r5=!1;const pw={debug:1,default:2,info:2,warning:3,error:4,off:5};let n5=pw.default,Fx=null;function eme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const i5=eme();var NC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(NC||(NC={}));var ba;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ba||(ba={}));const s5="0123456789abcdef";let qa=class _n{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();pw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(n5>pw[n])&&console.log.apply(console,r)}debug(...e){this._log(_n.levels.DEBUG,e)}info(...e){this._log(_n.levels.INFO,e)}warn(...e){this._log(_n.levels.WARNING,e)}makeError(e,r,n){if(r5)return this.makeError("censored error",r,{});r||(r=_n.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=s5[l[f]>>4],u+=s5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ba.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ba.CALL_EXCEPTION:case ba.INSUFFICIENT_FUNDS:case ba.MISSING_NEW:case ba.NONCE_EXPIRED:case ba.REPLACEMENT_UNDERPRICED:case ba.TRANSACTION_REPLACED:case ba.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,_n.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){i5&&this.throwError("platform missing String.prototype.normalize",_n.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:i5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,_n.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,_n.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,_n.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",_n.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",_n.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Fx||(Fx=new _n(Zge)),Fx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),t5){if(!e)return;this.globalLogger().throwError("error censorship permanent",_n.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}r5=!!e,t5=!!r}static setLogLevel(e){const r=pw[e.toLowerCase()];if(r==null){_n.globalLogger().warn("invalid log level - "+e);return}n5=r}static from(e){return new _n(e)}};qa.errors=ba;qa.levels=NC;const tme="bytes/5.8.0",_d=new qa(tme);function gL(t){return!!t.toHexString}function Ng(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ng(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function rme(t){return rf(t)&&!(t.length%2)||sE(t)}function o5(t){return typeof t=="number"&&t==t&&t%1===0}function sE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!o5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!o5(r)||r<0||r>=256)return!1}return!0}function ep(t,e){if(e||(e={}),typeof t=="number"){_d.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ng(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t)&&(t=t.toHexString()),rf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":_d.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ng(new Uint8Array(n))}return sE(t)?Ng(new Uint8Array(t)):_d.throwArgumentError("invalid arrayify value","value",t)}function nme(t){const e=t.map(i=>ep(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ng(n)}function ime(t){let e=ep(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function rf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Bx="0123456789abcdef";function oE(t,e){if(e||(e={}),typeof t=="number"){_d.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Bx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gL(t))return t.toHexString();if(rf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":_d.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(sE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Bx[(i&240)>>4]+Bx[i&15]}return r}return _d.throwArgumentError("invalid hexlify value","value",t)}function a5(t){if(typeof t!="string")t=oE(t);else if(!rf(t)||t.length%2)return null;return(t.length-2)/2}function mL(t,e,r){return typeof t!="string"?t=oE(t):(!rf(t)||t.length%2)&&_d.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}const sme="bignumber/5.8.0";var zm=te.BN;const hl=new qa(sme),jx={},c5=9007199254740991;let l5=!1,XS=class la{constructor(e,r){e!==jx&&hl.throwError("cannot call constructor directly; use BigNumber.from",qa.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ls(yt(this).fromTwos(e))}toTwos(e){return ls(yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?la.from(this._hex.substring(1)):this}add(e){return ls(yt(this).add(yt(e)))}sub(e){return ls(yt(this).sub(yt(e)))}div(e){return la.from(e).isZero()&&uo("division-by-zero","div"),ls(yt(this).div(yt(e)))}mul(e){return ls(yt(this).mul(yt(e)))}mod(e){const r=yt(e);return r.isNeg()&&uo("division-by-zero","mod"),ls(yt(this).umod(r))}pow(e){const r=yt(e);return r.isNeg()&&uo("negative-power","pow"),ls(yt(this).pow(r))}and(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","and"),ls(yt(this).and(r))}or(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","or"),ls(yt(this).or(r))}xor(e){const r=yt(e);return(this.isNegative()||r.isNeg())&&uo("unbound-bitwise-result","xor"),ls(yt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&uo("negative-width","mask"),ls(yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&uo("negative-width","shl"),ls(yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&uo("negative-width","shr"),ls(yt(this).shrn(e))}eq(e){return yt(this).eq(yt(e))}lt(e){return yt(this).lt(yt(e))}lte(e){return yt(this).lte(yt(e))}gt(e){return yt(this).gt(yt(e))}gte(e){return yt(this).gte(yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return yt(this).isZero()}toNumber(){try{return yt(this).toNumber()}catch{uo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return hl.throwError("this platform does not support BigInt",qa.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?l5||(l5=!0,hl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?hl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",qa.errors.UNEXPECTED_ARGUMENT,{}):hl.throwError("BigNumber.toString does not accept parameters",qa.errors.UNEXPECTED_ARGUMENT,{})),yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof la)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new la(jx,Gm(e)):e.match(/^-?[0-9]+$/)?new la(jx,Gm(new zm(e))):hl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&uo("underflow","BigNumber.from",e),(e>=c5||e<=-c5)&&uo("overflow","BigNumber.from",e),la.from(String(e));const r=e;if(typeof r=="bigint")return la.from(r.toString());if(sE(r))return la.from(oE(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return la.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(rf(n)||n[0]==="-"&&rf(n.substring(1))))return la.from(n)}return hl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Gm(t){if(typeof t!="string")return Gm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&hl.throwArgumentError("invalid hex","value",t),t=Gm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ls(t){return XS.from(Gm(t))}function yt(t){const e=XS.from(t).toHexString();return e[0]==="-"?new zm("-"+e.substring(3),16):new zm(e.substring(2),16)}function uo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),hl.throwError(t,qa.errors.NUMERIC_FAULT,n)}function ome(t){return new zm(t,36).toString(16)}function ame(t){return new zm(t,16).toString(36)}function QS(t){return"0x"+V0.keccak_256(ep(t))}const cme="rlp/5.8.0",lme=new qa(cme);function u5(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function yL(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(yL(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=u5(n.length);return i.unshift(247+i.length),i.concat(n)}rme(t)||lme.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ep(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=u5(e.length);return r.unshift(183+r.length),r.concat(e)}function ume(t){return oE(yL(t))}const fme="address/5.7.0",$u=new qa(fme);function f5(t){rf(t,20)||$u.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ep(QS(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const dme=9007199254740991;function hme(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const ZS={};for(let t=0;t<10;t++)ZS[String(t)]=String(t);for(let t=0;t<26;t++)ZS[String.fromCharCode(65+t)]=String(10+t);const d5=Math.floor(hme(dme));function bL(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>ZS[n]).join("");for(;e.length>=d5;){let n=e.substring(0,d5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function nf(t){let e=null;if(typeof t!="string"&&$u.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=f5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&$u.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==bL(t)&&$u.throwArgumentError("bad icap checksum","address",t),e=ome(t.substring(4));e.length<40;)e="0"+e;e=f5("0x"+e)}else $u.throwArgumentError("invalid address","address",t);return e}function pme(t){try{return nf(t),!0}catch{}return!1}function gme(t){let e=ame(nf(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+bL("XE00"+e)+e}function mme(t){let e=null;try{e=nf(t.from)}catch{$u.throwArgumentError("missing from address","transaction",t)}const r=ime(ep(XS.from(t.nonce).toHexString()));return nf(mL(QS(ume([e,r])),12))}function yme(t,e,r){return a5(e)!==32&&$u.throwArgumentError("salt must be 32 bytes","salt",e),a5(r)!==32&&$u.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),nf(mL(QS(nme(["0xff",nf(t),e,r])),12))}const bme=Object.freeze(Object.defineProperty({__proto__:null,getAddress:nf,getContractAddress:mme,getCreate2Address:yme,getIcapAddress:gme,isAddress:pme},Symbol.toStringTag,{value:"Module"})),wme="logger/5.8.0";let h5=!1,p5=!1;const gw={debug:1,default:2,info:2,warning:3,error:4,off:5};let g5=gw.default,Hx=null;function _me(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m5=_me();var SC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(SC||(SC={}));var wa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(wa||(wa={}));const y5="0123456789abcdef";let eI=class En{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();gw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g5>gw[n])&&console.log.apply(console,r)}debug(...e){this._log(En.levels.DEBUG,e)}info(...e){this._log(En.levels.INFO,e)}warn(...e){this._log(En.levels.WARNING,e)}makeError(e,r,n){if(p5)return this.makeError("censored error",r,{});r||(r=En.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y5[l[f]>>4],u+=y5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case wa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case wa.CALL_EXCEPTION:case wa.INSUFFICIENT_FUNDS:case wa.MISSING_NEW:case wa.NONCE_EXPIRED:case wa.REPLACEMENT_UNDERPRICED:case wa.TRANSACTION_REPLACED:case wa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,En.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m5&&this.throwError("platform missing String.prototype.normalize",En.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,En.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,En.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,En.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",En.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",En.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Hx||(Hx=new En(wme)),Hx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h5){if(!e)return;this.globalLogger().throwError("error censorship permanent",En.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p5=!!e,h5=!!r}static setLogLevel(e){const r=gw[e.toLowerCase()];if(r==null){En.globalLogger().warn("invalid log level - "+e);return}g5=r}static from(e){return new En(e)}};eI.errors=wa;eI.levels=SC;const Eme="bytes/5.8.0",Wx=new eI(Eme);function vme(t){return!!t.toHexString}function mw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return mw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function b5(t){return typeof t=="number"&&t==t&&t%1===0}function xme(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!b5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!b5(r)||r<0||r>=256)return!1}return!0}function wL(t,e){if(e||(e={}),typeof t=="number"){Wx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),mw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),vme(t)&&(t=t.toHexString()),Ame(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Wx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return mw(new Uint8Array(n))}return xme(t)?mw(new Uint8Array(t)):Wx.throwArgumentError("invalid arrayify value","value",t)}function Ame(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Cme(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return wL(e)}function Nme(t){t=wL(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const Sme=Object.freeze(Object.defineProperty({__proto__:null,decode:Cme,encode:Nme},Symbol.toStringTag,{value:"Module"})),Ime="logger/5.8.0";let w5=!1,_5=!1;const yw={debug:1,default:2,info:2,warning:3,error:4,off:5};let E5=yw.default,qx=null;function Tme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const v5=Tme();var IC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(IC||(IC={}));var _a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(_a||(_a={}));const x5="0123456789abcdef";let tI=class vn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();yw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E5>yw[n])&&console.log.apply(console,r)}debug(...e){this._log(vn.levels.DEBUG,e)}info(...e){this._log(vn.levels.INFO,e)}warn(...e){this._log(vn.levels.WARNING,e)}makeError(e,r,n){if(_5)return this.makeError("censored error",r,{});r||(r=vn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=x5[l[f]>>4],u+=x5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case _a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case _a.CALL_EXCEPTION:case _a.INSUFFICIENT_FUNDS:case _a.MISSING_NEW:case _a.NONCE_EXPIRED:case _a.REPLACEMENT_UNDERPRICED:case _a.TRANSACTION_REPLACED:case _a.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,vn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){v5&&this.throwError("platform missing String.prototype.normalize",vn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:v5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,vn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,vn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,vn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",vn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",vn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return qx||(qx=new vn(Ime)),qx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w5){if(!e)return;this.globalLogger().throwError("error censorship permanent",vn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_5=!!e,w5=!!r}static setLogLevel(e){const r=yw[e.toLowerCase()];if(r==null){vn.globalLogger().warn("invalid log level - "+e);return}E5=r}static from(e){return new vn(e)}};tI.errors=_a;tI.levels=IC;const Rme="bytes/5.8.0",zx=new tI(Rme);function Pme(t){return!!t.toHexString}function bw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return bw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function A5(t){return typeof t=="number"&&t==t&&t%1===0}function Ome(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!A5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!A5(r)||r<0||r>=256)return!1}return!0}function C5(t,e){if(e||(e={}),typeof t=="number"){zx.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),bw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Pme(t)&&(t=t.toHexString()),Dme(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":zx.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return bw(new Uint8Array(n))}return Ome(t)?bw(new Uint8Array(t)):zx.throwArgumentError("invalid arrayify value","value",t)}function Dme(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Ib(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let rI=class{constructor(e){Ib(this,"alphabet",e),Ib(this,"base",e.length),Ib(this,"_alphabetMap",{}),Ib(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=C5(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return C5(new Uint8Array(r.reverse()))}};const kme=new rI("abcdefghijklmnopqrstuvwxyz234567"),Mme=new rI("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Ume=Object.freeze(Object.defineProperty({__proto__:null,Base32:kme,Base58:Mme,BaseX:rI},Symbol.toStringTag,{value:"Module"})),$me="logger/5.8.0";let N5=!1,S5=!1;const ww={debug:1,default:2,info:2,warning:3,error:4,off:5};let I5=ww.default,Gx=null;function Lme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const T5=Lme();var TC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(TC||(TC={}));var Ea;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ea||(Ea={}));const R5="0123456789abcdef";let nI=class xn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();ww[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(I5>ww[n])&&console.log.apply(console,r)}debug(...e){this._log(xn.levels.DEBUG,e)}info(...e){this._log(xn.levels.INFO,e)}warn(...e){this._log(xn.levels.WARNING,e)}makeError(e,r,n){if(S5)return this.makeError("censored error",r,{});r||(r=xn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=R5[l[f]>>4],u+=R5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ea.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ea.CALL_EXCEPTION:case Ea.INSUFFICIENT_FUNDS:case Ea.MISSING_NEW:case Ea.NONCE_EXPIRED:case Ea.REPLACEMENT_UNDERPRICED:case Ea.TRANSACTION_REPLACED:case Ea.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,xn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){T5&&this.throwError("platform missing String.prototype.normalize",xn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,xn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,xn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,xn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Gx||(Gx=new xn($me)),Gx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),N5){if(!e)return;this.globalLogger().throwError("error censorship permanent",xn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S5=!!e,N5=!!r}static setLogLevel(e){const r=ww[e.toLowerCase()];if(r==null){xn.globalLogger().warn("invalid log level - "+e);return}I5=r}static from(e){return new xn(e)}};nI.errors=Ea;nI.levels=TC;const Fme="bytes/5.7.0",Xr=new nI(Fme);function _L(t){return!!t.toHexString}function f0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return f0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function EL(t){return To(t)&&!(t.length%2)||aE(t)}function P5(t){return typeof t=="number"&&t==t&&t%1===0}function aE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!P5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!P5(r)||r<0||r>=256)return!1}return!0}function Ed(t,e){if(e||(e={}),typeof t=="number"){Xr.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),f0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_L(t)&&(t=t.toHexString()),To(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Xr.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return f0(new Uint8Array(n))}return aE(t)?f0(new Uint8Array(t)):Xr.throwArgumentError("invalid arrayify value","value",t)}function vL(t){const e=t.map(i=>Ed(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),f0(n)}function Bme(t){let e=Ed(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function xL(t,e){t=Ed(t),t.length>e&&Xr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),f0(r)}function To(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Kx="0123456789abcdef";function ci(t,e){if(e||(e={}),typeof t=="number"){Xr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Kx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),_L(t))return t.toHexString();if(To(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Xr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(aE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Kx[(i&240)>>4]+Kx[i&15]}return r}return Xr.throwArgumentError("invalid hexlify value","value",t)}function jme(t){if(typeof t!="string")t=ci(t);else if(!To(t)||t.length%2)return null;return(t.length-2)/2}function Hme(t,e,r){return typeof t!="string"?t=ci(t):(!To(t)||t.length%2)&&Xr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Wme(t){let e="0x";return t.forEach(r=>{e+=ci(r).substring(2)}),e}function qme(t){const e=AL(ci(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function AL(t){typeof t!="string"&&(t=ci(t)),To(t)||Xr.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function _w(t,e){for(typeof t!="string"?t=ci(t):To(t)||Xr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Xr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function CL(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(EL(t)){let r=Ed(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64))):r.length===65?(e.r=ci(r.slice(0,32)),e.s=ci(r.slice(32,64)),e.v=r[64]):Xr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Xr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ci(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=xL(Ed(e._vs),32);e._vs=ci(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Xr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ci(i);e.s==null?e.s=o:e.s!==o&&Xr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Xr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Xr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!To(e.r)?Xr.throwArgumentError("signature missing or invalid r","signature",t):e.r=_w(e.r,32),e.s==null||!To(e.s)?Xr.throwArgumentError("signature missing or invalid s","signature",t):e.s=_w(e.s,32);const r=Ed(e.s);r[0]>=128&&Xr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ci(r);e._vs&&(To(e._vs)||Xr.throwArgumentError("signature invalid _vs","signature",t),e._vs=_w(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Xr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function zme(t){return t=CL(t),ci(vL([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Gme=Object.freeze(Object.defineProperty({__proto__:null,arrayify:Ed,concat:vL,hexConcat:Wme,hexDataLength:jme,hexDataSlice:Hme,hexStripZeros:AL,hexValue:qme,hexZeroPad:_w,hexlify:ci,isBytes:aE,isBytesLike:EL,isHexString:To,joinSignature:zme,splitSignature:CL,stripZeros:Bme,zeroPad:xL},Symbol.toStringTag,{value:"Module"})),Kme="logger/5.8.0";let O5=!1,D5=!1;const Ew={debug:1,default:2,info:2,warning:3,error:4,off:5};let k5=Ew.default,Vx=null;function Vme(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const M5=Vme();var RC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(RC||(RC={}));var va;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(va||(va={}));const U5="0123456789abcdef";let Ns=class An{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Ew[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(k5>Ew[n])&&console.log.apply(console,r)}debug(...e){this._log(An.levels.DEBUG,e)}info(...e){this._log(An.levels.INFO,e)}warn(...e){this._log(An.levels.WARNING,e)}makeError(e,r,n){if(D5)return this.makeError("censored error",r,{});r||(r=An.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=U5[l[f]>>4],u+=U5[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case va.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case va.CALL_EXCEPTION:case va.INSUFFICIENT_FUNDS:case va.MISSING_NEW:case va.NONCE_EXPIRED:case va.REPLACEMENT_UNDERPRICED:case va.TRANSACTION_REPLACED:case va.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,An.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){M5&&this.throwError("platform missing String.prototype.normalize",An.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:M5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,An.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,An.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",An.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Vx||(Vx=new An(Kme)),Vx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),O5){if(!e)return;this.globalLogger().throwError("error censorship permanent",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}D5=!!e,O5=!!r}static setLogLevel(e){const r=Ew[e.toLowerCase()];if(r==null){An.globalLogger().warn("invalid log level - "+e);return}k5=r}static from(e){return new An(e)}};Ns.errors=va;Ns.levels=RC;const Jme="bytes/5.8.0",ju=new Ns(Jme);function NL(t){return!!t.toHexString}function Sg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function $5(t){return typeof t=="number"&&t==t&&t%1===0}function iI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!$5(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!$5(r)||r<0||r>=256)return!1}return!0}function Wc(t,e){if(e||(e={}),typeof t=="number"){ju.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),NL(t)&&(t=t.toHexString()),sf(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":ju.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sg(new Uint8Array(n))}return iI(t)?Sg(new Uint8Array(t)):ju.throwArgumentError("invalid arrayify value","value",t)}function sI(t){const e=t.map(i=>Wc(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Sg(n)}function sf(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Jx="0123456789abcdef";function mf(t,e){if(e||(e={}),typeof t=="number"){ju.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Jx[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),NL(t))return t.toHexString();if(sf(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ju.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(iI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Jx[(i&240)>>4]+Jx[i&15]}return r}return ju.throwArgumentError("invalid hexlify value","value",t)}function vw(t){let e="0x";return t.forEach(r=>{e+=mf(r).substring(2)}),e}function V1(t,e){for(typeof t!="string"?t=mf(t):sf(t)||ju.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ju.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Fa(t){return"0x"+V0.keccak_256(Wc(t))}const Yme="bignumber/5.8.0";var J1=te.BN;const pl=new Ns(Yme),Yx={},L5=9007199254740991;let F5=!1,Kl=class ua{constructor(e,r){e!==Yx&&pl.throwError("cannot call constructor directly; use BigNumber.from",Ns.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return us(bt(this).fromTwos(e))}toTwos(e){return us(bt(this).toTwos(e))}abs(){return this._hex[0]==="-"?ua.from(this._hex.substring(1)):this}add(e){return us(bt(this).add(bt(e)))}sub(e){return us(bt(this).sub(bt(e)))}div(e){return ua.from(e).isZero()&&fo("division-by-zero","div"),us(bt(this).div(bt(e)))}mul(e){return us(bt(this).mul(bt(e)))}mod(e){const r=bt(e);return r.isNeg()&&fo("division-by-zero","mod"),us(bt(this).umod(r))}pow(e){const r=bt(e);return r.isNeg()&&fo("negative-power","pow"),us(bt(this).pow(r))}and(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","and"),us(bt(this).and(r))}or(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","or"),us(bt(this).or(r))}xor(e){const r=bt(e);return(this.isNegative()||r.isNeg())&&fo("unbound-bitwise-result","xor"),us(bt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&fo("negative-width","mask"),us(bt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fo("negative-width","shl"),us(bt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fo("negative-width","shr"),us(bt(this).shrn(e))}eq(e){return bt(this).eq(bt(e))}lt(e){return bt(this).lt(bt(e))}lte(e){return bt(this).lte(bt(e))}gt(e){return bt(this).gt(bt(e))}gte(e){return bt(this).gte(bt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return bt(this).isZero()}toNumber(){try{return bt(this).toNumber()}catch{fo("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return pl.throwError("this platform does not support BigInt",Ns.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?F5||(F5=!0,pl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?pl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ns.errors.UNEXPECTED_ARGUMENT,{}):pl.throwError("BigNumber.toString does not accept parameters",Ns.errors.UNEXPECTED_ARGUMENT,{})),bt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof ua)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new ua(Yx,Km(e)):e.match(/^-?[0-9]+$/)?new ua(Yx,Km(new J1(e))):pl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&fo("underflow","BigNumber.from",e),(e>=L5||e<=-L5)&&fo("overflow","BigNumber.from",e),ua.from(String(e));const r=e;if(typeof r=="bigint")return ua.from(r.toString());if(iI(r))return ua.from(mf(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return ua.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(sf(n)||n[0]==="-"&&sf(n.substring(1))))return ua.from(n)}return pl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Km(t){if(typeof t!="string")return Km(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&pl.throwArgumentError("invalid hex","value",t),t=Km(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function us(t){return Kl.from(Km(t))}function bt(t){const e=Kl.from(t).toHexString();return e[0]==="-"?new J1("-"+e.substring(3),16):new J1(e.substring(2),16)}function fo(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),pl.throwError(t,Ns.errors.NUMERIC_FAULT,n)}function Xme(t){return new J1(t,36).toString(16)}const Qme="strings/5.8.0",SL=new Ns(Qme);var Vm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Vm||(Vm={}));var Bs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Bs||(Bs={}));function Zme(t,e,r,n,i){return SL.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function IL(t,e,r,n,i){if(t===Bs.BAD_PREFIX||t===Bs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Bs.OVERRUN?r.length-e-1:0}function eye(t,e,r,n,i){return t===Bs.OVERLONG?(n.push(i),0):(n.push(65533),IL(t,e,r))}const tye=Object.freeze({error:Zme,ignore:IL,replace:eye});function TL(t,e){e==null&&(e=tye.error),t=Wc(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Bs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Bs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Bs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Bs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Bs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Bs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Bs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function d0(t,e=Vm.current){e!=Vm.current&&(SL.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Wc(r)}function rye(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function nye(t,e){return rye(TL(t,e))}function iye(t,e=Vm.current){return TL(d0(t,e))}function oI(t){return Fa(d0(t))}const RL="hash/5.7.0";function sye(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Wc(e)}function PL(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function oye(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function aye(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let O=1;O<n;O++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,d=Math.pow(2,f),h=d>>>1,m=h>>1,g=d-1;let b=0;for(let O=0;O<f;O++)b=b<<1|u();let v=[],C=0,S=d;for(;;){let O=Math.floor(((b-C+1)*i-1)/S),k=0,F=n;for(;F-k>1;){let M=k+F>>>1;O<s[M]?F=M:k=M}if(k==0)break;v.push(k);let A=C+Math.floor(S*s[k]/i),_=C+Math.floor(S*s[k+1]/i)-1;for(;((A^_)&h)==0;)b=b<<1&g|u(),A=A<<1&g,_=_<<1&g|1;for(;A&~_&m;)b=b&h|b<<1&g>>>1|u(),A=A<<1^h,_=(_^h)<<1|h|1;C=A,S=1+_-A}let D=n-4;return v.map(O=>{switch(O-D){case 3:return D+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return D+256+(t[a++]<<8|t[a++]);case 1:return D+t[a++];default:return O-1}})}function cye(t){let e=0;return()=>t[e++]}function lye(t){return cye(aye(t))}function uye(t){return t&1?~t>>1:t>>1}function fye(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function B5(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function dye(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=uye(e());return r}function Y1(t,e){let r=B5(t(),t),n=t(),i=B5(n,t),s=fye(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function hye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(gye(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(mye(r,t))}return oye(PL(e))}function pye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function OL(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)dye(t,r).forEach((s,o)=>n[o].push(s));return n}function gye(t,e){let r=1+e(),n=e(),i=pye(e),s=OL(i.length,1+t,e);return PL(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let d=f*n;return[c+f*r,l.map(h=>h+d)]})}))}function mye(t,e){let r=1+e();return OL(r,1+t,e).map(i=>[i[0],i.slice(1)])}function yye(t){let e=Y1(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Y1(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function bye(){return lye(sye("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const cE=bye(),wye=new Set(Y1(cE)),_ye=new Set(Y1(cE)),Eye=hye(cE),vye=yye(cE),j5=45,H5=95;function DL(t){return iye(t)}function xye(t){return t.filter(e=>e!=65039)}function kL(t){for(let e of t.split(".")){let r=DL(e);try{for(let n=r.lastIndexOf(H5)-1;n>=0;n--)if(r[n]!==H5)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===j5&&r[3]===j5)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function Aye(t){return kL(Cye(t,xye))}function Cye(t,e){let r=DL(t).reverse(),n=[];for(;r.length;){let i=Sye(r);if(i){n.push(...e(i));continue}let s=r.pop();if(wye.has(s)){n.push(s);continue}if(_ye.has(s))continue;let o=Eye[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return kL(Nye(String.fromCodePoint(...n)))}function Nye(t){return t.normalize("NFC")}function Sye(t,e){var r;let n=vye,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const Iye=new Ns(RL),ML=new Uint8Array(32);ML.fill(0);function W5(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function lE(t){const e=d0(Aye(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(W5(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(W5(e.slice(n))),r}function Tye(t){return lE(t).map(e=>nye(e)).join(".")}function Rye(t){try{return lE(t).length!==0}catch{}return!1}function Pye(t){typeof t!="string"&&Iye.throwArgumentError("invalid ENS name; not a string","name",t);let e=ML;const r=lE(t);for(;r.length;)e=Fa(sI([e,Fa(r.pop())]));return mf(e)}function Oye(t){return mf(sI(lE(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const UL=`Ethereum Signed Message:
`;function Dye(t){return typeof t=="string"&&(t=d0(t)),Fa(sI([d0(UL),d0(String(t.length)),t]))}const kye="address/5.8.0",Vp=new Ns(kye);function q5(t){sf(t,20)||Vp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Wc(Fa(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Mye=9007199254740991;function Uye(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const aI={};for(let t=0;t<10;t++)aI[String(t)]=String(t);for(let t=0;t<26;t++)aI[String.fromCharCode(65+t)]=String(10+t);const z5=Math.floor(Uye(Mye));function $ye(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>aI[n]).join("");for(;e.length>=z5;){let n=e.substring(0,z5);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function $L(t){let e=null;if(typeof t!="string"&&Vp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=q5(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Vp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==$ye(t)&&Vp.throwArgumentError("bad icap checksum","address",t),e=Xme(t.substring(4));e.length<40;)e="0"+e;e=q5("0x"+e)}else Vp.throwArgumentError("invalid address","address",t);return e}const Lye="properties/5.8.0",LL=new Ns(Lye);function Jp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function G5(t){const e={};for(const r in t)e[r]=t[r];return e}const Fye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function FL(t){if(t==null||Fye[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!FL(n))return!1}return!0}return LL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Bye(t){if(FL(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>PC(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Jp(e,r,PC(n))}return e}return LL.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function PC(t){return Bye(t)}var jye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const zr=new Ns(RL),BL=new Uint8Array(32);BL.fill(0);const Hye=Kl.from(-1),jL=Kl.from(0),HL=Kl.from(1),Wye=Kl.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function qye(t){const e=Wc(t),r=e.length%32;return r?vw([e,BL.slice(r)]):mf(e)}const zye=V1(HL.toHexString(),32),Gye=V1(jL.toHexString(),32),K5={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Xx=["name","version","chainId","verifyingContract","salt"];function V5(t){return function(e){return typeof e!="string"&&zr.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Kye={name:V5("name"),version:V5("version"),chainId:function(t){try{return Kl.from(t).toString()}catch{}return zr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return $L(t).toLowerCase()}catch{}return zr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Wc(t);if(e.length!==32)throw new Error("bad length");return mf(e)}catch{}return zr.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Qx(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&zr.throwArgumentError("invalid numeric width","type",t);const i=Wye.mask(r?n-1:n),s=r?i.add(HL).mul(Hye):jL;return function(o){const a=Kl.from(o);return(a.lt(s)||a.gt(i))&&zr.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),V1(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&zr.throwArgumentError("invalid bytes width","type",t),function(n){return Wc(n).length!==r&&zr.throwArgumentError(`invalid length for ${t}`,"value",n),qye(n)}}}switch(t){case"address":return function(e){return V1($L(e),32)};case"bool":return function(e){return e?zye:Gye};case"bytes":return function(e){return Fa(e)};case"string":return function(e){return oI(e)}}return null}function J5(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class _o{constructor(e){Jp(this,"types",Object.freeze(PC(e))),Jp(this,"_encoderCache",{}),Jp(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&zr.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&zr.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!Qx(u)&&(n[u]||zr.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?zr.throwArgumentError("missing primary type","types",e):s.length>1&&zr.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Jp(this,"primaryType",s[0]);function o(a,c){c[a]&&zr.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=J5(a,e[a])+c.map(l=>J5(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Qx(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(Fa)),Fa(vw(c))}}const n=this.types[e];if(n){const i=oI(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Fa(l):l});return o.unshift(i),vw(o)}}return zr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||zr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Fa(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Qx(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&zr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):zr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new _o(e)}static getPrimaryType(e){return _o.from(e).primaryType}static hashStruct(e,r,n){return _o.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=K5[n];i||zr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Xx.indexOf(n.name)-Xx.indexOf(i.name)),_o.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return vw(["0x1901",_o.hashDomain(e),_o.from(r).hash(n)])}static hash(e,r,n){return Fa(_o.encode(e,r,n))}static resolveNames(e,r,n,i){return jye(this,void 0,void 0,function*(){e=G5(e);const s={};e.verifyingContract&&!sf(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=_o.from(r);o.visit(n,(a,c)=>(a==="address"&&!sf(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){_o.hashDomain(e);const i={},s=[];Xx.forEach(c=>{const l=e[c];l!=null&&(i[c]=Kye[c](l),s.push({name:c,type:K5[c]}))});const o=_o.from(r),a=G5(r);return a.EIP712Domain?zr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return mf(Wc(l));if(c.match(/^u?int/))return Kl.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&zr.throwArgumentError("invalid string","value",l),l}return zr.throwArgumentError("unsupported type","type",c)})}}}const Vye=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:_o,dnsEncode:Oye,ensNormalize:Tye,hashMessage:Dye,id:oI,isValidName:Rye,messagePrefix:UL,namehash:Pye},Symbol.toStringTag,{value:"Module"})),Jye="logger/5.8.0";let Y5=!1,X5=!1;const xw={debug:1,default:2,info:2,warning:3,error:4,off:5};let Q5=xw.default,Zx=null;function Yye(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const Z5=Yye();var OC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(OC||(OC={}));var xa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xa||(xa={}));const e8="0123456789abcdef";let Oi=class Cn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(Q5>xw[n])&&console.log.apply(console,r)}debug(...e){this._log(Cn.levels.DEBUG,e)}info(...e){this._log(Cn.levels.INFO,e)}warn(...e){this._log(Cn.levels.WARNING,e)}makeError(e,r,n){if(X5)return this.makeError("censored error",r,{});r||(r=Cn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=e8[l[f]>>4],u+=e8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xa.CALL_EXCEPTION:case xa.INSUFFICIENT_FUNDS:case xa.MISSING_NEW:case xa.NONCE_EXPIRED:case xa.REPLACEMENT_UNDERPRICED:case xa.TRANSACTION_REPLACED:case xa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Cn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Z5&&this.throwError("platform missing String.prototype.normalize",Cn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Z5})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Cn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Cn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Cn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Cn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Cn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Zx||(Zx=new Cn(Jye)),Zx}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Y5){if(!e)return;this.globalLogger().throwError("error censorship permanent",Cn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}X5=!!e,Y5=!!r}static setLogLevel(e){const r=xw[e.toLowerCase()];if(r==null){Cn.globalLogger().warn("invalid log level - "+e);return}Q5=r}static from(e){return new Cn(e)}};Oi.errors=xa;Oi.levels=OC;const Xye="bytes/5.8.0",en=new Oi(Xye);function WL(t){return!!t.toHexString}function h0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return h0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Qye(t){return Ro(t)&&!(t.length%2)||uE(t)}function t8(t){return typeof t=="number"&&t==t&&t%1===0}function uE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!t8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!t8(r)||r<0||r>=256)return!1}return!0}function Et(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),h0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WL(t)&&(t=t.toHexString()),Ro(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":en.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return h0(new Uint8Array(n))}return uE(t)?h0(new Uint8Array(t)):en.throwArgumentError("invalid arrayify value","value",t)}function DC(t){const e=t.map(i=>Et(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),h0(n)}function Zye(t,e){t=Et(t),t.length>e&&en.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),h0(r)}function Ro(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const eA="0123456789abcdef";function cr(t,e){if(e||(e={}),typeof t=="number"){en.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=eA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),WL(t))return t.toHexString();if(Ro(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":en.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(uE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=eA[(i&240)>>4]+eA[i&15]}return r}return en.throwArgumentError("invalid hexlify value","value",t)}function ebe(t){if(typeof t!="string")t=cr(t);else if(!Ro(t)||t.length%2)return null;return(t.length-2)/2}function X1(t,e,r){return typeof t!="string"?t=cr(t):(!Ro(t)||t.length%2)&&en.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Hu(t,e){for(typeof t!="string"?t=cr(t):Ro(t)||en.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&en.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function tbe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Qye(t)){let r=Et(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=cr(r.slice(0,32)),e.s=cr(r.slice(32,64))):r.length===65?(e.r=cr(r.slice(0,32)),e.s=cr(r.slice(32,64)),e.v=r[64]):en.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:en.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=cr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Zye(Et(e._vs),32);e._vs=cr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&en.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cr(i);e.s==null?e.s=o:e.s!==o&&en.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?en.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&en.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Ro(e.r)?en.throwArgumentError("signature missing or invalid r","signature",t):e.r=Hu(e.r,32),e.s==null||!Ro(e.s)?en.throwArgumentError("signature missing or invalid s","signature",t):e.s=Hu(e.s,32);const r=Et(e.s);r[0]>=128&&en.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=cr(r);e._vs&&(Ro(e._vs)||en.throwArgumentError("signature invalid _vs","signature",t),e._vs=Hu(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&en.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function dr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class qL{constructor(e){dr(this,"alphabet",e),dr(this,"base",e.length),dr(this,"_alphabetMap",{}),dr(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Et(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Et(new Uint8Array(r.reverse()))}}new qL("abcdefghijklmnopqrstuvwxyz234567");const zL=new qL("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),rbe="bignumber/5.8.0";var Q1=te.BN;const gl=new Oi(rbe),tA={},r8=9007199254740991;let n8=!1,fE=class fa{constructor(e,r){e!==tA&&gl.throwError("cannot call constructor directly; use BigNumber.from",Oi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return fs(wt(this).fromTwos(e))}toTwos(e){return fs(wt(this).toTwos(e))}abs(){return this._hex[0]==="-"?fa.from(this._hex.substring(1)):this}add(e){return fs(wt(this).add(wt(e)))}sub(e){return fs(wt(this).sub(wt(e)))}div(e){return fa.from(e).isZero()&&ho("division-by-zero","div"),fs(wt(this).div(wt(e)))}mul(e){return fs(wt(this).mul(wt(e)))}mod(e){const r=wt(e);return r.isNeg()&&ho("division-by-zero","mod"),fs(wt(this).umod(r))}pow(e){const r=wt(e);return r.isNeg()&&ho("negative-power","pow"),fs(wt(this).pow(r))}and(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","and"),fs(wt(this).and(r))}or(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","or"),fs(wt(this).or(r))}xor(e){const r=wt(e);return(this.isNegative()||r.isNeg())&&ho("unbound-bitwise-result","xor"),fs(wt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&ho("negative-width","mask"),fs(wt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ho("negative-width","shl"),fs(wt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ho("negative-width","shr"),fs(wt(this).shrn(e))}eq(e){return wt(this).eq(wt(e))}lt(e){return wt(this).lt(wt(e))}lte(e){return wt(this).lte(wt(e))}gt(e){return wt(this).gt(wt(e))}gte(e){return wt(this).gte(wt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return wt(this).isZero()}toNumber(){try{return wt(this).toNumber()}catch{ho("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return gl.throwError("this platform does not support BigInt",Oi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?n8||(n8=!0,gl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?gl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Oi.errors.UNEXPECTED_ARGUMENT,{}):gl.throwError("BigNumber.toString does not accept parameters",Oi.errors.UNEXPECTED_ARGUMENT,{})),wt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof fa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new fa(tA,Jm(e)):e.match(/^-?[0-9]+$/)?new fa(tA,Jm(new Q1(e))):gl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&ho("underflow","BigNumber.from",e),(e>=r8||e<=-r8)&&ho("overflow","BigNumber.from",e),fa.from(String(e));const r=e;if(typeof r=="bigint")return fa.from(r.toString());if(uE(r))return fa.from(cr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return fa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Ro(n)||n[0]==="-"&&Ro(n.substring(1))))return fa.from(n)}return gl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Jm(t){if(typeof t!="string")return Jm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&gl.throwArgumentError("invalid hex","value",t),t=Jm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function fs(t){return fE.from(Jm(t))}function wt(t){const e=fE.from(t).toHexString();return e[0]==="-"?new Q1("-"+e.substring(3),16):new Q1(e.substring(2),16)}function ho(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),gl.throwError(t,Oi.errors.NUMERIC_FAULT,n)}function nbe(t){return new Q1(t,36).toString(16)}const ibe="strings/5.8.0",sbe=new Oi(ibe);var O0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(O0||(O0={}));var i8;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(i8||(i8={}));function Z1(t,e=O0.current){e!=O0.current&&(sbe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Et(r)}var Ym;(function(t){t.sha256="sha256",t.sha512="sha512"})(Ym||(Ym={}));const obe="sha2/5.8.0",abe=new Oi(obe);function cbe(t){return"0x"+Ye.ripemd160().update(Et(t)).digest("hex")}function Xm(t){return"0x"+Ye.sha256().update(Et(t)).digest("hex")}function e_(t,e,r){return Ym[t]||abe.throwError("unsupported algorithm "+t,Oi.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],Et(e)).update(Et(r)).digest("hex")}function lbe(t,e,r,n,i){t=Et(t),e=Et(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let d=Et(e_(i,t,c));s||(s=d.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(d);for(let g=1;g<r;g++){d=Et(e_(i,t,d));for(let b=0;b<s;b++)u[b]^=d[b]}const h=(f-1)*s,m=f===o?l:s;a.set(Et(u).slice(0,m),h)}return cr(a)}function tp(t,e,r){return r={path:e,exports:{},require:function(n,i){return ube(n,i??r.path)}},t(r,r.exports),r.exports}function ube(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var cI=GL;function GL(t,e){if(!t)throw new Error(e||"Assertion failed")}GL.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var za=tp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),to=tp(function(t,e){var r=e;r.assert=cI,r.toArray=za.toArray,r.zero2=za.zero2,r.toHex=za.toHex,r.encode=za.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var v;(g&1)===0?v=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?v=-g:v=g),u[1].push(v),2*f===b+1&&(f=1-f),2*d===v+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),t_=to.getNAF,fbe=to.getJSF,r_=to.assert;function yf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xd=yf;yf.prototype.point=function(){throw new Error("Not implemented")};yf.prototype.validate=function(){throw new Error("Not implemented")};yf.prototype._fixedNafMul=function(e,r){r_(e.precomputed);var n=e._getDoubles(),i=t_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};yf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=t_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];r_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};yf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=t_(n[m],o[m],this._bitLength),c[g]=t_(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],C=fbe(n[m],n[g]);for(l=Math.max(C[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=C[0][f]|0,D=C[1][f]|0;c[m][f]=v[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var A=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(A=!1);if(!A)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var _=k[f];_!==0&&(_>0?d=a[f][_-1>>1]:_<0&&(d=a[f][-_-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function zo(t,e){this.curve=t,this.type=e,this.precomputed=null}yf.BasePoint=zo;zo.prototype.eq=function(){throw new Error("Not implemented")};zo.prototype.validate=function(){return this.curve.validate(this)};yf.prototype.decodePoint=function(e,r){e=to.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?r_(e[e.length-1]%2===0):e[0]===7&&r_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};zo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};zo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};zo.prototype.encode=function(e,r){return to.encode(this._encode(r),e)};zo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};zo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};zo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};zo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};zo.prototype._getBeta=function(){return null};zo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var lI=tp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),dbe=to.assert;function Go(t){Xd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}lI(Go,Xd);var hbe=Go;Go.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],dbe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Go.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Go.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,v,C;n.cmpn(0)!==0;){var S=i.div(n);v=i.sub(S.mul(n)),C=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&v.cmp(r)<0)l=g.neg(),u=s,f=v.neg(),d=C;else if(f&&++b===2)break;g=v,i=n,n=v,a=s,s=C,c=o,o=D}h=v.neg(),m=C;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Go.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Go.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Go.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Go.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Qn(t,e,r,n){Xd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}lI(Qn,Xd.BasePoint);Go.prototype.point=function(e,r,n){return new Qn(this,e,r,n)};Go.prototype.pointFromJSON=function(e,r){return Qn.fromJSON(this,e,r)};Qn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qn.prototype.isInfinity=function(){return this.inf};Qn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qn.prototype.getX=function(){return this.x.fromRed()};Qn.prototype.getY=function(){return this.y.fromRed()};Qn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function mi(t,e,r,n){Xd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}lI(mi,Xd.BasePoint);Go.prototype.jpoint=function(e,r,n){return new mi(this,e,r,n)};mi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};mi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};mi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};mi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};mi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),v=g.redISub(b),C=m.redMul(v);C=C.redIAdd(C).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=C}return this.curve.jpoint(o,u.redMul(s),c)};mi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};mi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};mi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var v=d.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=m.redMul(g.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};mi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};mi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};mi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};mi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};mi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};mi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};mi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Aw=tp(function(t,e){var r=e;r.base=Xd,r.short=hbe,r.mont=null,r.edwards=null}),Cw=tp(function(t,e){var r=e,n=to.assert;function i(a){a.type==="short"?this.curve=new Aw.short(a):a.type==="edwards"?this.curve=new Aw.edwards(a):this.curve=new Aw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function of(t){if(!(this instanceof of))return new of(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=za.toArray(t.entropy,t.entropyEnc||"hex"),r=za.toArray(t.nonce,t.nonceEnc||"hex"),n=za.toArray(t.pers,t.persEnc||"hex");cI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var KL=of;of.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};of.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};of.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};of.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=za.toArray(e,r),n=za.toArray(n,i),cI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};of.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=za.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,za.encode(o,r)};var kC=to.assert;function ki(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var uI=ki;ki.fromPublic=function(e,r,n){return r instanceof ki?r:new ki(e,{pub:r,pubEnc:n})};ki.fromPrivate=function(e,r,n){return r instanceof ki?r:new ki(e,{priv:r,privEnc:n})};ki.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ki.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ki.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ki.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ki.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?kC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&kC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ki.prototype.derive=function(e){return e.validate()||kC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ki.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ki.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};ki.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var pbe=to.assert;function dE(t,e){if(t instanceof dE)return t;this._importDER(t,e)||(pbe(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var hE=dE;function gbe(){this.place=0}function rA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function s8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}dE.prototype._importDER=function(e,r){e=to.toArray(e,r);var n=new gbe;if(e[n.place++]!==48)return!1;var i=rA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=rA(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=rA(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function nA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}dE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=s8(r),n=s8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];nA(i,r.length),i=i.concat(r),i.push(2),nA(i,n.length);var s=i.concat(n),o=[48];return nA(o,s.length),o=o.concat(s),to.encode(o,e)};var mbe=(function(){throw new Error("unsupported")}),nd=to.assert;function $o(t){if(!(this instanceof $o))return new $o(t);typeof t=="string"&&(nd(Object.prototype.hasOwnProperty.call(Cw,t),"Unknown curve "+t),t=Cw[t]),t instanceof Cw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var ybe=$o;$o.prototype.keyPair=function(e){return new uI(this,e)};$o.prototype.keyFromPrivate=function(e,r){return uI.fromPrivate(this,e,r)};$o.prototype.keyFromPublic=function(e,r){return uI.fromPublic(this,e,r)};$o.prototype.genKeyPair=function(e){e||(e={});for(var r=new KL({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||mbe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};$o.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};$o.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){nd(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),nd(e.length>>>0===e.length);for(var s=0;s<e.length;s++)nd((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),nd(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);nd(new te(c).eq(e),"Can not sign message");for(var l=new KL({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new hE({r:g,s:b,recoveryParam:v})}}}}}};$o.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new hE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};$o.prototype.recoverPubKey=function(t,e,r,n){nd((3&r)===r,"The recovery param is more than two bits"),e=new hE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};$o.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new hE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var bbe=tp(function(t,e){var r=e;r.version="6.6.1",r.utils=to,r.rand=(function(){throw new Error("unsupported")}),r.curve=Aw,r.curves=Cw,r.ec=ybe,r.eddsa=null}),wbe=bbe.ec;const _be="signing-key/5.8.0",MC=new Oi(_be);let iA=null;function Jf(){return iA||(iA=new wbe("secp256k1")),iA}let UC=class{constructor(e){dr(this,"curve","secp256k1"),dr(this,"privateKey",cr(e)),ebe(this.privateKey)!==32&&MC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Jf().keyFromPrivate(Et(this.privateKey));dr(this,"publicKey","0x"+r.getPublic(!1,"hex")),dr(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),dr(this,"_isSigningKey",!0)}_addPoint(e){const r=Jf().keyFromPublic(Et(this.publicKey)),n=Jf().keyFromPublic(Et(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Jf().keyFromPrivate(Et(this.privateKey)),n=Et(e);n.length!==32&&MC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return tbe({recoveryParam:i.recoveryParam,r:Hu("0x"+i.r.toString(16),32),s:Hu("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Jf().keyFromPrivate(Et(this.privateKey)),n=Jf().keyFromPublic(Et(VL(e)));return Hu("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function VL(t,e){const r=Et(t);return r.length===32?new UC(r).publicKey:r.length===33?"0x"+Jf().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?cr(r):MC.throwArgumentError("invalid public or private key","key","[REDACTED]")}function fI(t){return"0x"+V0.keccak_256(Et(t))}const Ebe="address/5.8.0",Yp=new Oi(Ebe);function o8(t){Ro(t,20)||Yp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Et(fI(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const vbe=9007199254740991;function xbe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const dI={};for(let t=0;t<10;t++)dI[String(t)]=String(t);for(let t=0;t<26;t++)dI[String.fromCharCode(65+t)]=String(10+t);const a8=Math.floor(xbe(vbe));function Abe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>dI[n]).join("");for(;e.length>=a8;){let n=e.substring(0,a8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Cbe(t){let e=null;if(typeof t!="string"&&Yp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=o8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Yp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Abe(t)&&Yp.throwArgumentError("bad icap checksum","address",t),e=nbe(t.substring(4));e.length<40;)e="0"+e;e=o8("0x"+e)}else Yp.throwArgumentError("invalid address","address",t);return e}var c8;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(c8||(c8={}));function Nbe(t){const e=VL(t);return Cbe(X1(fI(X1(e,1)),12))}function Sbe(t){return fI(Z1(t))}const Ibe="wordlists/5.8.0",Tbe=new Oi(Ibe);class Dy{constructor(e){Tbe.checkAbstract(new.target,Dy),dr(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return Sbe(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const Rbe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ig=null;function l8(t){if(Ig==null&&(Ig=Rbe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Dy.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ig=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Pbe extends Dy{constructor(){super("en")}getWord(e){return l8(this),Ig[e]}getWordIndex(e){return l8(this),Ig.indexOf(e)}}const JL=new Pbe;Dy.register(JL);const u8={en:JL},Obe="hdnode/5.7.0",Qm=new Oi(Obe),Dbe=fE.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kbe=Z1("Bitcoin seed"),Hh=2147483648;function YL(t){return(1<<t)-1<<8-t}function Mbe(t){return(1<<t)-1}function Tb(t){return Hu(cr(t),32)}function f8(t){return zL.encode(DC([t,X1(Xm(Xm(t)),0,4)]))}function hI(t){if(t==null)return u8.en;if(typeof t=="string"){const e=u8[t];return e==null&&Qm.throwArgumentError("unknown locale","wordlist",t),e}return t}const Ch={},Ube="m/44'/60'/0'/0/0";class ml{constructor(e,r,n,i,s,o,a,c){if(e!==Ch)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new UC(r);dr(this,"privateKey",l.privateKey),dr(this,"publicKey",l.compressedPublicKey)}else dr(this,"privateKey",null),dr(this,"publicKey",cr(n));dr(this,"parentFingerprint",i),dr(this,"fingerprint",X1(cbe(Xm(this.publicKey)),0,4)),dr(this,"address",Nbe(this.publicKey)),dr(this,"chainCode",s),dr(this,"index",o),dr(this,"depth",a),c==null?(dr(this,"mnemonic",null),dr(this,"path",null)):typeof c=="string"?(dr(this,"mnemonic",null),dr(this,"path",c)):(dr(this,"mnemonic",c),dr(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return f8(DC([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",cr(this.depth),this.parentFingerprint,Hu(cr(this.index),4),this.chainCode,this.privateKey!=null?DC(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new ml(Ch,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Hh));const n=new Uint8Array(37);if(e&Hh){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Et(this.privateKey),1),r&&(r+="'")}else n.set(Et(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=Et(e_(Ym.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Tb(fE.from(s).add(this.privateKey).mod(Dbe)):c=new UC(cr(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new ml(Ch,a,c,this.fingerprint,Tb(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Hh)throw new Error("invalid path index - "+s);n=n._derive(Hh+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Hh)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Et(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Et(e_(Ym.sha512,kbe,n));return new ml(Ch,Tb(i.slice(0,32)),null,"0x00000000",Tb(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=hI(n),e=QL(pI(e,n),n),ml._fromSeed(XL(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return ml._fromSeed(e,null)}static fromExtendedKey(e){const r=zL.decode(e);(r.length!==82||f8(r.slice(0,78))!==e)&&Qm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=cr(r.slice(5,9)),s=parseInt(cr(r.slice(9,13)).substring(2),16),o=cr(r.slice(13,45)),a=r.slice(45,78);switch(cr(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new ml(Ch,null,cr(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new ml(Ch,cr(a.slice(1)),null,i,o,s,n,null)}return Qm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function XL(t,e){e||(e="");const r=Z1("mnemonic"+e,O0.NFKD);return lbe(Z1(t,O0.NFKD),r,2048,64,"sha512")}function pI(t,e){e=hI(e),Qm.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Et(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=YL(o);if((Et(Xm(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return cr(n.slice(0,s/8))}function QL(t,e){if(e=hI(e),t=Et(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&Mbe(8-n)),n+=3);const i=t.length/4,s=Et(Xm(t))[0]&YL(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function $be(t,e){try{return pI(t,e),!0}catch{}return!1}function Lbe(t){return(typeof t!="number"||t<0||t>=Hh||t%1)&&Qm.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const Fbe=Object.freeze(Object.defineProperty({__proto__:null,HDNode:ml,defaultPath:Ube,entropyToMnemonic:QL,getAccountPath:Lbe,isValidMnemonic:$be,mnemonicToEntropy:pI,mnemonicToSeed:XL},Symbol.toStringTag,{value:"Module"})),ZL="json-wallets/5.7.0";function vd(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),de(t)}function Pp(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function gI(t){return typeof t=="string"?Qr(t,Hl.NFKC):de(t)}function on(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function Bbe(t){const e=de(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=ye(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const jbe=new re(ZL);class Hbe extends Zs{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function mI(t,e){const r=JSON.parse(t);e=gI(e);const n=Yt(on(r,"ethaddr")),i=vd(on(r,"encseed"));(!i||i.length%16!==0)&&jbe.throwArgumentError("invalid encseed","json",t);const s=de(Py(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new mn.ModeOfOperation.cbc(s,o),l=mn.padding.pkcs7.strip(de(c.decrypt(a)));let u="";for(let h=0;h<l.length;h++)u+=String.fromCharCode(l[h]);const f=Qr(u),d=zt(f);return new Hbe({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function pE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function gE(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Wbe(t){if(pE(t))try{return Yt(JSON.parse(t).ethaddr)}catch{return null}if(gE(t))try{return Yt(JSON.parse(t).address)}catch{return null}return null}var qbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const $C=new re(ZL);function d8(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class zbe extends Zs{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Gbe(t,e,r){if(on(t,"crypto/cipher")==="aes-128-ctr"){const i=vd(on(t,"crypto/cipherparams/iv")),s=new mn.Counter(i),o=new mn.ModeOfOperation.ctr(e,s);return de(o.decrypt(r))}return null}function eF(t,e){const r=vd(on(t,"crypto/ciphertext"));if(ye(zt(Gt([e.slice(16,32),r]))).substring(2)!==on(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Gbe(t,e.slice(0,16),r);i||$C.throwError("unsupported cipher",re.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=kl(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Yt(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:ye(i)};if(on(t,"x-ethers/version")==="0.1"){const c=vd(on(t,"x-ethers/mnemonicCiphertext")),l=vd(on(t,"x-ethers/mnemonicCounter")),u=new mn.Counter(l),f=new mn.ModeOfOperation.ctr(s,u),d=on(t,"x-ethers/path")||tf,h=on(t,"x-ethers/locale")||"en",m=de(f.decrypt(c));try{const g=nE(m,h),b=P0.fromMnemonic(g,null,h).derivePath(d);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(g){if(g.code!==re.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new zbe(a)}function tF(t,e,r,n,i){return de(Py(t,e,r,n,i))}function Kbe(t,e,r,n,i){return Promise.resolve(tF(t,e,r,n,i))}function rF(t,e,r,n,i){const s=gI(e),o=on(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return $C.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=vd(on(t,"crypto/kdfparams/salt")),l=parseInt(on(t,"crypto/kdfparams/n")),u=parseInt(on(t,"crypto/kdfparams/r")),f=parseInt(on(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=vd(on(t,"crypto/kdfparams/salt"));let l=null;const u=on(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(on(t,"crypto/kdfparams/c")),d=parseInt(on(t,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,c,f,d,l)}}return $C.throwArgumentError("unsupported key-derivation function","kdf",o)}function nF(t,e){const r=JSON.parse(t),n=rF(r,e,tF,Z0.syncScrypt);return eF(r,n)}function iF(t,e,r){return qbe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield rF(n,e,Kbe,Z0.scrypt,r);return eF(n,i)})}function Vbe(t,e,r,n){try{if(Yt(t.address)!==kl(t.privateKey))throw new Error("address/privateKey mismatch");if(d8(t)){const b=t.mnemonic;if(P0.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||tf).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=de(t.privateKey),s=gI(e);let o=null,a=null,c=null;if(d8(t)){const b=t.mnemonic;o=de(KS(b.phrase,b.locale||"en")),a=b.path||tf,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=de(r.salt):u=Sl(32);let f=null;if(r.iv){if(f=de(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Sl(16);let d=null;if(r.uuid){if(d=de(r.uuid),d.length!==16)throw new Error("invalid uuid")}else d=Sl(16);let h=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Z0.scrypt(s,u,h,m,g,64,n).then(b=>{b=de(b);const v=b.slice(0,16),C=b.slice(16,32),S=b.slice(32,64),D=new mn.Counter(f),O=new mn.ModeOfOperation.ctr(v,D),k=de(O.encrypt(i)),F=zt(Gt([C,k])),A={address:t.address.substring(2).toLowerCase(),id:Bbe(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ye(f).substring(2)},ciphertext:ye(k).substring(2),kdf:"scrypt",kdfparams:{salt:ye(u).substring(2),n:h,dklen:32,p:g,r:m},mac:F.substring(2)}};if(o){const _=Sl(16),M=new mn.Counter(_),$=new mn.ModeOfOperation.ctr(S,M),I=de($.encrypt(o)),N=new Date,p=N.getUTCFullYear()+"-"+Pp(N.getUTCMonth()+1,2)+"-"+Pp(N.getUTCDate(),2)+"T"+Pp(N.getUTCHours(),2)+"-"+Pp(N.getUTCMinutes(),2)+"-"+Pp(N.getUTCSeconds(),2)+".0Z";A["x-ethers"]={client:l,gethFilename:"UTC--"+p+"--"+A.address,mnemonicCounter:ye(_).substring(2),mnemonicCiphertext:ye(I).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(A)})}function Jbe(t,e,r){if(pE(t)){r&&r(0);const n=mI(t,e);return r&&r(1),Promise.resolve(n)}return gE(t)?iF(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function Ybe(t,e){if(pE(t))return mI(t,e);if(gE(t))return nF(t,e);throw new Error("invalid JSON wallet")}const Xbe=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:mI,decryptJsonWallet:Jbe,decryptJsonWalletSync:Ybe,decryptKeystore:iF,decryptKeystoreSync:nF,encryptKeystore:Vbe,getJsonWalletAddress:Wbe,isCrowdsaleWallet:pE,isKeystoreWallet:gE},Symbol.toStringTag,{value:"Module"})),Qbe="logger/5.8.0";let h8=!1,p8=!1;const Nw={debug:1,default:2,info:2,warning:3,error:4,off:5};let g8=Nw.default,sA=null;function Zbe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const m8=Zbe();var LC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(LC||(LC={}));var Aa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Aa||(Aa={}));const y8="0123456789abcdef";let yI=class Nn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Nw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(g8>Nw[n])&&console.log.apply(console,r)}debug(...e){this._log(Nn.levels.DEBUG,e)}info(...e){this._log(Nn.levels.INFO,e)}warn(...e){this._log(Nn.levels.WARNING,e)}makeError(e,r,n){if(p8)return this.makeError("censored error",r,{});r||(r=Nn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=y8[l[f]>>4],u+=y8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Aa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Aa.CALL_EXCEPTION:case Aa.INSUFFICIENT_FUNDS:case Aa.MISSING_NEW:case Aa.NONCE_EXPIRED:case Aa.REPLACEMENT_UNDERPRICED:case Aa.TRANSACTION_REPLACED:case Aa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Nn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){m8&&this.throwError("platform missing String.prototype.normalize",Nn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Nn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Nn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Nn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Nn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Nn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return sA||(sA=new Nn(Qbe)),sA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Nn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}p8=!!e,h8=!!r}static setLogLevel(e){const r=Nw[e.toLowerCase()];if(r==null){Nn.globalLogger().warn("invalid log level - "+e);return}g8=r}static from(e){return new Nn(e)}};yI.errors=Aa;yI.levels=LC;const ewe="bytes/5.8.0",oA=new yI(ewe);function twe(t){return!!t.toHexString}function Sw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Sw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function b8(t){return typeof t=="number"&&t==t&&t%1===0}function rwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!b8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!b8(r)||r<0||r>=256)return!1}return!0}function nwe(t,e){if(e||(e={}),typeof t=="number"){oA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Sw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),twe(t)&&(t=t.toHexString()),iwe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":oA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Sw(new Uint8Array(n))}return rwe(t)?Sw(new Uint8Array(t)):oA.throwArgumentError("invalid arrayify value","value",t)}function iwe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function swe(t){return"0x"+V0.keccak_256(nwe(t))}const owe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:swe},Symbol.toStringTag,{value:"Module"})),awe="logger/5.7.0";let w8=!1,_8=!1;const Iw={debug:1,default:2,info:2,warning:3,error:4,off:5};let E8=Iw.default,aA=null;function cwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const v8=cwe();var n_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(n_||(n_={}));var xo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(xo||(xo={}));const x8="0123456789abcdef";let bI=class Sn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Iw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E8>Iw[n])&&console.log.apply(console,r)}debug(...e){this._log(Sn.levels.DEBUG,e)}info(...e){this._log(Sn.levels.INFO,e)}warn(...e){this._log(Sn.levels.WARNING,e)}makeError(e,r,n){if(_8)return this.makeError("censored error",r,{});r||(r=Sn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=x8[l[f]>>4],u+=x8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case xo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case xo.CALL_EXCEPTION:case xo.INSUFFICIENT_FUNDS:case xo.MISSING_NEW:case xo.NONCE_EXPIRED:case xo.REPLACEMENT_UNDERPRICED:case xo.TRANSACTION_REPLACED:case xo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Sn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){v8&&this.throwError("platform missing String.prototype.normalize",Sn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:v8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Sn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Sn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Sn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Sn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Sn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return aA||(aA=new Sn(awe)),aA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Sn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_8=!!e,w8=!!r}static setLogLevel(e){const r=Iw[e.toLowerCase()];if(r==null){Sn.globalLogger().warn("invalid log level - "+e);return}E8=r}static from(e){return new Sn(e)}};bI.errors=xo;bI.levels=n_;const lwe=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return xo},get LogLevel(){return n_},Logger:bI},Symbol.toStringTag,{value:"Module"})),uwe="logger/5.8.0";let A8=!1,C8=!1;const Tw={debug:1,default:2,info:2,warning:3,error:4,off:5};let N8=Tw.default,cA=null;function fwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const S8=fwe();var FC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(FC||(FC={}));var Ca;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ca||(Ca={}));const I8="0123456789abcdef";let ky=class In{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Tw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(N8>Tw[n])&&console.log.apply(console,r)}debug(...e){this._log(In.levels.DEBUG,e)}info(...e){this._log(In.levels.INFO,e)}warn(...e){this._log(In.levels.WARNING,e)}makeError(e,r,n){if(C8)return this.makeError("censored error",r,{});r||(r=In.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=I8[l[f]>>4],u+=I8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ca.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ca.CALL_EXCEPTION:case Ca.INSUFFICIENT_FUNDS:case Ca.MISSING_NEW:case Ca.NONCE_EXPIRED:case Ca.REPLACEMENT_UNDERPRICED:case Ca.TRANSACTION_REPLACED:case Ca.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,In.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){S8&&this.throwError("platform missing String.prototype.normalize",In.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:S8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,In.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,In.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,In.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",In.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",In.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return cA||(cA=new In(uwe)),cA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),A8){if(!e)return;this.globalLogger().throwError("error censorship permanent",In.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}C8=!!e,A8=!!r}static setLogLevel(e){const r=Tw[e.toLowerCase()];if(r==null){In.globalLogger().warn("invalid log level - "+e);return}N8=r}static from(e){return new In(e)}};ky.errors=Ca;ky.levels=FC;const dwe="bytes/5.8.0",lA=new ky(dwe);function hwe(t){return!!t.toHexString}function Rw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Rw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function T8(t){return typeof t=="number"&&t==t&&t%1===0}function pwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!T8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!T8(r)||r<0||r>=256)return!1}return!0}function Zm(t,e){if(e||(e={}),typeof t=="number"){lA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Rw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),hwe(t)&&(t=t.toHexString()),gwe(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":lA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Rw(new Uint8Array(n))}return pwe(t)?Rw(new Uint8Array(t)):lA.throwArgumentError("invalid arrayify value","value",t)}function gwe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var i_;(function(t){t.sha256="sha256",t.sha512="sha512"})(i_||(i_={}));const mwe="sha2/5.7.0",ywe=new ky(mwe);function bwe(t){return"0x"+Ye.ripemd160().update(Zm(t)).digest("hex")}function wwe(t){return"0x"+Ye.sha256().update(Zm(t)).digest("hex")}function _we(t){return"0x"+Ye.sha512().update(Zm(t)).digest("hex")}function Ewe(t,e,r){return i_[t]||ywe.throwError("unsupported algorithm "+t,ky.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+Ye.hmac(Ye[t],Zm(e)).update(Zm(r)).digest("hex")}const vwe=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return i_},computeHmac:Ewe,ripemd160:bwe,sha256:wwe,sha512:_we},Symbol.toStringTag,{value:"Module"})),xwe="solidity/5.7.0",Awe=new RegExp("^bytes([0-9]+)$"),Cwe=new RegExp("^(u?int)([0-9]*)$"),Nwe=new RegExp("^(.*)\\[([0-9]*)\\]$"),Swe="0000000000000000000000000000000000000000000000000000000000000000",Wh=new re(xwe);function sF(t,e,r){switch(t){case"address":return r?iw(e,32):de(e);case"string":return Qr(e);case"bytes":return de(e);case"bool":return e=e?"0x01":"0x00",r?iw(e,32):de(e)}let n=t.match(Cwe);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&Wh.throwArgumentError("invalid number type","type",t),r&&(i=256),e=ve.from(e).toTwos(i),iw(e,i/8)}if(n=t.match(Awe),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&Wh.throwArgumentError("invalid bytes type","type",t),de(e).byteLength!==i&&Wh.throwArgumentError(`invalid value for ${t}`,"value",e),r?de((e+Swe).substring(0,66)):e}if(n=t.match(Nwe),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&Wh.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(sF(i,a,!0))}),Gt(o)}return Wh.throwArgumentError("invalid type","type",t)}function wI(t,e){t.length!=e.length&&Wh.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(sF(n,e[i]))}),ye(Gt(r))}function Iwe(t,e){return zt(wI(t,e))}function Twe(t,e){return ef(wI(t,e))}const Rwe=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Iwe,pack:wI,sha256:Twe},Symbol.toStringTag,{value:"Module"})),Pwe="logger/5.8.0";let R8=!1,P8=!1;const Pw={debug:1,default:2,info:2,warning:3,error:4,off:5};let O8=Pw.default,uA=null;function Owe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const D8=Owe();var BC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(BC||(BC={}));var Na;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Na||(Na={}));const k8="0123456789abcdef";let My=class Tn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Pw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(O8>Pw[n])&&console.log.apply(console,r)}debug(...e){this._log(Tn.levels.DEBUG,e)}info(...e){this._log(Tn.levels.INFO,e)}warn(...e){this._log(Tn.levels.WARNING,e)}makeError(e,r,n){if(P8)return this.makeError("censored error",r,{});r||(r=Tn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=k8[l[f]>>4],u+=k8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Na.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Na.CALL_EXCEPTION:case Na.INSUFFICIENT_FUNDS:case Na.MISSING_NEW:case Na.NONCE_EXPIRED:case Na.REPLACEMENT_UNDERPRICED:case Na.TRANSACTION_REPLACED:case Na.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Tn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){D8&&this.throwError("platform missing String.prototype.normalize",Tn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:D8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Tn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Tn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Tn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Tn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Tn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return uA||(uA=new Tn(Pwe)),uA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Tn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P8=!!e,R8=!!r}static setLogLevel(e){const r=Pw[e.toLowerCase()];if(r==null){Tn.globalLogger().warn("invalid log level - "+e);return}O8=r}static from(e){return new Tn(e)}};My.errors=Na;My.levels=BC;const Dwe="bytes/5.8.0",fA=new My(Dwe);function kwe(t){return!!t.toHexString}function Ow(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ow(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function M8(t){return typeof t=="number"&&t==t&&t%1===0}function Mwe(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!M8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!M8(r)||r<0||r>=256)return!1}return!0}function Uwe(t,e){if(e||(e={}),typeof t=="number"){fA.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ow(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kwe(t)&&(t=t.toHexString()),$we(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":fA.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ow(new Uint8Array(n))}return Mwe(t)?Ow(new Uint8Array(t)):fA.throwArgumentError("invalid arrayify value","value",t)}function $we(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const Lwe="random/5.7.0",jC=new My(Lwe);function Fwe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const U8=Fwe();let Dw=U8.crypto||U8.msCrypto;(!Dw||!Dw.getRandomValues)&&(jC.warn("WARNING: Missing strong random number source"),Dw={getRandomValues:function(t){return jC.throwError("no secure random source avaialble",My.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Bwe(t){(t<=0||t>1024||t%1||t!=t)&&jC.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Dw.getRandomValues(e),Uwe(e)}function jwe(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const Hwe=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Bwe,shuffled:jwe},Symbol.toStringTag,{value:"Module"})),Wwe="logger/5.8.0";let $8=!1,L8=!1;const kw={debug:1,default:2,info:2,warning:3,error:4,off:5};let F8=kw.default,dA=null;function qwe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const B8=qwe();var HC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(HC||(HC={}));var Sa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Sa||(Sa={}));const j8="0123456789abcdef";let _I=class Rn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();kw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(F8>kw[n])&&console.log.apply(console,r)}debug(...e){this._log(Rn.levels.DEBUG,e)}info(...e){this._log(Rn.levels.INFO,e)}warn(...e){this._log(Rn.levels.WARNING,e)}makeError(e,r,n){if(L8)return this.makeError("censored error",r,{});r||(r=Rn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=j8[l[f]>>4],u+=j8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Sa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Sa.CALL_EXCEPTION:case Sa.INSUFFICIENT_FUNDS:case Sa.MISSING_NEW:case Sa.NONCE_EXPIRED:case Sa.REPLACEMENT_UNDERPRICED:case Sa.TRANSACTION_REPLACED:case Sa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Rn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){B8&&this.throwError("platform missing String.prototype.normalize",Rn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:B8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Rn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Rn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Rn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Rn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Rn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return dA||(dA=new Rn(Wwe)),dA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),$8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Rn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}L8=!!e,$8=!!r}static setLogLevel(e){const r=kw[e.toLowerCase()];if(r==null){Rn.globalLogger().warn("invalid log level - "+e);return}F8=r}static from(e){return new Rn(e)}};_I.errors=Sa;_I.levels=HC;const zwe="properties/5.7.0";var Gwe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const s_=new _I(zwe);function oF(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Kwe(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Vwe(t){return Gwe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Jwe(t,e){(!t||typeof t!="object")&&s_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||s_.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Ywe(t){const e={};for(const r in t)e[r]=t[r];return e}const Xwe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function aF(t){if(t==null||Xwe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!aF(n))return!1}return!0}return s_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Qwe(t){if(aF(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>o_(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&oF(e,r,o_(n))}return e}return s_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function o_(t){return Qwe(t)}class Zwe{constructor(e){for(const r in e)this[r]=o_(e[r])}}const e1e=Object.freeze(Object.defineProperty({__proto__:null,Description:Zwe,checkProperties:Jwe,deepCopy:o_,defineReadOnly:oF,getStatic:Kwe,resolveProperties:Vwe,shallowCopy:Ywe},Symbol.toStringTag,{value:"Module"})),t1e="logger/5.8.0";let H8=!1,W8=!1;const Mw={debug:1,default:2,info:2,warning:3,error:4,off:5};let q8=Mw.default,hA=null;function r1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const z8=r1e();var WC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(WC||(WC={}));var Ia;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ia||(Ia={}));const G8="0123456789abcdef";let Co=class Pn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Mw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(q8>Mw[n])&&console.log.apply(console,r)}debug(...e){this._log(Pn.levels.DEBUG,e)}info(...e){this._log(Pn.levels.INFO,e)}warn(...e){this._log(Pn.levels.WARNING,e)}makeError(e,r,n){if(W8)return this.makeError("censored error",r,{});r||(r=Pn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=G8[l[f]>>4],u+=G8[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ia.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ia.CALL_EXCEPTION:case Ia.INSUFFICIENT_FUNDS:case Ia.MISSING_NEW:case Ia.NONCE_EXPIRED:case Ia.REPLACEMENT_UNDERPRICED:case Ia.TRANSACTION_REPLACED:case Ia.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Pn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){z8&&this.throwError("platform missing String.prototype.normalize",Pn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:z8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Pn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Pn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Pn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Pn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Pn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hA||(hA=new Pn(t1e)),hA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),H8){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}W8=!!e,H8=!!r}static setLogLevel(e){const r=Mw[e.toLowerCase()];if(r==null){Pn.globalLogger().warn("invalid log level - "+e);return}q8=r}static from(e){return new Pn(e)}};Co.errors=Ia;Co.levels=WC;const n1e="bytes/5.8.0",p0=new Co(n1e);function cF(t){return!!t.toHexString}function Uw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Uw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function i1e(t){return vI(t)&&!(t.length%2)||EI(t)}function K8(t){return typeof t=="number"&&t==t&&t%1===0}function EI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!K8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!K8(r)||r<0||r>=256)return!1}return!0}function lF(t,e){if(e||(e={}),typeof t=="number"){p0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Uw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),cF(t)&&(t=t.toHexString()),vI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":p0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Uw(new Uint8Array(n))}return EI(t)?Uw(new Uint8Array(t)):p0.throwArgumentError("invalid arrayify value","value",t)}function vI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const pA="0123456789abcdef";function $w(t,e){if(e||(e={}),typeof t=="number"){p0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=pA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),cF(t))return t.toHexString();if(vI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":p0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(EI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=pA[(i&240)>>4]+pA[i&15]}return r}return p0.throwArgumentError("invalid hexlify value","value",t)}const s1e="rlp/5.7.0",wc=new Co(s1e);function V8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function J8(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function uF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(uF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=V8(n.length);return i.unshift(247+i.length),i.concat(n)}i1e(t)||wc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(lF(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=V8(e.length);return r.unshift(183+r.length),r.concat(e)}function o1e(t){return $w(uF(t))}function Y8(t,e,r,n){const i=[];for(;r<e+1+n;){const s=fF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&wc.throwError("child data too short",Co.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function fF(t,e){if(t.length===0&&wc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&wc.throwError("data short segment too short",Co.errors.BUFFER_OVERRUN,{});const n=J8(t,e+1,r);return e+1+r+n>t.length&&wc.throwError("data long segment too short",Co.errors.BUFFER_OVERRUN,{}),Y8(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&wc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{}),Y8(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&wc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const n=J8(t,e+1,r);e+1+r+n>t.length&&wc.throwError("data array too short",Co.errors.BUFFER_OVERRUN,{});const i=$w(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&wc.throwError("data too short",Co.errors.BUFFER_OVERRUN,{});const n=$w(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:$w(t[e])}}function a1e(t){const e=lF(t),r=fF(e,0);return r.consumed!==e.length&&wc.throwArgumentError("invalid rlp data","data",t),r.result}const c1e=Object.freeze(Object.defineProperty({__proto__:null,decode:a1e,encode:o1e},Symbol.toStringTag,{value:"Module"}));function rp(t,e,r){return r={path:e,exports:{},require:function(n,i){return l1e(n,i??r.path)}},t(r,r.exports),r.exports}function l1e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var xI=dF;function dF(t,e){if(!t)throw new Error(e||"Assertion failed")}dF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ga=rp(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),ro=rp(function(t,e){var r=e;r.assert=xI,r.toArray=Ga.toArray,r.zero2=Ga.zero2,r.toHex=Ga.toHex,r.encode=Ga.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var d=1<<l+1,h=c.clone(),m=0;m<f.length;m++){var g,b=h.andln(d-1);h.isOdd()?(b>(d>>1)-1?g=(d>>1)-b:g=b,h.isubn(g)):g=0,f[m]=g,h.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var v;(g&1)===0?v=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?v=-g:v=g),u[1].push(v),2*f===b+1&&(f=1-f),2*d===v+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),a_=ro.getNAF,u1e=ro.getJSF,c_=ro.assert;function bf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Qd=bf;bf.prototype.point=function(){throw new Error("Not implemented")};bf.prototype.validate=function(){throw new Error("Not implemented")};bf.prototype._fixedNafMul=function(e,r){c_(e.precomputed);var n=e._getDoubles(),i=a_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};bf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=a_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];c_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};bf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=a_(n[m],o[m],this._bitLength),c[g]=a_(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],C=u1e(n[m],n[g]);for(l=Math.max(C[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=C[0][f]|0,D=C[1][f]|0;c[m][f]=v[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var A=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(A=!1);if(!A)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var _=k[f];_!==0&&(_>0?d=a[f][_-1>>1]:_<0&&(d=a[f][-_-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Ko(t,e){this.curve=t,this.type=e,this.precomputed=null}bf.BasePoint=Ko;Ko.prototype.eq=function(){throw new Error("Not implemented")};Ko.prototype.validate=function(){return this.curve.validate(this)};bf.prototype.decodePoint=function(e,r){e=ro.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?c_(e[e.length-1]%2===0):e[0]===7&&c_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ko.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ko.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ko.prototype.encode=function(e,r){return ro.encode(this._encode(r),e)};Ko.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ko.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ko.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ko.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ko.prototype._getBeta=function(){return null};Ko.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var AI=rp(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),f1e=ro.assert;function Vo(t){Qd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}AI(Vo,Qd);var d1e=Vo;Vo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],f1e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Vo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Vo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,v,C;n.cmpn(0)!==0;){var S=i.div(n);v=i.sub(S.mul(n)),C=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&v.cmp(r)<0)l=g.neg(),u=s,f=v.neg(),d=C;else if(f&&++b===2)break;g=v,i=n,n=v,a=s,s=C,c=o,o=D}h=v.neg(),m=C;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Vo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Vo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Vo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Vo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Zn(t,e,r,n){Qd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}AI(Zn,Qd.BasePoint);Vo.prototype.point=function(e,r,n){return new Zn(this,e,r,n)};Vo.prototype.pointFromJSON=function(e,r){return Zn.fromJSON(this,e,r)};Zn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Zn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Zn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Zn.prototype.isInfinity=function(){return this.inf};Zn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Zn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Zn.prototype.getX=function(){return this.x.fromRed()};Zn.prototype.getY=function(){return this.y.fromRed()};Zn.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Zn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Zn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Zn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Zn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Zn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function yi(t,e,r,n){Qd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}AI(yi,Qd.BasePoint);Vo.prototype.jpoint=function(e,r,n){return new yi(this,e,r,n)};yi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};yi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};yi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};yi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};yi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),v=g.redISub(b),C=m.redMul(v);C=C.redIAdd(C).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=C}return this.curve.jpoint(o,u.redMul(s),c)};yi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};yi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};yi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var v=d.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=m.redMul(g.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};yi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};yi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};yi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};yi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};yi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};yi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};yi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Lw=rp(function(t,e){var r=e;r.base=Qd,r.short=d1e,r.mont=null,r.edwards=null}),Fw=rp(function(t,e){var r=e,n=ro.assert;function i(a){a.type==="short"?this.curve=new Lw.short(a):a.type==="edwards"?this.curve=new Lw.edwards(a):this.curve=new Lw.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function af(t){if(!(this instanceof af))return new af(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ga.toArray(t.entropy,t.entropyEnc||"hex"),r=Ga.toArray(t.nonce,t.nonceEnc||"hex"),n=Ga.toArray(t.pers,t.persEnc||"hex");xI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var hF=af;af.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};af.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};af.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};af.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ga.toArray(e,r),n=Ga.toArray(n,i),xI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};af.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ga.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ga.encode(o,r)};var qC=ro.assert;function Mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var CI=Mi;Mi.fromPublic=function(e,r,n){return r instanceof Mi?r:new Mi(e,{pub:r,pubEnc:n})};Mi.fromPrivate=function(e,r,n){return r instanceof Mi?r:new Mi(e,{priv:r,privEnc:n})};Mi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Mi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Mi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Mi.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Mi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Mi.prototype.derive=function(e){return e.validate()||qC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Mi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Mi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var h1e=ro.assert;function mE(t,e){if(t instanceof mE)return t;this._importDER(t,e)||(h1e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var yE=mE;function p1e(){this.place=0}function gA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function X8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}mE.prototype._importDER=function(e,r){e=ro.toArray(e,r);var n=new p1e;if(e[n.place++]!==48)return!1;var i=gA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=gA(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=gA(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function mA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}mE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=X8(r),n=X8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];mA(i,r.length),i=i.concat(r),i.push(2),mA(i,n.length);var s=i.concat(n),o=[48];return mA(o,s.length),o=o.concat(s),ro.encode(o,e)};var g1e=(function(){throw new Error("unsupported")}),pF=ro.assert;function Lo(t){if(!(this instanceof Lo))return new Lo(t);typeof t=="string"&&(pF(Object.prototype.hasOwnProperty.call(Fw,t),"Unknown curve "+t),t=Fw[t]),t instanceof Fw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var m1e=Lo;Lo.prototype.keyPair=function(e){return new CI(this,e)};Lo.prototype.keyFromPrivate=function(e,r){return CI.fromPrivate(this,e,r)};Lo.prototype.keyFromPublic=function(e,r){return CI.fromPublic(this,e,r)};Lo.prototype.genKeyPair=function(e){e||(e={});for(var r=new hF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||g1e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Lo.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Lo.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new te(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new hF({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new te(1)),u=0;;u++){var f=i.k?i.k(u):new te(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),m=h.umod(this.n);if(m.cmpn(0)!==0){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var b=(d.getY().isOdd()?1:0)|(h.cmp(m)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new yE({r:m,s:g,recoveryParam:b})}}}}}};Lo.prototype.verify=function(e,r,n,i){e=this._truncateToN(new te(e,16)),n=this.keyFromPublic(n,i),r=new yE(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};Lo.prototype.recoverPubKey=function(t,e,r,n){pF((3&r)===r,"The recovery param is more than two bits"),e=new yE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Lo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new yE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var y1e=rp(function(t,e){var r=e;r.version="6.5.4",r.utils=ro,r.rand=(function(){throw new Error("unsupported")}),r.curve=Lw,r.curves=Fw,r.ec=m1e,r.eddsa=null}),b1e=y1e.ec;const w1e="logger/5.8.0";let Q8=!1,Z8=!1;const Bw={debug:1,default:2,info:2,warning:3,error:4,off:5};let e4=Bw.default,yA=null;function _1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const t4=_1e();var zC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(zC||(zC={}));var Ta;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ta||(Ta={}));const r4="0123456789abcdef";let bE=class On{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Bw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(e4>Bw[n])&&console.log.apply(console,r)}debug(...e){this._log(On.levels.DEBUG,e)}info(...e){this._log(On.levels.INFO,e)}warn(...e){this._log(On.levels.WARNING,e)}makeError(e,r,n){if(Z8)return this.makeError("censored error",r,{});r||(r=On.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=r4[l[f]>>4],u+=r4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ta.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ta.CALL_EXCEPTION:case Ta.INSUFFICIENT_FUNDS:case Ta.MISSING_NEW:case Ta.NONCE_EXPIRED:case Ta.REPLACEMENT_UNDERPRICED:case Ta.TRANSACTION_REPLACED:case Ta.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,On.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){t4&&this.throwError("platform missing String.prototype.normalize",On.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:t4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,On.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,On.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,On.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",On.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",On.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return yA||(yA=new On(w1e)),yA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q8){if(!e)return;this.globalLogger().throwError("error censorship permanent",On.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Z8=!!e,Q8=!!r}static setLogLevel(e){const r=Bw[e.toLowerCase()];if(r==null){On.globalLogger().warn("invalid log level - "+e);return}e4=r}static from(e){return new On(e)}};bE.errors=Ta;bE.levels=zC;const E1e="bytes/5.8.0",dn=new bE(E1e);function gF(t){return!!t.toHexString}function Tg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function v1e(t){return Wu(t)&&!(t.length%2)||NI(t)}function n4(t){return typeof t=="number"&&t==t&&t%1===0}function NI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!n4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!n4(r)||r<0||r>=256)return!1}return!0}function zi(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Tg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gF(t)&&(t=t.toHexString()),Wu(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Tg(new Uint8Array(n))}return NI(t)?Tg(new Uint8Array(t)):dn.throwArgumentError("invalid arrayify value","value",t)}function x1e(t,e){t=zi(t),t.length>e&&dn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Tg(r)}function Wu(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const bA="0123456789abcdef";function $s(t,e){if(e||(e={}),typeof t=="number"){dn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=bA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),gF(t))return t.toHexString();if(Wu(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":dn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(NI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=bA[(i&240)>>4]+bA[i&15]}return r}return dn.throwArgumentError("invalid hexlify value","value",t)}function A1e(t){if(typeof t!="string")t=$s(t);else if(!Wu(t)||t.length%2)return null;return(t.length-2)/2}function g0(t,e){for(typeof t!="string"?t=$s(t):Wu(t)||dn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&dn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function mF(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(v1e(t)){let r=zi(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=$s(r.slice(0,32)),e.s=$s(r.slice(32,64))):r.length===65?(e.r=$s(r.slice(0,32)),e.s=$s(r.slice(32,64)),e.v=r[64]):dn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:dn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=$s(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=x1e(zi(e._vs),32);e._vs=$s(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&dn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=$s(i);e.s==null?e.s=o:e.s!==o&&dn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?dn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&dn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Wu(e.r)?dn.throwArgumentError("signature missing or invalid r","signature",t):e.r=g0(e.r,32),e.s==null||!Wu(e.s)?dn.throwArgumentError("signature missing or invalid s","signature",t):e.s=g0(e.s,32);const r=zi(e.s);r[0]>=128&&dn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=$s(r);e._vs&&(Wu(e._vs)||dn.throwArgumentError("signature invalid _vs","signature",t),e._vs=g0(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&dn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Op(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const C1e="signing-key/5.7.0",GC=new bE(C1e);let wA=null;function xc(){return wA||(wA=new b1e("secp256k1")),wA}let yF=class{constructor(e){Op(this,"curve","secp256k1"),Op(this,"privateKey",$s(e)),A1e(this.privateKey)!==32&&GC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=xc().keyFromPrivate(zi(this.privateKey));Op(this,"publicKey","0x"+r.getPublic(!1,"hex")),Op(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Op(this,"_isSigningKey",!0)}_addPoint(e){const r=xc().keyFromPublic(zi(this.publicKey)),n=xc().keyFromPublic(zi(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=xc().keyFromPrivate(zi(this.privateKey)),n=zi(e);n.length!==32&&GC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return mF({recoveryParam:i.recoveryParam,r:g0("0x"+i.r.toString(16),32),s:g0("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=xc().keyFromPrivate(zi(this.privateKey)),n=xc().keyFromPublic(zi(bF(e)));return g0("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function N1e(t,e){const r=mF(e),n={r:zi(r.r),s:zi(r.s)};return"0x"+xc().recoverPubKey(zi(t),n,r.recoveryParam).encode("hex",!1)}function bF(t,e){const r=zi(t);if(r.length===32){const n=new yF(r);return e?"0x"+xc().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?$s(r):"0x"+xc().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+xc().keyFromPublic(r).getPublic(!0,"hex"):$s(r)}return GC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const S1e=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:yF,computePublicKey:bF,recoverPublicKey:N1e},Symbol.toStringTag,{value:"Module"})),I1e="logger/5.8.0";let i4=!1,s4=!1;const jw={debug:1,default:2,info:2,warning:3,error:4,off:5};let o4=jw.default,_A=null;function T1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const a4=T1e();var KC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(KC||(KC={}));var Ra;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ra||(Ra={}));const c4="0123456789abcdef";let wE=class Dn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();jw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(o4>jw[n])&&console.log.apply(console,r)}debug(...e){this._log(Dn.levels.DEBUG,e)}info(...e){this._log(Dn.levels.INFO,e)}warn(...e){this._log(Dn.levels.WARNING,e)}makeError(e,r,n){if(s4)return this.makeError("censored error",r,{});r||(r=Dn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=c4[l[f]>>4],u+=c4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Ra.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ra.CALL_EXCEPTION:case Ra.INSUFFICIENT_FUNDS:case Ra.MISSING_NEW:case Ra.NONCE_EXPIRED:case Ra.REPLACEMENT_UNDERPRICED:case Ra.TRANSACTION_REPLACED:case Ra.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Dn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){a4&&this.throwError("platform missing String.prototype.normalize",Dn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:a4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Dn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Dn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Dn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Dn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Dn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return _A||(_A=new Dn(I1e)),_A}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}s4=!!e,i4=!!r}static setLogLevel(e){const r=jw[e.toLowerCase()];if(r==null){Dn.globalLogger().warn("invalid log level - "+e);return}o4=r}static from(e){return new Dn(e)}};wE.errors=Ra;wE.levels=KC;const R1e="bytes/5.8.0",m0=new wE(R1e);function wF(t){return!!t.toHexString}function Rg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Rg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function l4(t){return typeof t=="number"&&t==t&&t%1===0}function _F(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!l4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!l4(r)||r<0||r>=256)return!1}return!0}function _E(t,e){if(e||(e={}),typeof t=="number"){m0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Rg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wF(t)&&(t=t.toHexString()),EF(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":m0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Rg(new Uint8Array(n))}return _F(t)?Rg(new Uint8Array(t)):m0.throwArgumentError("invalid arrayify value","value",t)}function P1e(t){const e=t.map(i=>_E(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Rg(n)}function EF(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const EA="0123456789abcdef";function O1e(t,e){if(e||(e={}),typeof t=="number"){m0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=EA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),wF(t))return t.toHexString();if(EF(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":m0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(_F(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=EA[(i&240)>>4]+EA[i&15]}return r}return m0.throwArgumentError("invalid hexlify value","value",t)}const D1e="0x0000000000000000000000000000000000000000000000000000000000000000",k1e="strings/5.7.0",vF=new wE(k1e);var Fd;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Fd||(Fd={}));var vs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(vs||(vs={}));function M1e(t,e,r,n,i){return vF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function xF(t,e,r,n,i){if(t===vs.BAD_PREFIX||t===vs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===vs.OVERRUN?r.length-e-1:0}function U1e(t,e,r,n,i){return t===vs.OVERLONG?(n.push(i),0):(n.push(65533),xF(t,e,r))}const AF=Object.freeze({error:M1e,ignore:xF,replace:U1e});function SI(t,e){e==null&&(e=AF.error),t=_E(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(vs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(vs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(vs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(vs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(vs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(vs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(vs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function EE(t,e=Fd.current){e!=Fd.current&&(vF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return _E(r)}function vA(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function $1e(t,e){return'"'+SI(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?vA(r):(r-=65536,vA((r>>10&1023)+55296)+vA((r&1023)+56320))}).join("")+'"'}function VC(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function CF(t,e){return VC(SI(t,e))}function JC(t,e=Fd.current){return SI(EE(t,e))}function L1e(t){const e=EE(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return O1e(P1e([e,D1e]).slice(0,32))}function F1e(t){const e=_E(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return CF(e.slice(0,r))}function B1e(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function II(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function NF(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function TI(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const j1e=NF("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),H1e="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),W1e=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],q1e=II("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),z1e=II("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),G1e=II("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",B1e),K1e=NF("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function V1e(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function J1e(t){return!!TI(t,j1e)}function Y1e(t){let e=TI(t,W1e);if(e)return[t+e.s];let r=q1e[t];if(r)return r;let n=z1e[t];if(n)return[t+n[0]];let i=G1e[t];return i||null}function X1e(t){return!!TI(t,K1e)}function Q1e(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=JC(t);e=V1e(e.map(n=>{if(H1e.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=Y1e(n);return i||[n]})),e=JC(VC(e),Fd.NFKC),e.forEach(n=>{if(X1e(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(J1e(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=VC(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const Z1e=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Fd},Utf8ErrorFuncs:AF,get Utf8ErrorReason(){return vs},_toEscapedUtf8String:$1e,formatBytes32String:L1e,nameprep:Q1e,parseBytes32String:F1e,toUtf8Bytes:EE,toUtf8CodePoints:JC,toUtf8String:CF},Symbol.toStringTag,{value:"Module"})),e_e="logger/5.8.0";let u4=!1,f4=!1;const Hw={debug:1,default:2,info:2,warning:3,error:4,off:5};let d4=Hw.default,xA=null;function t_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const h4=t_e();var YC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(YC||(YC={}));var Pa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Pa||(Pa={}));const p4="0123456789abcdef";let Fr=class kn{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Hw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(d4>Hw[n])&&console.log.apply(console,r)}debug(...e){this._log(kn.levels.DEBUG,e)}info(...e){this._log(kn.levels.INFO,e)}warn(...e){this._log(kn.levels.WARNING,e)}makeError(e,r,n){if(f4)return this.makeError("censored error",r,{});r||(r=kn.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=p4[l[f]>>4],u+=p4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Pa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Pa.CALL_EXCEPTION:case Pa.INSUFFICIENT_FUNDS:case Pa.MISSING_NEW:case Pa.NONCE_EXPIRED:case Pa.REPLACEMENT_UNDERPRICED:case Pa.TRANSACTION_REPLACED:case Pa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,kn.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){h4&&this.throwError("platform missing String.prototype.normalize",kn.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:h4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,kn.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,kn.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,kn.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",kn.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",kn.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return xA||(xA=new kn(e_e)),xA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),u4){if(!e)return;this.globalLogger().throwError("error censorship permanent",kn.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}f4=!!e,u4=!!r}static setLogLevel(e){const r=Hw[e.toLowerCase()];if(r==null){kn.globalLogger().warn("invalid log level - "+e);return}d4=r}static from(e){return new kn(e)}};Fr.errors=Pa;Fr.levels=YC;const r_e="bytes/5.8.0",tn=new Fr(r_e);function SF(t){return!!t.toHexString}function Pg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Pg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function RI(t){return Po(t)&&!(t.length%2)||vE(t)}function g4(t){return typeof t=="number"&&t==t&&t%1===0}function vE(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!g4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!g4(r)||r<0||r>=256)return!1}return!0}function Mr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Pg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),SF(t)&&(t=t.toHexString()),Po(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":tn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Pg(new Uint8Array(n))}return vE(t)?Pg(new Uint8Array(t)):tn.throwArgumentError("invalid arrayify value","value",t)}function qu(t){let e=Mr(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function n_e(t,e){t=Mr(t),t.length>e&&tn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Pg(r)}function Po(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const AA="0123456789abcdef";function nr(t,e){if(e||(e={}),typeof t=="number"){tn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=AA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),SF(t))return t.toHexString();if(Po(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":tn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(vE(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=AA[(i&240)>>4]+AA[i&15]}return r}return tn.throwArgumentError("invalid hexlify value","value",t)}function IF(t){if(typeof t!="string")t=nr(t);else if(!Po(t)||t.length%2)return null;return(t.length-2)/2}function m4(t,e,r){return typeof t!="string"?t=nr(t):(!Po(t)||t.length%2)&&tn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function TF(t){let e="0x";return t.forEach(r=>{e+=nr(r).substring(2)}),e}function Uc(t,e){for(typeof t!="string"?t=nr(t):Po(t)||tn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&tn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Uy(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(RI(t)){let r=Mr(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64))):r.length===65?(e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64)),e.v=r[64]):tn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:tn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=nr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=n_e(Mr(e._vs),32);e._vs=nr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&tn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=nr(i);e.s==null?e.s=o:e.s!==o&&tn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?tn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&tn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Po(e.r)?tn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Uc(e.r,32),e.s==null||!Po(e.s)?tn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Uc(e.s,32);const r=Mr(e.s);r[0]>=128&&tn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=nr(r);e._vs&&(Po(e._vs)||tn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Uc(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&tn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const i_e="bignumber/5.8.0";var l_=te.BN;const yl=new Fr(i_e),CA={},y4=9007199254740991;let b4=!1,$c=class da{constructor(e,r){e!==CA&&yl.throwError("cannot call constructor directly; use BigNumber.from",Fr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ds(_t(this).fromTwos(e))}toTwos(e){return ds(_t(this).toTwos(e))}abs(){return this._hex[0]==="-"?da.from(this._hex.substring(1)):this}add(e){return ds(_t(this).add(_t(e)))}sub(e){return ds(_t(this).sub(_t(e)))}div(e){return da.from(e).isZero()&&po("division-by-zero","div"),ds(_t(this).div(_t(e)))}mul(e){return ds(_t(this).mul(_t(e)))}mod(e){const r=_t(e);return r.isNeg()&&po("division-by-zero","mod"),ds(_t(this).umod(r))}pow(e){const r=_t(e);return r.isNeg()&&po("negative-power","pow"),ds(_t(this).pow(r))}and(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","and"),ds(_t(this).and(r))}or(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","or"),ds(_t(this).or(r))}xor(e){const r=_t(e);return(this.isNegative()||r.isNeg())&&po("unbound-bitwise-result","xor"),ds(_t(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&po("negative-width","mask"),ds(_t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&po("negative-width","shl"),ds(_t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&po("negative-width","shr"),ds(_t(this).shrn(e))}eq(e){return _t(this).eq(_t(e))}lt(e){return _t(this).lt(_t(e))}lte(e){return _t(this).lte(_t(e))}gt(e){return _t(this).gt(_t(e))}gte(e){return _t(this).gte(_t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return _t(this).isZero()}toNumber(){try{return _t(this).toNumber()}catch{po("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return yl.throwError("this platform does not support BigInt",Fr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?b4||(b4=!0,yl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?yl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Fr.errors.UNEXPECTED_ARGUMENT,{}):yl.throwError("BigNumber.toString does not accept parameters",Fr.errors.UNEXPECTED_ARGUMENT,{})),_t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof da)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new da(CA,ey(e)):e.match(/^-?[0-9]+$/)?new da(CA,ey(new l_(e))):yl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&po("underflow","BigNumber.from",e),(e>=y4||e<=-y4)&&po("overflow","BigNumber.from",e),da.from(String(e));const r=e;if(typeof r=="bigint")return da.from(r.toString());if(vE(r))return da.from(nr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return da.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Po(n)||n[0]==="-"&&Po(n.substring(1))))return da.from(n)}return yl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function ey(t){if(typeof t!="string")return ey(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&yl.throwArgumentError("invalid hex","value",t),t=ey(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ds(t){return $c.from(ey(t))}function _t(t){const e=$c.from(t).toHexString();return e[0]==="-"?new l_("-"+e.substring(3),16):new l_(e.substring(2),16)}function po(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),yl.throwError(t,Fr.errors.NUMERIC_FAULT,n)}function s_e(t){return new l_(t,36).toString(16)}function Bd(t){return"0x"+V0.keccak_256(Mr(t))}const o_e="rlp/5.8.0",_c=new Fr(o_e);function w4(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function _4(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function RF(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(RF(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=w4(n.length);return i.unshift(247+i.length),i.concat(n)}RI(t)||_c.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Mr(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=w4(e.length);return r.unshift(183+r.length),r.concat(e)}function ty(t){return nr(RF(t))}function E4(t,e,r,n){const i=[];for(;r<e+1+n;){const s=PF(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&_c.throwError("child data too short",Fr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function PF(t,e){if(t.length===0&&_c.throwError("data too short",Fr.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&_c.throwError("data short segment too short",Fr.errors.BUFFER_OVERRUN,{});const n=_4(t,e+1,r);return e+1+r+n>t.length&&_c.throwError("data long segment too short",Fr.errors.BUFFER_OVERRUN,{}),E4(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&_c.throwError("data array too short",Fr.errors.BUFFER_OVERRUN,{}),E4(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&_c.throwError("data array too short",Fr.errors.BUFFER_OVERRUN,{});const n=_4(t,e+1,r);e+1+r+n>t.length&&_c.throwError("data array too short",Fr.errors.BUFFER_OVERRUN,{});const i=nr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&_c.throwError("data too short",Fr.errors.BUFFER_OVERRUN,{});const n=nr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:nr(t[e])}}function PI(t){const e=Mr(t),r=PF(e,0);return r.consumed!==e.length&&_c.throwArgumentError("invalid rlp data","data",t),r.result}const a_e="address/5.8.0",Xp=new Fr(a_e);function v4(t){Po(t,20)||Xp.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Mr(Bd(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const c_e=9007199254740991;function l_e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const OI={};for(let t=0;t<10;t++)OI[String(t)]=String(t);for(let t=0;t<26;t++)OI[String.fromCharCode(65+t)]=String(10+t);const x4=Math.floor(l_e(c_e));function u_e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>OI[n]).join("");for(;e.length>=x4;){let n=e.substring(0,x4);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function $y(t){let e=null;if(typeof t!="string"&&Xp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=v4(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Xp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==u_e(t)&&Xp.throwArgumentError("bad icap checksum","address",t),e=s_e(t.substring(4));e.length<40;)e="0"+e;e=v4("0x"+e)}else Xp.throwArgumentError("invalid address","address",t);return e}const f_e=$c.from(0),d_e="properties/5.8.0",A4=new Fr(d_e);function Dp(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function h_e(t,e){(!t||typeof t!="object")&&A4.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||A4.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function np(t,e,r){return r={path:e,exports:{},require:function(n,i){return p_e(n,i??r.path)}},t(r,r.exports),r.exports}function p_e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var DI=OF;function OF(t,e){if(!t)throw new Error(e||"Assertion failed")}OF.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ka=np(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,d=u&255;f?c.push(f,d):c.push(d)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),no=np(function(t,e){var r=e;r.assert=DI,r.toArray=Ka.toArray,r.zero2=Ka.zero2,r.toHex=Ka.toHex,r.encode=Ka.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),d;for(d=0;d<f.length;d+=1)f[d]=0;var h=1<<l+1,m=c.clone();for(d=0;d<f.length;d++){var g,b=m.andln(h-1);m.isOdd()?(b>(h>>1)-1?g=(h>>1)-b:g=b,m.isubn(g)):g=0,f[d]=g,m.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,d=0,h;c.cmpn(-f)>0||l.cmpn(-d)>0;){var m=c.andln(3)+f&3,g=l.andln(3)+d&3;m===3&&(m=-1),g===3&&(g=-1);var b;(m&1)===0?b=0:(h=c.andln(7)+f&7,(h===3||h===5)&&g===2?b=-m:b=m),u[0].push(b);var v;(g&1)===0?v=0:(h=l.andln(7)+d&7,(h===3||h===5)&&m===2?v=-g:v=g),u[1].push(v),2*f===b+1&&(f=1-f),2*d===v+1&&(d=1-d),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new te(c,"hex","le")}r.intFromLE=a}),u_=no.getNAF,g_e=no.getJSF,f_=no.assert;function wf(t,e){this.type=t,this.p=new te(e.p,16),this.red=e.prime?te.red(e.prime):te.mont(this.p),this.zero=new te(0).toRed(this.red),this.one=new te(1).toRed(this.red),this.two=new te(2).toRed(this.red),this.n=e.n&&new te(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Zd=wf;wf.prototype.point=function(){throw new Error("Not implemented")};wf.prototype.validate=function(){throw new Error("Not implemented")};wf.prototype._fixedNafMul=function(e,r){f_(e.precomputed);var n=e._getDoubles(),i=u_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?f=f.mixedAdd(n.points[a]):c===-d&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};wf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=u_(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];f_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};wf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,d;for(u=0;u<i;u++){d=r[u];var h=d._getNAFPoints(e);o[u]=h.wnd,a[u]=h.points}for(u=i-1;u>=1;u-=2){var m=u-1,g=u;if(o[m]!==1||o[g]!==1){c[m]=u_(n[m],o[m],this._bitLength),c[g]=u_(n[g],o[g],this._bitLength),l=Math.max(c[m].length,l),l=Math.max(c[g].length,l);continue}var b=[r[m],null,null,r[g]];r[m].y.cmp(r[g].y)===0?(b[1]=r[m].add(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg())):r[m].y.cmp(r[g].y.redNeg())===0?(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].add(r[g].neg())):(b[1]=r[m].toJ().mixedAdd(r[g]),b[2]=r[m].toJ().mixedAdd(r[g].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],C=g_e(n[m],n[g]);for(l=Math.max(C[0].length,l),c[m]=new Array(l),c[g]=new Array(l),f=0;f<l;f++){var S=C[0][f]|0,D=C[1][f]|0;c[m][f]=v[(S+1)*3+(D+1)],c[g][f]=0,a[m]=b}}var O=this.jpoint(null,null,null),k=this._wnafT4;for(u=l;u>=0;u--){for(var F=0;u>=0;){var A=!0;for(f=0;f<i;f++)k[f]=c[f][u]|0,k[f]!==0&&(A=!1);if(!A)break;F++,u--}if(u>=0&&F++,O=O.dblp(F),u<0)break;for(f=0;f<i;f++){var _=k[f];_!==0&&(_>0?d=a[f][_-1>>1]:_<0&&(d=a[f][-_-1>>1].neg()),d.type==="affine"?O=O.mixedAdd(d):O=O.add(d))}}for(u=0;u<i;u++)a[u]=null;return s?O:O.toP()};function Jo(t,e){this.curve=t,this.type=e,this.precomputed=null}wf.BasePoint=Jo;Jo.prototype.eq=function(){throw new Error("Not implemented")};Jo.prototype.validate=function(){return this.curve.validate(this)};wf.prototype.decodePoint=function(e,r){e=no.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?f_(e[e.length-1]%2===0):e[0]===7&&f_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Jo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Jo.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Jo.prototype.encode=function(e,r){return no.encode(this._encode(r),e)};Jo.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Jo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Jo.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Jo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Jo.prototype._getBeta=function(){return null};Jo.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var kI=np(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),m_e=no.assert;function Yo(t){Zd.call(this,"short",t),this.a=new te(t.a,16).toRed(this.red),this.b=new te(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}kI(Yo,Zd);var y_e=Yo;Yo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new te(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new te(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],m_e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new te(a.a,16),b:new te(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Yo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:te.mont(e),n=new te(2).toRed(r).redInvm(),i=n.redNeg(),s=new te(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Yo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new te(1),o=new te(0),a=new te(0),c=new te(1),l,u,f,d,h,m,g,b=0,v,C;n.cmpn(0)!==0;){var S=i.div(n);v=i.sub(S.mul(n)),C=a.sub(S.mul(s));var D=c.sub(S.mul(o));if(!f&&v.cmp(r)<0)l=g.neg(),u=s,f=v.neg(),d=C;else if(f&&++b===2)break;g=v,i=n,n=v,a=s,s=C,c=o,o=D}h=v.neg(),m=C;var O=f.sqr().add(d.sqr()),k=h.sqr().add(m.sqr());return k.cmp(O)>=0&&(h=l,m=u),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),m=m.neg()),[{a:f,b:d},{a:h,b:m}]};Yo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),d=l.add(u).neg();return{k1:f,k2:d}};Yo.prototype.pointFromX=function(e,r){e=new te(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Yo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Yo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function ei(t,e,r,n){Zd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new te(e,16),this.y=new te(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}kI(ei,Zd.BasePoint);Yo.prototype.point=function(e,r,n){return new ei(this,e,r,n)};Yo.prototype.pointFromJSON=function(e,r){return ei.fromJSON(this,e,r)};ei.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ei.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ei.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ei.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ei.prototype.isInfinity=function(){return this.inf};ei.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ei.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ei.prototype.getX=function(){return this.x.fromRed()};ei.prototype.getY=function(){return this.y.fromRed()};ei.prototype.mul=function(e){return e=new te(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ei.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ei.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ei.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ei.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ei.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function bi(t,e,r,n){Zd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new te(0)):(this.x=new te(e,16),this.y=new te(r,16),this.z=new te(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}kI(bi,Zd.BasePoint);Yo.prototype.jpoint=function(e,r,n){return new bi(this,e,r,n)};bi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};bi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};bi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),d=i.redMul(u),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),m=l.redMul(d.redISub(h)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(h,m,g)};bi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),d=c.redSqr().redIAdd(u).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(d,h,m)};bi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),d=u.redSqr(),h=d.redSqr(),m=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),g=o.redMul(d),b=m.redSqr().redISub(g.redAdd(g)),v=g.redISub(b),C=m.redMul(v);C=C.redIAdd(C).redISub(h);var S=u.redMul(c);r+1<e&&(l=l.redMul(h)),o=b,c=S,u=C}return this.curve.jpoint(o,u.redMul(s),c)};bi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};bi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),m=this.x.redAdd(d).redSqr().redISub(f).redISub(h);m=m.redIAdd(m);var g=f.redAdd(f).redIAdd(f),b=g.redSqr(),v=h.redIAdd(h);v=v.redIAdd(v),v=v.redIAdd(v),e=b.redISub(m).redISub(m),r=g.redMul(m.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};bi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),m=this.x.redSub(f).redMul(this.x.redAdd(f));m=m.redAdd(m).redIAdd(m);var g=h.redIAdd(h);g=g.redIAdd(g);var b=g.redAdd(g);e=m.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var v=d.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=m.redMul(g.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};bi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=c.redMul(d).redISub(h),g=n.redAdd(n).redMul(i);return this.curve.jpoint(f,m,g)};bi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(c).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(d,h,m)};bi.prototype.mul=function(e,r){return e=new te(e,r),this.curve._wnafMul(this,e)};bi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};bi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};bi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};bi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ww=np(function(t,e){var r=e;r.base=Zd,r.short=y_e,r.mont=null,r.edwards=null}),qw=np(function(t,e){var r=e,n=no.assert;function i(a){a.type==="short"?this.curve=new Ww.short(a):a.type==="edwards"?this.curve=new Ww.edwards(a):this.curve=new Ww.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ye.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ye.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ye.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ye.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ye.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ye.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ye.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function cf(t){if(!(this instanceof cf))return new cf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ka.toArray(t.entropy,t.entropyEnc||"hex"),r=Ka.toArray(t.nonce,t.nonceEnc||"hex"),n=Ka.toArray(t.pers,t.persEnc||"hex");DI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var DF=cf;cf.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};cf.prototype._hmac=function(){return new Ye.hmac(this.hash,this.K)};cf.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};cf.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ka.toArray(e,r),n=Ka.toArray(n,i),DI(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};cf.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ka.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Ka.encode(o,r)};var XC=no.assert;function Ui(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var MI=Ui;Ui.fromPublic=function(e,r,n){return r instanceof Ui?r:new Ui(e,{pub:r,pubEnc:n})};Ui.fromPrivate=function(e,r,n){return r instanceof Ui?r:new Ui(e,{priv:r,privEnc:n})};Ui.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ui.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ui.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ui.prototype._importPrivate=function(e,r){this.priv=new te(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ui.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?XC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&XC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ui.prototype.derive=function(e){return e.validate()||XC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ui.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ui.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ui.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var b_e=no.assert;function xE(t,e){if(t instanceof xE)return t;this._importDER(t,e)||(b_e(t.r&&t.s,"Signature without r or s"),this.r=new te(t.r,16),this.s=new te(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var AE=xE;function w_e(){this.place=0}function NA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function C4(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}xE.prototype._importDER=function(e,r){e=no.toArray(e,r);var n=new w_e;if(e[n.place++]!==48)return!1;var i=NA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=NA(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=NA(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new te(o),this.s=new te(c),this.recoveryParam=null,!0};function SA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}xE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=C4(r),n=C4(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];SA(i,r.length),i=i.concat(r),i.push(2),SA(i,n.length);var s=i.concat(n),o=[48];return SA(o,s.length),o=o.concat(s),no.encode(o,e)};var __e=(function(){throw new Error("unsupported")}),id=no.assert;function Fo(t){if(!(this instanceof Fo))return new Fo(t);typeof t=="string"&&(id(Object.prototype.hasOwnProperty.call(qw,t),"Unknown curve "+t),t=qw[t]),t instanceof qw.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var E_e=Fo;Fo.prototype.keyPair=function(e){return new MI(this,e)};Fo.prototype.keyFromPrivate=function(e,r){return MI.fromPrivate(this,e,r)};Fo.prototype.keyFromPublic=function(e,r){return MI.fromPublic(this,e,r)};Fo.prototype.genKeyPair=function(e){e||(e={});for(var r=new DF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||__e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new te(2));;){var s=new te(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Fo.prototype._truncateToN=function(e,r,n){var i;if(te.isBN(e)||typeof e=="number")e=new te(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new te(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new te(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Fo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!te.isBN(e)){id(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),id(e.length>>>0===e.length);for(var s=0;s<e.length;s++)id((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),id(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);id(new te(c).eq(e),"Can not sign message");for(var l=new DF({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new te(1)),f=0;;f++){var d=i.k?i.k(f):new te(l.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var h=this.g.mul(d);if(!h.isInfinity()){var m=h.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var b=d.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var v=(h.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new AE({r:g,s:b,recoveryParam:v})}}}}}};Fo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new AE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};Fo.prototype.recoverPubKey=function(t,e,r,n){id((3&r)===r,"The recovery param is more than two bits"),e=new AE(e,n);var i=this.n,s=new te(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),d=a.mul(u).umod(i);return this.g.mulAdd(f,o,d)};Fo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new AE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var v_e=np(function(t,e){var r=e;r.version="6.6.1",r.utils=no,r.rand=(function(){throw new Error("unsupported")}),r.curve=Ww,r.curves=qw,r.ec=E_e,r.eddsa=null}),x_e=v_e.ec;const A_e="signing-key/5.8.0",QC=new Fr(A_e);let IA=null;function Tu(){return IA||(IA=new x_e("secp256k1")),IA}class C_e{constructor(e){Dp(this,"curve","secp256k1"),Dp(this,"privateKey",nr(e)),IF(this.privateKey)!==32&&QC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Tu().keyFromPrivate(Mr(this.privateKey));Dp(this,"publicKey","0x"+r.getPublic(!1,"hex")),Dp(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Dp(this,"_isSigningKey",!0)}_addPoint(e){const r=Tu().keyFromPublic(Mr(this.publicKey)),n=Tu().keyFromPublic(Mr(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Tu().keyFromPrivate(Mr(this.privateKey)),n=Mr(e);n.length!==32&&QC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Uy({recoveryParam:i.recoveryParam,r:Uc("0x"+i.r.toString(16),32),s:Uc("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Tu().keyFromPrivate(Mr(this.privateKey)),n=Tu().keyFromPublic(Mr(kF(e)));return Uc("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function N_e(t,e){const r=Uy(e),n={r:Mr(r.r),s:Mr(r.s)};return"0x"+Tu().recoverPubKey(Mr(t),n,r.recoveryParam).encode("hex",!1)}function kF(t,e){const r=Mr(t);return r.length===32?new C_e(r).publicKey:r.length===33?"0x"+Tu().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?nr(r):QC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const S_e="transactions/5.7.0",Pi=new Fr(S_e);var ZC;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(ZC||(ZC={}));function UI(t){return t==="0x"?null:$y(t)}function Ii(t){return t==="0x"?f_e:$c.from(t)}const I_e=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],T_e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function MF(t){const e=kF(t);return $y(m4(Bd(m4(e,1)),12))}function $I(t,e){return MF(N_e(Mr(t),e))}function js(t,e){const r=qu($c.from(t).toHexString());return r.length>32&&Pi.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function TA(t,e){return{address:$y(t),storageKeys:(e||[]).map((r,n)=>(IF(r)!==32&&Pi.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function CE(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Pi.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),TA(r[0],r[1])):TA(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return TA(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function UF(t){return CE(t).map(e=>[e.address,e.storageKeys])}function $F(t,e){if(t.gasPrice!=null){const n=$c.from(t.gasPrice),i=$c.from(t.maxFeePerGas||0);n.eq(i)||Pi.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),js(t.maxFeePerGas||0,"maxFeePerGas"),js(t.gasLimit||0,"gasLimit"),t.to!=null?$y(t.to):"0x",js(t.value||0,"value"),t.data||"0x",UF(t.accessList||[])];if(e){const n=Uy(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(qu(n.r)),r.push(qu(n.s))}return TF(["0x02",ty(r)])}function LF(t,e){const r=[js(t.chainId||0,"chainId"),js(t.nonce||0,"nonce"),js(t.gasPrice||0,"gasPrice"),js(t.gasLimit||0,"gasLimit"),t.to!=null?$y(t.to):"0x",js(t.value||0,"value"),t.data||"0x",UF(t.accessList||[])];if(e){const n=Uy(e);r.push(js(n.recoveryParam,"recoveryParam")),r.push(qu(n.r)),r.push(qu(n.s))}return TF(["0x01",ty(r)])}function R_e(t,e){h_e(t,T_e);const r=[];I_e.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=Mr(nr(a,c)),o.length&&a.length!==o.length&&a.length>0&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=qu(a),a.length>o.maxLength&&Pi.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(nr(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Pi.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!RI(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(nr(n)),r.push("0x"),r.push("0x")),!e)return ty(r);const i=Uy(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Pi.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(nr(s)),r.push(qu(Mr(i.r))),r.push(qu(Mr(i.s))),ty(r)}function P_e(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Pi.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),R_e(t,e);switch(t.type){case 1:return LF(t,e);case 2:return $F(t,e)}return Pi.throwError(`unsupported transaction type: ${t.type}`,Fr.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function FF(t,e,r){try{const n=Ii(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Pi.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Uc(e[1],32),t.s=Uc(e[2],32);try{const n=Bd(r(t));t.from=$I(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function O_e(t){const e=PI(t.slice(1));e.length!==9&&e.length!==12&&Pi.throwArgumentError("invalid component count for transaction type: 2","payload",nr(t));const r=Ii(e[2]),n=Ii(e[3]),i={type:2,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ii(e[4]),to:UI(e[5]),value:Ii(e[6]),data:e[7],accessList:CE(e[8])};return e.length===9||(i.hash=Bd(t),FF(i,e.slice(9),$F)),i}function D_e(t){const e=PI(t.slice(1));e.length!==8&&e.length!==11&&Pi.throwArgumentError("invalid component count for transaction type: 1","payload",nr(t));const r={type:1,chainId:Ii(e[0]).toNumber(),nonce:Ii(e[1]).toNumber(),gasPrice:Ii(e[2]),gasLimit:Ii(e[3]),to:UI(e[4]),value:Ii(e[5]),data:e[6],accessList:CE(e[7])};return e.length===8||(r.hash=Bd(t),FF(r,e.slice(8),LF)),r}function k_e(t){const e=PI(t);e.length!==9&&e.length!==6&&Pi.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ii(e[0]).toNumber(),gasPrice:Ii(e[1]),gasLimit:Ii(e[2]),to:UI(e[3]),value:Ii(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=$c.from(e[6]).toNumber()}catch{return r}if(r.r=Uc(e[7],32),r.s=Uc(e[8],32),$c.from(r.r).isZero()&&$c.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(nr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Bd(ty(i));try{r.from=$I(s,{r:nr(r.r),s:nr(r.s),recoveryParam:n})}catch{}r.hash=Bd(t)}return r.type=null,r}function M_e(t){const e=Mr(t);if(e[0]>127)return k_e(e);switch(e[0]){case 1:return D_e(e);case 2:return O_e(e)}return Pi.throwError(`unsupported transaction type: ${e[0]}`,Fr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const U_e=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return ZC},accessListify:CE,computeAddress:MF,parse:M_e,recoverAddress:$I,serialize:P_e},Symbol.toStringTag,{value:"Module"})),$_e="units/5.7.0",BF=new re($_e),jF=["wei","kwei","mwei","gwei","szabo","finney","ether"];function L_e(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&BF.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function LI(t,e){if(typeof e=="string"){const r=jF.indexOf(e);r!==-1&&(e=3*r)}return sw(t,e??18)}function FI(t,e){if(typeof t!="string"&&BF.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=jF.indexOf(e);r!==-1&&(e=3*r)}return pc(t,e??18)}function F_e(t){return LI(t,18)}function B_e(t){return FI(t,18)}const j_e=Object.freeze(Object.defineProperty({__proto__:null,commify:L_e,formatEther:F_e,formatUnits:LI,parseEther:B_e,parseUnits:FI},Symbol.toStringTag,{value:"Module"})),H_e="logger/5.8.0";let N4=!1,S4=!1;const zw={debug:1,default:2,info:2,warning:3,error:4,off:5};let I4=zw.default,RA=null;function W_e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const T4=W_e();var eN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(eN||(eN={}));var Oa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Oa||(Oa={}));const R4="0123456789abcdef";class Ft{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();zw[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(I4>zw[n])&&console.log.apply(console,r)}debug(...e){this._log(Ft.levels.DEBUG,e)}info(...e){this._log(Ft.levels.INFO,e)}warn(...e){this._log(Ft.levels.WARNING,e)}makeError(e,r,n){if(S4)return this.makeError("censored error",r,{});r||(r=Ft.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=R4[l[f]>>4],u+=R4[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Oa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Oa.CALL_EXCEPTION:case Oa.INSUFFICIENT_FUNDS:case Oa.MISSING_NEW:case Oa.NONCE_EXPIRED:case Oa.REPLACEMENT_UNDERPRICED:case Oa.TRANSACTION_REPLACED:case Oa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ft.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){T4&&this.throwError("platform missing String.prototype.normalize",Ft.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ft.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ft.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ft.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ft.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ft.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return RA||(RA=new Ft(H_e)),RA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),N4){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ft.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S4=!!e,N4=!!r}static setLogLevel(e){const r=zw[e.toLowerCase()];if(r==null){Ft.globalLogger().warn("invalid log level - "+e);return}I4=r}static from(e){return new Ft(e)}}Ft.errors=Oa;Ft.levels=eN;const q_e="bytes/5.8.0",y0=new Ft(q_e);function HF(t){return!!t.toHexString}function Gw(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Gw(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function z_e(t){return jI(t)&&!(t.length%2)||BI(t)}function P4(t){return typeof t=="number"&&t==t&&t%1===0}function BI(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!P4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!P4(r)||r<0||r>=256)return!1}return!0}function Ly(t,e){if(e||(e={}),typeof t=="number"){y0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Gw(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),HF(t)&&(t=t.toHexString()),jI(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":y0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Gw(new Uint8Array(n))}return BI(t)?Gw(new Uint8Array(t)):y0.throwArgumentError("invalid arrayify value","value",t)}function jI(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const PA="0123456789abcdef";function G_e(t,e){if(e||(e={}),typeof t=="number"){y0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=PA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),HF(t))return t.toHexString();if(jI(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":y0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(BI(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=PA[(i&240)>>4]+PA[i&15]}return r}return y0.throwArgumentError("invalid hexlify value","value",t)}function K_e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Ly(e)}function V_e(t){t=Ly(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function d_(t){const e={};for(const r in t)e[r]=t[r];return e}const J_e="strings/5.8.0",WF=new Ft(J_e);var h_;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(h_||(h_={}));var Hs;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Hs||(Hs={}));function Y_e(t,e,r,n,i){return WF.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function qF(t,e,r,n,i){if(t===Hs.BAD_PREFIX||t===Hs.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Hs.OVERRUN?r.length-e-1:0}function X_e(t,e,r,n,i){return t===Hs.OVERLONG?(n.push(i),0):(n.push(65533),qF(t,e,r))}const Q_e=Object.freeze({error:Y_e,ignore:qF,replace:X_e});function Z_e(t,e){e==null&&(e=Q_e.error),t=Ly(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Hs.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Hs.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Hs.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(Hs.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(Hs.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Hs.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Hs.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function HI(t,e=h_.current){e!=h_.current&&(WF.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Ly(r)}function eEe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function zF(t,e){return eEe(Z_e(t,e))}const tEe="web/5.7.1";var rEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function nEe(t,e){return rEe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Ly(new Uint8Array(i))}})}var iEe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ha=new Ft(tEe);function O4(t){return new Promise(e=>{setTimeout(e,t)})}function pu(t,e){if(t==null)return null;if(typeof t=="string")return t;if(z_e(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return zF(t)}catch{}return G_e(t)}return t}function sEe(t){return HI(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function GF(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;ha.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;ha.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&ha.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const v in t.headers)a[v.toLowerCase()]={key:v,value:String(t.headers[v])},["if-none-match","if-modified-since"].indexOf(v.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&ha.throwError("basic authentication requires a secure https url",Ft.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const v=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+V_e(HI(v))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=d_(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(d):null;if(h)try{const v={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?K_e(h[3]):sEe(h[3])};let C=v.body;return r&&(C=r(v.body,v)),Promise.resolve(C)}catch(v){ha.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:pu(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(v=>{const C=a[v];m[C.key]=C.value}),l.headers=m;const g=(function(){let v=null;return{promise:new Promise(function(D,O){f&&(v=setTimeout(()=>{v!=null&&(v=null,O(ha.makeError("timeout",Ft.errors.TIMEOUT,{requestBody:pu(l.body,m["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){v!=null&&(clearTimeout(v),v=null)}}})(),b=(function(){return iEe(this,void 0,void 0,function*(){for(let v=0;v<n;v++){let C=null;try{if(C=yield nEe(c,l),v<n){if(C.statusCode===301||C.statusCode===302){const D=C.headers.location||"";if(l.method==="GET"&&D.match(/^https:/)){c=C.headers.location;continue}}else if(C.statusCode===429){let D=!0;if(i&&(D=yield i(v,c)),D){let O=0;const k=C.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?O=parseInt(k)*1e3:O=s*parseInt(String(Math.random()*Math.pow(2,v))),yield O4(O);continue}}}}catch(D){C=D.response,C==null&&(g.cancel(),ha.throwError("missing response",Ft.errors.SERVER_ERROR,{requestBody:pu(l.body,m["content-type"]),requestMethod:l.method,serverError:D,url:c}))}let S=C.body;if(u&&C.statusCode===304?S=null:!o&&(C.statusCode<200||C.statusCode>=300)&&(g.cancel(),ha.throwError("bad response",Ft.errors.SERVER_ERROR,{status:C.statusCode,headers:C.headers,body:pu(S,C.headers?C.headers["content-type"]:null),requestBody:pu(l.body,m["content-type"]),requestMethod:l.method,url:c})),r)try{const D=yield r(S,C);return g.cancel(),D}catch(D){if(D.throttleRetry&&v<n){let O=!0;if(i&&(O=yield i(v,c)),O){const k=s*parseInt(String(Math.random()*Math.pow(2,v)));yield O4(k);continue}}g.cancel(),ha.throwError("processing response error",Ft.errors.SERVER_ERROR,{body:pu(S,C.headers?C.headers["content-type"]:null),error:D,requestBody:pu(l.body,m["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return ha.throwError("failed response",Ft.errors.SERVER_ERROR,{requestBody:pu(l.body,m["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([g.promise,b])}function oEe(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(zF(s))}catch(c){ha.throwError("invalid JSON",Ft.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=HI(e);const s=typeof t=="string"?{url:t}:d_(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=d_(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return GF(t,i,n)}function aEe(t,e){return e||(e={}),e=d_(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}const cEe=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:GF,fetchJson:oEe,poll:aEe},Symbol.toStringTag,{value:"Module"}));var el={};const lEe=Vr(Qge),uEe=Vr(bme),fEe=Vr(Sme),dEe=Vr(Ume),hEe=Vr(Gme),pEe=Vr(Vye),gEe=Vr(Fbe),mEe=Vr(Xbe),yEe=Vr(owe),bEe=Vr(lwe),D4=Vr(vwe),wEe=Vr(Rwe),_Ee=Vr(Hwe),EEe=Vr(e1e),vEe=Vr(c1e),xEe=Vr(S1e),k4=Vr(Z1e),AEe=Vr(U_e),CEe=Vr(j_e),NEe=Vr(oge),SEe=Vr(cEe);var M4;function IEe(){return M4||(M4=1,(function(t){var e=el&&el.__createBinding||(Object.create?(function($,I,N,p){p===void 0&&(p=N),Object.defineProperty($,p,{enumerable:!0,get:function(){return I[N]}})}):(function($,I,N,p){p===void 0&&(p=N),$[p]=I[N]})),r=el&&el.__setModuleDefault||(Object.create?(function($,I){Object.defineProperty($,"default",{enumerable:!0,value:I})}):function($,I){$.default=I}),n=el&&el.__importStar||function($){if($&&$.__esModule)return $;var I={};if($!=null)for(var N in $)N!=="default"&&Object.prototype.hasOwnProperty.call($,N)&&e(I,$,N);return r(I,$),I};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=lEe;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=uEe;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(fEe);t.base64=o;var a=dEe;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=hEe;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=pEe;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=gEe;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var f=mEe;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var d=yEe;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var h=bEe;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=D4;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=wEe;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var b=_Ee;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var v=EEe;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return v.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return v.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return v.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return v.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return v.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return v.shallowCopy}});var C=n(vEe);t.RLP=C;var S=xEe;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return S.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return S.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return S.SigningKey}});var D=k4;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return D.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return D.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return D.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return D._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return D.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return D.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return D.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return D.Utf8ErrorFuncs}});var O=AEe;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return O.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return O.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return O.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return O.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return O.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return O.TransactionTypes}});var k=CEe;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return k.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return k.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return k.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return k.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return k.parseUnits}});var F=NEe;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return F.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return F.verifyTypedData}});var A=SEe;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return A._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return A.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return A.poll}});var _=D4;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return _.SupportedAlgorithm}});var M=k4;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return M.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return M.Utf8ErrorReason}})})(el)),el}var TEe=IEe();const Nh={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=To(t)?t:ci(EE(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new u0(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0};return(await(await new u0(e,n).getSigner(r).sendTransaction(i)).wait())?.blockHash||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new u0(e,n).getSigner(r),o=new wu(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>FI(t,e).toBigInt(),formatUnits:LI};class REe extends VU{constructor(){super({adapterType:ae.ADAPTER_TYPES.ETHERS5,namespace:ae.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){const{SafeProvider:a}=await Gn(async()=>{const{SafeProvider:d}=await import("./SafeProvider-BqNwE7_T.js");return{SafeProvider:d}},__vite__mapDeps([50,51,52]),import.meta.url),{default:c}=await Gn(async()=>{const{default:d}=await import("./index-DT_XanmZ.js");return{default:d}},__vite__mapDeps([53,51]),import.meta.url),l=new c,u=await l.safe.getInfo(),f=new a(u,l);return await f.connect().catch(d=>{console.info("Failed to auto-connect to Safe:",d)}),f}async function s(){try{const{createCoinbaseWalletSDK:a}=await Gn(async()=>{const{createCoinbaseWalletSDK:l}=await import("./index-BK7dboBg.js");return{createCoinbaseWalletSDK:l}},__vite__mapDeps([54,52,1]),import.meta.url);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(l=>l.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=n()),e.enableCoinbase!==!1){const a=await s();a&&(o.coinbase=a)}if(Pe.isSafeApp()){const a=await i();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await Nh.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await Nh.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:Me.state.address},e.provider,Me.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:r}=Vi.parseCaipAddress(e.caipAddress);return{hash:await Nh.writeContract(e,e.provider,r,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await Nh.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return Nh.parseUnits(e.value,e.decimals)}formatUnits(e){return Nh.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(r,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(n=>n!=="metadata"&&n!=="EIP6963").forEach(n=>{const i=n==="coinbase"?"coinbaseWalletSDK":n,s=n===ae.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:Ac.ConnectorExplorerIds[i],imageUrl:e?.connectorImages?.[i],name:Ac.ConnectorNamesMap[i]||"Unknown",imageId:Ac.ConnectorImageIds[i],type:Ac.ConnectorTypesMap[i]??"EXTERNAL",info:s?void 0:{rdns:i},chain:this.namespace,chains:[],provider:this.ethersConfig?.[n]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(i=>Fn.isLowerCaseMatch(i.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:r}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(n){return r(n)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=ae.CONNECTOR_ID.WALLET_CONNECT;return Ol.listenWcProvider({universalProvider:e,namespace:ae.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new DS({provider:e,caipNetworks:this.getCaipNetworks(),namespace:ae.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:r,provider:n}=e.detail;if(!this.connectors?.find(s=>s.name===r?.name)){const s=Ac.ConnectorTypesMap[ae.CONNECTOR_ID.EIP6963],o=r?.rdns||r?.name||r?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:r?.icon,name:r?.name||"Unknown",provider:n,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(Tt.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(Tt.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:i,socialUri:s}){const o=this.connectors.find(f=>Fn.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}const c=o?.provider;if(!c)throw new Error("Provider not found");let l=[],u;if(n==="AUTH"){const{address:f,accounts:d}=await Ws.authConnectorAuthenticate({authConnector:c,chainNamespace:ae.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:Is("eip155")}),h=this.getCaipNetworks().find(m=>m.id.toString()===i?.toString());l=[f],this.addConnection({connectorId:e,accounts:d?d.map(m=>({address:m.address})):l.map(m=>({address:m})),caipNetwork:h,auth:{name:be.getConnectedSocialProvider(),username:be.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),u=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(d=>d.id.toString()===i?.toString());if(u!==i){if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:c,providerType:n})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:l.map(d=>({address:d})),caipNetwork:f}),o.id!==ae.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(i),provider:c,type:n,id:e}}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r?.provider;if(!n||!r)throw new Error("Provider not found");const i=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))};if(e.id===ae.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>Pe.createAccount(ae.CHAIN.EVM,l.address,l.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Pe.createAccount(ae.CHAIN.EVM,o,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await Ws.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:ae.CHAIN.EVM,chainId:n,preferredAccountType:Is("eip155")})}async disconnect(e){if(e.id){const r=this.connectors.find(i=>Fn.isLowerCaseMatch(i.id,e.id));if(!r)throw new Error("Connector not found");const n=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(r.type){case Tt.CONNECTOR_TYPE_WALLET_CONNECT:r.provider.session&&r.provider.disconnect();break;case Tt.CONNECTOR_TYPE_AUTH:await r.provider?.disconnect();break;case Tt.CONNECTOR_TYPE_ANNOUNCED:case Tt.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(r.provider);break;default:throw new Error("Unsupported provider type")}return r.id&&(this.removeProviderListeners(r.id),this.deleteConnection(r.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:n?[n]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const i=`${n.caipNetworkId}:${r}`,s=this.balancePromises[i];if(s)return s;const o=be.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new Cg(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(r),u=TEe.formatEther(l);be.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:o0.numberToHexString(r.id)}]})}catch(s){if(s.code===Nl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Nl.ERROR_INVALID_CHAIN_ID||s.code===Nl.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Nl.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await o0.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=ht.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=ht.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=ht.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=ht.getProvider(ae.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return nf(e.toLowerCase())}catch{return e}}}const PEe=Li({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"DST",description:"DST",url:"",icons:[""]},n=Qu({id:9e3,caipNetworkId:"eip155:9000",chainNamespace:"eip155",name:"DST test",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://192.168.10.136:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0}),i=Qu({id:7777,caipNetworkId:"eip155:7777",chainNamespace:"eip155",name:"DST",nativeCurrency:{name:"DST",symbol:"DST",decimals:18},rpcUrls:{default:{http:["http://bebewallet.com:8545"]}},blockExplorers:{default:{name:"Bttcscan",url:"",apiUrl:""}},testnet:!0});return the({adapters:[new REe],networks:[i,jde,n,Hde],defaultNetwork:i,metadata:r,projectId:e,chainImages:{7777:"https://memeswap888.github.io/assets/0x80Cc816f98ecEc5EafE363c17C5d2a9ac890C84b/logo.png"},features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"dark"}),(s,o)=>{const a=cH("router-view");return pd(),Bb(a)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const qh=typeof document<"u";function KF(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function OEe(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&KF(t.default)}const Vt=Object.assign;function OA(t,e){const r={};for(const n in e){const i=e[n];r[n]=rc(i)?i.map(t):t(i)}return r}const Og=()=>{},rc=Array.isArray,VF=/#/g,DEe=/&/g,kEe=/\//g,MEe=/=/g,UEe=/\?/g,JF=/\+/g,$Ee=/%5B/g,LEe=/%5D/g,YF=/%5E/g,FEe=/%60/g,XF=/%7B/g,BEe=/%7C/g,QF=/%7D/g,jEe=/%20/g;function WI(t){return encodeURI(""+t).replace(BEe,"|").replace($Ee,"[").replace(LEe,"]")}function HEe(t){return WI(t).replace(XF,"{").replace(QF,"}").replace(YF,"^")}function tN(t){return WI(t).replace(JF,"%2B").replace(jEe,"+").replace(VF,"%23").replace(DEe,"%26").replace(FEe,"`").replace(XF,"{").replace(QF,"}").replace(YF,"^")}function WEe(t){return tN(t).replace(MEe,"%3D")}function qEe(t){return WI(t).replace(VF,"%23").replace(UEe,"%3F")}function zEe(t){return t==null?"":qEe(t).replace(kEe,"%2F")}function ry(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const GEe=/\/$/,KEe=t=>t.replace(GEe,"");function DA(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=XEe(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:ry(o)}}function VEe(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function U4(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function JEe(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&D0(e.matched[n],r.matched[i])&&ZF(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function D0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ZF(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!YEe(t[r],e[r]))return!1;return!0}function YEe(t,e){return rc(t)?$4(t,e):rc(e)?$4(e,t):t===e}function $4(t,e){return rc(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function XEe(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const gu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ny;(function(t){t.pop="pop",t.push="push"})(ny||(ny={}));var Dg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Dg||(Dg={}));function QEe(t){if(!t)if(qh){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),KEe(t)}const ZEe=/^[^#]+#/;function eve(t,e){return t.replace(ZEe,"#")+e}function tve(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const NE=()=>({left:window.scrollX,top:window.scrollY});function rve(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=tve(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function L4(t,e){return(history.state?history.state.position-e:-1)+t}const rN=new Map;function nve(t,e){rN.set(t,e)}function ive(t){const e=rN.get(t);return rN.delete(t),e}let sve=()=>location.protocol+"//"+location.host;function eB(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),U4(c,"")}return U4(r,t)+n+i}function ove(t,e,r,n){let i=[],s=[],o=null;const a=({state:d})=>{const h=eB(t,location),m=r.value,g=e.value;let b=0;if(d){if(r.value=h,e.value=d,o&&o===m){o=null;return}b=g?d.position-g.position:0}else n(h);i.forEach(v=>{v(r.value,m,{delta:b,type:ny.pop,direction:b?b>0?Dg.forward:Dg.back:Dg.unknown})})};function c(){o=r.value}function l(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return s.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(Vt({},d.state,{scroll:NE()}),"")}function f(){for(const d of s)d();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function F4(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?NE():null}}function ave(t){const{history:e,location:r}=window,n={value:eB(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const f=t.indexOf("#"),d=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:sve()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),i.value=l}catch(h){console.error(h),r[u?"replace":"assign"](d)}}function o(c,l){const u=Vt({},e.state,F4(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),n.value=c}function a(c,l){const u=Vt({},i.value,e.state,{forward:c,scroll:NE()});s(u.current,u,!0);const f=Vt({},F4(n.value,c,null),{position:u.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function cve(t){t=QEe(t);const e=ave(t),r=ove(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Vt({location:"",base:t,go:n,createHref:eve.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function lve(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),cve(t)}function uve(t){return typeof t=="string"||t&&typeof t=="object"}function tB(t){return typeof t=="string"||typeof t=="symbol"}const rB=Symbol("");var B4;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(B4||(B4={}));function k0(t,e){return Vt(new Error,{type:t,[rB]:!0},e)}function tl(t,e){return t instanceof Error&&rB in t&&(e==null||!!(t.type&e))}const j4="[^/]+?",fve={sensitive:!1,strict:!1,start:!0,end:!0},dve=/[.+*?^${}()[\]/\\]/g;function hve(t,e){const r=Vt({},fve,e),n=[];let i=r.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(r.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(dve,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:g,optional:b,regexp:v}=d;s.push({name:m,repeatable:g,optional:b});const C=v||j4;if(C!==j4){h+=10;try{new RegExp(`(${C})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+D.message)}}let S=g?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(S=b&&l.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),i+=S,h+=20,b&&(h+=-8),g&&(h+=-20),C===".*"&&(h+=-50)}u.push(h)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=s[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function c(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:g,optional:b}=h,v=m in l?l[m]:"";if(rc(v)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=rc(v)?v.join("/"):v;if(!C)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=C}}return u||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function pve(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function nB(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=pve(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(H4(n))return 1;if(H4(i))return-1}return i.length-n.length}function H4(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gve={type:0,value:""},mve=/[a-zA-Z0-9_]/;function yve(t){if(!t)return[[]];if(t==="/")return[[gve]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${r})/"${l}": ${h}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):d();break;case 4:d(),r=n;break;case 1:c==="("?r=2:mve.test(c)?d():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),i}function bve(t,e,r){const n=hve(yve(t.path),r),i=Vt(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function wve(t,e){const r=[],n=new Map;e=G4({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,d,h){const m=!h,g=q4(f);g.aliasOf=h&&h.record;const b=G4(e,f),v=[g];if("alias"in f){const D=typeof f.alias=="string"?[f.alias]:f.alias;for(const O of D)v.push(q4(Vt({},g,{components:h?h.record.components:g.components,path:O,aliasOf:h?h.record:g})))}let C,S;for(const D of v){const{path:O}=D;if(d&&O[0]!=="/"){const k=d.record.path,F=k[k.length-1]==="/"?"":"/";D.path=d.record.path+(O&&F+O)}if(C=bve(D,d,b),h?h.alias.push(C):(S=S||C,S!==C&&S.alias.push(C),m&&f.name&&!z4(C)&&o(f.name)),iB(C)&&c(C),g.children){const k=g.children;for(let F=0;F<k.length;F++)s(k[F],C,h&&h.children[F])}h=h||C}return S?()=>{o(S)}:Og}function o(f){if(tB(f)){const d=n.get(f);d&&(n.delete(f),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(f);d>-1&&(r.splice(d,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const d=vve(f,r);r.splice(d,0,f),f.record.name&&!z4(f)&&n.set(f.record.name,f)}function l(f,d){let h,m={},g,b;if("name"in f&&f.name){if(h=n.get(f.name),!h)throw k0(1,{location:f});b=h.record.name,m=Vt(W4(d.params,h.keys.filter(S=>!S.optional).concat(h.parent?h.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&W4(f.params,h.keys.map(S=>S.name))),g=h.stringify(m)}else if(f.path!=null)g=f.path,h=r.find(S=>S.re.test(g)),h&&(m=h.parse(g),b=h.record.name);else{if(h=d.name?n.get(d.name):r.find(S=>S.re.test(d.path)),!h)throw k0(1,{location:f,currentLocation:d});b=h.record.name,m=Vt({},d.params,f.params),g=h.stringify(m)}const v=[];let C=h;for(;C;)v.unshift(C.record),C=C.parent;return{name:b,path:g,params:m,matched:v,meta:Eve(v)}}t.forEach(f=>s(f));function u(){r.length=0,n.clear()}return{addRoute:s,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function W4(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function q4(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_ve(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _ve(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function z4(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Eve(t){return t.reduce((e,r)=>Vt(e,r.meta),{})}function G4(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function vve(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;nB(t,e[s])<0?n=s:r=s+1}const i=xve(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function xve(t){let e=t;for(;e=e.parent;)if(iB(e)&&nB(t,e)===0)return e}function iB({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ave(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(JF," "),o=s.indexOf("="),a=ry(o<0?s:s.slice(0,o)),c=o<0?null:ry(s.slice(o+1));if(a in e){let l=e[a];rc(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function K4(t){let e="";for(let r in t){const n=t[r];if(r=WEe(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(rc(n)?n.map(s=>s&&tN(s)):[n&&tN(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Cve(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=rc(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Nve=Symbol(""),V4=Symbol(""),qI=Symbol(""),sB=Symbol(""),nN=Symbol("");function kp(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Ru(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=d=>{d===!1?c(k0(4,{from:r,to:e})):d instanceof Error?c(d):uve(d)?c(k0(2,{from:e,to:d})):(o&&n.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=s(()=>t.call(n&&n.instances[i],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(d=>c(d))})}function kA(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(KF(c)){const u=(c.__vccOpts||c)[e];u&&s.push(Ru(u,r,n,o,a,i))}else{let l=c();s.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=OEe(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&Ru(h,r,n,o,a,i)()}))}}return s}function J4(t){const e=Js(qI),r=Js(sB),n=qt(()=>{const c=Gi(t.to);return e.resolve(c)}),i=qt(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const d=f.findIndex(D0.bind(null,u));if(d>-1)return d;const h=Y4(c[l-2]);return l>1&&Y4(u)===h&&f[f.length-1].path!==h?f.findIndex(D0.bind(null,c[l-2])):d}),s=qt(()=>i.value>-1&&Pve(r.params,n.value.params)),o=qt(()=>i.value>-1&&i.value===r.matched.length-1&&ZF(r.params,n.value.params));function a(c={}){if(Rve(c)){const l=e[Gi(t.replace)?"replace":"push"](Gi(t.to)).catch(Og);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:qt(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function Sve(t){return t.length===1?t[0]:t}const Ive=Li({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:J4,setup(t,{slots:e}){const r=Wl(J4(t)),{options:n}=Js(qI),i=qt(()=>({[X4(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[X4(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&Sve(e.default(r));return t.custom?s:uy("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),Tve=Ive;function Rve(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Pve(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!rc(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function Y4(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const X4=(t,e,r)=>t??e??r,Ove=Li({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Js(nN),i=qt(()=>t.route||n.value),s=Js(V4,0),o=qt(()=>{let l=Gi(s);const{matched:u}=i.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=qt(()=>i.value.matched[o.value]);sg(V4,qt(()=>o.value+1)),sg(Nve,a),sg(nN,i);const c=ut();return un(()=>[c.value,a.value,t.name],([l,u,f],[d,h,m])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!D0(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,f=a.value,d=f&&f.components[u];if(!d)return Q4(r.default,{Component:d,route:l});const h=f.props[u],m=h?h===!0?l.params:typeof h=="function"?h(l):h:null,b=uy(d,Vt({},m,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return Q4(r.default,{Component:b,route:l})||b}}});function Q4(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Dve=Ove;function kve(t){const e=wve(t.routes,t),r=t.parseQuery||Ave,n=t.stringifyQuery||K4,i=t.history,s=kp(),o=kp(),a=kp(),c=MN(gu);let l=gu;qh&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=OA.bind(null,K=>""+K),f=OA.bind(null,zEe),d=OA.bind(null,ry);function h(K,X){let Q,ie;return tB(K)?(Q=e.getRecordMatcher(K),ie=X):ie=K,e.addRoute(ie,Q)}function m(K){const X=e.getRecordMatcher(K);X&&e.removeRoute(X)}function g(){return e.getRoutes().map(K=>K.record)}function b(K){return!!e.getRecordMatcher(K)}function v(K,X){if(X=Vt({},X||c.value),typeof K=="string"){const W=DA(r,K,X.path),Z=e.resolve({path:W.path},X),fe=i.createHref(W.fullPath);return Vt(W,Z,{params:d(Z.params),hash:ry(W.hash),redirectedFrom:void 0,href:fe})}let Q;if(K.path!=null)Q=Vt({},K,{path:DA(r,K.path,X.path).path});else{const W=Vt({},K.params);for(const Z in W)W[Z]==null&&delete W[Z];Q=Vt({},K,{params:f(W)}),X.params=f(X.params)}const ie=e.resolve(Q,X),le=K.hash||"";ie.params=u(d(ie.params));const H=VEe(n,Vt({},K,{hash:HEe(le),path:ie.path})),Y=i.createHref(H);return Vt({fullPath:H,hash:le,query:n===K4?Cve(K.query):K.query||{}},ie,{redirectedFrom:void 0,href:Y})}function C(K){return typeof K=="string"?DA(r,K,c.value.path):Vt({},K)}function S(K,X){if(l!==K)return k0(8,{from:X,to:K})}function D(K){return F(K)}function O(K){return D(Vt(C(K),{replace:!0}))}function k(K){const X=K.matched[K.matched.length-1];if(X&&X.redirect){const{redirect:Q}=X;let ie=typeof Q=="function"?Q(K):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=C(ie):{path:ie},ie.params={}),Vt({query:K.query,hash:K.hash,params:ie.path!=null?{}:K.params},ie)}}function F(K,X){const Q=l=v(K),ie=c.value,le=K.state,H=K.force,Y=K.replace===!0,W=k(Q);if(W)return F(Vt(C(W),{state:typeof W=="object"?Vt({},le,W.state):le,force:H,replace:Y}),X||Q);const Z=Q;Z.redirectedFrom=X;let fe;return!H&&JEe(n,ie,Q)&&(fe=k0(16,{to:Z,from:ie}),P(ie,ie,!0,!1)),(fe?Promise.resolve(fe):M(Z,ie)).catch(oe=>tl(oe)?tl(oe,2)?oe:B(oe):T(oe,Z,ie)).then(oe=>{if(oe){if(tl(oe,2))return F(Vt({replace:Y},C(oe.to),{state:typeof oe.to=="object"?Vt({},le,oe.to.state):le,force:H}),X||Z)}else oe=I(Z,ie,!0,Y,le);return $(Z,ie,oe),oe})}function A(K,X){const Q=S(K,X);return Q?Promise.reject(Q):Promise.resolve()}function _(K){const X=G.values().next().value;return X&&typeof X.runWithContext=="function"?X.runWithContext(K):K()}function M(K,X){let Q;const[ie,le,H]=Mve(K,X);Q=kA(ie.reverse(),"beforeRouteLeave",K,X);for(const W of ie)W.leaveGuards.forEach(Z=>{Q.push(Ru(Z,K,X))});const Y=A.bind(null,K,X);return Q.push(Y),V(Q).then(()=>{Q=[];for(const W of s.list())Q.push(Ru(W,K,X));return Q.push(Y),V(Q)}).then(()=>{Q=kA(le,"beforeRouteUpdate",K,X);for(const W of le)W.updateGuards.forEach(Z=>{Q.push(Ru(Z,K,X))});return Q.push(Y),V(Q)}).then(()=>{Q=[];for(const W of H)if(W.beforeEnter)if(rc(W.beforeEnter))for(const Z of W.beforeEnter)Q.push(Ru(Z,K,X));else Q.push(Ru(W.beforeEnter,K,X));return Q.push(Y),V(Q)}).then(()=>(K.matched.forEach(W=>W.enterCallbacks={}),Q=kA(H,"beforeRouteEnter",K,X,_),Q.push(Y),V(Q))).then(()=>{Q=[];for(const W of o.list())Q.push(Ru(W,K,X));return Q.push(Y),V(Q)}).catch(W=>tl(W,8)?W:Promise.reject(W))}function $(K,X,Q){a.list().forEach(ie=>_(()=>ie(K,X,Q)))}function I(K,X,Q,ie,le){const H=S(K,X);if(H)return H;const Y=X===gu,W=qh?history.state:{};Q&&(ie||Y?i.replace(K.fullPath,Vt({scroll:Y&&W&&W.scroll},le)):i.push(K.fullPath,le)),c.value=K,P(K,X,Q,Y),B()}let N;function p(){N||(N=i.listen((K,X,Q)=>{if(!R.listening)return;const ie=v(K),le=k(ie);if(le){F(Vt(le,{replace:!0,force:!0}),ie).catch(Og);return}l=ie;const H=c.value;qh&&nve(L4(H.fullPath,Q.delta),NE()),M(ie,H).catch(Y=>tl(Y,12)?Y:tl(Y,2)?(F(Vt(C(Y.to),{force:!0}),ie).then(W=>{tl(W,20)&&!Q.delta&&Q.type===ny.pop&&i.go(-1,!1)}).catch(Og),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),T(Y,ie,H))).then(Y=>{Y=Y||I(ie,H,!1),Y&&(Q.delta&&!tl(Y,8)?i.go(-Q.delta,!1):Q.type===ny.pop&&tl(Y,20)&&i.go(-1,!1)),$(ie,H,Y)}).catch(Og)}))}let y=kp(),w=kp(),x;function T(K,X,Q){B(K);const ie=w.list();return ie.length?ie.forEach(le=>le(K,X,Q)):console.error(K),Promise.reject(K)}function U(){return x&&c.value!==gu?Promise.resolve():new Promise((K,X)=>{y.add([K,X])})}function B(K){return x||(x=!K,p(),y.list().forEach(([X,Q])=>K?Q(K):X()),y.reset()),K}function P(K,X,Q,ie){const{scrollBehavior:le}=t;if(!qh||!le)return Promise.resolve();const H=!Q&&ive(L4(K.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return xd().then(()=>le(K,X,H)).then(Y=>Y&&rve(Y)).catch(Y=>T(Y,K,X))}const E=K=>i.go(K);let L;const G=new Set,R={currentRoute:c,listening:!0,addRoute:h,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:g,resolve:v,options:t,push:D,replace:O,go:E,back:()=>E(-1),forward:()=>E(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:w.add,isReady:U,install(K){const X=this;K.component("RouterLink",Tve),K.component("RouterView",Dve),K.config.globalProperties.$router=X,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Gi(c)}),qh&&!L&&c.value===gu&&(L=!0,D(i.location).catch(le=>{}));const Q={};for(const le in gu)Object.defineProperty(Q,le,{get:()=>c.value[le],enumerable:!0});K.provide(qI,X),K.provide(sB,Rk(Q)),K.provide(nN,c);const ie=K.unmount;G.add(K),K.unmount=function(){G.delete(K),G.size<1&&(l=gu,N&&N(),N=null,c.value=gu,L=!1,x=!1),ie()}}};function V(K){return K.reduce((X,Q)=>X.then(()=>_(Q)),Promise.resolve())}return R}function Mve(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>D0(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>D0(l,c))||i.push(c))}return[r,n,i]}function Uve(){}const Vl=Object.assign,oB=typeof window<"u",SE=t=>t!==null&&typeof t=="object",lf=t=>t!=null,iN=t=>typeof t=="function",$ve=t=>SE(t)&&iN(t.then)&&iN(t.catch),aB=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),Lve=()=>oB?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function Z4(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=SE(n)&&(s=n[i])!=null?s:""}),n}function Fve(t,e,r){return e.reduce((n,i)=>(n[i]=t[i],n),{})}const p_=null,es=[Number,String],Il={type:Boolean,default:!0},Bve=t=>({type:Number,default:t}),Xi=t=>({type:String,default:t});var zI=typeof window<"u",jve=t=>t===window,eD=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),Hve=t=>{const e=Gi(t);if(jve(e)){const r=e.innerWidth,n=e.innerHeight;return eD(r,n)}return e?.getBoundingClientRect?e.getBoundingClientRect():eD(0,0)};function cB(t){let e;df(()=>{t(),xd(()=>{e=!0})}),LN(()=>{e&&t()})}function lB(t,e,r={}){if(!zI)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=f=>{if(o)return;const d=Gi(f);d&&!a&&(d.addEventListener(t,e,{capture:s,passive:i}),a=!0)},l=f=>{if(o)return;const d=Gi(f);d&&a&&(d.removeEventListener(t,e,s),a=!1)};hf(()=>l(n)),C_(()=>l(n)),cB(()=>c(n));let u;return Kr(n)&&(u=un(n,(f,d)=>{l(d),c(f)})),()=>{u?.(),l(n),o=!0}}var Rb,MA;function Wve(){if(!Rb&&(Rb=ut(0),MA=ut(0),zI)){const t=()=>{Rb.value=window.innerWidth,MA.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Rb,height:MA}}var qve=/scroll|auto|overlay/i,zve=zI?window:void 0;function Gve(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function Kve(t,e=zve){let r=t;for(;r&&r!==e&&Gve(r);){const{overflowY:n}=window.getComputedStyle(r);if(qve.test(n))return r;r=r.parentNode}return e}Lve();const Vve=t=>t.stopPropagation();function GI(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&Vve(t)}const{width:Jve,height:Yve}=Wve();function Ma(t){if(lf(t))return aB(t)?`${t}px`:String(t)}function Xve(t){if(lf(t)){if(Array.isArray(t))return{width:Ma(t[0]),height:Ma(t[1])};const e=Ma(t);return{width:e,height:e}}}function uB(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const Qve=/-(\w)/g,fB=t=>t.replace(Qve,(e,r)=>r.toUpperCase()),{hasOwnProperty:Zve}=Object.prototype;function exe(t,e,r){const n=e[r];lf(n)&&(!Zve.call(t,r)||!SE(n)?t[r]=n:t[r]=dB(Object(t[r]),n))}function dB(t,e){return Object.keys(e).forEach(r=>{exe(t,e,r)}),t}var txe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const tD=ut("zh-CN"),rD=Wl({"zh-CN":txe}),zh={messages(){return rD[tD.value]},use(t,e){tD.value=t,this.add({[t]:e})},add(t={}){dB(rD,t)}};var rxe=zh;function nxe(t){const e=fB(t)+".";return(r,...n)=>{const i=rxe.messages(),s=Z4(i,e+r)||Z4(i,r);return iN(s)?s(...n):s}}function sN(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+sN(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?sN(t,n):""),""):""}function ixe(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${sN(e,r)}`)}function Jl(t){const e=`van-${t}`;return[e,ixe(e),nxe(e)]}const hB="van-hairline",sxe=`${hB}--bottom`,oxe=`${hB}--surround`,oN="van-haptics-feedback",nD=5;function axe(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);$ve(s)?s.then(o=>{o?r():n&&n()}).catch(i||Uve):s?r():n&&n()}else r()}function _f(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(fB(`-${r}`),t))},t}const pB=Symbol();function cxe(t){const e=Js(pB,null);e&&un(e,r=>{r&&t()})}const lxe=(t,e)=>{const r=ut(),n=()=>{r.value=Hve(t).height};return df(()=>{xd(n);for(let i=1;i<=3;i++)setTimeout(n,100*i)}),cxe(()=>xd(n)),un([Jve,Yve],n),r};function uxe(t,e){const r=lxe(t);return n=>Be("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function gB(t){const e=Do();e&&Vl(e.proxy,t)}const fxe={to:[String,Object],url:String,replace:Boolean};function dxe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function hxe(){const t=Do().proxy;return()=>dxe(t)}const[pxe,iD]=Jl("badge"),gxe={dot:Boolean,max:es,tag:Xi("div"),color:String,offset:Array,content:es,showZero:Il,position:Xi("top-right")};var mxe=Li({name:pxe,props:gxe,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return lf(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:l}=t;if(!a&&r())return e.content?e.content():lf(c)&&aB(l)&&+l>+c?`${c}+`:l},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=qt(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[f,d]=u.split("-");e.default?(typeof l=="number"?a[f]=Ma(f==="top"?l:-l):a[f]=f==="top"?Ma(l):i(l),typeof c=="number"?a[d]=Ma(d==="left"?c:-c):a[d]=d==="left"?Ma(c):i(c)):(a.marginTop=Ma(l),a.marginLeft=Ma(c))}return a}),o=()=>{if(r()||t.dot)return Be("div",{class:iD([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return Be(a,{class:iD("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const yxe=_f(mxe);let bxe=2e3;const wxe=()=>++bxe,[_xe]=Jl("config-provider"),Exe=Symbol(_xe),[vxe,sD]=Jl("icon"),xxe=t=>t?.includes("/"),Axe={dot:Boolean,tag:Xi("i"),name:String,size:es,badge:es,color:String,badgeProps:Object,classPrefix:String};var Cxe=Li({name:vxe,props:Axe,setup(t,{slots:e}){const r=Js(Exe,null),n=qt(()=>t.classPrefix||r?.iconPrefix||sD());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:l}=t,u=xxe(o);return Be(yxe,Ad({dot:s,tag:i,class:[n.value,u?"":`${n.value}-${o}`],style:{color:l,fontSize:Ma(a)},content:c},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&Be("img",{class:sD("image"),src:o},null)]}})}}});const Fy=_f(Cxe),[Nxe,kg]=Jl("loading"),Sxe=Array(12).fill(null).map((t,e)=>Be("i",{class:kg("line",String(e+1))},null)),Ixe=Be("svg",{class:kg("circular"),viewBox:"25 25 50 50"},[Be("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Txe={size:es,type:Xi("circular"),color:String,vertical:Boolean,textSize:es,textColor:String};var Rxe=Li({name:Nxe,props:Txe,setup(t,{slots:e}){const r=qt(()=>Vl({color:t.color},Xve(t.size))),n=()=>{const s=t.type==="spinner"?Sxe:Ixe;return Be("span",{class:kg("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return Be("span",{class:kg("text"),style:{fontSize:Ma(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return Be("div",{class:kg([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const mB=_f(Rxe),[Pxe,Sh]=Jl("button"),Oxe=Vl({},fxe,{tag:Xi("button"),text:String,icon:String,type:Xi("default"),size:Xi("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Xi("button"),loadingSize:es,loadingText:String,loadingType:String,iconPosition:Xi("left")});var Dxe=Li({name:Pxe,props:Oxe,emits:["click"],setup(t,{emit:e,slots:r}){const n=hxe(),i=()=>r.loading?r.loading():Be(mB,{size:t.loadingSize,type:t.loadingType,class:Sh("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return Be("div",{class:Sh("icon")},[r.icon()]);if(t.icon)return Be(Fy,{name:t.icon,class:Sh("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let l;if(t.loading?l=t.loadingText:l=r.default?r.default():t.text,l)return Be("span",{class:Sh("text")},[l])},a=()=>{const{color:l,plain:u}=t;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{t.loading?GI(l):t.disabled||(e("click",l),n())};return()=>{const{tag:l,type:u,size:f,block:d,round:h,plain:m,square:g,loading:b,disabled:v,hairline:C,nativeType:S,iconPosition:D}=t,O=[Sh([u,f,{plain:m,block:d,round:h,square:g,loading:b,disabled:v,hairline:C}]),{[oxe]:C}];return Be(l,{type:S,class:O,style:a(),disabled:v,onClick:c},{default:()=>[Be("div",{class:Sh("content")},[D==="left"&&s(),o(),D==="right"&&s()])]})}}});const yB=_f(Dxe),kxe={show:Boolean,zIndex:es,overlay:Il,duration:es,teleport:[String,Object],lockScroll:Il,lazyRender:Il,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:p_,transitionAppear:Boolean,closeOnClickOverlay:Il};function Mxe(t,e){return t>e?"horizontal":e>t?"vertical":""}function Uxe(){const t=ut(0),e=ut(0),r=ut(0),n=ut(0),i=ut(0),s=ut(0),o=ut(""),a=ut(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:h=>{const m=h.touches[0];r.value=(m.clientX<0?0:m.clientX)-t.value,n.value=m.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const g=10;(!o.value||i.value<g&&s.value<g)&&(o.value=Mxe(i.value,s.value)),a.value&&(i.value>nD||s.value>nD)&&(a.value=!1)},start:h=>{u(),t.value=h.touches[0].clientX,e.value=h.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let Mp=0;const oD="van-overflow-hidden";function $xe(t,e){const r=Uxe(),n="01",i="10",s=u=>{r.move(u);const f=r.deltaY.value>0?i:n,d=Kve(u.target,t.value),{scrollHeight:h,offsetHeight:m,scrollTop:g}=d;let b="11";g===0?b=m>=h?"00":"01":g+m>=h&&(b="10"),b!=="11"&&r.isVertical()&&!(parseInt(b,2)&parseInt(f,2))&&GI(u,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),Mp||document.body.classList.add(oD),Mp++},a=()=>{Mp&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),Mp--,Mp||document.body.classList.remove(oD))},c=()=>e()&&o(),l=()=>e()&&a();cB(c),C_(l),FN(l),un(e,u=>{u?o():a()})}function bB(t){const e=ut(!1);return un(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const aD=()=>{var t;const{scopeId:e}=((t=Do())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[Lxe,Fxe]=Jl("overlay"),Bxe={show:Boolean,zIndex:es,duration:es,className:p_,lockScroll:Il,lazyRender:Il,customStyle:Object,teleport:[String,Object]};var jxe=Li({name:Lxe,inheritAttrs:!1,props:Bxe,setup(t,{attrs:e,slots:r}){const n=ut(),i=bB(()=>t.show||!t.lazyRender),s=a=>{t.lockScroll&&GI(a,!0)},o=i(()=>{var a;const c=Vl(uB(t.zIndex),t.customStyle);return lf(t.duration)&&(c.animationDuration=`${t.duration}s`),$N(Be("div",Ad({ref:n,style:c,class:[Fxe(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[EM,t.show]])});return lB("touchmove",s,{target:n}),()=>{const a=Be(wM,{name:"van-fade",appear:!0},{default:o});return t.teleport?Be(jk,{to:t.teleport},{default:()=>[a]}):a}}});const Hxe=_f(jxe),Wxe=Vl({},kxe,{round:Boolean,position:Xi("center"),closeIcon:Xi("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Xi("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[qxe,cD]=Jl("popup");var zxe=Li({name:qxe,inheritAttrs:!1,props:Wxe,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=ut(),a=ut(),c=bB(()=>t.show||!t.lazyRender),l=qt(()=>{const k={zIndex:o.value};if(lf(t.duration)){const F=t.position==="center"?"animationDuration":"transitionDuration";k[F]=`${t.duration}s`}return k}),u=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:wxe(),e("open"))},f=()=>{i&&axe(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},d=k=>{e("clickOverlay",k),t.closeOnClickOverlay&&f()},h=()=>{if(t.overlay){const k=Vl({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return Be(Hxe,Ad(k,aD(),{onClick:d}),{default:n["overlay-content"]})}},m=k=>{e("clickCloseIcon",k),f()},g=()=>{if(t.closeable)return Be(Fy,{role:"button",tabindex:0,name:t.closeIcon,class:[cD("close-icon",t.closeIconPosition),oN],classPrefix:t.iconPrefix,onClick:m},null)};let b;const v=()=>{b&&clearTimeout(b),b=setTimeout(()=>{e("opened")})},C=()=>e("closed"),S=k=>e("keydown",k),D=c(()=>{var k;const{destroyOnClose:F,round:A,position:_,safeAreaInsetTop:M,safeAreaInsetBottom:$,show:I}=t;if(!(!I&&F))return $N(Be("div",Ad({ref:a,style:l.value,role:"dialog",tabindex:0,class:[cD({round:A,[_]:_}),{"van-safe-area-top":M,"van-safe-area-bottom":$}],onKeydown:S},r,aD()),[(k=n.default)==null?void 0:k.call(n),g()]),[[EM,I]])}),O=()=>{const{position:k,transition:F,transitionAppear:A}=t,_=k==="center"?"van-fade":`van-popup-slide-${k}`;return Be(wM,{name:F||_,appear:A,onAfterEnter:v,onAfterLeave:C},{default:D})};return un(()=>t.show,k=>{k&&!i&&(u(),r.tabindex===0&&xd(()=>{var F;(F=a.value)==null||F.focus()})),!k&&i&&(i=!1,e("close"))}),gB({popupRef:a}),$xe(a,()=>t.show&&t.lockScroll),lB("popstate",()=>{t.closeOnPopstate&&(f(),s=!1)}),df(()=>{t.show&&u()}),LN(()=>{s&&(e("update:show",!0),s=!1)}),C_(()=>{t.show&&t.teleport&&(f(),s=!0)}),sg(pB,()=>t.show),()=>t.teleport?Be(jk,{to:t.teleport},{default:()=>[h(),O()]}):Be(xs,null,[h(),O()])}});const Gxe=_f(zxe);let Up=0;function Kxe(t){t?(Up||document.body.classList.add("van-toast--unclickable"),Up++):Up&&(Up--,Up||document.body.classList.remove("van-toast--unclickable"))}const[Vxe,Ih]=Jl("toast"),Jxe=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Yxe={icon:String,show:Boolean,type:Xi("text"),overlay:Boolean,message:es,iconSize:es,duration:Bve(2e3),position:Xi("middle"),teleport:[String,Object],wordBreak:String,className:p_,iconPrefix:String,transition:Xi("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:p_,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:es};var wB=Li({name:Vxe,props:Yxe,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,Kxe(i))},o=f=>e("update:show",f),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),l=()=>{const{icon:f,type:d,iconSize:h,iconPrefix:m,loadingType:g}=t;if(f||d==="success"||d==="fail")return Be(Fy,{name:f||d,size:h,class:Ih("icon"),classPrefix:m},null);if(d==="loading")return Be(mB,{class:Ih("loading"),size:h,type:g},null)},u=()=>{const{type:f,message:d}=t;if(r.message)return Be("div",{class:Ih("text")},[r.message()]);if(lf(d)&&d!=="")return f==="html"?Be("div",{key:0,class:Ih("text"),innerHTML:String(d)},null):Be("div",{class:Ih("text")},[d])};return un(()=>[t.show,t.forbidClick],s),un(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),df(s),hf(s),()=>Be(Gxe,Ad({class:[Ih([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},Fve(t,Jxe)),{default:()=>[l(),u()]})}});function Xxe(){const t=Wl({show:!1}),e=i=>{t.show=i},r=i=>{Vl(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return gB({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function Qxe(t){const e=vM(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const Zxe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Pb=[],eAe=!1,lD=Vl({},Zxe);const tAe=new Map;function rAe(t){return SE(t)?t:{message:t}}function nAe(){const{instance:t}=Qxe({setup(){const e=ut(""),{open:r,state:n,close:i,toggle:s}=Xxe(),o=()=>{},a=()=>Be(wB,Ad(n,{onClosed:o,"onUpdate:show":s}),null);return un(e,c=>{n.message=c}),Do().render=a,{open:r,close:i,message:e}}});return t}function iAe(){if(!Pb.length||eAe){const t=nAe();Pb.push(t)}return Pb[Pb.length-1]}function ra(t={}){if(!oB)return{};const e=iAe(),r=rAe(t);return e.open(Vl({},lD,tAe.get(r.type||lD.type),r)),e}_f(wB);const[sAe,rl]=Jl("nav-bar"),oAe={title:String,fixed:Boolean,zIndex:es,border:Il,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Il};var aAe=Li({name:sAe,props:oAe,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=ut(),i=uxe(n,rl),s=u=>{t.leftDisabled||e("clickLeft",u)},o=u=>{t.rightDisabled||e("clickRight",u)},a=()=>r.left?r.left():[t.leftArrow&&Be(Fy,{class:rl("arrow"),name:"arrow-left"},null),t.leftText&&Be("span",{class:rl("text")},[t.leftText])],c=()=>r.right?r.right():Be("span",{class:rl("text")},[t.rightText]),l=()=>{const{title:u,fixed:f,border:d,zIndex:h}=t,m=uB(h),g=t.leftArrow||t.leftText||r.left,b=t.rightText||r.right;return Be("div",{ref:n,style:m,class:[rl({fixed:f}),{[sxe]:d,"van-safe-area-top":t.safeAreaInsetTop}]},[Be("div",{class:rl("content")},[g&&Be("div",{class:[rl("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?oN:""],onClick:s},[a()]),Be("div",{class:[rl("title"),"van-ellipsis"]},[r.title?r.title():u]),b&&Be("div",{class:[rl("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?oN:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(l):l()}});const cAe=_f(aAe);/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function lAe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const g_=typeof window<"u",Ef=(t,e=!1)=>e?Symbol.for(t):Symbol(t),uAe=(t,e,r)=>fAe({l:t,k:e,s:r}),fAe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ln=t=>typeof t=="number"&&isFinite(t),dAe=t=>EB(t)==="[object Date]",uf=t=>EB(t)==="[object RegExp]",IE=t=>Ze(t)&&Object.keys(t).length===0,ui=Object.assign,hAe=Object.create,ir=(t=null)=>hAe(t);let uD;const Cl=()=>uD||(uD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:ir());function fD(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function dD(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pAe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,s)=>`${i}="${dD(s)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,s)=>`${i}='${dD(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const gAe=Object.prototype.hasOwnProperty;function Va(t,e){return gAe.call(t,e)}const Ur=Array.isArray,pr=t=>typeof t=="function",Se=t=>typeof t=="string",dt=t=>typeof t=="boolean",Ht=t=>t!==null&&typeof t=="object",mAe=t=>Ht(t)&&pr(t.then)&&pr(t.catch),_B=Object.prototype.toString,EB=t=>_B.call(t),Ze=t=>{if(!Ht(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},yAe=t=>t==null?"":Ur(t)||Ze(t)&&t.toString===_B?JSON.stringify(t,null,2):String(t);function bAe(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function TE(t){let e=t;return()=>++e}const Ob=t=>!Ht(t)||Ur(t);function Kw(t,e){if(Ob(t)||Ob(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(Ht(n[s])&&!Ht(i[s])&&(i[s]=Array.isArray(n[s])?[]:ir()),Ob(i[s])||Ob(n[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function wAe(t,e,r){return{line:t,column:e,offset:r}}function m_(t,e,r){return{start:t,end:e}}const _Ae=/\{([0-9a-zA-Z]+)\}/g;function vB(t,...e){return e.length===1&&EAe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(_Ae,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const xB=Object.assign,hD=t=>typeof t=="string",EAe=t=>t!==null&&typeof t=="object";function AB(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const KI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},vAe={[KI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function xAe(t,e,...r){const n=vB(vAe[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const Je={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},AAe={[Je.EXPECTED_TOKEN]:"Expected token: '{0}'",[Je.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Je.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Je.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Je.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Je.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Je.EMPTY_PLACEHOLDER]:"Empty placeholder",[Je.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Je.INVALID_LINKED_FORMAT]:"Invalid linked format",[Je.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Je.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Je.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Je.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Je.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Je.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ip(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=vB((i||AAe)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function CAe(t){throw t}const nl=" ",NAe="\r",Hi=`
`,SAe="\u2028",IAe="\u2029";function TAe(t){const e=t;let r=0,n=1,i=1,s=0;const o=F=>e[F]===NAe&&e[F+1]===Hi,a=F=>e[F]===Hi,c=F=>e[F]===IAe,l=F=>e[F]===SAe,u=F=>o(F)||a(F)||c(F)||l(F),f=()=>r,d=()=>n,h=()=>i,m=()=>s,g=F=>o(F)||c(F)||l(F)?Hi:e[F],b=()=>g(r),v=()=>g(r+s);function C(){return s=0,u(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function S(){return o(r+s)&&s++,s++,e[r+s]}function D(){r=0,n=1,i=1,s=0}function O(F=0){s=F}function k(){const F=r+s;for(;F!==r;)C();s=0}return{index:f,line:d,column:h,peekOffset:m,charAt:g,currentChar:b,currentPeek:v,next:C,peek:S,reset:D,resetPeek:O,skipToPeek:k}}const mu=void 0,RAe=".",pD="'",PAe="tokenizer";function OAe(t,e={}){const r=e.location!==!1,n=TAe(t),i=()=>n.index(),s=()=>wAe(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function f(q,z,ne,...se){const pe=l();if(z.column+=ne,z.offset+=ne,u){const me=r?m_(pe.startLoc,z):null,ee=ip(q,me,{domain:PAe,args:se});u(ee)}}function d(q,z,ne){q.endLoc=s(),q.currentType=z;const se={type:z};return r&&(se.loc=m_(q.startLoc,q.endLoc)),ne!=null&&(se.value=ne),se}const h=q=>d(q,14);function m(q,z){return q.currentChar()===z?(q.next(),z):(f(Je.EXPECTED_TOKEN,s(),0,z),"")}function g(q){let z="";for(;q.currentPeek()===nl||q.currentPeek()===Hi;)z+=q.currentPeek(),q.peek();return z}function b(q){const z=g(q);return q.skipToPeek(),z}function v(q){if(q===mu)return!1;const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z===95}function C(q){if(q===mu)return!1;const z=q.charCodeAt(0);return z>=48&&z<=57}function S(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=v(q.currentPeek());return q.resetPeek(),se}function D(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()==="-"?q.peek():q.currentPeek(),pe=C(se);return q.resetPeek(),pe}function O(q,z){const{currentType:ne}=z;if(ne!==2)return!1;g(q);const se=q.currentPeek()===pD;return q.resetPeek(),se}function k(q,z){const{currentType:ne}=z;if(ne!==8)return!1;g(q);const se=q.currentPeek()===".";return q.resetPeek(),se}function F(q,z){const{currentType:ne}=z;if(ne!==9)return!1;g(q);const se=v(q.currentPeek());return q.resetPeek(),se}function A(q,z){const{currentType:ne}=z;if(!(ne===8||ne===12))return!1;g(q);const se=q.currentPeek()===":";return q.resetPeek(),se}function _(q,z){const{currentType:ne}=z;if(ne!==10)return!1;const se=()=>{const me=q.currentPeek();return me==="{"?v(q.peek()):me==="@"||me==="%"||me==="|"||me===":"||me==="."||me===nl||!me?!1:me===Hi?(q.peek(),se()):I(q,!1)},pe=se();return q.resetPeek(),pe}function M(q){g(q);const z=q.currentPeek()==="|";return q.resetPeek(),z}function $(q){const z=g(q),ne=q.currentPeek()==="%"&&q.peek()==="{";return q.resetPeek(),{isModulo:ne,hasSpace:z.length>0}}function I(q,z=!0){const ne=(pe=!1,me="",ee=!1)=>{const ce=q.currentPeek();return ce==="{"?me==="%"?!1:pe:ce==="@"||!ce?me==="%"?!0:pe:ce==="%"?(q.peek(),ne(pe,"%",!0)):ce==="|"?me==="%"||ee?!0:!(me===nl||me===Hi):ce===nl?(q.peek(),ne(!0,nl,ee)):ce===Hi?(q.peek(),ne(!0,Hi,ee)):!0},se=ne();return z&&q.resetPeek(),se}function N(q,z){const ne=q.currentChar();return ne===mu?mu:z(ne)?(q.next(),ne):null}function p(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36}function y(q){return N(q,p)}function w(q){const z=q.charCodeAt(0);return z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===95||z===36||z===45}function x(q){return N(q,w)}function T(q){const z=q.charCodeAt(0);return z>=48&&z<=57}function U(q){return N(q,T)}function B(q){const z=q.charCodeAt(0);return z>=48&&z<=57||z>=65&&z<=70||z>=97&&z<=102}function P(q){return N(q,B)}function E(q){let z="",ne="";for(;z=U(q);)ne+=z;return ne}function L(q){b(q);const z=q.currentChar();return z!=="%"&&f(Je.EXPECTED_TOKEN,s(),0,z),q.next(),"%"}function G(q){let z="";for(;;){const ne=q.currentChar();if(ne==="{"||ne==="}"||ne==="@"||ne==="|"||!ne)break;if(ne==="%")if(I(q))z+=ne,q.next();else break;else if(ne===nl||ne===Hi)if(I(q))z+=ne,q.next();else{if(M(q))break;z+=ne,q.next()}else z+=ne,q.next()}return z}function R(q){b(q);let z="",ne="";for(;z=x(q);)ne+=z;return q.currentChar()===mu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne}function V(q){b(q);let z="";return q.currentChar()==="-"?(q.next(),z+=`-${E(q)}`):z+=E(q),q.currentChar()===mu&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z}function K(q){return q!==pD&&q!==Hi}function X(q){b(q),m(q,"'");let z="",ne="";for(;z=N(q,K);)z==="\\"?ne+=Q(q):ne+=z;const se=q.currentChar();return se===Hi||se===mu?(f(Je.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),se===Hi&&(q.next(),m(q,"'")),ne):(m(q,"'"),ne)}function Q(q){const z=q.currentChar();switch(z){case"\\":case"'":return q.next(),`\\${z}`;case"u":return ie(q,z,4);case"U":return ie(q,z,6);default:return f(Je.UNKNOWN_ESCAPE_SEQUENCE,s(),0,z),""}}function ie(q,z,ne){m(q,z);let se="";for(let pe=0;pe<ne;pe++){const me=P(q);if(!me){f(Je.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${z}${se}${q.currentChar()}`);break}se+=me}return`\\${z}${se}`}function le(q){return q!=="{"&&q!=="}"&&q!==nl&&q!==Hi}function H(q){b(q);let z="",ne="";for(;z=N(q,le);)ne+=z;return ne}function Y(q){let z="",ne="";for(;z=y(q);)ne+=z;return ne}function W(q){const z=ne=>{const se=q.currentChar();return se==="{"||se==="%"||se==="@"||se==="|"||se==="("||se===")"||!se||se===nl?ne:(ne+=se,q.next(),z(ne))};return z("")}function Z(q){b(q);const z=m(q,"|");return b(q),z}function fe(q,z){let ne=null;switch(q.currentChar()){case"{":return z.braceNest>=1&&f(Je.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),q.next(),ne=d(z,2,"{"),b(q),z.braceNest++,ne;case"}":return z.braceNest>0&&z.currentType===2&&f(Je.EMPTY_PLACEHOLDER,s(),0),q.next(),ne=d(z,3,"}"),z.braceNest--,z.braceNest>0&&b(q),z.inLinked&&z.braceNest===0&&(z.inLinked=!1),ne;case"@":return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=oe(q,z)||h(z),z.braceNest=0,ne;default:{let pe=!0,me=!0,ee=!0;if(M(q))return z.braceNest>0&&f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;if(z.braceNest>0&&(z.currentType===5||z.currentType===6||z.currentType===7))return f(Je.UNTERMINATED_CLOSING_BRACE,s(),0),z.braceNest=0,ge(q,z);if(pe=S(q,z))return ne=d(z,5,R(q)),b(q),ne;if(me=D(q,z))return ne=d(z,6,V(q)),b(q),ne;if(ee=O(q,z))return ne=d(z,7,X(q)),b(q),ne;if(!pe&&!me&&!ee)return ne=d(z,13,H(q)),f(Je.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ne.value),b(q),ne;break}}return ne}function oe(q,z){const{currentType:ne}=z;let se=null;const pe=q.currentChar();switch((ne===8||ne===9||ne===12||ne===10)&&(pe===Hi||pe===nl)&&f(Je.INVALID_LINKED_FORMAT,s(),0),pe){case"@":return q.next(),se=d(z,8,"@"),z.inLinked=!0,se;case".":return b(q),q.next(),d(z,9,".");case":":return b(q),q.next(),d(z,10,":");default:return M(q)?(se=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,se):k(q,z)||A(q,z)?(b(q),oe(q,z)):F(q,z)?(b(q),d(z,12,Y(q))):_(q,z)?(b(q),pe==="{"?fe(q,z)||se:d(z,11,W(q))):(ne===8&&f(Je.INVALID_LINKED_FORMAT,s(),0),z.braceNest=0,z.inLinked=!1,ge(q,z))}}function ge(q,z){let ne={type:14};if(z.braceNest>0)return fe(q,z)||h(z);if(z.inLinked)return oe(q,z)||h(z);switch(q.currentChar()){case"{":return fe(q,z)||h(z);case"}":return f(Je.UNBALANCED_CLOSING_BRACE,s(),0),q.next(),d(z,3,"}");case"@":return oe(q,z)||h(z);default:{if(M(q))return ne=d(z,1,Z(q)),z.braceNest=0,z.inLinked=!1,ne;const{isModulo:pe,hasSpace:me}=$(q);if(pe)return me?d(z,0,G(q)):d(z,4,L(q));if(I(q))return d(z,0,G(q));break}}return ne}function _e(){const{currentType:q,offset:z,startLoc:ne,endLoc:se}=c;return c.lastType=q,c.lastOffset=z,c.lastStartLoc=ne,c.lastEndLoc=se,c.offset=i(),c.startLoc=s(),n.currentChar()===mu?d(c,14):ge(n,c)}return{nextToken:_e,currentOffset:i,currentPosition:s,context:l}}const DAe="parser",kAe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function MAe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function UAe(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(S,D,O,k,...F){const A=S.currentPosition();if(A.offset+=k,A.column+=k,r){const _=e?m_(O,A):null,M=ip(D,_,{domain:DAe,args:F});r(M)}}function s(S,D,O,k,...F){const A=S.currentPosition();if(A.offset+=k,A.column+=k,n){const _=e?m_(O,A):null;n(xAe(D,_,F))}}function o(S,D,O){const k={type:S};return e&&(k.start=D,k.end=D,k.loc={start:O,end:O}),k}function a(S,D,O,k){e&&(S.end=D,S.loc&&(S.loc.end=O))}function c(S,D){const O=S.context(),k=o(3,O.offset,O.startLoc);return k.value=D,a(k,S.currentOffset(),S.currentPosition()),k}function l(S,D){const O=S.context(),{lastOffset:k,lastStartLoc:F}=O,A=o(5,k,F);return A.index=parseInt(D,10),S.nextToken(),a(A,S.currentOffset(),S.currentPosition()),A}function u(S,D,O){const k=S.context(),{lastOffset:F,lastStartLoc:A}=k,_=o(4,F,A);return _.key=D,O===!0&&(_.modulo=!0),S.nextToken(),a(_,S.currentOffset(),S.currentPosition()),_}function f(S,D){const O=S.context(),{lastOffset:k,lastStartLoc:F}=O,A=o(9,k,F);return A.value=D.replace(kAe,MAe),S.nextToken(),a(A,S.currentOffset(),S.currentPosition()),A}function d(S){const D=S.nextToken(),O=S.context(),{lastOffset:k,lastStartLoc:F}=O,A=o(8,k,F);return D.type!==12?(i(S,Je.UNEXPECTED_EMPTY_LINKED_MODIFIER,O.lastStartLoc,0),A.value="",a(A,k,F),{nextConsumeToken:D,node:A}):(D.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,na(D)),A.value=D.value||"",a(A,S.currentOffset(),S.currentPosition()),{node:A})}function h(S,D){const O=S.context(),k=o(7,O.offset,O.startLoc);return k.value=D,a(k,S.currentOffset(),S.currentPosition()),k}function m(S){const D=S.context(),O=o(6,D.offset,D.startLoc);let k=S.nextToken();if(k.type===9){const F=d(S);O.modifier=F.node,k=F.nextConsumeToken||S.nextToken()}switch(k.type!==10&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(k)),k=S.nextToken(),k.type===2&&(k=S.nextToken()),k.type){case 11:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(k)),O.key=h(S,k.value||"");break;case 5:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(k)),O.key=u(S,k.value||"");break;case 6:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(k)),O.key=l(S,k.value||"");break;case 7:k.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(k)),O.key=f(S,k.value||"");break;default:{i(S,Je.UNEXPECTED_EMPTY_LINKED_KEY,D.lastStartLoc,0);const F=S.context(),A=o(7,F.offset,F.startLoc);return A.value="",a(A,F.offset,F.startLoc),O.key=A,a(O,F.offset,F.startLoc),{nextConsumeToken:k,node:O}}}return a(O,S.currentOffset(),S.currentPosition()),{node:O}}function g(S){const D=S.context(),O=D.currentType===1?S.currentOffset():D.offset,k=D.currentType===1?D.endLoc:D.startLoc,F=o(2,O,k);F.items=[];let A=null,_=null;do{const I=A||S.nextToken();switch(A=null,I.type){case 0:I.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(I)),F.items.push(c(S,I.value||""));break;case 6:I.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(I)),F.items.push(l(S,I.value||""));break;case 4:_=!0;break;case 5:I.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(I)),F.items.push(u(S,I.value||"",!!_)),_&&(s(S,KI.USE_MODULO_SYNTAX,D.lastStartLoc,0,na(I)),_=null);break;case 7:I.value==null&&i(S,Je.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,na(I)),F.items.push(f(S,I.value||""));break;case 8:{const N=m(S);F.items.push(N.node),A=N.nextConsumeToken||null;break}}}while(D.currentType!==14&&D.currentType!==1);const M=D.currentType===1?D.lastOffset:S.currentOffset(),$=D.currentType===1?D.lastEndLoc:S.currentPosition();return a(F,M,$),F}function b(S,D,O,k){const F=S.context();let A=k.items.length===0;const _=o(1,D,O);_.cases=[],_.cases.push(k);do{const M=g(S);A||(A=M.items.length===0),_.cases.push(M)}while(F.currentType!==14);return A&&i(S,Je.MUST_HAVE_MESSAGES_IN_PLURAL,O,0),a(_,S.currentOffset(),S.currentPosition()),_}function v(S){const D=S.context(),{offset:O,startLoc:k}=D,F=g(S);return D.currentType===14?F:b(S,O,k,F)}function C(S){const D=OAe(S,xB({},t)),O=D.context(),k=o(0,O.offset,O.startLoc);return e&&k.loc&&(k.loc.source=S),k.body=v(D),t.onCacheKey&&(k.cacheKey=t.onCacheKey(S)),O.currentType!==14&&i(D,Je.UNEXPECTED_LEXICAL_ANALYSIS,O.lastStartLoc,0,S[O.offset]||""),a(k,D.currentOffset(),D.currentPosition()),k}return{parse:C}}function na(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function $Ae(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function gD(t,e){for(let r=0;r<t.length;r++)VI(t[r],e)}function VI(t,e){switch(t.type){case 1:gD(t.cases,e),e.helper("plural");break;case 2:gD(t.items,e);break;case 6:{VI(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function LAe(t,e={}){const r=$Ae(t);r.helper("normalize"),t.body&&VI(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function FAe(t){const e=t.body;return e.type===2?mD(e):e.cases.forEach(r=>mD(r)),t}function mD(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=AB(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const BAe="minifier";function Gh(t){switch(t.t=t.type,t.type){case 0:{const e=t;Gh(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)Gh(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)Gh(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Gh(e.key),e.k=e.key,delete e.key,e.modifier&&(Gh(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw ip(Je.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:BAe,args:[t.type]})}delete t.type}const jAe="parser";function HAe(t,e){const{filename:r,breakLineCode:n,needIndent:i}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(g,b){o.code+=g}function l(g,b=!0){const v=b?n:"";c(i?v+"  ".repeat(g):v)}function u(g=!0){const b=++o.indentLevel;g&&l(b)}function f(g=!0){const b=--o.indentLevel;g&&l(b)}function d(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:f,newline:d,helper:g=>`_${g}`,needIndent:()=>o.needIndent}}function WAe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),M0(t,e.key),e.modifier?(t.push(", "),M0(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function qAe(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(M0(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function zAe(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(M0(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function GAe(t,e){e.body?M0(t,e.body):t.push("null")}function M0(t,e){const{helper:r}=t;switch(e.type){case 0:GAe(t,e);break;case 1:zAe(t,e);break;case 2:qAe(t,e);break;case 6:WAe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw ip(Je.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:jAe,args:[e.type]})}}const KAe=(t,e={})=>{const r=hD(e.mode)?e.mode:"normal",n=hD(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=HAe(t,{filename:n,breakLineCode:i,needIndent:s});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${AB(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),M0(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function VAe(t,e={}){const r=xB({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=UAe(r).parse(t);return n?(s&&FAe(a),i&&Gh(a),{ast:a,code:""}):(LAe(a,r),KAe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function JAe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Cl().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Cl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Cl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Lc(t){return Ht(t)&&JI(t)===0&&(Va(t,"b")||Va(t,"body"))}const CB=["b","body"];function YAe(t){return vf(t,CB)}const NB=["c","cases"];function XAe(t){return vf(t,NB,[])}const SB=["s","static"];function QAe(t){return vf(t,SB)}const IB=["i","items"];function ZAe(t){return vf(t,IB,[])}const TB=["t","type"];function JI(t){return vf(t,TB)}const RB=["v","value"];function Db(t,e){const r=vf(t,RB);if(r!=null)return r;throw iy(e)}const PB=["m","modifier"];function e2e(t){return vf(t,PB)}const OB=["k","key"];function t2e(t){const e=vf(t,OB);if(e)return e;throw iy(6)}function vf(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(Va(t,i)&&t[i]!=null)return t[i]}return r}const DB=[...CB,...NB,...SB,...IB,...OB,...PB,...RB,...TB];function iy(t){return new Error(`unhandled node type: ${t}`)}const xf=[];xf[0]={w:[0],i:[3,0],"[":[4],o:[7]};xf[1]={w:[1],".":[2],"[":[4],o:[7]};xf[2]={w:[2],i:[3,0],0:[3,0]};xf[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};xf[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};xf[5]={"'":[4,0],o:8,l:[5,0]};xf[6]={'"':[4,0],o:8,l:[6,0]};const r2e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function n2e(t){return r2e.test(t)}function i2e(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function s2e(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function o2e(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:n2e(e)?i2e(e):"*"+e}function a2e(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,l,u,f;const d=[];d[0]=()=>{o===void 0?o=a:o+=a},d[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},d[2]=()=>{d[0](),i++},d[3]=()=>{if(i>0)i--,n=4,d[0]();else{if(i=0,o===void 0||(o=o2e(o),o===!1))return!1;d[1]()}};function h(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,d[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&h())){if(c=s2e(s),f=xf[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=d[l[1]],u&&(a=s,u()===!1))))return;if(n===7)return e}}const yD=new Map;function c2e(t,e){return Ht(t)?t[e]:null}function l2e(t,e){if(!Ht(t))return null;let r=yD.get(e);if(r||(r=a2e(e),r&&yD.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=r[s];if(DB.includes(o)&&Lc(i))return null;const a=i[o];if(a===void 0||pr(i))return null;i=a,s++}return i}const u2e=t=>t,f2e=t=>"",d2e="text",h2e=t=>t.length===0?"":bAe(t),p2e=yAe;function bD(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function g2e(t){const e=ln(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ln(t.named.count)||ln(t.named.n))?ln(t.named.count)?t.named.count:ln(t.named.n)?t.named.n:e:e}function m2e(t,e){e.count||(e.count=t),e.n||(e.n=t)}function y2e(t={}){const e=t.locale,r=g2e(t),n=Ht(t.pluralRules)&&Se(e)&&pr(t.pluralRules[e])?t.pluralRules[e]:bD,i=Ht(t.pluralRules)&&Se(e)&&pr(t.pluralRules[e])?bD:void 0,s=v=>v[n(r,v.length,i)],o=t.list||[],a=v=>o[v],c=t.named||ir();ln(t.pluralIndex)&&m2e(r,c);const l=v=>c[v];function u(v){const C=pr(t.messages)?t.messages(v):Ht(t.messages)?t.messages[v]:!1;return C||(t.parent?t.parent.message(v):f2e)}const f=v=>t.modifiers?t.modifiers[v]:u2e,d=Ze(t.processor)&&pr(t.processor.normalize)?t.processor.normalize:h2e,h=Ze(t.processor)&&pr(t.processor.interpolate)?t.processor.interpolate:p2e,m=Ze(t.processor)&&Se(t.processor.type)?t.processor.type:d2e,b={list:a,named:l,plural:s,linked:(v,...C)=>{const[S,D]=C;let O="text",k="";C.length===1?Ht(S)?(k=S.modifier||k,O=S.type||O):Se(S)&&(k=S||k):C.length===2&&(Se(S)&&(k=S||k),Se(D)&&(O=D||O));const F=u(v)(b),A=O==="vnode"&&Ur(F)&&k?F[0]:F;return k?f(k)(A,O):A},message:u,type:m,interpolate:h,normalize:d,values:ui(ir(),o,c)};return b}let sy=null;function b2e(t){sy=t}function w2e(t,e,r){sy&&sy.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const _2e=E2e("function:translate");function E2e(t){return e=>sy&&sy.emit(t,e)}const v2e=KI.__EXTEND_POINT__,Wf=TE(v2e),x2e={FALLBACK_TO_TRANSLATE:Wf(),CANNOT_FORMAT_NUMBER:Wf(),FALLBACK_TO_NUMBER_FORMAT:Wf(),CANNOT_FORMAT_DATE:Wf(),FALLBACK_TO_DATE_FORMAT:Wf(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Wf(),__EXTEND_POINT__:Wf()},kB=Je.__EXTEND_POINT__,qf=TE(kB),Ja={INVALID_ARGUMENT:kB,INVALID_DATE_ARGUMENT:qf(),INVALID_ISO_DATE_ARGUMENT:qf(),NOT_SUPPORT_NON_STRING_MESSAGE:qf(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:qf(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:qf(),NOT_SUPPORT_LOCALE_TYPE:qf(),__EXTEND_POINT__:qf()};function Rc(t){return ip(t,null,void 0)}function YI(t,e){return e.locale!=null?wD(e.locale):wD(t.locale)}let UA;function wD(t){if(Se(t))return t;if(pr(t)){if(t.resolvedOnce&&UA!=null)return UA;if(t.constructor.name==="Function"){const e=t();if(mAe(e))throw Rc(Ja.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return UA=e}else throw Rc(Ja.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Rc(Ja.NOT_SUPPORT_LOCALE_TYPE)}function A2e(t,e,r){return[...new Set([r,...Ur(e)?e:Ht(e)?Object.keys(e):Se(e)?[e]:[r]])]}function MB(t,e,r){const n=Se(r)?r:U0,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;Ur(o);)o=_D(s,o,e);const a=Ur(e)||!Ze(e)?e:e.default?e.default:null;o=Se(a)?[a]:a,Ur(o)&&_D(s,o,!1),i.__localeChainCache.set(n,s)}return s}function _D(t,e,r){let n=!0;for(let i=0;i<e.length&&dt(n);i++){const s=e[i];Se(s)&&(n=C2e(t,e[i],r))}return n}function C2e(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=N2e(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function N2e(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(Ur(r)||Ze(r))&&r[i]&&(n=r[i])}return n}const S2e="9.14.5",RE=-1,U0="en-US",ED="",vD=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function I2e(){return{upper:(t,e)=>e==="text"&&Se(t)?t.toUpperCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Se(t)?t.toLowerCase():e==="vnode"&&Ht(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Se(t)?vD(t):e==="vnode"&&Ht(t)&&"__v_isVNode"in t?vD(t.children):t}}let UB;function xD(t){UB=t}let $B;function T2e(t){$B=t}let LB;function R2e(t){LB=t}let FB=null;const P2e=t=>{FB=t},O2e=()=>FB;let BB=null;const AD=t=>{BB=t},D2e=()=>BB;let CD=0;function k2e(t={}){const e=pr(t.onWarn)?t.onWarn:lAe,r=Se(t.version)?t.version:S2e,n=Se(t.locale)||pr(t.locale)?t.locale:U0,i=pr(n)?U0:n,s=Ur(t.fallbackLocale)||Ze(t.fallbackLocale)||Se(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=Ze(t.messages)?t.messages:$A(i),a=Ze(t.datetimeFormats)?t.datetimeFormats:$A(i),c=Ze(t.numberFormats)?t.numberFormats:$A(i),l=ui(ir(),t.modifiers,I2e()),u=t.pluralRules||ir(),f=pr(t.missing)?t.missing:null,d=dt(t.missingWarn)||uf(t.missingWarn)?t.missingWarn:!0,h=dt(t.fallbackWarn)||uf(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,g=!!t.unresolving,b=pr(t.postTranslation)?t.postTranslation:null,v=Ze(t.processor)?t.processor:null,C=dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter,D=pr(t.messageCompiler)?t.messageCompiler:UB,O=pr(t.messageResolver)?t.messageResolver:$B||c2e,k=pr(t.localeFallbacker)?t.localeFallbacker:LB||A2e,F=Ht(t.fallbackContext)?t.fallbackContext:void 0,A=t,_=Ht(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,M=Ht(A.__numberFormatters)?A.__numberFormatters:new Map,$=Ht(A.__meta)?A.__meta:{};CD++;const I={version:r,cid:CD,locale:n,fallbackLocale:s,messages:o,modifiers:l,pluralRules:u,missing:f,missingWarn:d,fallbackWarn:h,fallbackFormat:m,unresolving:g,postTranslation:b,processor:v,warnHtmlMessage:C,escapeParameter:S,messageCompiler:D,messageResolver:O,localeFallbacker:k,fallbackContext:F,onWarn:e,__meta:$};return I.datetimeFormats=a,I.numberFormats=c,I.__datetimeFormatters=_,I.__numberFormatters=M,__INTLIFY_PROD_DEVTOOLS__&&w2e(I,r,$),I}const $A=t=>({[t]:ir()});function XI(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Se(a)?a:e}else return e}function $p(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function M2e(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function U2e(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(M2e(t,e[n]))return!0;return!1}function LA(t){return r=>$2e(r,t)}function $2e(t,e){const r=YAe(e);if(r==null)throw iy(0);if(JI(r)===1){const s=XAe(r);return t.plural(s.reduce((o,a)=>[...o,ND(t,a)],[]))}else return ND(t,r)}function ND(t,e){const r=QAe(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=ZAe(e).reduce((i,s)=>[...i,aN(t,s)],[]);return t.normalize(n)}}function aN(t,e){const r=JI(e);switch(r){case 3:return Db(e,r);case 9:return Db(e,r);case 4:{const n=e;if(Va(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(Va(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw iy(r)}case 5:{const n=e;if(Va(n,"i")&&ln(n.i))return t.interpolate(t.list(n.i));if(Va(n,"index")&&ln(n.index))return t.interpolate(t.list(n.index));throw iy(r)}case 6:{const n=e,i=e2e(n),s=t2e(n);return t.linked(aN(t,s),i?aN(t,i):void 0,t.type)}case 7:return Db(e,r);case 8:return Db(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const jB=t=>t;let e0=ir();function HB(t,e={}){let r=!1;const n=e.onError||CAe;return e.onError=i=>{r=!0,n(i)},{...VAe(t,e),detectError:r}}const L2e=(t,e)=>{if(!Se(t))throw Rc(Ja.NOT_SUPPORT_NON_STRING_MESSAGE);{dt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||jB)(t),i=e0[n];if(i)return i;const{code:s,detectError:o}=HB(t,e),a=new Function(`return ${s}`)();return o?a:e0[n]=a}};function F2e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Se(t)){dt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||jB)(t),i=e0[n];if(i)return i;const{ast:s,detectError:o}=HB(t,{...e,location:!1,jit:!0}),a=LA(s);return o?a:e0[n]=a}else{const r=t.cacheKey;if(r){const n=e0[r];return n||(e0[r]=LA(t))}else return LA(t)}}const SD=()=>"",No=t=>pr(t);function ID(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,l]=cN(...e),u=dt(l.missingWarn)?l.missingWarn:t.missingWarn,f=dt(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,d=dt(l.escapeParameter)?l.escapeParameter:t.escapeParameter,h=!!l.resolvedMessage,m=Se(l.default)||dt(l.default)?dt(l.default)?s?c:()=>c:l.default:r?s?c:()=>c:"",g=r||m!=="",b=YI(t,l);d&&B2e(l);let[v,C,S]=h?[c,b,a[b]||ir()]:WB(t,c,b,o,f,u),D=v,O=c;if(!h&&!(Se(D)||Lc(D)||No(D))&&g&&(D=m,O=D),!h&&(!(Se(D)||Lc(D)||No(D))||!Se(C)))return i?RE:c;let k=!1;const F=()=>{k=!0},A=No(D)?D:qB(t,c,C,D,O,F);if(k)return D;const _=W2e(t,C,S,l),M=y2e(_),$=j2e(t,A,M);let I=n?n($,c):$;if(d&&Se(I)&&(I=pAe(I)),__INTLIFY_PROD_DEVTOOLS__){const N={timestamp:Date.now(),key:Se(c)?c:No(D)?D.key:"",locale:C||(No(D)?D.locale:""),format:Se(D)?D:No(D)?D.source:"",message:I};N.meta=ui({},t.__meta,O2e()||{}),_2e(N)}return I}function B2e(t){Ur(t.list)?t.list=t.list.map(e=>Se(e)?fD(e):e):Ht(t.named)&&Object.keys(t.named).forEach(e=>{Se(t.named[e])&&(t.named[e]=fD(t.named[e]))})}function WB(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,n,r);let f=ir(),d,h=null;const m="translate";for(let g=0;g<u.length&&(d=u[g],f=o[d]||ir(),(h=c(f,e))===null&&(h=f[e]),!(Se(h)||Lc(h)||No(h)));g++)if(!U2e(d,u)){const b=XI(t,e,d,s,m);b!==e&&(h=b)}return[h,d,f]}function qB(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(No(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||e,l}if(o==null){const l=(()=>n);return l.locale=r,l.key=e,l}const c=o(n,H2e(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function j2e(t,e,r){return e(r)}function cN(...t){const[e,r,n]=t,i=ir();if(!Se(e)&&!ln(e)&&!No(e)&&!Lc(e))throw Rc(Ja.INVALID_ARGUMENT);const s=ln(e)?String(e):(No(e),e);return ln(r)?i.plural=r:Se(r)?i.default=r:Ze(r)&&!IE(r)?i.named=r:Ur(r)&&(i.list=r),ln(n)?i.plural=n:Se(n)?i.default=n:Ze(n)&&ui(i,n),[s,i]}function H2e(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>uAe(e,r,o)}}function W2e(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,d={locale:e,modifiers:i,pluralRules:s,messages:h=>{let m=o(r,h);if(m==null&&u){const[,,g]=WB(u,h,e,a,c,l);m=o(g,h)}if(Se(m)||Lc(m)){let g=!1;const v=qB(t,h,e,m,h,()=>{g=!0});return g?SD:v}else return No(m)?m:SD}};return t.processor&&(d.processor=t.processor),n.list&&(d.list=n.list),n.named&&(d.named=n.named),ln(n.plural)&&(d.pluralIndex=n.plural),d}function TD(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,f]=lN(...e),d=dt(u.missingWarn)?u.missingWarn:t.missingWarn;dt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=YI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.DateTimeFormat(m,f).format(l);let b={},v,C=null;const S="datetime format";for(let k=0;k<g.length&&(v=g[k],b=r[v]||{},C=b[c],!Ze(C));k++)XI(t,c,v,d,S);if(!Ze(C)||!Se(v))return n?RE:c;let D=`${v}__${c}`;IE(f)||(D=`${D}__${JSON.stringify(f)}`);let O=a.get(D);return O||(O=new Intl.DateTimeFormat(v,ui({},C,f)),a.set(D,O)),h?O.formatToParts(l):O.format(l)}const zB=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function lN(...t){const[e,r,n,i]=t,s=ir();let o=ir(),a;if(Se(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Rc(Ja.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw Rc(Ja.INVALID_ISO_DATE_ARGUMENT)}}else if(dAe(e)){if(isNaN(e.getTime()))throw Rc(Ja.INVALID_DATE_ARGUMENT);a=e}else if(ln(e))a=e;else throw Rc(Ja.INVALID_ARGUMENT);return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{zB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function RD(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function PD(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,f]=uN(...e),d=dt(u.missingWarn)?u.missingWarn:t.missingWarn;dt(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=YI(t,u),g=o(t,i,m);if(!Se(c)||c==="")return new Intl.NumberFormat(m,f).format(l);let b={},v,C=null;const S="number format";for(let k=0;k<g.length&&(v=g[k],b=r[v]||{},C=b[c],!Ze(C));k++)XI(t,c,v,d,S);if(!Ze(C)||!Se(v))return n?RE:c;let D=`${v}__${c}`;IE(f)||(D=`${D}__${JSON.stringify(f)}`);let O=a.get(D);return O||(O=new Intl.NumberFormat(v,ui({},C,f)),a.set(D,O)),h?O.formatToParts(l):O.format(l)}const GB=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function uN(...t){const[e,r,n,i]=t,s=ir();let o=ir();if(!ln(e))throw Rc(Ja.INVALID_ARGUMENT);const a=e;return Se(r)?s.key=r:Ze(r)&&Object.keys(r).forEach(c=>{GB.includes(c)?o[c]=r[c]:s[c]=r[c]}),Se(n)?s.locale=n:Ze(n)&&(o=n),Ze(i)&&(o=i),[s.key||"",a,s,o]}function OD(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}JAe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const q2e="9.14.5";function z2e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Cl().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Cl().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Cl().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Cl().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Cl().__INTLIFY_PROD_DEVTOOLS__=!1)}const G2e=x2e.__EXTEND_POINT__,il=TE(G2e);il(),il(),il(),il(),il(),il(),il(),il(),il();const KB=Ja.__EXTEND_POINT__,hs=TE(KB),Hn={UNEXPECTED_RETURN_TYPE:KB,INVALID_ARGUMENT:hs(),MUST_BE_CALL_SETUP_TOP:hs(),NOT_INSTALLED:hs(),NOT_AVAILABLE_IN_LEGACY_MODE:hs(),REQUIRED_VALUE:hs(),INVALID_VALUE:hs(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:hs(),NOT_INSTALLED_WITH_PROVIDE:hs(),UNEXPECTED_ERROR:hs(),NOT_COMPATIBLE_LEGACY_VUE_I18N:hs(),BRIDGE_SUPPORT_VUE_2_ONLY:hs(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:hs(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:hs(),__EXTEND_POINT__:hs()};function Jn(t,...e){return ip(t,null,void 0)}const fN=Ef("__translateVNode"),dN=Ef("__datetimeParts"),hN=Ef("__numberParts"),VB=Ef("__setPluralRules"),JB=Ef("__injectWithOption"),pN=Ef("__dispose");function oy(t){if(!Ht(t)||Lc(t))return t;for(const e in t)if(Va(t,e))if(!e.includes("."))Ht(t[e])&&oy(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in i||(i[r[o]]=ir()),!Ht(i[r[o]])){s=!0;break}i=i[r[o]]}if(s||(Lc(i)?DB.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!Lc(i)){const o=i[r[n]];Ht(o)&&oy(o)}}return t}function PE(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=Ze(r)?r:Ur(n)?ir():{[t]:ir()};if(Ur(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||ir(),Kw(l,o[c])):Kw(l,o)}else Se(a)&&Kw(JSON.parse(a),o)}),i==null&&s)for(const a in o)Va(o,a)&&oy(o[a]);return o}function YB(t){return t.type}function XB(t,e,r){let n=Ht(e.messages)?e.messages:ir();"__i18nGlobal"in r&&(n=PE(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(Ht(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ht(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function DD(t){return Be(cy,null,t,0)}const kD="__INTLIFY_META__",MD=()=>[],K2e=()=>!1;let UD=0;function $D(t){return((e,r,n,i)=>t(r,n,Do()||void 0,i))}const V2e=()=>{const t=Do();let e=null;return t&&(e=YB(t)[kD])?{[kD]:e}:null};function QI(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=g_?ut:MN,a=!!t.translateExistCompatible;let c=dt(t.inheritLocale)?t.inheritLocale:!0;const l=o(r&&c?r.locale.value:Se(t.locale)?t.locale:U0),u=o(r&&c?r.fallbackLocale.value:Se(t.fallbackLocale)||Ur(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),f=o(PE(l.value,t)),d=o(Ze(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),h=o(Ze(t.numberFormats)?t.numberFormats:{[l.value]:{}});let m=r?r.missingWarn:dt(t.missingWarn)||uf(t.missingWarn)?t.missingWarn:!0,g=r?r.fallbackWarn:dt(t.fallbackWarn)||uf(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:dt(t.fallbackRoot)?t.fallbackRoot:!0,v=!!t.fallbackFormat,C=pr(t.missing)?t.missing:null,S=pr(t.missing)?$D(t.missing):null,D=pr(t.postTranslation)?t.postTranslation:null,O=r?r.warnHtmlMessage:dt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,k=!!t.escapeParameter;const F=r?r.modifiers:Ze(t.modifiers)?t.modifiers:{};let A=t.pluralRules||r&&r.pluralRules,_;_=(()=>{i&&AD(null);const ee={version:q2e,locale:l.value,fallbackLocale:u.value,messages:f.value,modifiers:F,pluralRules:A,missing:S===null?void 0:S,missingWarn:m,fallbackWarn:g,fallbackFormat:v,unresolving:!0,postTranslation:D===null?void 0:D,warnHtmlMessage:O,escapeParameter:k,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ee.datetimeFormats=d.value,ee.numberFormats=h.value,ee.__datetimeFormatters=Ze(_)?_.__datetimeFormatters:void 0,ee.__numberFormatters=Ze(_)?_.__numberFormatters:void 0;const ce=k2e(ee);return i&&AD(ce),ce})(),$p(_,l.value,u.value);function $(){return[l.value,u.value,f.value,d.value,h.value]}const I=qt({get:()=>l.value,set:ee=>{l.value=ee,_.locale=l.value}}),N=qt({get:()=>u.value,set:ee=>{u.value=ee,_.fallbackLocale=u.value,$p(_,l.value,ee)}}),p=qt(()=>f.value),y=qt(()=>d.value),w=qt(()=>h.value);function x(){return pr(D)?D:null}function T(ee){D=ee,_.postTranslation=ee}function U(){return C}function B(ee){ee!==null&&(S=$D(ee)),C=ee,_.missing=S}const P=(ee,ce,ke,Le,Ge,Br)=>{$();let nt;try{__INTLIFY_PROD_DEVTOOLS__,i||(_.fallbackContext=r?D2e():void 0),nt=ee(_)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(_.fallbackContext=void 0)}if(ke!=="translate exists"&&ln(nt)&&nt===RE||ke==="translate exists"&&!nt){const[Rt,Xo]=ce();return r&&b?Le(r):Ge(Rt)}else{if(Br(nt))return nt;throw Jn(Hn.UNEXPECTED_RETURN_TYPE)}};function E(...ee){return P(ce=>Reflect.apply(ID,null,[ce,...ee]),()=>cN(...ee),"translate",ce=>Reflect.apply(ce.t,ce,[...ee]),ce=>ce,ce=>Se(ce))}function L(...ee){const[ce,ke,Le]=ee;if(Le&&!Ht(Le))throw Jn(Hn.INVALID_ARGUMENT);return E(ce,ke,ui({resolvedMessage:!0},Le||{}))}function G(...ee){return P(ce=>Reflect.apply(TD,null,[ce,...ee]),()=>lN(...ee),"datetime format",ce=>Reflect.apply(ce.d,ce,[...ee]),()=>ED,ce=>Se(ce))}function R(...ee){return P(ce=>Reflect.apply(PD,null,[ce,...ee]),()=>uN(...ee),"number format",ce=>Reflect.apply(ce.n,ce,[...ee]),()=>ED,ce=>Se(ce))}function V(ee){return ee.map(ce=>Se(ce)||ln(ce)||dt(ce)?DD(String(ce)):ce)}const X={normalize:V,interpolate:ee=>ee,type:"vnode"};function Q(...ee){return P(ce=>{let ke;const Le=ce;try{Le.processor=X,ke=Reflect.apply(ID,null,[Le,...ee])}finally{Le.processor=null}return ke},()=>cN(...ee),"translate",ce=>ce[fN](...ee),ce=>[DD(ce)],ce=>Ur(ce))}function ie(...ee){return P(ce=>Reflect.apply(PD,null,[ce,...ee]),()=>uN(...ee),"number format",ce=>ce[hN](...ee),MD,ce=>Se(ce)||Ur(ce))}function le(...ee){return P(ce=>Reflect.apply(TD,null,[ce,...ee]),()=>lN(...ee),"datetime format",ce=>ce[dN](...ee),MD,ce=>Se(ce)||Ur(ce))}function H(ee){A=ee,_.pluralRules=A}function Y(ee,ce){return P(()=>{if(!ee)return!1;const ke=Se(ce)?ce:l.value,Le=fe(ke),Ge=_.messageResolver(Le,ee);return a?Ge!=null:Lc(Ge)||No(Ge)||Se(Ge)},()=>[ee],"translate exists",ke=>Reflect.apply(ke.te,ke,[ee,ce]),K2e,ke=>dt(ke))}function W(ee){let ce=null;const ke=MB(_,u.value,l.value);for(let Le=0;Le<ke.length;Le++){const Ge=f.value[ke[Le]]||{},Br=_.messageResolver(Ge,ee);if(Br!=null){ce=Br;break}}return ce}function Z(ee){const ce=W(ee);return ce??(r?r.tm(ee)||{}:{})}function fe(ee){return f.value[ee]||{}}function oe(ee,ce){if(s){const ke={[ee]:ce};for(const Le in ke)Va(ke,Le)&&oy(ke[Le]);ce=ke[ee]}f.value[ee]=ce,_.messages=f.value}function ge(ee,ce){f.value[ee]=f.value[ee]||{};const ke={[ee]:ce};if(s)for(const Le in ke)Va(ke,Le)&&oy(ke[Le]);ce=ke[ee],Kw(ce,f.value[ee]),_.messages=f.value}function _e(ee){return d.value[ee]||{}}function q(ee,ce){d.value[ee]=ce,_.datetimeFormats=d.value,RD(_,ee,ce)}function z(ee,ce){d.value[ee]=ui(d.value[ee]||{},ce),_.datetimeFormats=d.value,RD(_,ee,ce)}function ne(ee){return h.value[ee]||{}}function se(ee,ce){h.value[ee]=ce,_.numberFormats=h.value,OD(_,ee,ce)}function pe(ee,ce){h.value[ee]=ui(h.value[ee]||{},ce),_.numberFormats=h.value,OD(_,ee,ce)}UD++,r&&g_&&(un(r.locale,ee=>{c&&(l.value=ee,_.locale=ee,$p(_,l.value,u.value))}),un(r.fallbackLocale,ee=>{c&&(u.value=ee,_.fallbackLocale=ee,$p(_,l.value,u.value))}));const me={id:UD,locale:I,fallbackLocale:N,get inheritLocale(){return c},set inheritLocale(ee){c=ee,ee&&r&&(l.value=r.locale.value,u.value=r.fallbackLocale.value,$p(_,l.value,u.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:p,get modifiers(){return F},get pluralRules(){return A||{}},get isGlobal(){return i},get missingWarn(){return m},set missingWarn(ee){m=ee,_.missingWarn=m},get fallbackWarn(){return g},set fallbackWarn(ee){g=ee,_.fallbackWarn=g},get fallbackRoot(){return b},set fallbackRoot(ee){b=ee},get fallbackFormat(){return v},set fallbackFormat(ee){v=ee,_.fallbackFormat=v},get warnHtmlMessage(){return O},set warnHtmlMessage(ee){O=ee,_.warnHtmlMessage=ee},get escapeParameter(){return k},set escapeParameter(ee){k=ee,_.escapeParameter=ee},t:E,getLocaleMessage:fe,setLocaleMessage:oe,mergeLocaleMessage:ge,getPostTranslationHandler:x,setPostTranslationHandler:T,getMissingHandler:U,setMissingHandler:B,[VB]:H};return me.datetimeFormats=y,me.numberFormats=w,me.rt=L,me.te=Y,me.tm=Z,me.d=G,me.n=R,me.getDateTimeFormat=_e,me.setDateTimeFormat=q,me.mergeDateTimeFormat=z,me.getNumberFormat=ne,me.setNumberFormat=se,me.mergeNumberFormat=pe,me[JB]=n,me[fN]=Q,me[dN]=le,me[hN]=ie,me}function J2e(t){const e=Se(t.locale)?t.locale:U0,r=Se(t.fallbackLocale)||Ur(t.fallbackLocale)||Ze(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=pr(t.missing)?t.missing:void 0,i=dt(t.silentTranslationWarn)||uf(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=dt(t.silentFallbackWarn)||uf(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=dt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=Ze(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=pr(t.postTranslation)?t.postTranslation:void 0,f=Se(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,d=!!t.escapeParameterHtml,h=dt(t.sync)?t.sync:!0;let m=t.messages;if(Ze(t.sharedMessages)){const k=t.sharedMessages;m=Object.keys(k).reduce((A,_)=>{const M=A[_]||(A[_]={});return ui(M,k[_]),A},m||{})}const{__i18n:g,__root:b,__injectWithOption:v}=t,C=t.datetimeFormats,S=t.numberFormats,D=t.flatJson,O=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:m,flatJson:D,datetimeFormats:C,numberFormats:S,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:f,escapeParameter:d,messageResolver:t.messageResolver,inheritLocale:h,translateExistCompatible:O,__i18n:g,__root:b,__injectWithOption:v}}function gN(t={},e){{const r=QI(J2e(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return dt(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=dt(s)?!s:s},get silentFallbackWarn(){return dt(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=dt(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,l={};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:Ur(a)?u=a:Ze(a)&&(f=a),Ur(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,l={plural:1};let u=null,f=null;if(!Se(o))throw Jn(Hn.INVALID_ARGUMENT);const d=o;return Se(a)?l.locale=a:ln(a)?l.plural=a:Ur(a)?u=a:Ze(a)&&(f=a),Se(c)?l.locale=c:Ur(c)?u=c:Ze(c)&&(f=c),Reflect.apply(r.t,r,[d,u||f||{},l])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const ZI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function Y2e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===xs?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},ir())}function QB(t){return xs}const X2e=Li({name:"i18n-t",props:ui({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ln(t)||!isNaN(t)}},ZI),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||By({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(f=>f!=="_"),o=ir();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Se(t.plural)?+t.plural:t.plural);const a=Y2e(e,s),c=i[fN](t.keypath,a,o),l=ui(ir(),n),u=Se(t.tag)||Ht(t.tag)?t.tag:QB();return uy(u,l,c)}}}),LD=X2e;function Q2e(t){return Ur(t)&&!Se(t[0])}function ZB(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=ir();t.locale&&(o.locale=t.locale),Se(t.format)?o.key=t.format:Ht(t.format)&&(Se(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((d,h)=>r.includes(h)?ui(ir(),d,{[h]:t.format[h]}):d,ir()));const c=n(t.value,o,a);let l=[o.key];Ur(c)?l=c.map((d,h)=>{const m=i[d.type],g=m?m({[d.type]:d.value,index:h,parts:c}):[d.value];return Q2e(g)&&(g[0].key=`${d.type}-${h}`),g}):Se(c)&&(l=[c]);const u=ui(ir(),s),f=Se(t.tag)||Ht(t.tag)?t.tag:QB();return uy(f,u,l)}}const Z2e=Li({name:"i18n-n",props:ui({value:{type:Number,required:!0},format:{type:[String,Object]}},ZI),setup(t,e){const r=t.i18n||By({useScope:t.scope,__useComponent:!0});return ZB(t,e,GB,(...n)=>r[hN](...n))}}),FD=Z2e,eCe=Li({name:"i18n-d",props:ui({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ZI),setup(t,e){const r=t.i18n||By({useScope:t.scope,__useComponent:!0});return ZB(t,e,zB,(...n)=>r[dN](...n))}}),BD=eCe;function tCe(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function rCe(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Jn(Hn.UNEXPECTED_ERROR);const u=tCe(t,a.$),f=jD(l);return[Reflect.apply(u.t,u,[...HD(f)]),u]};return{created:(o,a)=>{const[c,l]=e(a);g_&&t.global===l&&(o.__i18nWatcher=un(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{g_&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=jD(a);o.textContent=Reflect.apply(c.t,c,[...HD(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function jD(t){if(Se(t))return{path:t};if(Ze(t)){if(!("path"in t))throw Jn(Hn.REQUIRED_VALUE,"path");return t}else throw Jn(Hn.INVALID_VALUE)}function HD(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Se(r)&&(o.locale=r),ln(i)&&(o.plural=i),ln(s)&&(o.plural=s),[e,a,o]}function nCe(t,e,...r){const n=Ze(r[0])?r[0]:{},i=!!n.useI18nComponentName;(dt(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":LD.name,"I18nT"].forEach(o=>t.component(o,LD)),[FD.name,"I18nN"].forEach(o=>t.component(o,FD)),[BD.name,"I18nD"].forEach(o=>t.component(o,BD))),t.directive("t",rCe(e))}function iCe(t,e,r){return{beforeCreate(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=WD(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=gN(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=WD(t,i);else{this.$i18n=gN({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&XB(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Do();if(!n)throw Jn(Hn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function WD(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[VB](e.pluralizationRules||t.pluralizationRules);const r=PE(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const sCe=Ef("global-vue-i18n");function oCe(t={},e){const r=__VUE_I18N_LEGACY_API__&&dt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=dt(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=aCe(t,r),c=Ef("");function l(d){return s.get(d)||null}function u(d,h){s.set(d,h)}function f(d){s.delete(d)}{const d={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(h,...m){if(h.__VUE_I18N_SYMBOL__=c,h.provide(h.__VUE_I18N_SYMBOL__,d),Ze(m[0])){const v=m[0];d.__composerExtend=v.__composerExtend,d.__vueI18nExtend=v.__vueI18nExtend}let g=null;!r&&n&&(g=mCe(h,d.global)),__VUE_I18N_FULL_INSTALL__&&nCe(h,d,...m),__VUE_I18N_LEGACY_API__&&r&&h.mixin(iCe(a,a.__composer,d));const b=h.unmount;h.unmount=()=>{g&&g(),d.dispose(),b()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:l,__setInstance:u,__deleteInstance:f};return d}}function By(t={}){const e=Do();if(e==null)throw Jn(Hn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Jn(Hn.NOT_INSTALLED);const r=cCe(e),n=uCe(r),i=YB(e),s=lCe(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Jn(Hn.NOT_AVAILABLE_IN_LEGACY_MODE);return pCe(e,s,n,t)}if(s==="global")return XB(n,t,i),n;if(s==="parent"){let c=fCe(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=ui({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=QI(c),o.__composerExtend&&(a[pN]=o.__composerExtend(a)),hCe(o,e,a),o.__setInstance(e,a)}return a}function aCe(t,e,r){const n=NN();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>gN(t)):n.run(()=>QI(t));if(i==null)throw Jn(Hn.UNEXPECTED_ERROR);return[n,i]}}function cCe(t){{const e=Js(t.isCE?sCe:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Jn(t.isCE?Hn.NOT_INSTALLED_WITH_PROVIDE:Hn.UNEXPECTED_ERROR);return e}}function lCe(t,e){return IE(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function uCe(t){return t.mode==="composition"?t.global:t.global.__composer}function fCe(t,e,r=!1){let n=null;const i=e.root;let s=dCe(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[JB]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function dCe(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function hCe(t,e,r){df(()=>{},e),hf(()=>{const n=r;t.__deleteInstance(e);const i=n[pN];i&&(i(),delete n[pN])},e)}function pCe(t,e,r,n={}){const i=e==="local",s=MN(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Jn(Hn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=dt(n.inheritLocale)?n.inheritLocale:!Se(n.locale),a=ut(!i||o?r.locale.value:Se(n.locale)?n.locale:U0),c=ut(!i||o?r.fallbackLocale.value:Se(n.fallbackLocale)||Ur(n.fallbackLocale)||Ze(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),l=ut(PE(a.value,n)),u=ut(Ze(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),f=ut(Ze(n.numberFormats)?n.numberFormats:{[a.value]:{}}),d=i?r.missingWarn:dt(n.missingWarn)||uf(n.missingWarn)?n.missingWarn:!0,h=i?r.fallbackWarn:dt(n.fallbackWarn)||uf(n.fallbackWarn)?n.fallbackWarn:!0,m=i?r.fallbackRoot:dt(n.fallbackRoot)?n.fallbackRoot:!0,g=!!n.fallbackFormat,b=pr(n.missing)?n.missing:null,v=pr(n.postTranslation)?n.postTranslation:null,C=i?r.warnHtmlMessage:dt(n.warnHtmlMessage)?n.warnHtmlMessage:!0,S=!!n.escapeParameter,D=i?r.modifiers:Ze(n.modifiers)?n.modifiers:{},O=n.pluralRules||i&&r.pluralRules;function k(){return[a.value,c.value,l.value,u.value,f.value]}const F=qt({get:()=>s.value?s.value.locale.value:a.value,set:W=>{s.value&&(s.value.locale.value=W),a.value=W}}),A=qt({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:W=>{s.value&&(s.value.fallbackLocale.value=W),c.value=W}}),_=qt(()=>s.value?s.value.messages.value:l.value),M=qt(()=>u.value),$=qt(()=>f.value);function I(){return s.value?s.value.getPostTranslationHandler():v}function N(W){s.value&&s.value.setPostTranslationHandler(W)}function p(){return s.value?s.value.getMissingHandler():b}function y(W){s.value&&s.value.setMissingHandler(W)}function w(W){return k(),W()}function x(...W){return s.value?w(()=>Reflect.apply(s.value.t,null,[...W])):w(()=>"")}function T(...W){return s.value?Reflect.apply(s.value.rt,null,[...W]):""}function U(...W){return s.value?w(()=>Reflect.apply(s.value.d,null,[...W])):w(()=>"")}function B(...W){return s.value?w(()=>Reflect.apply(s.value.n,null,[...W])):w(()=>"")}function P(W){return s.value?s.value.tm(W):{}}function E(W,Z){return s.value?s.value.te(W,Z):!1}function L(W){return s.value?s.value.getLocaleMessage(W):{}}function G(W,Z){s.value&&(s.value.setLocaleMessage(W,Z),l.value[W]=Z)}function R(W,Z){s.value&&s.value.mergeLocaleMessage(W,Z)}function V(W){return s.value?s.value.getDateTimeFormat(W):{}}function K(W,Z){s.value&&(s.value.setDateTimeFormat(W,Z),u.value[W]=Z)}function X(W,Z){s.value&&s.value.mergeDateTimeFormat(W,Z)}function Q(W){return s.value?s.value.getNumberFormat(W):{}}function ie(W,Z){s.value&&(s.value.setNumberFormat(W,Z),f.value[W]=Z)}function le(W,Z){s.value&&s.value.mergeNumberFormat(W,Z)}const H={get id(){return s.value?s.value.id:-1},locale:F,fallbackLocale:A,messages:_,datetimeFormats:M,numberFormats:$,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(W){s.value&&(s.value.inheritLocale=W)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(l.value)},get modifiers(){return s.value?s.value.modifiers:D},get pluralRules(){return s.value?s.value.pluralRules:O},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:d},set missingWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackWarn(){return s.value?s.value.fallbackWarn:h},set fallbackWarn(W){s.value&&(s.value.missingWarn=W)},get fallbackRoot(){return s.value?s.value.fallbackRoot:m},set fallbackRoot(W){s.value&&(s.value.fallbackRoot=W)},get fallbackFormat(){return s.value?s.value.fallbackFormat:g},set fallbackFormat(W){s.value&&(s.value.fallbackFormat=W)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:C},set warnHtmlMessage(W){s.value&&(s.value.warnHtmlMessage=W)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(W){s.value&&(s.value.escapeParameter=W)},t:x,getPostTranslationHandler:I,setPostTranslationHandler:N,getMissingHandler:p,setMissingHandler:y,rt:T,d:U,n:B,tm:P,te:E,getLocaleMessage:L,setLocaleMessage:G,mergeLocaleMessage:R,getDateTimeFormat:V,setDateTimeFormat:K,mergeDateTimeFormat:X,getNumberFormat:Q,setNumberFormat:ie,mergeNumberFormat:le};function Y(W){W.locale.value=a.value,W.fallbackLocale.value=c.value,Object.keys(l.value).forEach(Z=>{W.mergeLocaleMessage(Z,l.value[Z])}),Object.keys(u.value).forEach(Z=>{W.mergeDateTimeFormat(Z,u.value[Z])}),Object.keys(f.value).forEach(Z=>{W.mergeNumberFormat(Z,f.value[Z])}),W.escapeParameter=S,W.fallbackFormat=g,W.fallbackRoot=m,W.fallbackWarn=h,W.missingWarn=d,W.warnHtmlMessage=C}return Yk(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Jn(Hn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const W=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=W.locale.value,c.value=W.fallbackLocale.value,l.value=W.messages.value,u.value=W.datetimeFormats.value,f.value=W.numberFormats.value):i&&Y(W)}),H}const gCe=["locale","fallbackLocale","availableLocales"],qD=["t","rt","d","n","tm","te"];function mCe(t,e){const r=Object.create(null);return gCe.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Jn(Hn.UNEXPECTED_ERROR);const o=Kr(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,qD.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Jn(Hn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,qD.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}z2e();__INTLIFY_JIT_COMPILATION__?xD(F2e):xD(L2e);T2e(l2e);R2e(MB);if(__INTLIFY_PROD_DEVTOOLS__){const t=Cl();t.__INTLIFY__=!0,b2e(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ej;const OE=t=>ej=t,tj=Symbol();function mN(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Mg;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Mg||(Mg={}));function yCe(){const t=NN(!0),e=t.run(()=>ut({}));let r=[],n=[];const i=kN({install(s){OE(i),i._a=s,s.provide(tj,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return this._a?r.push(s):n.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const rj=()=>{};function zD(t,e,r,n=rj){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&gk()&&bj(i),i}function Th(t,...e){t.slice().forEach(r=>{r(...e)})}const bCe=t=>t(),GD=Symbol(),FA=Symbol();function yN(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];mN(i)&&mN(n)&&t.hasOwnProperty(r)&&!Kr(n)&&!Fu(n)?t[r]=yN(i,n):t[r]=n}return t}const wCe=Symbol();function _Ce(t){return!mN(t)||!t.hasOwnProperty(wCe)}const{assign:Eu}=Object;function ECe(t){return!!(Kr(t)&&t.effect)}function vCe(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=i?i():{});const u=Bj(r.state.value[t]);return Eu(u,s,Object.keys(o||{}).reduce((f,d)=>(f[d]=kN(qt(()=>{OE(r);const h=r._s.get(t);return o[d].call(h,h)})),f),{}))}return c=nj(t,l,e,r,n,!0),c}function nj(t,e,r={},n,i,s){let o;const a=Eu({actions:{}},r),c={deep:!0};let l,u,f=[],d=[],h;const m=n.state.value[t];!s&&!m&&(n.state.value[t]={}),ut({});let g;function b(A){let _;l=u=!1,typeof A=="function"?(A(n.state.value[t]),_={type:Mg.patchFunction,storeId:t,events:h}):(yN(n.state.value[t],A),_={type:Mg.patchObject,payload:A,storeId:t,events:h});const M=g=Symbol();xd().then(()=>{g===M&&(l=!0)}),u=!0,Th(f,_,n.state.value[t])}const v=s?function(){const{state:_}=r,M=_?_():{};this.$patch($=>{Eu($,M)})}:rj;function C(){o.stop(),f=[],d=[],n._s.delete(t)}const S=(A,_="")=>{if(GD in A)return A[FA]=_,A;const M=function(){OE(n);const $=Array.from(arguments),I=[],N=[];function p(x){I.push(x)}function y(x){N.push(x)}Th(d,{args:$,name:M[FA],store:O,after:p,onError:y});let w;try{w=A.apply(this&&this.$id===t?this:O,$)}catch(x){throw Th(N,x),x}return w instanceof Promise?w.then(x=>(Th(I,x),x)).catch(x=>(Th(N,x),Promise.reject(x))):(Th(I,w),w)};return M[GD]=!0,M[FA]=_,M},D={_p:n,$id:t,$onAction:zD.bind(null,d),$patch:b,$reset:v,$subscribe(A,_={}){const M=zD(f,A,_.detached,()=>$()),$=o.run(()=>un(()=>n.state.value[t],I=>{(_.flush==="sync"?u:l)&&A({storeId:t,type:Mg.direct,events:h},I)},Eu({},c,_)));return M},$dispose:C},O=Wl(D);n._s.set(t,O);const F=(n._a&&n._a.runWithContext||bCe)(()=>n._e.run(()=>(o=NN()).run(()=>e({action:S}))));for(const A in F){const _=F[A];if(Kr(_)&&!ECe(_)||Fu(_))s||(m&&_Ce(_)&&(Kr(_)?_.value=m[A]:yN(_,m[A])),n.state.value[t][A]=_);else if(typeof _=="function"){const M=S(_,A);F[A]=M,a.actions[A]=_}}return Eu(O,F),Eu(Ot(O),F),Object.defineProperty(O,"$state",{get:()=>n.state.value[t],set:A=>{b(_=>{Eu(_,A)})}}),n._p.forEach(A=>{Eu(O,o.run(()=>A({store:O,app:n._a,pinia:n,options:a})))}),m&&s&&r.hydrate&&r.hydrate(O.$state,m),l=!0,u=!0,O}/*! #__NO_SIDE_EFFECTS__ */function xCe(t,e,r){let n,i;const s=typeof e=="function";n=t,i=s?r:e;function o(a,c){const l=_H();return a=a||(l?Js(tj,null):null),a&&OE(a),a=ej,a._s.has(n)||(s?nj(n,e,i,a):vCe(n,i,a)),a._s.get(n)}return o.$id=n,o}const ACe=xCe("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),CCe="",NCe="",SCe="",ICe="",TCe="",RCe="",PCe="",OCe="",DCe="",kCe="",MCe="",UCe="",$Ce="",LCe="",FCe="FOMO",BCe="",jCe="",HCe="NFT ",WCe="NFT ",qCe="NFT ",zCe="NFT ",GCe=" 1: ",KCe=" AI  30% ",VCe=" 2: HR ",JCe=` 15,000,000  HR 
 2,000  HR
 0.5% `,YCe=" 3: ",XCe=` 100  HR
`,QCe="",ZCe="",eNe="NFT ",tNe="",rNe="",nNe="",iNe="",sNe="",oNe="BCL",aNe="",cNe="",lNe="",uNe="Beacon Launchpad ",fNe=" BCL",dNe="",hNe="",pNe=" ",gNe="",mNe="APP",yNe="",bNe="100%,",wNe="",_Ne=",",ENe="",vNe=",",xNe="",ANe="",CNe="",NNe="",SNe=" ",INe="",TNe=" / ",RNe=" / ",PNe=" / ",ONe=" / ",DNe=" / ",kNe="BCL ",MNe=": 2100 ",UNe="LP: 1800  ()",$Ne=": 100  ()",LNe=": 200  ()",FNe="NFT",BNe="",jNe="",HNe="",WNe="",qNe="",zNe="",GNe="",KNe="",VNe="",JNe="",YNe="",XNe="",QNe="",ZNe="",eSe="BCL DEFI",tSe="",rSe="",nSe="",iSe="",sSe="",oSe="",aSe="",cSe="",lSe="",uSe="",fSe="",dSe="",hSe="NFT",pSe="",gSe="NFT",mSe="",ySe="",bSe={_Connect_wallet:CCe,_Please_enter_a_referee:NCe,_Success:SCe,_Fail:ICe,_Invite_link:TCe,_Copy_link:RCe,_Join_record:PCe,_Join_amount:OCe,_Time:DCe,_Enter_friend_address_to_bind:kCe,_Enter_invite_address:MCe,_Bind:UCe,_Home:$Ce,_Node:LCe,_FOMO_Pool:FCe,_Not_yet_open:BCe,_Recharge_address:jCe,_NFT_Presale:HCe,_NFT_Staking:WCe,_NFT_Rights:qCe,_NFT_Records:zCe,_Right_1_Node_as_Shareholder:GCe,_Right_1_Desc:KCe,_Right_2_HR_Token_Airdrop:VCe,_Right_2_Desc:JCe,_Right_3_Referral_Reward:YCe,_Right_3_Desc:XCe,_No_records:QCe,_In_progress:ZCe,_NFT_Quantity:eNe,_Buy_Now:tNe,_Copy_successful:rNe,_Copy_failed:nNe,_Invite:iNe,_My_wallet_address:sNe,_BCL_Lighthouse_Protocol:oNe,_Fair_Transparent_Sustainable_DeFi_Paradigm:aNe,_Node_Subscription:cNe,_Welcome_To:lNe,_Welcome_Desc_1:uNe,_Welcome_Desc_2:fNe,_Core:dNe,_Philosophy:hNe,_Five_Core_Values:pNe,_Fairness:gNe,_Fairness_Desc:mNe,_Transparency:yNe,_Transparency_Desc:bNe,_Fair_Distribution:wNe,_Fair_Distribution_Desc:_Ne,_Self_Balancing:ENe,_Self_Balancing_Desc:vNe,_Sustainability:xNe,_Sustainability_Desc:ANe,_Decentralized:CNe,_Architecture:NNe,_Sustainable_Self_Driven_Model:SNe,_Core_Architecture_Features:INe,_No_Centralized_Server:TNe,_All_Operations_Public:RNe,_All_Data_On_Chain:PNe,_Automatic_Profit_Distribution:ONe,_Sustainable_Revenue_Cycle:DNe,_BCL_Token_Distribution:kNe,_Total_Token_Supply:MNe,_LP_Pool_Locked:UNe,_Interaction_Contract:$Ne,_Airdrop_Contract:LNe,_NFT_Rewards:FNe,_Why_Choose:BNe,_Stable_Revenue:jNe,_Stable_Revenue_Desc:HNe,_Principal_Protection:WNe,_Principal_Protection_Desc:qNe,_Ecosystem_Internal_Circulation:zNe,_Ecosystem_Internal_Circulation_Desc:GNe,_Anti_Dilution_Mechanism:KNe,_Anti_Dilution_Mechanism_Desc:VNe,_Unlimited_Development:JNe,_Unlimited_Development_Desc:YNe,_Join:XNe,_Us:QNe,_Reshaping_Industry_Trust:ZNe,_BCL_Breaks_Dilemma:eSe,_Rules_Programmable:tSe,_Trust_Quantifiable:rSe,_Join_Us_Desc:nSe,_Join_Now:iSe,_Purchase_Node:sSe,_Node_Rights:oSe,_Please_enter_inviter:aSe,_Inviter_invalid:cSe,_Bind_success:lSe,_Bind_failed:uSe,_Approve:fSe,_Total_Network_Nodes:dSe,_Total_Network_NFTs:hSe,_My_Nodes:pSe,_My_NFTs:gSe,_Direct_Referral_Nodes:mSe,_Please_enter_amount:ySe},wSe="Connect Wallet",_Se="Please enter a referee",ESe="Success",vSe="Fail",xSe="Invite Link",ASe="Copy Link",CSe="Join Record",NSe="Join Amount",SSe="Time",ISe="Please enter friend's address to bind",TSe="Please enter invite address",RSe="Bind",PSe="Home",OSe="Node",DSe="FOMO Pool",kSe="Not yet open",MSe="Recharge Address",USe="NFT Presale",$Se="NFT Staking",LSe="NFT Rights",FSe="NFT Records",BSe="Right 1: Node as Shareholder",jSe="Node holders are recognized as ecosystem shareholders, receiving 30% weighted dividends from the decentralized AI prediction platform.",HSe="Right 2: HR Token Airdrop",WSe=`Global nodes will receive a total of 15,000,000 HR tokens airdrop.
Each node receives an average of 2,000 HR.
Tokens are released daily at a rate of 0.5%.`,qSe="Right 3: Referral Reward",zSe=`Receive 100 HR for every node referred.
No cap and no lock-up requirement.`,GSe="No records",KSe="In Progress",VSe="NFT Quantity",JSe="Buy Now",YSe="Copy Successful",XSe="Copy Failed",QSe="Invite",ZSe="My Wallet Address",eIe="BCL Lighthouse Protocol",tIe="Fair, Transparent, Sustainable New Paradigm of Decentralized Finance",rIe="Node Subscription",nIe="Welcome to",iIe="Beacon Launchpad is a fully decentralized, on-chain automatically executed multi-chain launch platform. Relying on an independently developed financial protocol system, it achieves full automation of project issuance, liquidity management, and incentive distribution, ensuring openness, fairness, security, and sustainable growth.",sIe="At BCL, everyone can participate fairly, govern transparently, and share continuously.",oIe="Core",aIe="Philosophy",cIe=" Five Core Values",lIe="Fairness",uIe="No Project Team, No APP, No Reservation, No Permission, No Termination",fIe="Transparency",dIe="100% On-Chain Permanent Autonomous Operation, Pure Smart Contract Control",hIe="Fair Distribution",pIe="Fair Distribution: Stable Returns for Leaders, Unlimited Potential for Doers",gIe="Self-Balancing",mIe="Scale Self-Balancing Engine, Ecosystem Stable Perpetual Circulation Model",yIe="Sustainability",bIe="Achieving Fair Circulation Mechanism of Stability Above and Growth Below, Mutual Prosperity",wIe="Decentralized",_Ie="Architecture",EIe=" Sustainable Self-Driven Model",vIe="Core Architecture Features",xIe="No Centralized Server / Sustainable Self-Driven Model",AIe="All Operations Public / Underlying Contract Permanently Traceable",CIe="All Data On-Chain / User Asset Security",NIe="Automatic Profit Distribution / Autonomous Unlock Zero Delay",SIe="Sustainable Revenue Cycle / Internal Circulation Constant Asset Mechanism",IIe="BCL Token Distribution",TIe="Total Token Supply: 21 Million",RIe="LP Pool: 18 Million (Black Hole Permanently Locked)",PIe="Interaction Contract: 1 Million (Permission Discarded)",OIe="Airdrop Contract: 2 Million (Permission Discarded)",DIe="NFT Dual Thick Rewards Transaction Slippage Automatic Distribution",kIe="Why Choose",MIe="Stable Revenue",UIe="Provide 'Stable' Market Maker Returns, Attracting Large Funds",$Ie="Principal Protection",LIe="End Principal Shrinkage Caused by 'Currency Price Fluctuations'",FIe="Ecosystem Internal Circulation",BIe="Construct 'Self-Driven' Market Growth and Reinvestment Internal Circulation",jIe="Anti-Dilution Mechanism",HIe="Break Dilution of Returns Caused by 'Increase in Number' of Market Makers",WIe="Unlimited Development",qIe="Remove Bottlenecks in 'Market Development' Caused by High Currency Prices",zIe="Join",GIe="Us",KIe="Reshaping Industry Trust, Algorithms Replace Humanity",VIe="BCL Breaks the Dilemma of 'Traditional DeFi', Letting",JIe="Rules Be Programmable",YIe=", Trust Be Quantifiable.",XIe="Relying on an independently developed financial protocol system, it achieves full automation, setting off a new paradigm of on-chain finance.",QIe="Join Now",ZIe="Purchase Node",e3e="Node Rights",t3e="Please enter inviter",r3e="Inviter invalid",n3e="Bind success",i3e="Bind failed",s3e="Approve",o3e="Total Network Nodes",a3e="Total Network NFTs",c3e="My Nodes",l3e="My NFTs",u3e="Direct Referral Nodes",f3e={_Connect_wallet:wSe,_Please_enter_a_referee:_Se,_Success:ESe,_Fail:vSe,_Invite_link:xSe,_Copy_link:ASe,_Join_record:CSe,_Join_amount:NSe,_Time:SSe,_Enter_friend_address_to_bind:ISe,_Enter_invite_address:TSe,_Bind:RSe,_Home:PSe,_Node:OSe,_FOMO_Pool:DSe,_Not_yet_open:kSe,_Recharge_address:MSe,_NFT_Presale:USe,_NFT_Staking:$Se,_NFT_Rights:LSe,_NFT_Records:FSe,_Right_1_Node_as_Shareholder:BSe,_Right_1_Desc:jSe,_Right_2_HR_Token_Airdrop:HSe,_Right_2_Desc:WSe,_Right_3_Referral_Reward:qSe,_Right_3_Desc:zSe,_No_records:GSe,_In_progress:KSe,_NFT_Quantity:VSe,_Buy_Now:JSe,_Copy_successful:YSe,_Copy_failed:XSe,_Invite:QSe,_My_wallet_address:ZSe,_BCL_Lighthouse_Protocol:eIe,_Fair_Transparent_Sustainable_DeFi_Paradigm:tIe,_Node_Subscription:rIe,_Welcome_To:nIe,_Welcome_Desc_1:iIe,_Welcome_Desc_2:sIe,_Core:oIe,_Philosophy:aIe,_Five_Core_Values:cIe,_Fairness:lIe,_Fairness_Desc:uIe,_Transparency:fIe,_Transparency_Desc:dIe,_Fair_Distribution:hIe,_Fair_Distribution_Desc:pIe,_Self_Balancing:gIe,_Self_Balancing_Desc:mIe,_Sustainability:yIe,_Sustainability_Desc:bIe,_Decentralized:wIe,_Architecture:_Ie,_Sustainable_Self_Driven_Model:EIe,_Core_Architecture_Features:vIe,_No_Centralized_Server:xIe,_All_Operations_Public:AIe,_All_Data_On_Chain:CIe,_Automatic_Profit_Distribution:NIe,_Sustainable_Revenue_Cycle:SIe,_BCL_Token_Distribution:IIe,_Total_Token_Supply:TIe,_LP_Pool_Locked:RIe,_Interaction_Contract:PIe,_Airdrop_Contract:OIe,_NFT_Rewards:DIe,_Why_Choose:kIe,_Stable_Revenue:MIe,_Stable_Revenue_Desc:UIe,_Principal_Protection:$Ie,_Principal_Protection_Desc:LIe,_Ecosystem_Internal_Circulation:FIe,_Ecosystem_Internal_Circulation_Desc:BIe,_Anti_Dilution_Mechanism:jIe,_Anti_Dilution_Mechanism_Desc:HIe,_Unlimited_Development:WIe,_Unlimited_Development_Desc:qIe,_Join:zIe,_Us:GIe,_Reshaping_Industry_Trust:KIe,_BCL_Breaks_Dilemma:VIe,_Rules_Programmable:JIe,_Trust_Quantifiable:YIe,_Join_Us_Desc:XIe,_Join_Now:QIe,_Purchase_Node:ZIe,_Node_Rights:e3e,_Please_enter_inviter:t3e,_Inviter_invalid:r3e,_Bind_success:n3e,_Bind_failed:i3e,_Approve:s3e,_Total_Network_Nodes:o3e,_Total_Network_NFTs:a3e,_My_Nodes:c3e,_My_NFTs:l3e,_Direct_Referral_Nodes:u3e},d3e=" ",h3e=" ",p3e="",g3e="",m3e=" ",y3e=" ",b3e=" ",w3e=" ",_3e="",E3e="   ",v3e="  ",x3e="",A3e="",C3e="",N3e="FOMO ",S3e="",I3e=" ",T3e="NFT  ",R3e="NFT ",P3e="NFT ",O3e="NFT ",D3e=" 1:  ",k3e="    ,  AI   30%   .",M3e=" 2: HR  ",U3e=`   15,000,000 HR   .
   2,000 HR .
  0.5%  .`,$3e=" 3:  ",L3e=`   100 HR .
     .`,F3e=" ",B3e=" ",j3e="NFT ",H3e=" ",W3e=" ",q3e=" ",z3e="",G3e="  ",K3e="BCL  ",V3e="       ",J3e=" ",Y3e="",X3e="Beacon Launchpad        .        ,         , ,      .",Q3e="BCL         .",Z3e="",eTe="",tTe=" 5  ",rTe="",nTe="  ,  ,  ,  ,  ",iTe="",sTe="100%    ,    ",oTe=" ",aTe=" :   ,   ",cTe=" ",lTe="   ,     ",uTe=" ",fTe="        ,  ",dTe="",hTe="",pTe="     ",gTe="  ",mTe="    /     ",yTe="   /     ",bTe="   /   ",wTe="   /     ",_Te="    /     ",ETe="BCL  ",vTe="  : 2,100 ",xTe="LP : 1,800 (  )",ATe="  : 100 ( )",CTe=" : 200 ( )",NTe="NFT      ",STe=" ",ITe=" ",TTe="''       ",RTe=" ",PTe="'  '      ",OTe="  ",DTe="' '       ",kTe="  ",MTe="  ' '    ",UTe=" ",$Te="    ' '   ",LTe="",FTe="",BTe="  ,   ",jTe="BCL ' DeFi'  ,",HTe="   ",WTe=",     .",qTe="             .",zTe=" ",GTe="Purchase Node",KTe="Node Rights",VTe="Please enter inviter",JTe="Inviter invalid",YTe="Bind success",XTe="Bind failed",QTe="Approve",ZTe="Total Network Nodes",eRe="Total Network NFTs",tRe="My Nodes",rRe="My NFTs",nRe="Direct Referral Nodes",iRe={_Connect_wallet:d3e,_Please_enter_a_referee:h3e,_Success:p3e,_Fail:g3e,_Invite_link:m3e,_Copy_link:y3e,_Join_record:b3e,_Join_amount:w3e,_Time:_3e,_Enter_friend_address_to_bind:E3e,_Enter_invite_address:v3e,_Bind:x3e,_Home:A3e,_Node:C3e,_FOMO_Pool:N3e,_Not_yet_open:S3e,_Recharge_address:I3e,_NFT_Presale:T3e,_NFT_Staking:R3e,_NFT_Rights:P3e,_NFT_Records:O3e,_Right_1_Node_as_Shareholder:D3e,_Right_1_Desc:k3e,_Right_2_HR_Token_Airdrop:M3e,_Right_2_Desc:U3e,_Right_3_Referral_Reward:$3e,_Right_3_Desc:L3e,_No_records:F3e,_In_progress:B3e,_NFT_Quantity:j3e,_Buy_Now:H3e,_Copy_successful:W3e,_Copy_failed:q3e,_Invite:z3e,_My_wallet_address:G3e,_BCL_Lighthouse_Protocol:K3e,_Fair_Transparent_Sustainable_DeFi_Paradigm:V3e,_Node_Subscription:J3e,_Welcome_To:Y3e,_Welcome_Desc_1:X3e,_Welcome_Desc_2:Q3e,_Core:Z3e,_Philosophy:eTe,_Five_Core_Values:tTe,_Fairness:rTe,_Fairness_Desc:nTe,_Transparency:iTe,_Transparency_Desc:sTe,_Fair_Distribution:oTe,_Fair_Distribution_Desc:aTe,_Self_Balancing:cTe,_Self_Balancing_Desc:lTe,_Sustainability:uTe,_Sustainability_Desc:fTe,_Decentralized:dTe,_Architecture:hTe,_Sustainable_Self_Driven_Model:pTe,_Core_Architecture_Features:gTe,_No_Centralized_Server:mTe,_All_Operations_Public:yTe,_All_Data_On_Chain:bTe,_Automatic_Profit_Distribution:wTe,_Sustainable_Revenue_Cycle:_Te,_BCL_Token_Distribution:ETe,_Total_Token_Supply:vTe,_LP_Pool_Locked:xTe,_Interaction_Contract:ATe,_Airdrop_Contract:CTe,_NFT_Rewards:NTe,_Why_Choose:STe,_Stable_Revenue:ITe,_Stable_Revenue_Desc:TTe,_Principal_Protection:RTe,_Principal_Protection_Desc:PTe,_Ecosystem_Internal_Circulation:OTe,_Ecosystem_Internal_Circulation_Desc:DTe,_Anti_Dilution_Mechanism:kTe,_Anti_Dilution_Mechanism_Desc:MTe,_Unlimited_Development:UTe,_Unlimited_Development_Desc:$Te,_Join:LTe,_Us:FTe,_Reshaping_Industry_Trust:BTe,_BCL_Breaks_Dilemma:jTe,_Rules_Programmable:HTe,_Trust_Quantifiable:WTe,_Join_Us_Desc:qTe,_Join_Now:zTe,_Purchase_Node:GTe,_Node_Rights:KTe,_Please_enter_inviter:VTe,_Inviter_invalid:JTe,_Bind_success:YTe,_Bind_failed:XTe,_Approve:QTe,_Total_Network_Nodes:ZTe,_Total_Network_NFTs:eRe,_My_Nodes:tRe,_My_NFTs:rRe,_Direct_Referral_Nodes:nRe},sRe="",oRe="",aRe="",cRe="",lRe="",uRe="",fRe="",dRe="",hRe="",pRe="",gRe="",mRe="",yRe="",bRe="",wRe="FOMO",_Re="",ERe="",vRe="NFT",xRe="NFT",ARe="NFT",CRe="NFT",NRe="1",SRe="AI30",IRe="2HR",TRe=`15,000,000 HR
2,000 HR
0.5`,RRe="3",PRe=`100 HR
`,ORe="",DRe="",kRe="NFT",MRe="",URe="",$Re="",LRe="",FRe="",BRe="BCL",jRe="",HRe="",WRe="",qRe="Beacon Launchpad",zRe="BCL",GRe="",KRe="",VRe=" 5",JRe="",YRe="",XRe="",QRe="100",ZRe="",ePe="",tPe="",rPe="",nPe="",iPe="",sPe="",oPe="",aPe=" ",cPe="",lPe=" / ",uPe=" / ",fPe=" / ",dPe=" / ",hPe=" / ",pPe="BCL",gPe="2100",mPe="LP1800",yPe="100",bPe="200",wPe="NFT",_Pe="",EPe="",vPe="",xPe="",APe="",CPe="",NPe="",SPe="",IPe="",TPe="",RPe="",PPe="",OPe="",DPe="",kPe="BCLDeFi",MPe="",UPe="",$Pe="",LPe="",FPe="Purchase Node",BPe="Node Rights",jPe="Please enter inviter",HPe="Inviter invalid",WPe="Bind success",qPe="Bind failed",zPe="Approve",GPe="Total Network Nodes",KPe="Total Network NFTs",VPe="My Nodes",JPe="My NFTs",YPe="Direct Referral Nodes",XPe={_Connect_wallet:sRe,_Please_enter_a_referee:oRe,_Success:aRe,_Fail:cRe,_Invite_link:lRe,_Copy_link:uRe,_Join_record:fRe,_Join_amount:dRe,_Time:hRe,_Enter_friend_address_to_bind:pRe,_Enter_invite_address:gRe,_Bind:mRe,_Home:yRe,_Node:bRe,_FOMO_Pool:wRe,_Not_yet_open:_Re,_Recharge_address:ERe,_NFT_Presale:vRe,_NFT_Staking:xRe,_NFT_Rights:ARe,_NFT_Records:CRe,_Right_1_Node_as_Shareholder:NRe,_Right_1_Desc:SRe,_Right_2_HR_Token_Airdrop:IRe,_Right_2_Desc:TRe,_Right_3_Referral_Reward:RRe,_Right_3_Desc:PRe,_No_records:ORe,_In_progress:DRe,_NFT_Quantity:kRe,_Buy_Now:MRe,_Copy_successful:URe,_Copy_failed:$Re,_Invite:LRe,_My_wallet_address:FRe,_BCL_Lighthouse_Protocol:BRe,_Fair_Transparent_Sustainable_DeFi_Paradigm:jRe,_Node_Subscription:HRe,_Welcome_To:WRe,_Welcome_Desc_1:qRe,_Welcome_Desc_2:zRe,_Core:GRe,_Philosophy:KRe,_Five_Core_Values:VRe,_Fairness:JRe,_Fairness_Desc:YRe,_Transparency:XRe,_Transparency_Desc:QRe,_Fair_Distribution:ZRe,_Fair_Distribution_Desc:ePe,_Self_Balancing:tPe,_Self_Balancing_Desc:rPe,_Sustainability:nPe,_Sustainability_Desc:iPe,_Decentralized:sPe,_Architecture:oPe,_Sustainable_Self_Driven_Model:aPe,_Core_Architecture_Features:cPe,_No_Centralized_Server:lPe,_All_Operations_Public:uPe,_All_Data_On_Chain:fPe,_Automatic_Profit_Distribution:dPe,_Sustainable_Revenue_Cycle:hPe,_BCL_Token_Distribution:pPe,_Total_Token_Supply:gPe,_LP_Pool_Locked:mPe,_Interaction_Contract:yPe,_Airdrop_Contract:bPe,_NFT_Rewards:wPe,_Why_Choose:_Pe,_Stable_Revenue:EPe,_Stable_Revenue_Desc:vPe,_Principal_Protection:xPe,_Principal_Protection_Desc:APe,_Ecosystem_Internal_Circulation:CPe,_Ecosystem_Internal_Circulation_Desc:NPe,_Anti_Dilution_Mechanism:SPe,_Anti_Dilution_Mechanism_Desc:IPe,_Unlimited_Development:TPe,_Unlimited_Development_Desc:RPe,_Join:PPe,_Us:OPe,_Reshaping_Industry_Trust:DPe,_BCL_Breaks_Dilemma:kPe,_Rules_Programmable:MPe,_Trust_Quantifiable:UPe,_Join_Us_Desc:$Pe,_Join_Now:LPe,_Purchase_Node:FPe,_Node_Rights:BPe,_Please_enter_inviter:jPe,_Inviter_invalid:HPe,_Bind_success:WPe,_Bind_failed:qPe,_Approve:zPe,_Total_Network_Nodes:GPe,_Total_Network_NFTs:KPe,_My_Nodes:VPe,_My_NFTs:JPe,_Direct_Referral_Nodes:YPe},QPe="",ZPe="",e6e="",t6e="",r6e="",n6e="",i6e="",s6e="",o6e="",a6e="",c6e="",l6e="",u6e="",f6e="",d6e="FOMO Pool",h6e="",p6e="",g6e="NFT ",m6e="NFT Staking",y6e=" NFT",b6e=" NFT",w6e=" 1: ",_6e="  30%  AI ",E6e=" 2: Airdrop  HR",v6e=` Airdrop  HR  15,000,000 HR
 2,000 HR
 0.5%`,x6e=" 3: ",A6e=` 100 HR  
`,C6e="",N6e="",S6e=" NFT",I6e="",T6e="",R6e="",P6e="",O6e="",D6e=" BCL",k6e="  ",M6e="",U6e="",$6e="Beacon Launchpad         ",L6e=" BCL   ",F6e="",B6e="",j6e=" 5 ",H6e="",W6e=", , , , ",q6e="",z6e=" 100%, ",G6e="",K6e=": , ",V6e="",J6e=", ",Y6e="",X6e=", ",Q6e="",Z6e="",eOe=" ",tOe="",rOe=" / ",nOe=" / ",iOe=" / ",sOe=" / ",oOe=" / ",aOe=" BCL",cOe=": 21 ",lOe="LP Pool: 18  ()",uOe=": 1  ()",fOe=" Airdrop: 2  ()",dOe=" NFT  Slippage ",hOe="",pOe="",gOe=" Market Maker  '' ",mOe="",yOe=" ''",bOe="",wOe=" '' ",_Oe="",EOe=" ''  Market Makers",vOe="",xOe=" '' ",AOe="",COe="",NOe=", ",SOe="BCL  'DeFi ' ",IOe="",TOe=", ",ROe="  ",POe="",OOe="Purchase Node",DOe="Node Rights",kOe="Please enter inviter",MOe="Inviter invalid",UOe="Bind success",$Oe="Bind failed",LOe="Approve",FOe="Total Network Nodes",BOe="Total Network NFTs",jOe="My Nodes",HOe="My NFTs",WOe="Direct Referral Nodes",qOe={_Connect_wallet:QPe,_Please_enter_a_referee:ZPe,_Success:e6e,_Fail:t6e,_Invite_link:r6e,_Copy_link:n6e,_Join_record:i6e,_Join_amount:s6e,_Time:o6e,_Enter_friend_address_to_bind:a6e,_Enter_invite_address:c6e,_Bind:l6e,_Home:u6e,_Node:f6e,_FOMO_Pool:d6e,_Not_yet_open:h6e,_Recharge_address:p6e,_NFT_Presale:g6e,_NFT_Staking:m6e,_NFT_Rights:y6e,_NFT_Records:b6e,_Right_1_Node_as_Shareholder:w6e,_Right_1_Desc:_6e,_Right_2_HR_Token_Airdrop:E6e,_Right_2_Desc:v6e,_Right_3_Referral_Reward:x6e,_Right_3_Desc:A6e,_No_records:C6e,_In_progress:N6e,_NFT_Quantity:S6e,_Buy_Now:I6e,_Copy_successful:T6e,_Copy_failed:R6e,_Invite:P6e,_My_wallet_address:O6e,_BCL_Lighthouse_Protocol:D6e,_Fair_Transparent_Sustainable_DeFi_Paradigm:k6e,_Node_Subscription:M6e,_Welcome_To:U6e,_Welcome_Desc_1:$6e,_Welcome_Desc_2:L6e,_Core:F6e,_Philosophy:B6e,_Five_Core_Values:j6e,_Fairness:H6e,_Fairness_Desc:W6e,_Transparency:q6e,_Transparency_Desc:z6e,_Fair_Distribution:G6e,_Fair_Distribution_Desc:K6e,_Self_Balancing:V6e,_Self_Balancing_Desc:J6e,_Sustainability:Y6e,_Sustainability_Desc:X6e,_Decentralized:Q6e,_Architecture:Z6e,_Sustainable_Self_Driven_Model:eOe,_Core_Architecture_Features:tOe,_No_Centralized_Server:rOe,_All_Operations_Public:nOe,_All_Data_On_Chain:iOe,_Automatic_Profit_Distribution:sOe,_Sustainable_Revenue_Cycle:oOe,_BCL_Token_Distribution:aOe,_Total_Token_Supply:cOe,_LP_Pool_Locked:lOe,_Interaction_Contract:uOe,_Airdrop_Contract:fOe,_NFT_Rewards:dOe,_Why_Choose:hOe,_Stable_Revenue:pOe,_Stable_Revenue_Desc:gOe,_Principal_Protection:mOe,_Principal_Protection_Desc:yOe,_Ecosystem_Internal_Circulation:bOe,_Ecosystem_Internal_Circulation_Desc:wOe,_Anti_Dilution_Mechanism:_Oe,_Anti_Dilution_Mechanism_Desc:EOe,_Unlimited_Development:vOe,_Unlimited_Development_Desc:xOe,_Join:AOe,_Us:COe,_Reshaping_Industry_Trust:NOe,_BCL_Breaks_Dilemma:SOe,_Rules_Programmable:IOe,_Trust_Quantifiable:TOe,_Join_Us_Desc:ROe,_Join_Now:POe,_Purchase_Node:OOe,_Node_Rights:DOe,_Please_enter_inviter:kOe,_Inviter_invalid:MOe,_Bind_success:UOe,_Bind_failed:$Oe,_Approve:LOe,_Total_Network_Nodes:FOe,_Total_Network_NFTs:BOe,_My_Nodes:jOe,_My_NFTs:HOe,_Direct_Referral_Nodes:WOe},zOe="Kt ni V",GOe="Vui lng nhp ngi gii thiu",KOe="Thnh cng",VOe="Tht bi",JOe="Lin kt mi",YOe="Sao chp lin kt",XOe="H s tham gia",QOe="S tin tham gia",ZOe="Thi gian",e5e="Vui lng nhp a ch bn b  lin kt",t5e="Vui lng nhp a ch mi",r5e="Lin kt",n5e="Trang ch",i5e="Nt",s5e="H FOMO",o5e="Cha m",a5e="a ch np tin",c5e="Bn trc NFT",l5e="t cc NFT",u5e="Quyn li NFT",f5e="H s NFT",d5e="Quyn li 1: Nt l C ng",h5e="Ch s hu nt c cng nhn l c ng h sinh thi, nhn 30% c tc c trng s t nn tng d on AI phi tp trung.",p5e="Quyn li 2: Airdrop Token HR",g5e=`Cc nt ton cu s nhn tng cng 15,000,000 token HR airdrop.
Mi nt nhn trung bnh 2,000 HR.
Token c pht hnh hng ngy vi t l 0.5%.`,m5e="Quyn li 3: Phn thng gii thiu",y5e=`Nhn 100 HR cho mi nt c gii thiu.
Khng gii hn v khng yu cu kha.`,b5e="Khng c h s",w5e="ang tin hnh",_5e="S lng NFT",E5e="Mua ngay",v5e="Sao chp thnh cng",x5e="Sao chp tht bi",A5e="Mi",C5e="a ch v ca ti",N5e="Giao thc Ngn hi ng BCL",S5e="M hnh mi ca Ti chnh phi tp trung Cng bng, Minh bch, Bn vng",I5e="ng k Nt",T5e="Cho mng n vi",R5e="Beacon Launchpad l mt nn tng khi chy a chui hon ton phi tp trung v t ng thc thi trn chui. Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton trong vic pht hnh d n, qun l thanh khon v phn phi u i, m bo tnh cng khai, cng bng, bo mt v tng trng bn vng.",P5e="Ti BCL, mi ngi u c th tham gia cng bng, qun tr minh bch v chia s lin tc.",O5e="Ct li",D5e="Trit l",k5e=" 5 Gi tr Ct li",M5e="Cng bng",U5e="Khng i ng d n, Khng ng dng, Khng t trc, Khng cp quyn, Khng chm dt",$5e="Minh bch",L5e="Hot ng t ch vnh vin 100% trn chui, Kim sot hon ton bng hp ng thng minh",F5e="Phn phi cng bng",B5e="Phn phi cng bng: Li nhun n nh cho ngi dn u, Tim nng v hn cho ngi thc hin",j5e="T cn bng",H5e="Cng c t cn bng quy m, M hnh tun hon vnh vin n nh h sinh thi",W5e="Bn vng",q5e="t c c ch tun hon cng bng n nh  trn v Tng trng  di, Cng thnh vng",z5e="Phi tp trung",G5e="Kin trc",K5e=" M hnh T vn hnh Bn vng",V5e="Tnh nng Kin trc Ct li",J5e="Khng my ch trung tm / M hnh t vn hnh bn vng",Y5e="Mi hot ng cng khai / Hp ng c bn c th truy xut vnh vin",X5e="Mi d liu trn chui / Bo mt ti sn ngi dng",Q5e="Phn phi li nhun t ng / M kha t ch khng tr",Z5e="Chu k doanh thu bn vng / C ch ti sn khng i tun hon ni b",e8e="Phn phi Token BCL",t8e="Tng cung Token: 21 triu",r8e="H LP: 18 triu (Kha vnh vin trong h en)",n8e="Hp ng tng tc: 1 triu (Hy b quyn)",i8e="Hp ng Airdrop: 2 triu (Hy b quyn)",s8e="Phn thng kp NFT Phn phi t ng trt gi giao dch",o8e="Ti sao chn",a8e="Doanh thu n nh",c8e="Cung cp li nhun Nh to lp th trng 'n nh', Thu ht qu ln",l8e="Bo v vn gc",u8e="Chm dt vic thu hp vn gc do 'Bin ng gi tin t'",f8e="Tun hon ni b h sinh thi",d8e="Xy dng Tng trng th trng 'T vn hnh' v Tun hon ni b ti u t",h8e="C ch chng pha long",p8e="Ph v s pha long li nhun do 'Tng s lng' Nh to lp th trng",g8e="Pht trin khng gii hn",m8e="Loi b nt tht trong 'Pht trin th trng' do Gi tin t cao",y8e="Tham gia",b8e="Chng ti",w8e="Ti nh hnh nim tin ngnh, Thut ton thay th con ngi",_8e="BCL Ph v th tin thoi lng nan ca 'DeFi truyn thng', ",E8e="Quy tc c th lp trnh",v8e=", Nim tin c th nh lng.",x8e="Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton, m ra mt m hnh mi ca ti chnh trn chui.",A8e="Tham gia ngay",C8e="Purchase Node",N8e="Node Rights",S8e="Please enter inviter",I8e="Inviter invalid",T8e="Bind success",R8e="Bind failed",P8e="Approve",O8e="Total Network Nodes",D8e="Total Network NFTs",k8e="My Nodes",M8e="My NFTs",U8e="Direct Referral Nodes",$8e={_Connect_wallet:zOe,_Please_enter_a_referee:GOe,_Success:KOe,_Fail:VOe,_Invite_link:JOe,_Copy_link:YOe,_Join_record:XOe,_Join_amount:QOe,_Time:ZOe,_Enter_friend_address_to_bind:e5e,_Enter_invite_address:t5e,_Bind:r5e,_Home:n5e,_Node:i5e,_FOMO_Pool:s5e,_Not_yet_open:o5e,_Recharge_address:a5e,_NFT_Presale:c5e,_NFT_Staking:l5e,_NFT_Rights:u5e,_NFT_Records:f5e,_Right_1_Node_as_Shareholder:d5e,_Right_1_Desc:h5e,_Right_2_HR_Token_Airdrop:p5e,_Right_2_Desc:g5e,_Right_3_Referral_Reward:m5e,_Right_3_Desc:y5e,_No_records:b5e,_In_progress:w5e,_NFT_Quantity:_5e,_Buy_Now:E5e,_Copy_successful:v5e,_Copy_failed:x5e,_Invite:A5e,_My_wallet_address:C5e,_BCL_Lighthouse_Protocol:N5e,_Fair_Transparent_Sustainable_DeFi_Paradigm:S5e,_Node_Subscription:I5e,_Welcome_To:T5e,_Welcome_Desc_1:R5e,_Welcome_Desc_2:P5e,_Core:O5e,_Philosophy:D5e,_Five_Core_Values:k5e,_Fairness:M5e,_Fairness_Desc:U5e,_Transparency:$5e,_Transparency_Desc:L5e,_Fair_Distribution:F5e,_Fair_Distribution_Desc:B5e,_Self_Balancing:j5e,_Self_Balancing_Desc:H5e,_Sustainability:W5e,_Sustainability_Desc:q5e,_Decentralized:z5e,_Architecture:G5e,_Sustainable_Self_Driven_Model:K5e,_Core_Architecture_Features:V5e,_No_Centralized_Server:J5e,_All_Operations_Public:Y5e,_All_Data_On_Chain:X5e,_Automatic_Profit_Distribution:Q5e,_Sustainable_Revenue_Cycle:Z5e,_BCL_Token_Distribution:e8e,_Total_Token_Supply:t8e,_LP_Pool_Locked:r8e,_Interaction_Contract:n8e,_Airdrop_Contract:i8e,_NFT_Rewards:s8e,_Why_Choose:o8e,_Stable_Revenue:a8e,_Stable_Revenue_Desc:c8e,_Principal_Protection:l8e,_Principal_Protection_Desc:u8e,_Ecosystem_Internal_Circulation:f8e,_Ecosystem_Internal_Circulation_Desc:d8e,_Anti_Dilution_Mechanism:h8e,_Anti_Dilution_Mechanism_Desc:p8e,_Unlimited_Development:g8e,_Unlimited_Development_Desc:m8e,_Join:y8e,_Us:b8e,_Reshaping_Industry_Trust:w8e,_BCL_Breaks_Dilemma:_8e,_Rules_Programmable:E8e,_Trust_Quantifiable:v8e,_Join_Us_Desc:x8e,_Join_Now:A8e,_Purchase_Node:C8e,_Node_Rights:N8e,_Please_enter_inviter:S8e,_Inviter_invalid:I8e,_Bind_success:T8e,_Bind_failed:R8e,_Approve:P8e,_Total_Network_Nodes:O8e,_Total_Network_NFTs:D8e,_My_Nodes:k8e,_My_NFTs:M8e,_Direct_Referral_Nodes:U8e},L8e="Sambung Dompet",F8e="Sila masukkan rujukan",B8e="Berjaya",j8e="Gagal",H8e="Pautan Jemputan",W8e="Salin Pautan",q8e="Rekod Sertai",z8e="Jumlah Sertai",G8e="Masa",K8e="Sila masukkan alamat rakan untuk mengikat",V8e="Sila masukkan alamat jemputan",J8e="Ikat",Y8e="Laman Utama",X8e="Nod",Q8e="Kolam FOMO",Z8e="Belum dibuka",e4e="Alamat Caj Semula",t4e="Pra-jualan NFT",r4e="Staking NFT",n4e="Hak NFT",i4e="Rekod NFT",s4e="Hak 1: Nod sebagai Pemegang Saham",o4e="Pemegang nod diiktiraf sebagai pemegang saham ekosistem, menerima 30% dividen wajaran daripada platform ramalan AI terdesentralisasi.",a4e="Hak 2: Airdrop Token HR",c4e=`Nod global akan menerima sejumlah 15,000,000 airdrop token HR.
Setiap nod menerima purata 2,000 HR.
Token dikeluarkan setiap hari pada kadar 0.5%.`,l4e="Hak 3: Ganjaran Rujukan",u4e=`Terima 100 HR untuk setiap nod yang dirujuk.
Tiada had dan tiada syarat kunci.`,f4e="Tiada rekod",d4e="Sedang Berjalan",h4e="Kuantiti NFT",p4e="Beli Sekarang",g4e="Salinan Berjaya",m4e="Salinan Gagal",y4e="Jemput",b4e="Alamat Dompet Saya",w4e="Protokol Rumah Api BCL",_4e="Paradigma Baru Kewangan Terdesentralisasi yang Adil, Telus, dan Mampan",E4e="Langganan Nod",v4e="Selamat Datang ke",x4e="Beacon Launchpad adalah platform pelancaran pelbagai rantaian yang sepenuhnya terdesentralisasi dan dilaksanakan secara automatik di rantaian. Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh pengeluaran projek, pengurusan kecairan, dan pengagihan insentif, memastikan keterbukaan, keadilan, keselamatan, dan pertumbuhan yang mampan.",A4e="Di BCL, semua orang boleh mengambil bahagian secara adil, mentadbir secara telus, dan berkongsi secara berterusan.",C4e="Teras",N4e="Falsafah",S4e=" 5 Nilai Teras",I4e="Keadilan",T4e="Tiada Pasukan Projek, Tiada APP, Tiada Tempahan, Tiada Kebenaran, Tiada Penamatan",R4e="Ketelusan",P4e="Operasi Autonomi Kekal 100% Di Rantaian, Kawalan Kontrak Pintar Sepenuhnya",O4e="Pengagihan Adil",D4e="Pengagihan Adil: Pulangan Stabil untuk Pemimpin, Potensi Tanpa Had untuk Pelaksana",k4e="Pengimbangan Kendiri",M4e="Enjin Pengimbangan Kendiri Skala, Model Edaran Kekal Stabil Ekosistem",U4e="Kemampanan",$4e="Mencapai Mekanisme Edaran Adil Kestabilan di Atas dan Pertumbuhan di Bawah, Kemakmuran Bersama",L4e="Terdesentralisasi",F4e="Senibina",B4e=" Model Kendiri Mampan",j4e="Ciri-ciri Senibina Teras",H4e="Tiada Pelayan Berpusat / Model Kendiri Mampan",W4e="Semua Operasi Awam / Kontrak Asas Boleh Dikesan Kekal",q4e="Semua Data Di Rantaian / Keselamatan Aset Pengguna",z4e="Pengagihan Keuntungan Automatik / Kunci Buka Autonomi Sifar Kelewatan",G4e="Kitaran Hasil Mampan / Mekanisme Aset Tetap Edaran Dalaman",K4e="Pengagihan Token BCL",V4e="Jumlah Bekalan Token: 21 Juta",J4e="Kolam LP: 18 Juta (Lubang Hitam Dikunci Kekal)",Y4e="Kontrak Interaksi: 1 Juta (Kebenaran Dibuang)",X4e="Kontrak Airdrop: 2 Juta (Kebenaran Dibuang)",Q4e="Ganjaran Berganda NFT Pengagihan Automatik Slippage Transaksi",Z4e="Kenapa Pilih",eDe="Hasil Stabil",tDe="Menyediakan Pulangan Pembuat Pasaran 'Stabil', Menarik Dana Besar",rDe="Perlindungan Prinsipal",nDe="Menamatkan Pengecutan Prinsipal Disebabkan oleh 'Turun Naik Harga Mata Wang'",iDe="Edaran Dalaman Ekosistem",sDe="Membina Pertumbuhan Pasaran 'Kendiri' dan Edaran Dalaman Pelaburan Semula",oDe="Mekanisme Anti-Pencairan",aDe="Memecahkan Pencairan Pulangan Disebabkan oleh 'Peningkatan Bilangan' Pembuat Pasaran",cDe="Pembangunan Tanpa Had",lDe="Menghapuskan Kesesakan dalam 'Pembangunan Pasaran' Disebabkan oleh Harga Mata Wang Tinggi",uDe="Sertai",fDe="Kami",dDe="Membentuk Semula Kepercayaan Industri, Algoritma Menggantikan Manusia",hDe="BCL Memecahkan Dilema 'DeFi Tradisional', Membiarkan",pDe="Peraturan Boleh Diprogramkan",gDe=", Kepercayaan Boleh Diukur.",mDe="Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh, memulakan paradigma baru kewangan di rantaian.",yDe="Sertai Sekarang",bDe="Purchase Node",wDe="Node Rights",_De="Please enter inviter",EDe="Inviter invalid",vDe="Bind success",xDe="Bind failed",ADe="Approve",CDe="Total Network Nodes",NDe="Total Network NFTs",SDe="My Nodes",IDe="My NFTs",TDe="Direct Referral Nodes",RDe={_Connect_wallet:L8e,_Please_enter_a_referee:F8e,_Success:B8e,_Fail:j8e,_Invite_link:H8e,_Copy_link:W8e,_Join_record:q8e,_Join_amount:z8e,_Time:G8e,_Enter_friend_address_to_bind:K8e,_Enter_invite_address:V8e,_Bind:J8e,_Home:Y8e,_Node:X8e,_FOMO_Pool:Q8e,_Not_yet_open:Z8e,_Recharge_address:e4e,_NFT_Presale:t4e,_NFT_Staking:r4e,_NFT_Rights:n4e,_NFT_Records:i4e,_Right_1_Node_as_Shareholder:s4e,_Right_1_Desc:o4e,_Right_2_HR_Token_Airdrop:a4e,_Right_2_Desc:c4e,_Right_3_Referral_Reward:l4e,_Right_3_Desc:u4e,_No_records:f4e,_In_progress:d4e,_NFT_Quantity:h4e,_Buy_Now:p4e,_Copy_successful:g4e,_Copy_failed:m4e,_Invite:y4e,_My_wallet_address:b4e,_BCL_Lighthouse_Protocol:w4e,_Fair_Transparent_Sustainable_DeFi_Paradigm:_4e,_Node_Subscription:E4e,_Welcome_To:v4e,_Welcome_Desc_1:x4e,_Welcome_Desc_2:A4e,_Core:C4e,_Philosophy:N4e,_Five_Core_Values:S4e,_Fairness:I4e,_Fairness_Desc:T4e,_Transparency:R4e,_Transparency_Desc:P4e,_Fair_Distribution:O4e,_Fair_Distribution_Desc:D4e,_Self_Balancing:k4e,_Self_Balancing_Desc:M4e,_Sustainability:U4e,_Sustainability_Desc:$4e,_Decentralized:L4e,_Architecture:F4e,_Sustainable_Self_Driven_Model:B4e,_Core_Architecture_Features:j4e,_No_Centralized_Server:H4e,_All_Operations_Public:W4e,_All_Data_On_Chain:q4e,_Automatic_Profit_Distribution:z4e,_Sustainable_Revenue_Cycle:G4e,_BCL_Token_Distribution:K4e,_Total_Token_Supply:V4e,_LP_Pool_Locked:J4e,_Interaction_Contract:Y4e,_Airdrop_Contract:X4e,_NFT_Rewards:Q4e,_Why_Choose:Z4e,_Stable_Revenue:eDe,_Stable_Revenue_Desc:tDe,_Principal_Protection:rDe,_Principal_Protection_Desc:nDe,_Ecosystem_Internal_Circulation:iDe,_Ecosystem_Internal_Circulation_Desc:sDe,_Anti_Dilution_Mechanism:oDe,_Anti_Dilution_Mechanism_Desc:aDe,_Unlimited_Development:cDe,_Unlimited_Development_Desc:lDe,_Join:uDe,_Us:fDe,_Reshaping_Industry_Trust:dDe,_BCL_Breaks_Dilemma:hDe,_Rules_Programmable:pDe,_Trust_Quantifiable:gDe,_Join_Us_Desc:mDe,_Join_Now:yDe,_Purchase_Node:bDe,_Node_Rights:wDe,_Please_enter_inviter:_De,_Inviter_invalid:EDe,_Bind_success:vDe,_Bind_failed:xDe,_Approve:ADe,_Total_Network_Nodes:CDe,_Total_Network_NFTs:NDe,_My_Nodes:SDe,_My_NFTs:IDe,_Direct_Referral_Nodes:TDe};var BA,KD;function PDe(){if(KD)return BA;KD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),BA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>` ${l} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return BA}var ODe=PDe();const DDe=Ts(ODe);var jA,VD;function kDe(){if(VD)return jA;VD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),jA=o(a);var c={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choose no more than ${l} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:l=>`${l*10}% off`,condition:l=>`At least ${l}`},vanCouponCell:{title:"Coupon",count:l=>`You have ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};return jA}var MDe=kDe();const UDe=Ts(MDe);var HA,JD;function $De(){if(JD)return HA;JD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),HA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:" ",nameEmpty:" ",addContact:"  ",telInvalid:" ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`${l}   `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:l=>`${l*10}% `,condition:l=>` ${l}`},vanCouponCell:{title:"",count:l=>`${l}   `},vanCouponList:{exchange:"",close:"",enable:" ",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:" ",addressEmpty:"   ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};return HA}var LDe=$De();const FDe=Ts(LDe);var WA,YD;function BDe(){if(YD)return WA;YD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),WA=o(a);var c={name:"Nom",tel:"Telephone",save:"Sauvegarder",clear:"Clair",cancel:"Annuler",confirm:"Confirmer",delete:"Suprimer",loading:"Chargement...",noCoupon:"Pas de coupons",nameEmpty:"Veuillez remplir le nom",addContact:"Ajouter contact",telInvalid:"Numro de tlphone incorrect",vanCalendar:{end:"Fin",start:"Dbut",title:"Calendrier",weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choisir pas plus de ${l} jours`},vanCascader:{select:"Slectionner"},vanPagination:{prev:"Prcdent",next:"Suivant"},vanPullRefresh:{pulling:"Tirer pour actualiser ...",loosing:"Relchez pour actualiser..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Illimit",discount:l=>`${l*10}% de rduction`,condition:l=>`Au moins ${l}`},vanCouponCell:{title:"Coupon",count:l=>`Vous avez ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Fermer",enable:"Disponible",disabled:"Indisponible",placeholder:"Code coupon"},vanAddressEdit:{area:"Zone",areaEmpty:"Veuillez slectionner une zone de rception",addressEmpty:"L'adresse ne peut pas tre vide",addressDetail:"Adresse",defaultAddress:"Dfinir comme adresse par dfaut"},vanAddressList:{add:"Ajouter une nouvelle adresse"}};return WA}var jDe=BDe();const HDe=Ts(jDe);var qA,XD;function WDe(){if(XD)return qA;XD=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,d)=>{if(u&&typeof u=="object"||typeof u=="function")for(let h of r(u))!n.call(l,h)&&h!==f&&t(l,h,{get:()=>u[h],enumerable:!(d=e(u,h))||d.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),qA=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>`${l}`},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${10-l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return qA}var qDe=WDe();const zDe=Ts(qDe);function GDe(t){switch(t){case"cn":zh.use("zh-CN",DDe);break;case"en":zh.use("en-US",UDe);break;case"ko":zh.use("ko-KR",FDe);break;case"fr":zh.use("Fr-FR",HDe);break;case"ja":zh.use("Ja-JP",zDe);break}}function KDe(t){GDe(t)}const bN=oCe({legacy:!1,locale:"en",fallbackLocale:"en",globalInjection:!0,messages:{cn:{...bSe},en:{...f3e},ko:{...iRe},ja:{...XPe},th:{...qOe},vi:{...$8e},ms:{...RDe}}}),VDe=t=>{console.log(bN,"i18n"),KDe(t),bN.global.locale.value=t},JDe={class:"flex-middle"},YDe=Li({__name:"Header",props:{title:{default:""},isShowBack:{type:Boolean,default:!0}},setup(t){const{t:e}=By(),r=ACe();console.log(r.locale,"languageStore");const n=JU({namespace:"eip155"}),i=YU(),{open:s,close:o}=Zde(),a=()=>{s()},c=()=>{s({view:"Networks"})};return n.value.address&&console.log(n.value,"account.value"),un(()=>n.value.address,(u,f)=>{console.log(u,"newVal")},{deep:!0}),un(()=>i.value?.caipNetwork?.id,()=>{o()}),(()=>{let u=r.locale||"en";VDe(u),r.$patch({locale:u})})(),(u,f)=>{const d=yB,h=cAe;return pd(),Bb(h,{title:"",fixed:!0,"z-index":2005,"left-text":""},{left:xl(()=>[...f[0]||(f[0]=[])]),right:xl(()=>[fr("div",JDe,[Be(d,{round:"",plain:"",type:"success",onClick:c,size:"small",style:{"margin-right":"10px"}},{default:xl(()=>[Mu(_l(Gi(i).caipNetwork?.name),1)]),_:1}),Gi(n).isConnected?(pd(),Bb(d,{key:1,round:"",plain:"",type:"success",onClick:a,size:"small"},{default:xl(()=>[Mu(_l(Gi(n).address?.substring(0,4)+"..."+Gi(n).address?.substring(Gi(n).address.length-4,Gi(n).address.length)),1)]),_:1})):(pd(),Bb(d,{key:0,round:"",plain:"",type:"success",onClick:a,size:"small"},{default:xl(()=>[Mu(_l(u.$t("_Connect_wallet")),1)]),_:1}))])]),_:1})}}}),ij=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},XDe=ij(YDe,[["__scopeId","data-v-21cfa813"]]);var QDe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,zA=Math.ceil,yo=Math.floor,ms="[BigNumber Error] ",QD=ms+"Number primitive has more than 15 significant digits: ",ia=1e14,it=14,GA=9007199254740991,KA=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],yu=1e7,qn=1e9;function sj(t){var e,r,n,i=C.prototype={constructor:C,toString:null,valueOf:null},s=new C(1),o=20,a=4,c=-7,l=21,u=-1e7,f=1e7,d=!1,h=1,m=0,g={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",v=!0;function C(A,_){var M,$,I,N,p,y,w,x,T=this;if(!(T instanceof C))return new C(A,_);if(_==null){if(A&&A._isBigNumber===!0){T.s=A.s,!A.c||A.e>f?T.c=T.e=null:A.e<u?T.c=[T.e=0]:(T.e=A.e,T.c=A.c.slice());return}if((y=typeof A=="number")&&A*0==0){if(T.s=1/A<0?(A=-A,-1):1,A===~~A){for(N=0,p=A;p>=10;p/=10,N++);N>f?T.c=T.e=null:(T.e=N,T.c=[A]);return}x=String(A)}else{if(!QDe.test(x=String(A)))return n(T,x,y);T.s=x.charCodeAt(0)==45?(x=x.slice(1),-1):1}(N=x.indexOf("."))>-1&&(x=x.replace(".","")),(p=x.search(/e/i))>0?(N<0&&(N=p),N+=+x.slice(p+1),x=x.substring(0,p)):N<0&&(N=x.length)}else{if(Wr(_,2,b.length,"Base"),_==10&&v)return T=new C(A),k(T,o+T.e+1,a);if(x=String(A),y=typeof A=="number"){if(A*0!=0)return n(T,x,y,_);if(T.s=1/A<0?(x=x.slice(1),-1):1,C.DEBUG&&x.replace(/^0\.0*|\./,"").length>15)throw Error(QD+A)}else T.s=x.charCodeAt(0)===45?(x=x.slice(1),-1):1;for(M=b.slice(0,_),N=p=0,w=x.length;p<w;p++)if(M.indexOf($=x.charAt(p))<0){if($=="."){if(p>N){N=w;continue}}else if(!I&&(x==x.toUpperCase()&&(x=x.toLowerCase())||x==x.toLowerCase()&&(x=x.toUpperCase()))){I=!0,p=-1,N=0;continue}return n(T,String(A),y,_)}y=!1,x=r(x,_,10,T.s),(N=x.indexOf("."))>-1?x=x.replace(".",""):N=x.length}for(p=0;x.charCodeAt(p)===48;p++);for(w=x.length;x.charCodeAt(--w)===48;);if(x=x.slice(p,++w)){if(w-=p,y&&C.DEBUG&&w>15&&(A>GA||A!==yo(A)))throw Error(QD+T.s*A);if((N=N-p-1)>f)T.c=T.e=null;else if(N<u)T.c=[T.e=0];else{if(T.e=N,T.c=[],p=(N+1)%it,N<0&&(p+=it),p<w){for(p&&T.c.push(+x.slice(0,p)),w-=it;p<w;)T.c.push(+x.slice(p,p+=it));p=it-(x=x.slice(p)).length}else p-=w;for(;p--;x+="0");T.c.push(+x)}}else T.c=[T.e=0]}C.clone=sj,C.ROUND_UP=0,C.ROUND_DOWN=1,C.ROUND_CEIL=2,C.ROUND_FLOOR=3,C.ROUND_HALF_UP=4,C.ROUND_HALF_DOWN=5,C.ROUND_HALF_EVEN=6,C.ROUND_HALF_CEIL=7,C.ROUND_HALF_FLOOR=8,C.EUCLID=9,C.config=C.set=function(A){var _,M;if(A!=null)if(typeof A=="object"){if(A.hasOwnProperty(_="DECIMAL_PLACES")&&(M=A[_],Wr(M,0,qn,_),o=M),A.hasOwnProperty(_="ROUNDING_MODE")&&(M=A[_],Wr(M,0,8,_),a=M),A.hasOwnProperty(_="EXPONENTIAL_AT")&&(M=A[_],M&&M.pop?(Wr(M[0],-qn,0,_),Wr(M[1],0,qn,_),c=M[0],l=M[1]):(Wr(M,-qn,qn,_),c=-(l=M<0?-M:M))),A.hasOwnProperty(_="RANGE"))if(M=A[_],M&&M.pop)Wr(M[0],-qn,-1,_),Wr(M[1],1,qn,_),u=M[0],f=M[1];else if(Wr(M,-qn,qn,_),M)u=-(f=M<0?-M:M);else throw Error(ms+_+" cannot be zero: "+M);if(A.hasOwnProperty(_="CRYPTO"))if(M=A[_],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))d=M;else throw d=!M,Error(ms+"crypto unavailable");else d=M;else throw Error(ms+_+" not true or false: "+M);if(A.hasOwnProperty(_="MODULO_MODE")&&(M=A[_],Wr(M,0,9,_),h=M),A.hasOwnProperty(_="POW_PRECISION")&&(M=A[_],Wr(M,0,qn,_),m=M),A.hasOwnProperty(_="FORMAT"))if(M=A[_],typeof M=="object")g=M;else throw Error(ms+_+" not an object: "+M);if(A.hasOwnProperty(_="ALPHABET"))if(M=A[_],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))v=M.slice(0,10)=="0123456789",b=M;else throw Error(ms+_+" invalid: "+M)}else throw Error(ms+"Object expected: "+A);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:d,MODULO_MODE:h,POW_PRECISION:m,FORMAT:g,ALPHABET:b}},C.isBigNumber=function(A){if(!A||A._isBigNumber!==!0)return!1;if(!C.DEBUG)return!0;var _,M,$=A.c,I=A.e,N=A.s;e:if({}.toString.call($)=="[object Array]"){if((N===1||N===-1)&&I>=-qn&&I<=qn&&I===yo(I)){if($[0]===0){if(I===0&&$.length===1)return!0;break e}if(_=(I+1)%it,_<1&&(_+=it),String($[0]).length==_){for(_=0;_<$.length;_++)if(M=$[_],M<0||M>=ia||M!==yo(M))break e;if(M!==0)return!0}}}else if($===null&&I===null&&(N===null||N===1||N===-1))return!0;throw Error(ms+"Invalid BigNumber: "+A)},C.maximum=C.max=function(){return D(arguments,-1)},C.minimum=C.min=function(){return D(arguments,1)},C.random=(function(){var A=9007199254740992,_=Math.random()*A&2097151?function(){return yo(Math.random()*A)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var $,I,N,p,y,w=0,x=[],T=new C(s);if(M==null?M=o:Wr(M,0,qn),p=zA(M/it),d)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(p*=2));w<p;)y=$[w]*131072+($[w+1]>>>11),y>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),$[w]=I[0],$[w+1]=I[1]):(x.push(y%1e14),w+=2);w=p/2}else if(crypto.randomBytes){for($=crypto.randomBytes(p*=7);w<p;)y=($[w]&31)*281474976710656+$[w+1]*1099511627776+$[w+2]*4294967296+$[w+3]*16777216+($[w+4]<<16)+($[w+5]<<8)+$[w+6],y>=9e15?crypto.randomBytes(7).copy($,w):(x.push(y%1e14),w+=7);w=p/7}else throw d=!1,Error(ms+"crypto unavailable");if(!d)for(;w<p;)y=_(),y<9e15&&(x[w++]=y%1e14);for(p=x[--w],M%=it,p&&M&&(y=KA[it-M],x[w]=yo(p/y)*y);x[w]===0;x.pop(),w--);if(w<0)x=[N=0];else{for(N=-1;x[0]===0;x.splice(0,1),N-=it);for(w=1,y=x[0];y>=10;y/=10,w++);w<it&&(N-=it-w)}return T.e=N,T.c=x,T}})(),C.sum=function(){for(var A=1,_=arguments,M=new C(_[0]);A<_.length;)M=M.plus(_[A++]);return M},r=(function(){var A="0123456789";function _(M,$,I,N){for(var p,y=[0],w,x=0,T=M.length;x<T;){for(w=y.length;w--;y[w]*=$);for(y[0]+=N.indexOf(M.charAt(x++)),p=0;p<y.length;p++)y[p]>I-1&&(y[p+1]==null&&(y[p+1]=0),y[p+1]+=y[p]/I|0,y[p]%=I)}return y.reverse()}return function(M,$,I,N,p){var y,w,x,T,U,B,P,E,L=M.indexOf("."),G=o,R=a;for(L>=0&&(T=m,m=0,M=M.replace(".",""),E=new C($),B=E.pow(M.length-L),m=T,E.c=_(sl(go(B.c),B.e,"0"),10,I,A),E.e=E.c.length),P=_(M,$,I,p?(y=b,A):(y=A,b)),x=T=P.length;P[--T]==0;P.pop());if(!P[0])return y.charAt(0);if(L<0?--x:(B.c=P,B.e=x,B.s=N,B=e(B,E,G,R,I),P=B.c,U=B.r,x=B.e),w=x+G+1,L=P[w],T=I/2,U=U||w<0||P[w+1]!=null,U=R<4?(L!=null||U)&&(R==0||R==(B.s<0?3:2)):L>T||L==T&&(R==4||U||R==6&&P[w-1]&1||R==(B.s<0?8:7)),w<1||!P[0])M=U?sl(y.charAt(1),-G,y.charAt(0)):y.charAt(0);else{if(P.length=w,U)for(--I;++P[--w]>I;)P[w]=0,w||(++x,P=[1].concat(P));for(T=P.length;!P[--T];);for(L=0,M="";L<=T;M+=y.charAt(P[L++]));M=sl(M,x,y.charAt(0))}return M}})(),e=(function(){function A($,I,N){var p,y,w,x,T=0,U=$.length,B=I%yu,P=I/yu|0;for($=$.slice();U--;)w=$[U]%yu,x=$[U]/yu|0,p=P*w+x*B,y=B*w+p%yu*yu+T,T=(y/N|0)+(p/yu|0)+P*x,$[U]=y%N;return T&&($=[T].concat($)),$}function _($,I,N,p){var y,w;if(N!=p)w=N>p?1:-1;else for(y=w=0;y<N;y++)if($[y]!=I[y]){w=$[y]>I[y]?1:-1;break}return w}function M($,I,N,p){for(var y=0;N--;)$[N]-=y,y=$[N]<I[N]?1:0,$[N]=y*p+$[N]-I[N];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,I,N,p,y){var w,x,T,U,B,P,E,L,G,R,V,K,X,Q,ie,le,H,Y=$.s==I.s?1:-1,W=$.c,Z=I.c;if(!W||!W[0]||!Z||!Z[0])return new C(!$.s||!I.s||(W?Z&&W[0]==Z[0]:!Z)?NaN:W&&W[0]==0||!Z?Y*0:Y/0);for(L=new C(Y),G=L.c=[],x=$.e-I.e,Y=N+x+1,y||(y=ia,x=bo($.e/it)-bo(I.e/it),Y=Y/it|0),T=0;Z[T]==(W[T]||0);T++);if(Z[T]>(W[T]||0)&&x--,Y<0)G.push(1),U=!0;else{for(Q=W.length,le=Z.length,T=0,Y+=2,B=yo(y/(Z[0]+1)),B>1&&(Z=A(Z,B,y),W=A(W,B,y),le=Z.length,Q=W.length),X=le,R=W.slice(0,le),V=R.length;V<le;R[V++]=0);H=Z.slice(),H=[0].concat(H),ie=Z[0],Z[1]>=y/2&&ie++;do{if(B=0,w=_(Z,R,le,V),w<0){if(K=R[0],le!=V&&(K=K*y+(R[1]||0)),B=yo(K/ie),B>1)for(B>=y&&(B=y-1),P=A(Z,B,y),E=P.length,V=R.length;_(P,R,E,V)==1;)B--,M(P,le<E?H:Z,E,y),E=P.length,w=1;else B==0&&(w=B=1),P=Z.slice(),E=P.length;if(E<V&&(P=[0].concat(P)),M(R,P,V,y),V=R.length,w==-1)for(;_(Z,R,le,V)<1;)B++,M(R,le<V?H:Z,V,y),V=R.length}else w===0&&(B++,R=[0]);G[T++]=B,R[0]?R[V++]=W[X]||0:(R=[W[X]],V=1)}while((X++<Q||R[0]!=null)&&Y--);U=R[0]!=null,G[0]||G.splice(0,1)}if(y==ia){for(T=1,Y=G[0];Y>=10;Y/=10,T++);k(L,N+(L.e=T+x*it-1)+1,p,U)}else L.e=x,L.r=+U;return L}})();function S(A,_,M,$){var I,N,p,y,w;if(M==null?M=a:Wr(M,0,8),!A.c)return A.toString();if(I=A.c[0],p=A.e,_==null)w=go(A.c),w=$==1||$==2&&(p<=c||p>=l)?Mb(w,p):sl(w,p,"0");else if(A=k(new C(A),_,M),N=A.e,w=go(A.c),y=w.length,$==1||$==2&&(_<=N||N<=c)){for(;y<_;w+="0",y++);w=Mb(w,N)}else if(_-=p+($===2&&N>p),w=sl(w,N,"0"),N+1>y){if(--_>0)for(w+=".";_--;w+="0");}else if(_+=N-y,_>0)for(N+1==y&&(w+=".");_--;w+="0");return A.s<0&&I?"-"+w:w}function D(A,_){for(var M,$,I=1,N=new C(A[0]);I<A.length;I++)$=new C(A[I]),(!$.s||(M=zf(N,$))===_||M===0&&N.s===_)&&(N=$);return N}function O(A,_,M){for(var $=1,I=_.length;!_[--I];_.pop());for(I=_[0];I>=10;I/=10,$++);return(M=$+M*it-1)>f?A.c=A.e=null:M<u?A.c=[A.e=0]:(A.e=M,A.c=_),A}n=(function(){var A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,_=/^([^.]+)\.$/,M=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,p,y,w){var x,T=y?p:p.replace(I,"");if($.test(T))N.s=isNaN(T)?null:T<0?-1:1;else{if(!y&&(T=T.replace(A,function(U,B,P){return x=(P=P.toLowerCase())=="x"?16:P=="b"?2:8,!w||w==x?B:U}),w&&(x=w,T=T.replace(_,"$1").replace(M,"0.$1")),p!=T))return new C(T,x);if(C.DEBUG)throw Error(ms+"Not a"+(w?" base "+w:"")+" number: "+p);N.s=null}N.c=N.e=null}})();function k(A,_,M,$){var I,N,p,y,w,x,T,U=A.c,B=KA;if(U){e:{for(I=1,y=U[0];y>=10;y/=10,I++);if(N=_-I,N<0)N+=it,p=_,w=U[x=0],T=yo(w/B[I-p-1]%10);else if(x=zA((N+1)/it),x>=U.length)if($){for(;U.length<=x;U.push(0));w=T=0,I=1,N%=it,p=N-it+1}else break e;else{for(w=y=U[x],I=1;y>=10;y/=10,I++);N%=it,p=N-it+I,T=p<0?0:yo(w/B[I-p-1]%10)}if($=$||_<0||U[x+1]!=null||(p<0?w:w%B[I-p-1]),$=M<4?(T||$)&&(M==0||M==(A.s<0?3:2)):T>5||T==5&&(M==4||$||M==6&&(N>0?p>0?w/B[I-p]:0:U[x-1])%10&1||M==(A.s<0?8:7)),_<1||!U[0])return U.length=0,$?(_-=A.e+1,U[0]=B[(it-_%it)%it],A.e=-_||0):U[0]=A.e=0,A;if(N==0?(U.length=x,y=1,x--):(U.length=x+1,y=B[it-N],U[x]=p>0?yo(w/B[I-p]%B[p])*y:0),$)for(;;)if(x==0){for(N=1,p=U[0];p>=10;p/=10,N++);for(p=U[0]+=y,y=1;p>=10;p/=10,y++);N!=y&&(A.e++,U[0]==ia&&(U[0]=1));break}else{if(U[x]+=y,U[x]!=ia)break;U[x--]=0,y=1}for(N=U.length;U[--N]===0;U.pop());}A.e>f?A.c=A.e=null:A.e<u&&(A.c=[A.e=0])}return A}function F(A){var _,M=A.e;return M===null?A.toString():(_=go(A.c),_=M<=c||M>=l?Mb(_,M):sl(_,M,"0"),A.s<0?"-"+_:_)}return i.absoluteValue=i.abs=function(){var A=new C(this);return A.s<0&&(A.s=1),A},i.comparedTo=function(A,_){return zf(this,new C(A,_))},i.decimalPlaces=i.dp=function(A,_){var M,$,I,N=this;if(A!=null)return Wr(A,0,qn),_==null?_=a:Wr(_,0,8),k(new C(N),A+N.e+1,_);if(!(M=N.c))return null;if($=((I=M.length-1)-bo(this.e/it))*it,I=M[I])for(;I%10==0;I/=10,$--);return $<0&&($=0),$},i.dividedBy=i.div=function(A,_){return e(this,new C(A,_),o,a)},i.dividedToIntegerBy=i.idiv=function(A,_){return e(this,new C(A,_),0,1)},i.exponentiatedBy=i.pow=function(A,_){var M,$,I,N,p,y,w,x,T,U=this;if(A=new C(A),A.c&&!A.isInteger())throw Error(ms+"Exponent not an integer: "+F(A));if(_!=null&&(_=new C(_)),y=A.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!A.c||!A.c[0])return T=new C(Math.pow(+F(U),y?A.s*(2-kb(A)):+F(A))),_?T.mod(_):T;if(w=A.s<0,_){if(_.c?!_.c[0]:!_.s)return new C(NaN);$=!w&&U.isInteger()&&_.isInteger(),$&&(U=U.mod(_))}else{if(A.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||y&&U.c[1]>=24e7:U.c[0]<8e13||y&&U.c[0]<=9999975e7)))return N=U.s<0&&kb(A)?-0:0,U.e>-1&&(N=1/N),new C(w?1/N:N);m&&(N=zA(m/it+2))}for(y?(M=new C(.5),w&&(A.s=1),x=kb(A)):(I=Math.abs(+F(A)),x=I%2),T=new C(s);;){if(x){if(T=T.times(U),!T.c)break;N?T.c.length>N&&(T.c.length=N):$&&(T=T.mod(_))}if(I){if(I=yo(I/2),I===0)break;x=I%2}else if(A=A.times(M),k(A,A.e+1,1),A.e>14)x=kb(A);else{if(I=+F(A),I===0)break;x=I%2}U=U.times(U),N?U.c&&U.c.length>N&&(U.c.length=N):$&&(U=U.mod(_))}return $?T:(w&&(T=s.div(T)),_?T.mod(_):N?k(T,m,a,p):T)},i.integerValue=function(A){var _=new C(this);return A==null?A=a:Wr(A,0,8),k(_,_.e+1,A)},i.isEqualTo=i.eq=function(A,_){return zf(this,new C(A,_))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(A,_){return zf(this,new C(A,_))>0},i.isGreaterThanOrEqualTo=i.gte=function(A,_){return(_=zf(this,new C(A,_)))===1||_===0},i.isInteger=function(){return!!this.c&&bo(this.e/it)>this.c.length-2},i.isLessThan=i.lt=function(A,_){return zf(this,new C(A,_))<0},i.isLessThanOrEqualTo=i.lte=function(A,_){return(_=zf(this,new C(A,_)))===-1||_===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(A,_){var M,$,I,N,p=this,y=p.s;if(A=new C(A,_),_=A.s,!y||!_)return new C(NaN);if(y!=_)return A.s=-_,p.plus(A);var w=p.e/it,x=A.e/it,T=p.c,U=A.c;if(!w||!x){if(!T||!U)return T?(A.s=-_,A):new C(U?p:NaN);if(!T[0]||!U[0])return U[0]?(A.s=-_,A):new C(T[0]?p:a==3?-0:0)}if(w=bo(w),x=bo(x),T=T.slice(),y=w-x){for((N=y<0)?(y=-y,I=T):(x=w,I=U),I.reverse(),_=y;_--;I.push(0));I.reverse()}else for($=(N=(y=T.length)<(_=U.length))?y:_,y=_=0;_<$;_++)if(T[_]!=U[_]){N=T[_]<U[_];break}if(N&&(I=T,T=U,U=I,A.s=-A.s),_=($=U.length)-(M=T.length),_>0)for(;_--;T[M++]=0);for(_=ia-1;$>y;){if(T[--$]<U[$]){for(M=$;M&&!T[--M];T[M]=_);--T[M],T[$]+=ia}T[$]-=U[$]}for(;T[0]==0;T.splice(0,1),--x);return T[0]?O(A,T,x):(A.s=a==3?-1:1,A.c=[A.e=0],A)},i.modulo=i.mod=function(A,_){var M,$,I=this;return A=new C(A,_),!I.c||!A.s||A.c&&!A.c[0]?new C(NaN):!A.c||I.c&&!I.c[0]?new C(I):(h==9?($=A.s,A.s=1,M=e(I,A,0,3),A.s=$,M.s*=$):M=e(I,A,0,h),A=I.minus(M.times(A)),!A.c[0]&&h==1&&(A.s=I.s),A)},i.multipliedBy=i.times=function(A,_){var M,$,I,N,p,y,w,x,T,U,B,P,E,L,G,R=this,V=R.c,K=(A=new C(A,_)).c;if(!V||!K||!V[0]||!K[0])return!R.s||!A.s||V&&!V[0]&&!K||K&&!K[0]&&!V?A.c=A.e=A.s=null:(A.s*=R.s,!V||!K?A.c=A.e=null:(A.c=[0],A.e=0)),A;for($=bo(R.e/it)+bo(A.e/it),A.s*=R.s,w=V.length,U=K.length,w<U&&(E=V,V=K,K=E,I=w,w=U,U=I),I=w+U,E=[];I--;E.push(0));for(L=ia,G=yu,I=U;--I>=0;){for(M=0,B=K[I]%G,P=K[I]/G|0,p=w,N=I+p;N>I;)x=V[--p]%G,T=V[p]/G|0,y=P*x+T*B,x=B*x+y%G*G+E[N]+M,M=(x/L|0)+(y/G|0)+P*T,E[N--]=x%L;E[N]=M}return M?++$:E.splice(0,1),O(A,E,$)},i.negated=function(){var A=new C(this);return A.s=-A.s||null,A},i.plus=function(A,_){var M,$=this,I=$.s;if(A=new C(A,_),_=A.s,!I||!_)return new C(NaN);if(I!=_)return A.s=-_,$.minus(A);var N=$.e/it,p=A.e/it,y=$.c,w=A.c;if(!N||!p){if(!y||!w)return new C(I/0);if(!y[0]||!w[0])return w[0]?A:new C(y[0]?$:I*0)}if(N=bo(N),p=bo(p),y=y.slice(),I=N-p){for(I>0?(p=N,M=w):(I=-I,M=y),M.reverse();I--;M.push(0));M.reverse()}for(I=y.length,_=w.length,I-_<0&&(M=w,w=y,y=M,_=I),I=0;_;)I=(y[--_]=y[_]+w[_]+I)/ia|0,y[_]=ia===y[_]?0:y[_]%ia;return I&&(y=[I].concat(y),++p),O(A,y,p)},i.precision=i.sd=function(A,_){var M,$,I,N=this;if(A!=null&&A!==!!A)return Wr(A,1,qn),_==null?_=a:Wr(_,0,8),k(new C(N),A,_);if(!(M=N.c))return null;if(I=M.length-1,$=I*it+1,I=M[I]){for(;I%10==0;I/=10,$--);for(I=M[0];I>=10;I/=10,$++);}return A&&N.e+1>$&&($=N.e+1),$},i.shiftedBy=function(A){return Wr(A,-GA,GA),this.times("1e"+A)},i.squareRoot=i.sqrt=function(){var A,_,M,$,I,N=this,p=N.c,y=N.s,w=N.e,x=o+4,T=new C("0.5");if(y!==1||!p||!p[0])return new C(!y||y<0&&(!p||p[0])?NaN:p?N:1/0);if(y=Math.sqrt(+F(N)),y==0||y==1/0?(_=go(p),(_.length+w)%2==0&&(_+="0"),y=Math.sqrt(+_),w=bo((w+1)/2)-(w<0||w%2),y==1/0?_="5e"+w:(_=y.toExponential(),_=_.slice(0,_.indexOf("e")+1)+w),M=new C(_)):M=new C(y+""),M.c[0]){for(w=M.e,y=w+x,y<3&&(y=0);;)if(I=M,M=T.times(I.plus(e(N,I,x,1))),go(I.c).slice(0,y)===(_=go(M.c)).slice(0,y))if(M.e<w&&--y,_=_.slice(y-3,y+1),_=="9999"||!$&&_=="4999"){if(!$&&(k(I,I.e+o+2,0),I.times(I).eq(N))){M=I;break}x+=4,y+=4,$=1}else{(!+_||!+_.slice(1)&&_.charAt(0)=="5")&&(k(M,M.e+o+2,1),A=!M.times(M).eq(N));break}}return k(M,M.e+o+1,a,A)},i.toExponential=function(A,_){return A!=null&&(Wr(A,0,qn),A++),S(this,A,_,1)},i.toFixed=function(A,_){return A!=null&&(Wr(A,0,qn),A=A+this.e+1),S(this,A,_)},i.toFormat=function(A,_,M){var $,I=this;if(M==null)A!=null&&_&&typeof _=="object"?(M=_,_=null):A&&typeof A=="object"?(M=A,A=_=null):M=g;else if(typeof M!="object")throw Error(ms+"Argument not an object: "+M);if($=I.toFixed(A,_),I.c){var N,p=$.split("."),y=+M.groupSize,w=+M.secondaryGroupSize,x=M.groupSeparator||"",T=p[0],U=p[1],B=I.s<0,P=B?T.slice(1):T,E=P.length;if(w&&(N=y,y=w,w=N,E-=N),y>0&&E>0){for(N=E%y||y,T=P.substr(0,N);N<E;N+=y)T+=x+P.substr(N,y);w>0&&(T+=x+P.slice(N)),B&&(T="-"+T)}$=U?T+(M.decimalSeparator||"")+((w=+M.fractionGroupSize)?U.replace(new RegExp("\\d{"+w+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):U):T}return(M.prefix||"")+$+(M.suffix||"")},i.toFraction=function(A){var _,M,$,I,N,p,y,w,x,T,U,B,P=this,E=P.c;if(A!=null&&(y=new C(A),!y.isInteger()&&(y.c||y.s!==1)||y.lt(s)))throw Error(ms+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+F(y));if(!E)return new C(P);for(_=new C(s),x=M=new C(s),$=w=new C(s),B=go(E),N=_.e=B.length-P.e-1,_.c[0]=KA[(p=N%it)<0?it+p:p],A=!A||y.comparedTo(_)>0?N>0?_:x:y,p=f,f=1/0,y=new C(B),w.c[0]=0;T=e(y,_,0,1),I=M.plus(T.times($)),I.comparedTo(A)!=1;)M=$,$=I,x=w.plus(T.times(I=x)),w=I,_=y.minus(T.times(I=_)),y=I;return I=e(A.minus(M),$,0,1),w=w.plus(I.times(x)),M=M.plus(I.times($)),w.s=x.s=P.s,N=N*2,U=e(x,$,N,a).minus(P).abs().comparedTo(e(w,M,N,a).minus(P).abs())<1?[x,$]:[w,M],f=p,U},i.toNumber=function(){return+F(this)},i.toPrecision=function(A,_){return A!=null&&Wr(A,1,qn),S(this,A,_,2)},i.toString=function(A){var _,M=this,$=M.s,I=M.e;return I===null?$?(_="Infinity",$<0&&(_="-"+_)):_="NaN":(A==null?_=I<=c||I>=l?Mb(go(M.c),I):sl(go(M.c),I,"0"):A===10&&v?(M=k(new C(M),o+I+1,a),_=sl(go(M.c),M.e,"0")):(Wr(A,2,b.length,"Base"),_=r(sl(go(M.c),I,"0"),10,A,$,!0)),$<0&&M.c[0]&&(_="-"+_)),_},i.valueOf=i.toJSON=function(){return F(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&C.set(t),C}function bo(t){var e=t|0;return t>0||t===e?e:e-1}function go(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=it-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function zf(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,l=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function Wr(t,e,r,n){if(t<e||t>r||t!==yo(t))throw Error(ms+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function kb(t){var e=t.c.length-1;return bo(t.e/it)==e&&t.c[e]%2!=0}function Mb(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function sl(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var Ub=sj();const ZDe={9e3:{swapAddress:"0x05A0dF2f034941BA89bf82077EcDA5BA5De57950",usdtAddress:"0x5D2B890ba68D5a3f6B58022525ec1402d60984C0",baseRpc:"http://192.168.10.136:8545",exploreUrl:"https://bscscan.com/tx/"},97:{swapAddress:"0x83f792B43F577C28b141014CFE8385cd723152f9",usdtAddress:"0xD657DcF25d73210adcA4e4dbf4675aB8a0057809",baseRpc:"https://bsc-testnet-rpc.publicnode.com",exploreUrl:"https://testnet.bscscan.com/tx/"},7777:{swapAddress:"0x4067843205D293B1825e35Ebe44a246afbc7D5Da",usdtAddress:"0xe5F47B5C5e9D2b8dD1B52d5e41C8B2CA37E71490",baseRpc:"http://bebewallet.com:8545",exploreUrl:"https://bscscan.com/tx/"},56:{swapAddress:"0xdC33f7022b4f34B6DF4bC22B11C783B82447F6E5",usdtAddress:"0x55d398326f99059fF775485246999027B3197955",baseRpc:"https://bsc-rpc.publicnode.com",exploreUrl:"http://bebewallet.com/wallet/#/DaoDst/evm/"}},Lp=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"recordId","type":"uint256"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"}],"name":"NeedCheckLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"string","name":"key","type":"string"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"WithdrawLog","type":"event"},{"inputs":[],"name":"USDT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"}],"name":"addToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"checkWithdrawRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_recordId","type":"uint256"}],"name":"deleteRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"denominator","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getNeedCheckRecords","outputs":[{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"internalType":"struct SwapOut.Record[]","name":"checkRecords","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTokenTypes","outputs":[{"components":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct SwapOut.TokenType[]","name":"tokens","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isAddCheck","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"}],"name":"isUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"needCheckAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"recordId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"records","outputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"key","type":"string"},{"internalType":"uint256","name":"id","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fee","type":"uint256"}],"name":"setFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_needCheckAmount","type":"uint256"}],"name":"setNeedCheckAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiveAddress","type":"address"}],"name":"setReceiveAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"tokenInfo","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens","type":"address[]"},{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"string[]","name":"keys","type":"string[]"}],"name":"withdrawBatch","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),ZD=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],eke={class:"node-page"},tke={class:"usdt-balance"},rke={class:"row"},nke={class:"value"},ike={class:"set-check-amount"},ske={class:"row"},oke={class:"action-box"},ake={class:"record-box"},cke={class:"row"},lke=["onClick"],uke={class:"row"},fke={class:"value"},dke={class:"row"},hke={class:"value"},pke={class:"row"},gke={class:"value"},mke={class:"actions"},yke=Li({__name:"index",setup(t){const{t:e}=By(),r=JU({namespace:"eip155"}),n=YU();console.log(n.value,"networkState.value");const i=ut(!1),s=ut("0.0000"),o=ut([]),a=ut("0.0000"),c=ut(""),l=ut(!1),u=qt(()=>{const A=n.value?.chainId.toString();return ZDe[A]||""});console.log(u.value,"currentChainConfig.value");const f=qt(()=>u.value?.swapAddress),d=qt(()=>u.value?.usdtAddress),h=qt(()=>u.value?.baseRpc||""),m=qt(()=>u.value?.exploreUrl),g=A=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(A).then(()=>{ra(e("_Copy_successful"))}).catch(()=>{ra(e("_Copy_failed"))});else{const _=document.createElement("textarea");_.value=A,_.style.position="absolute",_.style.left="-999999px",document.body.appendChild(_),_.select();try{document.execCommand("copy"),ra(e("_Copy_successful"))}catch{ra(e("_Copy_failed"))}document.body.removeChild(_)}},b=A=>{m.value&&window.open(`${m.value}${A}`,"_blank")},v=async()=>{if(!d.value||!f.value)return;const A=new Cg(h.value),_=new wu(d.value,ZD,A),M=await _.decimals(),$=await _.balanceOf(f.value);s.value=new Ub($.toString()).dividedBy(10**M).toFixed(4),console.log(s.value,"swapUsdtBalance.value---")},C=async()=>{if(!f.value)return;const A=new Cg(h.value),M=await new wu(f.value,Lp,A).getNeedCheckRecords();console.log(M,"records---");const $=[];for(let I=0;I<M.length;I++){const N=M[I],p=new wu(N.token,ZD,A),y=await p.decimals(),w=await p.name(),x=new Ub(N.amount.toString()).dividedBy(10**y);$.push({...N,amount:x.toString(),name:w})}o.value=$,console.log($,"arr---")},S=async()=>{if(!f.value)return;const A=new Cg(h.value),M=await new wu(f.value,Lp,A).needCheckAmount(),$=new Ub(M.toString()).dividedBy(10**18).toFixed(4);a.value=$,c.value=$},D=async()=>{if(!c.value)return ra(e("_Please_enter_amount"));try{if(!f.value)return;l.value=!0;const{walletProvider:A}=dx("eip155"),_=new u0(A),M=await _.getGasPrice(),$=await _.getSigner(),I=new wu(f.value,Lp,$),N=new Ub(c.value).multipliedBy(10**18).toFixed(0);await(await I.setNeedCheckAmount(N,{gasPrice:M.toString()})).wait(),l.value=!1,ra(e("_Success")),F()}catch(A){ra(e("_Fail")),l.value=!1,console.log(A)}},O=async A=>{try{if(!f.value)return;i.value=!0;const{walletProvider:_}=dx("eip155"),M=new u0(_),$=await M.getGasPrice(),I=await M.getSigner();await(await new wu(f.value,Lp,I).checkWithdrawRecord(A,{gasPrice:$.toString()})).wait(),i.value=!1,ra(e("_Success")),F()}catch(_){ra(e("_Fail")),i.value=!1,console.log(_)}},k=async A=>{try{if(!f.value)return;i.value=!0;const{walletProvider:_}=dx("eip155"),M=new u0(_),$=await M.getGasPrice(),I=await M.getSigner();await(await new wu(f.value,Lp,I).deleteRecord(A,{gasPrice:$.toString()})).wait(),i.value=!1,ra(e("_Success")),F()}catch(_){ra(e("_Fail")),i.value=!1,console.log(_)}},F=()=>{v(),C(),S()};return r.value.address&&console.log(r.value,"account.value"),un(()=>r.value.address,(A,_)=>{console.log(A,"newVal"),A&&n.value?.chainId&&F()},{deep:!0}),un(()=>n.value?.chainId,(A,_)=>{A&&(console.log(n.value?.chainId,"networkState.value?.chainId"),F())}),n.value?.chainId&&F(),console.log(n.value?.chainId,"networkState.value?.chainId"),(A,_)=>{const M=yB,$=Fy;return pd(),rv("div",eke,[Be(XDe,{isShowBack:!1,title:A.$t("_Home")},null,8,["title"]),fr("div",tke,[fr("div",rke,[_[1]||(_[1]=fr("span",{class:"label"},"USDT:",-1)),fr("span",nke,_l(s.value),1)])]),fr("div",ike,[fr("div",ske,[_[3]||(_[3]=fr("span",{class:"label"},":",-1)),fr("div",oke,[$N(fr("input",{style:{"min-width":"120px"},"onUpdate:modelValue":_[0]||(_[0]=I=>c.value=I),type:"text",placeholder:"",class:"input-amount"},null,512),[[CW,c.value]]),Be(M,{type:"primary",size:"small",loading:l.value,onClick:D},{default:xl(()=>[..._[2]||(_[2]=[Mu("",-1)])]),_:1},8,["loading"])])])]),fr("div",ake,[(pd(!0),rv(xs,null,fH(o.value,(I,N)=>(pd(),rv("div",{key:N,class:"record-item"},[fr("div",cke,[_[4]||(_[4]=fr("span",{class:"label"},"BSC HASH:",-1)),fr("span",{class:"value",style:{color:"#00aaff"},onClick:p=>b(I.key)},_l(I.key),9,lke)]),fr("div",uke,[_[5]||(_[5]=fr("span",{class:"label"},":",-1)),fr("span",fke,_l(I.amount),1)]),fr("div",dke,[_[6]||(_[6]=fr("span",{class:"label"},":",-1)),fr("span",hke,[Mu(_l(I.to)+" ",1),Be($,{name:"copy-o",onClick:p=>g(I.to),style:{"margin-left":"5px",cursor:"pointer"}},null,8,["onClick"])])]),fr("div",pke,[_[7]||(_[7]=fr("span",{class:"label"},":",-1)),fr("span",gke,_l(I.name),1)]),fr("div",mke,[Be(M,{type:"primary",onClick:p=>O(I.id)},{default:xl(()=>[..._[8]||(_[8]=[Mu("",-1)])]),_:1},8,["onClick"]),Be(M,{type:"danger",onClick:p=>k(I.id)},{default:xl(()=>[..._[9]||(_[9]=[Mu("",-1)])]),_:1},8,["onClick"])])]))),128))])])}}}),bke=ij(yke,[["__scopeId","data-v-916ecc88"]]),wke=[{path:"/",name:"Index",component:bke}],wN=kve({history:lve(),routes:wke});function _ke(t){return typeof t=="object"&&t!==null}function ek(t,e){return t=_ke(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function Eke(t,e){return e.reduce((r,n)=>r?.[n],t)}function vke(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function xke(t,e){return e.reduce((r,n)=>{const i=n.split(".");return vke(r,i,Eke(t,i))},{})}function Ake(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:l=null,debug:u=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof c=="string"?c:c(e.$id)),paths:l,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function tk(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e?.getItem(n);s&&t.$patch(r?.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function rk(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?xke(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function Cke(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>ek(a,t)):[ek(n,t)]).map(Ake(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{rk(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&l?.(e),tk(i,c),a&&u?.(e)})},o.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c?.(e),tk(i,a),l?.(e),i.$subscribe((u,f)=>{rk(f,a)},{detached:!0})})}}var Nke=Cke();const oj=yCe();oj.use(Nke);var Ske=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Ike=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Tke=/[^-+\dA-Z]/g;function Rke(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(nk[e]||e||nk.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},l=function(){return t[s()+"FullYear"]()},u=function(){return t[s()+"Hours"]()},f=function(){return t[s()+"Minutes"]()},d=function(){return t[s()+"Seconds"]()},h=function(){return t[s()+"Milliseconds"]()},m=function(){return r?0:t.getTimezoneOffset()},g=function(){return Pke(t)},b=function(){return Oke(t)},v={d:function(){return o()},dd:function(){return ks(o())},ddd:function(){return ps.dayNames[a()]},DDD:function(){return ik({y:l(),m:c(),d:o(),_:s(),dayName:ps.dayNames[a()],short:!0})},dddd:function(){return ps.dayNames[a()+7]},DDDD:function(){return ik({y:l(),m:c(),d:o(),_:s(),dayName:ps.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return ks(c()+1)},mmm:function(){return ps.monthNames[c()]},mmmm:function(){return ps.monthNames[c()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return ks(l(),4)},h:function(){return u()%12||12},hh:function(){return ks(u()%12||12)},H:function(){return u()},HH:function(){return ks(u())},M:function(){return f()},MM:function(){return ks(f())},s:function(){return d()},ss:function(){return ks(d())},l:function(){return ks(h(),3)},L:function(){return ks(Math.floor(h()/10))},t:function(){return u()<12?ps.timeNames[0]:ps.timeNames[1]},tt:function(){return u()<12?ps.timeNames[2]:ps.timeNames[3]},T:function(){return u()<12?ps.timeNames[4]:ps.timeNames[5]},TT:function(){return u()<12?ps.timeNames[6]:ps.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":Dke(t)},o:function(){return(m()>0?"-":"+")+ks(Math.floor(Math.abs(m())/60)*100+Math.abs(m())%60,4)},p:function(){return(m()>0?"-":"+")+ks(Math.floor(Math.abs(m())/60),2)+":"+ks(Math.floor(Math.abs(m())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return g()},WW:function(){return ks(g())},N:function(){return b()}};return e.replace(Ske,function(C){return C in v?v[C]():C.slice(1,C.length-1)})}var nk={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},ps={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},ks=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},ik=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,l=new Date,u=new Date;u.setDate(u[s+"Date"]()-1);var f=new Date;f.setDate(f[s+"Date"]()+1);var d=function(){return l[s+"Date"]()},h=function(){return l[s+"Month"]()},m=function(){return l[s+"FullYear"]()},g=function(){return u[s+"Date"]()},b=function(){return u[s+"Month"]()},v=function(){return u[s+"FullYear"]()},C=function(){return f[s+"Date"]()},S=function(){return f[s+"Month"]()},D=function(){return f[s+"FullYear"]()};return m()===r&&h()===n&&d()===i?c?"Tdy":"Today":v()===r&&b()===n&&g()===i?c?"Ysd":"Yesterday":D()===r&&S()===n&&C()===i?c?"Tmw":"Tomorrow":o},Pke=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},Oke=function(e){var r=e.getDay();return r===0&&(r=7),r},Dke=function(e){return(String(e).match(Ike)||[""]).pop().replace(Tke,"").replace(/GMT\+0000/g,"UTC")};let kke=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},$b=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if($b.includes("?")){let t=$b.slice($b.indexOf("?")+1,$b.length),e=kke(t);e.intro&&localStorage.setItem("intro",e.intro)}const e3=vM(PEe);e3.config.globalProperties.$goBack=()=>{history.length>0?wN.go(-1):wN.push({name:"Welcome"})};e3.config.globalProperties.$dateformat=Rke;e3.use(wN).use(bN).use(oj).mount("#app");export{Tt as $,Me as A,Ke as B,Pe as C,Yq as D,Kn as E,FM as F,sz as G,iz as H,jke as I,lde as J,TM as K,be as L,At as M,XW as N,he as O,Vi as P,qs as Q,Ve as R,Nc as S,bs as T,He as U,qe as V,jn as W,Fke as X,a1 as Y,qke as Z,Wke as _,Dt as a,cde as a0,Ai as a1,BMe as a2,ht as a3,tq as a4,zg as a5,lg as a6,h2 as a7,ka as a8,St as a9,Qb as aA,o1 as aB,Fn as aC,lC as aD,Dh as aE,Uz as aF,Vr as aG,Hz as aH,AM as aI,jp as aJ,Ws as aa,We as ab,HMe as ac,Ts as ad,Wb as ae,jU as af,uC as ag,Gn as ah,I0 as ai,nc as aj,V3 as ak,kq as al,jq as am,UM as an,zN as ao,gz as ap,J3 as aq,mz as ar,Mke as as,Mq as at,Bq as au,$q as av,LM as aw,$M as ax,gd as ay,Hke as az,J as b,jMe as c,It as d,qMe as e,fi as f,PM as g,Du as h,ew as i,Ne as j,ae as k,Is as l,Rq as m,ai as n,JN as o,mr as p,xe as q,WMe as r,Fi as s,Bke as t,X3 as u,Fde as v,Xs as w,FMe as x,BM as y,_0 as z};
